# ===================================================================
# TESTING SETTINGS (test profile)
# ===================================================================

# --- App Settings ---
app.base-url=http://localhost:8080

# CORS for local testing
app.cors.allowed-origins=http://localhost

# Use a temporary directory for file uploads during tests
storage.upload-dir=${java.io.tmpdir}/treishvaam-uploads-test

# NEW: Use a temporary directory for sitemaps during tests
storage.sitemap-dir=${java.io.tmpdir}/treishvaam-sitemaps-test

# Use a dummy secret for tests
app.security.internal-secret=TEST_SECRET_ONLY_FOR_BUILDS
jwt.secret=test-jwt-secret-key-value-must-be-long-enough

# Disable Liquibase for tests to use in-memory schema
spring.liquibase.enabled=false

# In-memory H2 Database for tests
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update

# --- FIX: Provide dummy API keys for ALL required external services ---
newsdata.api.key=test-news-key
fmp.api.key=test-fmp-key
alphavantage.api.key=test-alphavantage-key
finnhub.api.key=test-finnhub-key

# GOOGLE ANALYTICS (GA4) INTEGRATION DUMMY VALUES
ga4.property-id=123456789
ga4.credentials-path=classpath:test-credentials.json

# ===================================================================
# NEW: DUMMY MINIO / S3 CONFIGURATION FOR TESTS
# ===================================================================
storage.s3.endpoint=http://localhost:9000
storage.s3.access-key=test-access-key
storage.s3.secret-key=test-secret-key
storage.s3.bucket=test-bucket
storage.s3.region=us-east-1

# ===================================================================
# NEW: ELASTICSEARCH CONFIGURATION FOR TESTS
# ===================================================================
spring.elasticsearch.uris=http://localhost:9200
spring.elasticsearch.socket-timeout=30s
spring.elasticsearch.connection-timeout=5s