"use strict";(self.webpackChunktreishvaam_finance_frontend=self.webpackChunktreishvaam_finance_frontend||[]).push([[531],{4531:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(9379),s=n(5043),l=n(1045),i=n(6355),r=n(7977),c=n(9367),o=n(5491),d=n(519),m=n(184),u=n(579);const g=e=>{let{url:t,title:n,summary:a}=e;return(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-8",children:[(0,u.jsx)("span",{className:"font-bold text-gray-700 text-lg mr-2",children:"Share this article:"}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)(d.r6,{url:t,title:n,children:(0,u.jsx)(d.Fi,{size:40,round:!0})}),(0,u.jsx)(d.uI,{url:t,quote:a,children:(0,u.jsx)(d.ik,{size:40,round:!0})}),(0,u.jsx)(d.wk,{url:t,title:n,summary:a,children:(0,u.jsx)(d._z,{size:40,round:!0})}),(0,u.jsx)(d.Kz,{url:t,title:n,separator:":: ",children:(0,u.jsx)(d.Y4,{size:40,round:!0})}),(0,u.jsx)(d.VI,{url:t,title:n,children:(0,u.jsx)(d.hZ,{size:40,round:!0})}),(0,u.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t),alert("Link copied to clipboard!")},className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-full hover:bg-gray-300 transition","aria-label":"Copy link",title:"Copy Link",children:(0,u.jsx)(m.paH,{className:"text-gray-600"})})]})]})};var x=n(9889),h=n.n(x);const p=e=>{let{headings:t,activeId:n,progress:a}=e;const[l,i]=(0,s.useState)(!0);if(!t||0===t.length)return null;return(0,u.jsxs)("div",{className:"toc-container",children:[(0,u.jsx)("div",{className:"toc-progress-track",children:(0,u.jsx)("div",{className:"toc-progress-fill",style:{height:"".concat(a,"%")}})}),(0,u.jsxs)("div",{className:"pl-5",children:[(0,u.jsxs)("button",{onClick:()=>i(!l),className:"toc-header",children:[(0,u.jsx)("span",{children:"On this page"}),(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"toc-chevron ".concat(l?"":"-rotate-90"),children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),l&&(0,u.jsx)("nav",{className:"toc-body",children:(0,u.jsx)("ul",{children:t.map(e=>(0,u.jsx)("li",{className:"toc-list-item",children:(0,u.jsx)("a",{href:"#".concat(e.id),onClick:t=>((e,t)=>{e.preventDefault();const n=document.getElementById(t);if(n){const e=-90,t=n.getBoundingClientRect().top+window.pageYOffset+e;window.scrollTo({top:t,behavior:"smooth"})}})(t,e.id),className:"toc-link ".concat(n===e.id?"active":""),style:{paddingLeft:"".concat(.75*(e.level-2)+.5,"rem")},children:e.text})},e.id))})})]})]})},j=()=>{var e,t;const{urlArticleId:n}=(0,l.g)(),[d,m]=(0,s.useState)(null),[x,j]=(0,s.useState)(!0),[f,v]=(0,s.useState)(null),[y,w]=(0,s.useState)([]),[N,b]=(0,s.useState)(""),[A,k]=(0,s.useState)(0),I=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async()=>{try{const e=await(0,i.ct)(n);m(e.data)}catch(e){v("Failed to fetch post.")}finally{j(!1)}})(),window.scrollTo(0,0)},[n]),(0,s.useEffect)(()=>{if(null===d||void 0===d||!d.content)return;const e=document.createElement("div");e.innerHTML=r.A.sanitize(d.content,{USE_PROFILES:{html:!0},ADD_ATTR:["id"]});const t=e.querySelectorAll("h2, h3, h4"),n=Array.from(t).map((e,t)=>{const n="heading-".concat(t,"-").concat(e.tagName);return e.id=n,{id:n,text:e.innerText,level:parseInt(e.tagName.substring(1),10)}});w(n),m(t=>(0,a.A)((0,a.A)({},t),{},{contentWithIds:e.innerHTML}))},[null===d||void 0===d?void 0:d.content]);const S=(0,s.useMemo)(()=>h()(()=>{const e=I.current;if(!e)return;const t=e.getBoundingClientRect().top+window.scrollY,n=e.scrollHeight-window.innerHeight,a=window.scrollY-t;if(a>0&&n>0){const e=a/n*100;k(Math.min(100,Math.max(0,e)))}else k(0);let s="";for(let l=y.length-1;l>=0;l--){const e=document.getElementById(y[l].id);if(e&&e.getBoundingClientRect().top<200){s=y[l].id;break}}b(s)},150),[y]);if((0,s.useEffect)(()=>(window.addEventListener("scroll",S),()=>{S.cancel(),window.removeEventListener("scroll",S)}),[S]),x)return(0,u.jsx)("div",{className:"text-center py-20",children:"Loading post..."});if(f)return(0,u.jsx)("div",{className:"text-center py-20 text-red-500",children:f});if(!d)return(0,u.jsx)("div",{className:"text-center py-20",children:"Post not found."});const L="https://treishfin.treishvaamgroup.com/category/".concat(null===(e=d.category)||void 0===e?void 0:e.slug,"/").concat(d.userFriendlySlug,"/").concat(d.urlArticleId),T="Treishvaam Finance \xb7 ".concat(d.title),z=d.metaDescription||d.customSnippet||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:155;if(!e)return"";const n=r.A.sanitize(e,{ALLOWED_TAGS:[]});if(n.length<=t)return n;const a=n.substring(0,t);return a.substring(0,Math.min(a.length,a.lastIndexOf(" ")))+"..."}(d.content,155),C=d.coverImageUrl?"".concat(i.H$,"/api/uploads/").concat(d.coverImageUrl,".webp"):"".concat(window.location.origin,"/logo512.png"),E=window.location.origin,_={"@context":"https://schema.org","@type":"Article",headline:d.title,image:C,author:{"@type":"Organization",name:"Treishvaam Finance",url:E},publisher:{"@type":"Organization",name:"Treishvaam Finance",logo:{"@type":"ImageObject",url:"".concat(E,"/logo512.png")}},datePublished:d.createdAt,dateModified:d.updatedAt,mainEntityOfPage:{"@type":"WebPage","@id":L},description:z,keywords:d.keywords||(null===(t=d.tags)||void 0===t?void 0:t.join(", "))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(c.mg,{children:[(0,u.jsx)("title",{children:T}),(0,u.jsx)("meta",{name:"description",content:z}),d.keywords&&(0,u.jsx)("meta",{name:"keywords",content:d.keywords}),(0,u.jsx)("link",{rel:"canonical",href:L}),(0,u.jsx)("meta",{property:"og:type",content:"article"}),(0,u.jsx)("meta",{property:"og:url",content:L}),(0,u.jsx)("meta",{property:"og:title",content:d.title}),(0,u.jsx)("meta",{property:"og:description",content:z}),(0,u.jsx)("meta",{property:"og:image",content:C}),(0,u.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,u.jsx)("meta",{name:"twitter:url",content:L}),(0,u.jsx)("meta",{name:"twitter:title",content:d.title}),(0,u.jsx)("meta",{name:"twitter:description",content:z}),(0,u.jsx)("meta",{name:"twitter:image",content:C}),(0,u.jsx)("script",{type:"application/ld+json",children:JSON.stringify(_)})]}),(0,u.jsxs)("div",{className:"max-w-screen-xl mx-auto lg:grid lg:grid-cols-12 lg:gap-x-12 px-4 sm:px-6 lg:px-8",children:[(0,u.jsxs)("div",{className:"lg:col-span-8 xl:col-span-9 py-8",children:[(0,u.jsxs)("header",{className:"mb-8",children:[(0,u.jsx)("h1",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 leading-tight",children:d.title}),(0,u.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-4 mb-6",children:[(0,u.jsxs)("span",{children:["By ",d.author||"Treishvaam Team"]}),(0,u.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,u.jsx)("time",{dateTime:d.createdAt,children:(O=d.createdAt,O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A")})]}),d.coverImageUrl&&(0,u.jsx)("div",{className:"mb-8 rounded-lg overflow-hidden shadow-lg",children:(0,u.jsx)(o.A,{baseName:d.coverImageUrl,alt:d.coverImageAltText||d.title,className:"w-full h-auto object-cover"})})]}),(0,u.jsxs)("main",{ref:I,children:[(0,u.jsx)("article",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:(H=d.contentWithIds||d.content,{__html:H})}),(0,u.jsx)("div",{className:"mt-16 pt-8 border-t",children:(0,u.jsx)(g,{url:L,title:d.title})})]})]}),(0,u.jsx)("aside",{className:"lg:col-span-4 xl:col-span-3 py-8 hidden lg:block",children:(0,u.jsx)("div",{className:"sticky top-24",children:(0,u.jsx)(p,{headings:y,activeId:N,progress:A})})})]})]});var H,O}},5491:(e,t,n)=>{n.d(t,{A:()=>o});n(5043);var a=n(9379),s=n(3986),l=n(579);const i=["src","srcSet","alt","onLoad"],r=e=>{let{src:t,srcSet:n,alt:r,onLoad:c}=e,o=(0,s.A)(e,i);return t?(0,l.jsx)("img",(0,a.A)({src:t,srcSet:n,alt:r,onLoad:c},o)):(0,l.jsx)("div",(0,a.A)({className:"w-full h-full bg-gray-200 animate-pulse"},o))};var c=n(6355);const o=e=>{let{baseName:t,alt:n,className:a,sizes:s,onLoad:i}=e;if(!t||"string"!==typeof t)return(0,l.jsx)("div",{className:"bg-gray-200 ".concat(a)});const o=t.match(/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/);if(!o)return console.warn('ResponsiveAuthImage: Could not extract a valid image ID from baseName: "'.concat(t,'"')),(0,l.jsx)("div",{className:"bg-gray-200 ".concat(a)});const d=o[0],m="".concat(c.H$,"/api/uploads/").concat(d,"-small.webp"),u=["".concat(c.H$,"/api/uploads/").concat(d,"-small.webp 300w"),"".concat(c.H$,"/api/uploads/").concat(d,"-medium.webp 600w"),"".concat(c.H$,"/api/uploads/").concat(d,".webp 1200w")].join(", ");return(0,l.jsx)(r,{src:m,srcSet:u,sizes:s,alt:n,className:a,loading:"lazy",onLoad:i})}}}]);
//# sourceMappingURL=531.1b3e9b68.chunk.js.map