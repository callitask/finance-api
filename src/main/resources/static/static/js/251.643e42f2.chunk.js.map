{"version":3,"file":"static/js/251.643e42f2.chunk.js","mappings":";2QAGO,MAmBDA,GAASC,UAAAA,GAAiB,UAnBI,CAClC,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,IAAKC,EAAG,IAAKC,IAAK,WAC7C,CAAC,SAAU,CAAEH,GAAI,IAAKC,GAAI,KAAMC,EAAG,IAAKC,IAAK,WAC7C,CAAC,SAAU,CAAEH,GAAI,KAAMC,GAAI,KAAMC,EAAG,IAAKC,IAAK,WAC9C,CAAC,OAAQ,CAAEC,GAAI,OAAQC,GAAI,QAASC,GAAI,QAASC,GAAI,QAASJ,IAAK,WACnE,CAAC,OAAQ,CAAEC,GAAI,QAASC,GAAI,OAAQC,GAAI,OAAQC,GAAI,QAASJ,IAAK,8CCCpE,MAAMK,EAAa,CACf,CAAEC,MAAO,KAAMC,OAAQ,GACvB,CAAED,MAAO,KAAMC,OAAQ,GACvB,CAAED,MAAO,KAAMC,OAAQ,IACvB,CAAED,MAAO,KAAMC,OAAQ,KACvB,CAAED,MAAO,MAAOC,OAAQ,OACxB,CAAED,MAAO,KAAMC,OAAQ,KACvB,CAAED,MAAO,KAAMC,OAAQ,MACvB,CAAED,MAAO,MAAOC,OAAQ,QAOtBC,EAAe,SAACC,GAA6C,IAAxCC,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,UAAWG,EAAQH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACrD,GAAY,OAARF,QAAwBI,IAARJ,GAAqBM,MAAMN,GAAM,MAAO,MAE5D,MAAMO,EAASC,KAAKC,IAAIT,GACxB,IAAIU,EAAS,GACTC,EAAQX,EAEE,YAAVC,IACIM,GAAU,MACVG,EAAS,IACTC,EAAQX,EAAM,MACPO,GAAU,KACjBG,EAAS,IACTC,EAAQX,EAAM,KACPO,GAAU,KACjBG,EAAS,IACTC,EAAQX,EAAM,KACPO,GAAU,MACjBG,EAAS,IACTC,EAAQX,EAAM,MAItB,IAAIY,EAAU,CACVC,sBAAuB,EACvBC,sBAAuB,GAwB3B,GArBc,aAAVb,GAAwBI,IACxBO,EAAQX,MAAQ,WAChBW,EAAQP,SAAWA,GAInBE,EAAS,MACTK,EAAQE,sBAAwB,EAChCF,EAAQC,sBAAwB,GAGhCN,EAAS,KACTK,EAAQE,sBAAwB,GAItB,aAAVb,GAAwBM,EAAS,MACjCK,EAAQE,sBAAwB,GAItB,YAAVb,GAAuBS,EAAQ,CAC/B,MAAMK,EAAe,IAAIC,KAAKC,aAAa,QAAS,CAChDJ,sBAAuB,EACvBC,sBAAwBH,EAAQ,IAAMA,GAAS,GAAM,EAAI,IAC1DO,OAAOP,GACV,MAAM,GAANQ,OAAUJ,GAAYI,OAAGT,EAC7B,CAEA,MAAMU,EAAiB,IAAIJ,KAAKC,aAAa,QAASL,GAASM,OAAOP,GACtE,MAAM,GAANQ,OAAUC,GAAcD,OAAGT,EAC/B,EAkNA,EAhNyBW,KACrB,MAAM,OAAEC,IAAWC,EAAAA,EAAAA,MACZC,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,OACtCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAiBC,IAAsBJ,EAAAA,EAAAA,UAAS,OAChDK,EAAcC,IAAmBN,EAAAA,EAAAA,WAAS,IAEjDO,EAAAA,EAAAA,WAAU,KACYC,WACdN,GAAW,GACX,IACI,MAAMO,QAAiBC,EAAAA,EAAAA,IAAcC,mBAAmBf,IACxDG,EAAcU,EAASG,KAC3B,CAAE,MAAOC,GACLC,QAAQC,MAAM,sCAAuCF,EACzD,CAAC,QACGX,GAAW,EACf,GAEJc,IACD,CAACpB,IAEJ,MA2BMqB,EA3BeC,MACjB,IAAKpB,IAAeA,EAAWqB,eAAgB,MAAO,CAAEC,OAAQ,GAAIC,OAAQ,IAE5E,MAAMC,EAAUxB,EAAWqB,eACrBI,EAAKrD,EAAWsD,KAAKC,GAAKA,EAAEtD,QAAUgC,GAC5C,IAAKoB,EAAI,MAAO,CAAEH,OAAQ,GAAIC,OAAQ,IAEtC,IAAIK,EAAkBJ,EAEtB,GAAiB,OAAbC,EAAGpD,MACHuD,EAAkBJ,EAAQK,OAAO,QAC9B,GAAiB,OAAbJ,EAAGpD,MACVuD,EAAkBJ,EAAQK,OAAO,QAC9B,GAAkB,QAAdJ,EAAGnD,OAAkB,CAC5B,MAAMwD,GAAc,IAAIC,MAAOC,cAC/BJ,EAAkBJ,EAAQS,OAAOC,GAAQ,IAAIH,KAAKG,EAAKC,WAAWH,gBAAkBF,EACxF,MAAO,GAAiB,QAAbL,EAAGpD,MAAiB,CAC3B,MAAM+D,EAAepD,KAAKqD,IAAIb,EAAQ7C,OAAQ8C,EAAGnD,QACjDsD,EAAkBJ,EAAQK,OAAOO,EACrC,CAEA,MAAO,CACHd,OAAQM,EAAgBU,IAAIJ,GAAQ,IAAIH,KAAKG,EAAKC,WAAWI,sBAC7DhB,OAAQK,EAAgBU,IAAIJ,GAAQA,EAAKM,cAI/BpB,GACZqB,EAAkB,OAAVzC,QAAU,IAAVA,OAAU,EAAVA,EAAY0C,UACpBC,GAAa,OAALF,QAAK,IAALA,OAAK,EAALA,EAAOG,eAAgB,EAErC,GAAIzC,EACA,OAAO0C,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0DAAyDC,SAAC,2BAGpF,IAAKN,EACD,OACIO,EAAAA,EAAAA,MAAA,OAAKF,UAAU,8CAA6CC,SAAA,EACxDF,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,GAAG,IAAIJ,UAAU,8DAA6DC,SAAC,yBAGrFF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kCAAiCC,SAAC,WAChDC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,gBAAeC,SAAA,CAAC,2BAAyBlC,mBAAmBf,GAAQ,UAM7F,MAAMqD,EAAQ,CACV,CAAE9E,MAAO,iBAAkBc,MAAOZ,EAAakE,EAAMW,cAAe,WAAYX,EAAM5D,WACtF,CAAER,MAAO,OAAQc,MAAOZ,EAAakE,EAAMY,UAAW,WAAYZ,EAAM5D,WACxE,CAAER,MAAO,YAAac,MAAM,GAADQ,OAAKpB,EAAakE,EAAMa,OAAQ,WAAYb,EAAM5D,UAAS,OAAAc,OAAMpB,EAAakE,EAAMc,QAAS,WAAYd,EAAM5D,YAC1I,CAAER,MAAO,gBAAiBc,MAAM,GAADQ,OAAKpB,EAAakE,EAAMe,gBAAiB,WAAYf,EAAM5D,UAAS,OAAAc,OAAMpB,EAAakE,EAAMgB,iBAAkB,WAAYhB,EAAM5D,YAChK,CAAER,MAAO,SAAUc,MAAOZ,EAAakE,EAAMiB,OAAQ,aAKnDC,EAAclB,EAAMkB,aAAe,GACnCC,EAAaD,EAAYhF,OAAS,IAClCkF,EAAgBtD,EAAeoD,EAAcA,EAAYG,UAAU,EAAG,KAE5E,OACId,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wBAAuBC,SAAA,EAGlCF,EAAAA,EAAAA,KAACkB,IAAkB,KAEnBf,EAAAA,EAAAA,MAAA,OAAKF,UAAU,mDAAkDC,SAAA,EAG7DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qCAAoCC,SAAA,EAC/CC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,6BAA4BC,SAAA,EACvCF,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,GAAG,IAAIJ,UAAU,gCAA+BC,SAAC,UACvDF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,OAAMC,SAAC,OACvBF,EAAAA,EAAAA,KAAA,QAAAE,SAAOlC,mBAAmBf,SAG9BkD,EAAAA,EAAAA,MAAA,OAAKF,UAAU,mCAAkCC,SAAA,EAC7CF,EAAAA,EAAAA,KAAA,OAAAE,UACIF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,mCAAkCC,SAAEN,EAAMuB,MAAQnD,mBAAmBf,QAEvF+C,EAAAA,EAAAA,KAAA,UAAQC,UAAU,mDAAkDC,UAChEF,EAAAA,EAAAA,KAACnF,EAAM,CAACuG,KAAM,WAItBjB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACjBF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,mCAAkCC,SAAExE,EAAakE,EAAMyB,aAAc,WAAYzB,EAAM5D,aAEvGmE,EAAAA,EAAAA,MAAA,OAAKF,UAAS,+CAAAnD,OAAiDgD,EAAQ,iBAAmB,gBAAiBI,SAAA,CACtGJ,GAAQE,EAAAA,EAAAA,KAACsB,EAAAA,EAAU,CAACF,KAAM,GAAInB,UAAU,UAAYD,EAAAA,EAAAA,KAACuB,EAAAA,EAAY,CAACH,KAAM,GAAInB,UAAU,UACvFD,EAAAA,EAAAA,KAAA,QAAAE,SAAOxE,EAAakE,EAAMG,iBAC1BI,EAAAA,EAAAA,MAAA,QAAMF,UAAU,OAAMC,SAAA,CAAC,IAAEN,EAAM4B,cAAgB5B,EAAM4B,cAAcC,QAAQ,GAAK,OAAO,YAG3FtB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,6BAA4BC,SAAA,CACtCN,EAAM8B,aAAW,SAAA5E,OAAa,IAAIoC,KAAKU,EAAM8B,aAAaC,kBAC1D/B,EAAM5D,UAAQ,SAAAc,OAAU8C,EAAM5D,UAAU,SAAAc,OAClCkB,mBAAmBf,KAC1B+C,EAAAA,EAAAA,KAAA,QAAMC,UAAU,qBAAoBC,SAAC,8BAMjDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wCAAuCC,SAAA,EAGlDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,0BAAyBC,SAAA,EAGpCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,SAC5D3E,EAAWkE,IAAIb,IACZoB,EAAAA,EAAAA,KAAA,UAEI4B,QAASA,IAAMnE,EAAmBmB,EAAGpD,OACrCyE,UAAS,qDAAAnD,OAAuDU,IAAoBoB,EAAGpD,MACjF,2CACA,qCACC0E,SAENtB,EAAGpD,OAPCoD,EAAGpD,WAYpBwE,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBAAwBC,UACnCF,EAAAA,EAAAA,KAAC6B,EAAAA,EAAW,CAACvD,UAAWA,EAAWiC,cAAeX,EAAMW,cAAeuB,WAAYhC,UAK3FE,EAAAA,EAAAA,KAAC+B,IAAkB,CAACC,cAAe/E,KAGnC+C,EAAAA,EAAAA,KAACiC,IAAc,IAGdnB,IACGX,EAAAA,EAAAA,MAAA,OAAKF,UAAU,2DAA0DC,SAAA,EACrEC,EAAAA,EAAAA,MAAA,MAAIF,UAAU,2CAA0CC,SAAA,CAAC,SAAON,EAAMuB,SACtEhB,EAAAA,EAAAA,MAAA,KAAGF,UAAU,4DAA2DC,SAAA,CACnEc,GAAgBtD,GAAgBqD,EAAa,MAAQ,MAEzDA,IACGf,EAAAA,EAAAA,KAAA,UACI4B,QAASA,IAAMjE,GAAiBD,GAChCuC,UAAU,2DAA0DC,SAEnExC,EAAe,YAAc,qBAQlDsC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,UAGpCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,2DAA0DC,SAAA,EAErEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACjBF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,yEAAwEC,SAAC,wBAK7FF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,SAC7BI,EAAMb,IAAIyC,IACP/B,EAAAA,EAAAA,MAAA,OAAsBF,UAAU,kEAAiEC,SAAA,EAC7FF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAEgC,EAAK1G,SACtCwE,EAAAA,EAAAA,KAAA,QAAMC,UAAU,uCAAsCC,SAAEgC,EAAK5F,UAFvD4F,EAAK1G,4HC1QnD2G,EAAAA,GAAQC,SACJC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,IAGJ,MAqFA,EArFoBC,IAA+C,IAA9C,UAAEtE,EAAS,cAAEiC,EAAa,WAAEuB,GAAYc,EACzD,IAAKtE,IAAcA,EAAUI,QAAsC,IAA5BJ,EAAUI,OAAO5C,OACpD,OAAOkE,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oEAAmEC,SAAC,YAG9F,MAAM2C,EAAaf,EAAa,UAAY,UAEtC7D,EAAO,CACTQ,OAAQH,EAAUG,OAClBqE,SAAU,CACN,CACI7E,KAAMK,EAAUI,OAChBqE,YAAaF,EACbG,YAAa,IACbC,YAAa,EACbC,iBAAkB,EAClBC,qBAAsBN,EACtBO,MAAM,EACNC,gBAAkBC,IACd,MACMC,EADMD,EAAQE,MAAMC,IACLC,qBAAqB,EAAG,EAAG,EAAGJ,EAAQE,MAAMG,QAGjE,OAFAJ,EAASK,aAAa,EAAG9B,EAAa,yBAA2B,0BACjEyB,EAASK,aAAa,EAAG,0BAClBL,GAEXM,QAAS,KAEb,CACI5F,KAAM,IAAI6F,MAAMxF,EAAUG,OAAO3C,QAAQsH,KAAK7C,GAC9CwC,YAAa,UACbC,YAAa,EACbe,WAAY,CAAC,EAAG,GAChBd,YAAa,EACbG,MAAM,EACNY,QAAS,CAAEC,SAAS,MAK1B1H,EAAU,CACZ2H,YAAY,EACZC,qBAAqB,EACrBC,UAAW,CAAEC,SAAU,GACvBC,QAAS,CACLC,OAAQ,CAAEC,SAAS,GACnBR,QAAS,CACLS,KAAM,QACNC,WAAW,EACXrB,gBAAiB,wBACjBsB,WAAY,OACZC,UAAW,OACX7B,YAAa,UACbC,YAAa,EACb6B,QAAS,EACTC,UAAW,CAAE1D,KAAM,IACnB2D,SAAU,CAAE3D,KAAM,IAClB4D,eAAe,EACfC,UAAW,CACPC,MAAQC,GAAUA,EAAM,GAAG3J,MAC3BA,MAAQ6D,GAA+B,IAAtBA,EAAK+F,aAAkB,IAAAtI,OAAOuC,EAAKgG,OAAOC,EAAE7D,QAAQ,IAAO,MAIxF8D,OAAQ,CACJC,EAAG,CAAEhB,SAAS,GACdc,EAAG,CACCG,SAAU,QACVC,aAAa,EACbC,MAAO,KACPC,KAAM,CAAEpB,SAAS,EAAOqB,YAAY,GACpCC,MAAO,CACHC,MAAO,UACPC,KAAM,CAAE5E,KAAM,GACd6E,cAAe,EACfC,SAAWC,GAAQhK,KAAKiK,MAAMD,MAI1CE,YAAa,CAAE5B,KAAM,UAAW6B,KAAM,IAAK5B,WAAW,GACtD6B,OAAQ,CAAE1B,QAAS,IAGvB,OAAO7E,EAAAA,EAAAA,KAACwG,EAAAA,GAAI,CAACvI,KAAMA,EAAM1B,QAASA","sources":["../node_modules/lucide-react/src/icons/share-2.ts","pages/MarketDetailPage.js","components/market/MarketChart.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '18', cy: '5', r: '3', key: 'gq8acd' }],\n  ['circle', { cx: '6', cy: '12', r: '3', key: 'w7nqdw' }],\n  ['circle', { cx: '18', cy: '19', r: '3', key: '1xt0gg' }],\n  ['line', { x1: '8.59', x2: '15.42', y1: '13.51', y2: '17.49', key: '47mynk' }],\n  ['line', { x1: '15.41', x2: '8.59', y1: '6.51', y2: '10.49', key: '1n3mei' }],\n];\n\n/**\n * @component @name Share2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjUiIHI9IjMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjEyIiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTkiIHI9IjMiIC8+CiAgPGxpbmUgeDE9IjguNTkiIHgyPSIxNS40MiIgeTE9IjEzLjUxIiB5Mj0iMTcuNDkiIC8+CiAgPGxpbmUgeDE9IjE1LjQxIiB4Mj0iOC41OSIgeTE9IjYuNTEiIHkyPSIxMC40OSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/share-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Share2 = createLucideIcon('share-2', __iconNode);\n\nexport default Share2;\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { getWidgetData } from '../apiConfig';\r\nimport MarketChart from '../components/market/MarketChart';\r\nimport GlobalMarketTicker from '../components/market/GlobalMarketTicker'; // --- NEW ---\r\nimport ComparisonCarousel from '../components/market/ComparisonCarousel'; // --- NEW ---\r\nimport MarketNewsFeed from '../components/market/MarketNewsFeed'; // --- NEW ---\r\nimport { TrendingUp, TrendingDown, Share2 } from 'lucide-react';\r\n\r\nconst timeframes = [\r\n    { label: '1D', points: 1 },\r\n    { label: '5D', points: 5 },\r\n    { label: '1M', points: 22 },\r\n    { label: '6M', points: 126 },\r\n    { label: 'YTD', points: 'YTD' },\r\n    { label: '1Y', points: 252 },\r\n    { label: '5Y', points: 1260 },\r\n    { label: 'Max', points: 99999 },\r\n];\r\n\r\n/**\r\n * Formats numbers into compact, readable strings (e.g., 2.5T, 100.2M, 1.5K).\r\n * Handles currency formatting and large non-currency numbers.\r\n */\r\nconst formatNumber = (num, style = 'decimal', currency = null) => {\r\n    if (num === null || num === undefined || isNaN(num)) return 'N/A';\r\n\r\n    const numAbs = Math.abs(num);\r\n    let suffix = '';\r\n    let value = num;\r\n\r\n    if (style === 'compact') {\r\n        if (numAbs >= 1e12) {\r\n            suffix = 'T';\r\n            value = num / 1e12;\r\n        } else if (numAbs >= 1e9) {\r\n            suffix = 'B';\r\n            value = num / 1e9;\r\n        } else if (numAbs >= 1e6) {\r\n            suffix = 'M';\r\n            value = num / 1e6;\r\n        } else if (numAbs >= 1e3) {\r\n            suffix = 'K';\r\n            value = num / 1e3;\r\n        }\r\n    }\r\n\r\n    let options = {\r\n        maximumFractionDigits: 2,\r\n        minimumFractionDigits: 2,\r\n    };\r\n\r\n    if (style === 'currency' && currency) {\r\n        options.style = 'currency';\r\n        options.currency = currency;\r\n    }\r\n\r\n    // For very large prices (like Bitcoin), don't show cents.\r\n    if (numAbs > 1000) {\r\n        options.minimumFractionDigits = 2; // Keep 2 for assets like E-mini\r\n        options.maximumFractionDigits = 2;\r\n    }\r\n    // For single-digit prices, show more precision.\r\n    if (numAbs < 10) {\r\n        options.minimumFractionDigits = 2;\r\n    }\r\n\r\n    // Specific override for very large prices (e.g., indices)\r\n    if (style === 'currency' && numAbs > 10000) {\r\n        options.minimumFractionDigits = 2;\r\n    }\r\n\r\n    // Handle compact formatting\r\n    if (style === 'compact' && suffix) {\r\n        const compactValue = new Intl.NumberFormat('en-US', {\r\n            maximumFractionDigits: 2,\r\n            minimumFractionDigits: (value < 10 && value > -10) ? 2 : 1,\r\n        }).format(value);\r\n        return `${compactValue}${suffix}`;\r\n    }\r\n\r\n    const formattedValue = new Intl.NumberFormat('en-US', options).format(value);\r\n    return `${formattedValue}${suffix}`;\r\n};\r\n\r\nconst MarketDetailPage = () => {\r\n    const { ticker } = useParams();\r\n    const [widgetData, setWidgetData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeTimeframe, setActiveTimeframe] = useState('1Y');\r\n    const [showFullDesc, setShowFullDesc] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const response = await getWidgetData(decodeURIComponent(ticker));\r\n                setWidgetData(response.data);\r\n            } catch (e) {\r\n                console.error(\"Failed to fetch market detail data:\", e);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [ticker]);\r\n\r\n    const getChartData = () => {\r\n        if (!widgetData || !widgetData.historicalData) return { labels: [], prices: [] };\r\n\r\n        const history = widgetData.historicalData;\r\n        const tf = timeframes.find(t => t.label === activeTimeframe);\r\n        if (!tf) return { labels: [], prices: [] };\r\n\r\n        let filteredHistory = history;\r\n\r\n        if (tf.label === '1D') {\r\n            filteredHistory = history.slice(-2);\r\n        } else if (tf.label === '5D') {\r\n            filteredHistory = history.slice(-5);\r\n        } else if (tf.points === 'YTD') {\r\n            const currentYear = new Date().getFullYear();\r\n            filteredHistory = history.filter(item => new Date(item.priceDate).getFullYear() === currentYear);\r\n        } else if (tf.label !== 'Max') {\r\n            const pointsToTake = Math.min(history.length, tf.points);\r\n            filteredHistory = history.slice(-pointsToTake);\r\n        }\r\n\r\n        return {\r\n            labels: filteredHistory.map(item => new Date(item.priceDate).toLocaleDateString()),\r\n            prices: filteredHistory.map(item => item.closePrice)\r\n        };\r\n    };\r\n\r\n    const chartData = getChartData();\r\n    const quote = widgetData?.quoteData;\r\n    const isPos = quote?.changeAmount >= 0;\r\n\r\n    if (loading) {\r\n        return <div className=\"h-[80vh] flex items-center justify-center text-gray-500\">Loading market data...</div>;\r\n    }\r\n\r\n    if (!quote) {\r\n        return (\r\n            <div className=\"container mx-auto p-4 max-w-4xl text-center\">\r\n                <Link to=\"/\" className=\"text-blue-600 hover:underline mb-4 inline-flex items-center\">\r\n                    &larr; Back to Home\r\n                </Link>\r\n                <h2 className=\"text-2xl font-bold text-red-600\">Error</h2>\r\n                <p className=\"text-gray-600\">Could not load data for {decodeURIComponent(ticker)}.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // --- Key Statistics: Updated to match new design + available data ---\r\n    const stats = [\r\n        { label: 'Previous Close', value: formatNumber(quote.previousClose, 'currency', quote.currency) },\r\n        { label: 'Open', value: formatNumber(quote.openPrice, 'currency', quote.currency) },\r\n        { label: 'Day Range', value: `${formatNumber(quote.dayLow, 'currency', quote.currency)} - ${formatNumber(quote.dayHigh, 'currency', quote.currency)}` },\r\n        { label: '52 Week Range', value: `${formatNumber(quote.fiftyTwoWeekLow, 'currency', quote.currency)} - ${formatNumber(quote.fiftyTwoWeekHigh, 'currency', quote.currency)}` },\r\n        { label: 'Volume', value: formatNumber(quote.volume, 'compact') },\r\n        // --- Fields from new design (like Open Interest) are not in QuoteData.java ---\r\n        // --- Fields omitted from new design (P/E, Mkt Cap) are now removed ---\r\n    ];\r\n\r\n    const description = quote.description || '';\r\n    const isLongDesc = description.length > 300;\r\n    const displayedDesc = showFullDesc ? description : description.substring(0, 300);\r\n\r\n    return (\r\n        <div className=\"bg-white min-h-screen\">\r\n\r\n            {/* --- Component 1: Global Market Ticker --- */}\r\n            <GlobalMarketTicker />\r\n\r\n            <div className=\"container mx-auto p-4 lg:p-6 max-w-7xl font-sans\">\r\n\r\n                {/* --- Component 2: Page Hero --- */}\r\n                <div className=\"pb-4 border-b border-gray-200 mb-6\">\r\n                    <div className=\"text-sm text-gray-500 mb-2\">\r\n                        <Link to=\"/\" className=\"hover:underline text-blue-600\">HOME</Link>\r\n                        <span className=\"mx-1\">&gt;</span>\r\n                        <span>{decodeURIComponent(ticker)}</span>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-between items-start\">\r\n                        <div>\r\n                            <h1 className=\"text-3xl font-bold text-gray-900\">{quote.name || decodeURIComponent(ticker)}</h1>\r\n                        </div>\r\n                        <button className=\"p-2 rounded-full hover:bg-gray-100 text-gray-600\">\r\n                            <Share2 size={18} />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"mt-4\">\r\n                        <span className=\"text-5xl font-bold text-gray-900\">{formatNumber(quote.currentPrice, 'currency', quote.currency)}</span>\r\n\r\n                        <div className={`flex items-center text-2xl font-medium mt-1 ${isPos ? 'text-green-600' : 'text-red-600'}`}>\r\n                            {isPos ? <TrendingUp size={24} className=\"mr-1\" /> : <TrendingDown size={24} className=\"mr-1\" />}\r\n                            <span>{formatNumber(quote.changeAmount)}</span>\r\n                            <span className=\"ml-3\">({quote.changePercent ? quote.changePercent.toFixed(2) : '0.00'}%)</span>\r\n                        </div>\r\n\r\n                        <div className=\"text-sm text-gray-500 mt-2\">\r\n                            {quote.lastUpdated && `As of ${new Date(quote.lastUpdated).toLocaleString()}`}\r\n                            {quote.currency && ` · ${quote.currency}`}\r\n                            {` · ${decodeURIComponent(ticker)}`}\r\n                            <span className=\"ml-2 text-gray-400\">· Disclaimer</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* --- Component 3: Main Content Body (Asymmetric 2-Column Layout) --- */}\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n\r\n                    {/* --- 4a. Left Column (Wide) --- */}\r\n                    <div className=\"lg:col-span-2 space-y-6\">\r\n\r\n                        {/* Module 1: Interactive Chart */}\r\n                        <div className=\"bg-white rounded-lg\">\r\n                            <div className=\"flex justify-start border-b border-gray-200 mb-4\">\r\n                                {timeframes.map(tf => (\r\n                                    <button\r\n                                        key={tf.label}\r\n                                        onClick={() => setActiveTimeframe(tf.label)}\r\n                                        className={`px-3 py-2 text-sm font-semibold transition-colors ${activeTimeframe === tf.label\r\n                                            ? 'text-blue-600 border-b-2 border-blue-600'\r\n                                            : 'text-gray-500 hover:text-gray-900'\r\n                                            }`}\r\n                                    >\r\n                                        {tf.label}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n\r\n                            <div className=\"h-[250px] md:h-[400px]\">\r\n                                <MarketChart chartData={chartData} previousClose={quote.previousClose} isPositive={isPos} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Module 2: Comparison Carousel --- NEW --- */}\r\n                        <ComparisonCarousel currentTicker={ticker} />\r\n\r\n                        {/* Module 3: News Feed --- NEW --- */}\r\n                        <MarketNewsFeed />\r\n\r\n                        {/* --- \"About\" Section (Moved to end of left column) --- */}\r\n                        {description && (\r\n                            <div className=\"bg-white border border-gray-200 shadow-sm rounded-lg p-4\">\r\n                                <h2 className=\"text-xl font-semibold text-gray-900 mb-3\">About {quote.name}</h2>\r\n                                <p className=\"text-sm text-gray-700 leading-relaxed whitespace-pre-line\">\r\n                                    {displayedDesc}{!showFullDesc && isLongDesc ? '...' : ''}\r\n                                </p>\r\n                                {isLongDesc && (\r\n                                    <button\r\n                                        onClick={() => setShowFullDesc(!showFullDesc)}\r\n                                        className=\"text-sm font-semibold text-blue-600 hover:underline mt-2\"\r\n                                    >\r\n                                        {showFullDesc ? 'Read Less' : 'Read More'}\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* --- 4b. Right Column (Narrow) --- */}\r\n                    <div className=\"lg:col-span-1 space-y-6\">\r\n\r\n                        {/* Module 1: Data Summary Card --- UPDATED --- */}\r\n                        <div className=\"bg-white border border-gray-200 shadow-sm rounded-lg p-4\">\r\n                            {/* Hardcoded tag as requested by design */}\r\n                            <div className=\"mb-3\">\r\n                                <span className=\"text-xs font-semibold bg-gray-100 text-gray-700 rounded-full px-3 py-1\">\r\n                                    Futures contract\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-3 text-sm\">\r\n                                {stats.map(stat => (\r\n                                    <div key={stat.label} className=\"flex justify-between items-center border-b border-gray-100 pb-2\">\r\n                                        <span className=\"text-gray-600\">{stat.label}</span>\r\n                                        <span className=\"font-medium text-gray-900 text-right\">{stat.value}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketDetailPage;","import React from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Tooltip,\r\n    Filler,\r\n    TimeScale\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Tooltip,\r\n    Filler,\r\n    TimeScale\r\n);\r\n\r\nconst MarketChart = ({ chartData, previousClose, isPositive }) => {\r\n    if (!chartData || !chartData.prices || chartData.prices.length === 0) {\r\n        return <div className=\"h-full flex items-center justify-center text-gray-300 text-[10px]\">No data</div>;\r\n    }\r\n\r\n    const chartColor = isPositive ? '#16a34a' : '#dc2626';\r\n\r\n    const data = {\r\n        labels: chartData.labels,\r\n        datasets: [\r\n            {\r\n                data: chartData.prices,\r\n                borderColor: chartColor,\r\n                borderWidth: 1.5,\r\n                pointRadius: 0,\r\n                pointHoverRadius: 3,\r\n                pointBackgroundColor: chartColor,\r\n                fill: true,\r\n                backgroundColor: (context) => {\r\n                    const ctx = context.chart.ctx;\r\n                    const gradient = ctx.createLinearGradient(0, 0, 0, context.chart.height);\r\n                    gradient.addColorStop(0, isPositive ? 'rgba(22, 163, 74, 0.1)' : 'rgba(220, 38, 38, 0.1)');\r\n                    gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\r\n                    return gradient;\r\n                },\r\n                tension: 0.05,\r\n            },\r\n            {\r\n                data: new Array(chartData.labels.length).fill(previousClose),\r\n                borderColor: '#9ca3af',\r\n                borderWidth: 1,\r\n                borderDash: [2, 2],\r\n                pointRadius: 0,\r\n                fill: false,\r\n                tooltip: { enabled: false }\r\n            }\r\n        ],\r\n    };\r\n\r\n    const options = {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        animation: { duration: 0 }, // Disable animation for faster sidebar performance\r\n        plugins: {\r\n            legend: { display: false },\r\n            tooltip: {\r\n                mode: 'index',\r\n                intersect: false,\r\n                backgroundColor: 'rgba(17, 24, 39, 0.9)',\r\n                titleColor: '#fff',\r\n                bodyColor: '#fff',\r\n                borderColor: '#374151',\r\n                borderWidth: 1,\r\n                padding: 4,\r\n                titleFont: { size: 10 },\r\n                bodyFont: { size: 10 },\r\n                displayColors: false,\r\n                callbacks: {\r\n                    title: (items) => items[0].label,\r\n                    label: (item) => item.datasetIndex === 0 ? `$${item.parsed.y.toFixed(2)}` : ''\r\n                }\r\n            }\r\n        },\r\n        scales: {\r\n            x: { display: false },\r\n            y: {\r\n                position: 'right',\r\n                beginAtZero: false,\r\n                grace: '5%', // Automatic padding top/bottom for standard stock look\r\n                grid: { display: false, drawBorder: false },\r\n                ticks: {\r\n                    color: '#9ca3af',\r\n                    font: { size: 9 },\r\n                    maxTicksLimit: 4,\r\n                    callback: (val) => Math.round(val)\r\n                }\r\n            }\r\n        },\r\n        interaction: { mode: 'nearest', axis: 'x', intersect: false },\r\n        layout: { padding: 0 }\r\n    };\r\n\r\n    return <Line data={data} options={options} />;\r\n};\r\n\r\nexport default MarketChart;"],"names":["Share2","createLucideIcon","cx","cy","r","key","x1","x2","y1","y2","timeframes","label","points","formatNumber","num","style","arguments","length","undefined","currency","isNaN","numAbs","Math","abs","suffix","value","options","maximumFractionDigits","minimumFractionDigits","compactValue","Intl","NumberFormat","format","concat","formattedValue","MarketDetailPage","ticker","useParams","widgetData","setWidgetData","useState","loading","setLoading","activeTimeframe","setActiveTimeframe","showFullDesc","setShowFullDesc","useEffect","async","response","getWidgetData","decodeURIComponent","data","e","console","error","fetchData","chartData","getChartData","historicalData","labels","prices","history","tf","find","t","filteredHistory","slice","currentYear","Date","getFullYear","filter","item","priceDate","pointsToTake","min","map","toLocaleDateString","closePrice","quote","quoteData","isPos","changeAmount","_jsx","className","children","_jsxs","Link","to","stats","previousClose","openPrice","dayLow","dayHigh","fiftyTwoWeekLow","fiftyTwoWeekHigh","volume","description","isLongDesc","displayedDesc","substring","GlobalMarketTicker","name","size","currentPrice","TrendingUp","TrendingDown","changePercent","toFixed","lastUpdated","toLocaleString","onClick","MarketChart","isPositive","ComparisonCarousel","currentTicker","MarketNewsFeed","stat","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Filler","TimeScale","_ref","chartColor","datasets","borderColor","borderWidth","pointRadius","pointHoverRadius","pointBackgroundColor","fill","backgroundColor","context","gradient","chart","ctx","createLinearGradient","height","addColorStop","tension","Array","borderDash","tooltip","enabled","responsive","maintainAspectRatio","animation","duration","plugins","legend","display","mode","intersect","titleColor","bodyColor","padding","titleFont","bodyFont","displayColors","callbacks","title","items","datasetIndex","parsed","y","scales","x","position","beginAtZero","grace","grid","drawBorder","ticks","color","font","maxTicksLimit","callback","val","round","interaction","axis","layout","Line"],"sourceRoot":""}