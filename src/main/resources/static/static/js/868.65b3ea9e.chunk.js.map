{"version":3,"file":"static/js/868.65b3ea9e.chunk.js","mappings":"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","sources":["components/ResponsiveAuthImage.js","components/DevelopmentNotice.js","components/NewsHighlights.js","components/DeeperDive.js","components/BlogPage/FeaturedColumn.js","components/market/IndexCharts.js","components/market/TopMoversCard.js","components/market/MarketMovers.js","components/BlogPage/MarketSidebar.js","utils/blogUtils.js","components/BlogPage/BannerPostCard.js","components/BlogPage/GridPostCard.js","components/BlogPage/PostCard.js","components/BlogPage/BlogGridDesktop.js","components/BlogPage/BlogSidebar.js","components/BlogPage/MobilePostCard.js","components/BlogPage/BlogSlideMobile.js","components/BlogPage/MarketSlideMobile.js","pages/BlogPage.js","components/market/MarketChart.js"],"sourcesContent":["import React from 'react';\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\nimport 'react-lazy-load-image-component/src/effects/blur.css';\r\nimport { API_URL } from '../apiConfig';\r\n\r\nconst ResponsiveAuthImage = ({ baseName, alt, className, sizes, onLoad }) => {\r\n    // Render a simple placeholder if baseName is invalid.\r\n    if (!baseName || typeof baseName !== 'string') {\r\n        return <div className={`bg-gray-200 ${className}`} />;\r\n    }\r\n\r\n    const uuidRegex = /([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/;\r\n    const match = baseName.match(uuidRegex);\r\n\r\n    if (!match) {\r\n        console.warn(`ResponsiveAuthImage: Could not extract a valid image ID from baseName: \"${baseName}\"`);\r\n        return <div className={`bg-gray-200 ${className}`} />;\r\n    }\r\n\r\n    const cleanedBaseName = match[0];\r\n\r\n    // Construct image URLs\r\n    const src = `${API_URL}/api/uploads/${cleanedBaseName}-small.webp`;\r\n    const placeholderSrc = `${API_URL}/api/uploads/${cleanedBaseName}-tiny.webp`; // New tiny version for the blur effect\r\n    const srcSet = [\r\n        `${API_URL}/api/uploads/${cleanedBaseName}-small.webp 300w`,\r\n        `${API_URL}/api/uploads/${cleanedBaseName}-medium.webp 600w`,\r\n        `${API_URL}/api/uploads/${cleanedBaseName}.webp 1200w`\r\n    ].join(', ');\r\n\r\n    return (\r\n        <LazyLoadImage\r\n            alt={alt}\r\n            src={src}\r\n            srcSet={srcSet}\r\n            sizes={sizes}\r\n            placeholderSrc={placeholderSrc}\r\n            effect=\"blur\"\r\n            className={className}\r\n            afterLoad={onLoad} // Use afterLoad for the library's load event\r\n        />\r\n    );\r\n};\r\n\r\nexport default ResponsiveAuthImage;","const DevelopmentNotice = () => {\r\n    // This component now does nothing and renders nothing.\r\n    return null; \r\n};\r\n\r\nexport default DevelopmentNotice;","import React, { useState, useEffect } from 'react';\r\nimport { getNewsHighlights } from '../apiConfig';\r\n\r\n// Helper function to format the date and time\r\nconst formatNewsTimestamp = (dateString) => {\r\n    if (!dateString) return 'Date not available';\r\n    try {\r\n        const date = new Date(dateString);\r\n        if (isNaN(date.getTime())) {\r\n            return 'Invalid Date';\r\n        }\r\n        return date.toLocaleString('en-US', {\r\n            month: 'short',\r\n            day: 'numeric',\r\n            hour: 'numeric',\r\n            minute: '2-digit',\r\n            hour12: true\r\n        });\r\n    } catch (error) {\r\n        return 'Invalid Date';\r\n    }\r\n};\r\n\r\nexport const NewsListItem = ({ title, link, source, publishedAt }) => {\r\n    return (\r\n        <div className=\"py-2 border-b border-gray-200 last:border-b-0\">\r\n            <a\r\n                href={link}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-sm text-gray-800 hover:text-sky-600 transition-colors duration-200 leading-snug font-medium\"\r\n            >\r\n                {title}\r\n            </a>\r\n            <div className=\"text-xs text-gray-500 mt-1\">\r\n                <span className=\"font-semibold capitalize\">{source ? source.replace(/_/g, ' ') : 'News'}</span>\r\n                <span className=\"mx-1.5\">|</span>\r\n                <span>{formatNewsTimestamp(publishedAt)}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewsHighlights = () => {\r\n    const [highlights, setHighlights] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchNews = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const response = await getNewsHighlights();\r\n                if (response && Array.isArray(response.data)) {\r\n                    setHighlights(response.data);\r\n                } else {\r\n                    setHighlights([]);\r\n                }\r\n                setError(null);\r\n            } catch (err) {\r\n                setError('Failed to load news highlights.');\r\n                console.error('Error fetching news highlights:', err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchNews();\r\n    }, []);\r\n\r\n    if (loading || error || highlights.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"mb-6\">\r\n            <h3 className=\"text-base font-bold text-gray-800 pb-2 mb-2 border-b-2 border-gray-300\">\r\n                Recent Highlights\r\n            </h3>\r\n            <div>\r\n                {highlights.map((item) => (\r\n                    <NewsListItem\r\n                        key={item.id}\r\n                        title={item.title}\r\n                        link={item.link}\r\n                        source={item.source}\r\n                        publishedAt={item.publishedAt}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NewsHighlights;","import React, { useState, useEffect } from 'react';\r\nimport { getArchivedNews } from '../apiConfig';\r\nimport { NewsListItem } from './NewsHighlights'; // Re-using the list item component\r\n\r\nconst DeeperDive = () => {\r\n    const [articles, setArticles] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchNews = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const response = await getArchivedNews();\r\n                if (response && Array.isArray(response.data)) {\r\n                    setArticles(response.data);\r\n                } else {\r\n                    setArticles([]);\r\n                }\r\n                setError(null);\r\n            } catch (err) {\r\n                setError('Failed to load archived news.');\r\n                console.error('Error fetching archived news:', err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchNews();\r\n    }, []);\r\n\r\n    if (loading || error || articles.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"mt-6\">\r\n            <h3 className=\"text-base font-bold text-gray-800 pb-2 mb-2 border-b-2 border-gray-300\">\r\n                Deeper Dive\r\n            </h3>\r\n            <div>\r\n                {articles.map((item) => (\r\n                    <NewsListItem\r\n                        key={item.id}\r\n                        title={item.title}\r\n                        link={item.link}\r\n                        source={item.source}\r\n                        publishedAt={item.publishedAt}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DeeperDive;","import React from 'react';\r\nimport NewsHighlights from '../NewsHighlights';\r\nimport DeeperDive from '../DeeperDive';\r\n\r\nconst FeaturedColumn = () => {\r\n    return (\r\n        // This component is used in two places:\r\n        // 1. Desktop: As a sticky sidebar\r\n        // 2. Mobile: As the content for the \"News\" slide\r\n        <div className=\"sticky top-[80px] space-y-4\">\r\n            <div className=\"min-h-[400px]\">\r\n                <NewsHighlights />\r\n            </div>\r\n            <DeeperDive />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FeaturedColumn;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link } from 'react-router-dom'; // --- NEW ---\r\nimport MarketChart from './MarketChart';\r\nimport { getWidgetData } from '../../apiConfig';\r\nimport { TrendingUp, TrendingDown } from 'lucide-react';\r\n\r\n// --- MODIFIED: Split into two lists ---\r\nconst globalIndices = [\r\n    { symbol: '^GSPC', name: 'S&P 500' },\r\n    { symbol: '^DJI', name: 'Dow Jones' },\r\n    { symbol: '^IXIC', name: 'NASDAQ' },\r\n    { symbol: '^RUT', name: 'Russell 2K' },\r\n    { symbol: '^NYA', name: 'NYSE Comp' },\r\n    { symbol: '^VIX', name: 'VIX' },\r\n    { symbol: '^GDAXI', name: 'DAX (DE)' },\r\n    { symbol: '^FTSE', name: 'FTSE (UK)' },\r\n    { symbol: '^HSI', name: 'HSI (HK)' },\r\n    { symbol: 'GC=F', name: 'Gold' },\r\n    { symbol: 'CL=F', name: 'Crude Oil' },\r\n];\r\n\r\nconst indianIndices = [\r\n    { symbol: '^NSEI', name: 'NIFTY 50' },\r\n    { symbol: '^BSESN', name: 'SENSEX' },\r\n];\r\n\r\nconst timeframes = [\r\n    { label: '1M', points: 22 },\r\n    { label: '6M', points: 126 },\r\n    { label: 'YTD', points: 'YTD' },\r\n    { label: '1Y', points: 252 },\r\n    { label: '5Y', points: 1260 },\r\n    { label: 'Max', points: 99999 },\r\n];\r\n\r\nconst formatNumber = (num) => {\r\n    if (num === null || num === undefined || isNaN(num)) return '-';\r\n    // Handle large numbers\r\n    if (Math.abs(num) >= 1e12) return (num / 1e12).toFixed(2) + 'T';\r\n    if (Math.abs(num) >= 1e9) return (num / 1e9).toFixed(2) + 'B';\r\n    if (Math.abs(num) >= 1e6) return (num / 1e6).toFixed(2) + 'M';\r\n    // Handle small numbers and standard formatting\r\n    return num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n};\r\n\r\n\r\nconst IndexCharts = () => {\r\n    const [activeMarket, setActiveMarket] = useState('Global'); // --- NEW ---\r\n    const [activeIndex, setActiveIndex] = useState(0);\r\n    const [activeTimeframe, setActiveTimeframe] = useState('1Y');\r\n    const [loading, setLoading] = useState(true);\r\n    const [widgetData, setWidgetData] = useState(null);\r\n    const tabsRef = useRef(null);\r\n\r\n    // --- NEW: Determine which list to show ---\r\n    const indicesToShow = activeMarket === 'Global' ? globalIndices : indianIndices;\r\n    const activeIndexData = indicesToShow[activeIndex] || indicesToShow[0];\r\n\r\n    // --- NEW: Reset index when market changes ---\r\n    useEffect(() => {\r\n        setActiveIndex(0);\r\n        setWidgetData(null); // Clear old data\r\n    }, [activeMarket]);\r\n\r\n    useEffect(() => {\r\n        // Ensure activeIndexData is valid before fetching\r\n        if (!activeIndexData) {\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            setWidgetData(null);\r\n            try {\r\n                const response = await getWidgetData(activeIndexData.symbol);\r\n                if (response.data) {\r\n                    setWidgetData(response.data);\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Market widget error:\", e);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [activeIndex, activeIndexData]); // Depend on activeIndexData\r\n\r\n    const getChartData = () => {\r\n        if (!widgetData || !widgetData.historicalData) return { labels: [], prices: [] };\r\n\r\n        const history = widgetData.historicalData;\r\n        const tf = timeframes.find(t => t.label === activeTimeframe);\r\n        if (!tf) return { labels: [], prices: [] }; // Safety check\r\n\r\n        let filteredHistory = history;\r\n        if (tf.points === 'YTD') {\r\n            const currentYear = new Date().getFullYear();\r\n            filteredHistory = history.filter(item => new Date(item.priceDate).getFullYear() === currentYear);\r\n        } else if (tf.label !== 'Max') {\r\n            const pointsToTake = Math.min(history.length, tf.points);\r\n            filteredHistory = history.slice(-pointsToTake);\r\n        }\r\n\r\n        return {\r\n            labels: filteredHistory.map(item => new Date(item.priceDate).toLocaleDateString()),\r\n            prices: filteredHistory.map(item => item.closePrice)\r\n        };\r\n    };\r\n\r\n    const chartData = getChartData();\r\n    const quote = widgetData?.quoteData;\r\n    const isPos = quote?.changeAmount >= 0;\r\n\r\n    const handleMouseDown = (e) => {\r\n        const ele = tabsRef.current;\r\n        if (!ele) return;\r\n        ele.style.cursor = 'grabbing';\r\n        ele.style.userSelect = 'none';\r\n        let pos = { left: ele.scrollLeft, x: e.clientX };\r\n        const onMouseMove = (e) => {\r\n            const dx = e.clientX - pos.x;\r\n            ele.scrollLeft = pos.left - dx;\r\n        };\r\n        const onMouseUp = () => {\r\n            ele.style.cursor = 'grab';\r\n            ele.style.removeProperty('user-select');\r\n            document.removeEventListener('mousemove', onMouseMove);\r\n            document.removeEventListener('mouseup', onMouseUp);\r\n        };\r\n        document.addEventListener('mousemove', onMouseMove);\r\n        document.addEventListener('mouseup', onMouseUp);\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white border border-gray-200 shadow-sm rounded-lg overflow-hidden font-sans text-[11px]\">\r\n\r\n            {/* --- NEW: Market Tabs --- */}\r\n            <div className=\"flex border-b border-gray-200\">\r\n                <button\r\n                    onClick={() => setActiveMarket('Global')}\r\n                    className={`flex-1 px-3 py-2 text-center text-xs font-bold transition-colors ${activeMarket === 'Global' ? 'text-blue-700 border-b-2 border-blue-700' : 'text-gray-500 hover:text-gray-900'}`}\r\n                >\r\n                    Global\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveMarket('Indian')}\r\n                    className={`flex-1 px-3 py-2 text-center text-xs font-bold transition-colors ${activeMarket === 'Indian' ? 'text-blue-700 border-b-2 border-blue-700' : 'text-gray-500 hover:text-gray-900'}`}\r\n                >\r\n                    Indian\r\n                </button>\r\n            </div>\r\n\r\n            {/* Scrollable Index Tabs */}\r\n            <div\r\n                ref={tabsRef}\r\n                onMouseDown={handleMouseDown}\r\n                className=\"flex border-b border-gray-100 bg-gray-50/80 overflow-x-auto no-scrollbar cursor-grab\"\r\n                style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\r\n            >\r\n                {indicesToShow.map((idx, i) => (\r\n                    <button\r\n                        key={idx.symbol}\r\n                        onClick={() => setActiveIndex(i)}\r\n                        className={`flex-shrink-0 px-3 py-2 font-semibold transition-colors whitespace-nowrap ${activeIndex === i\r\n                            ? 'bg-white text-blue-700'\r\n                            : 'text-gray-500 hover:bg-gray-100 hover:text-gray-900'\r\n                            }`}\r\n                    >\r\n                        {idx.name}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"p-3 min-h-[260px]\">\r\n                {loading || !quote || !activeIndexData ? (\r\n                    <div className=\"h-[200px] flex items-center justify-center text-gray-400 animate-pulse\">Loading data...</div>\r\n                ) : (\r\n                    // --- NEW: Link wrapper ---\r\n                    <Link to={`/market/${encodeURIComponent(activeIndexData.symbol)}`} className=\"block\">\r\n                        <div className=\"flex items-baseline justify-between\">\r\n                            <span className=\"text-2xl font-bold text-gray-900\">\r\n                                {formatNumber(quote.currentPrice)}\r\n                                {/* --- MODIFIED: Dynamic Currency --- */}\r\n                                <span className=\"text-[10px] font-medium text-gray-500 ml-1\">{quote.currency || ''}</span>\r\n                            </span>\r\n                            <div className={`flex items-center font-bold ${isPos ? 'text-green-600' : 'text-red-600'}`}>\r\n                                {isPos ? <TrendingUp size={14} className=\"mr-0.5\" /> : <TrendingDown size={14} className=\"mr-0.5\" />}\r\n                                {formatNumber(quote.changeAmount)} ({quote.changePercent ? quote.changePercent.toFixed(2) : '0.00'}%)\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"h-[120px] my-3 -mx-1\">\r\n                            <MarketChart chartData={chartData} previousClose={quote.previousClose} isPositive={isPos} />\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-between bg-gray-50 rounded-md p-1 mb-3\">\r\n                            {timeframes.map(tf => (\r\n                                <button\r\n                                    key={tf.label}\r\n                                    // --- MODIFIED: Added event stoppers ---\r\n                                    onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        e.stopPropagation();\r\n                                        setActiveTimeframe(tf.label);\r\n                                    }}\r\n                                    className={`px-2 py-0.5 rounded text-[10px] font-bold transition-colors ${activeTimeframe === tf.label ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-500 hover:text-gray-900'\r\n                                        }`}\r\n                                >\r\n                                    {tf.label}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-2 gap-x-3 gap-y-1 text-[10px] text-gray-500\">\r\n                            <div className=\"flex justify-between\"><span>Open</span><span className=\"font-medium text-gray-900\">{formatNumber(quote.openPrice)}</span></div>\r\n                            <div className=\"flex justify-between\"><span>High</span><span className=\"font-medium text-gray-900\">{formatNumber(quote.dayHigh)}</span></div>\r\n                            <div className=\"flex justify-between\"><span>Prev</span><span className=\"font-medium text-gray-900\">{formatNumber(quote.previousClose)}</span></div>\r\n                            <div className=\"flex justify-between\"><span>Low</span><span className=\"font-medium text-gray-900\">{formatNumber(quote.dayLow)}</span></div>\r\n                        </div>\r\n                    </Link>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IndexCharts;","import React, { useState, useEffect } from 'react';\r\nimport MarketChart from './MarketChart';\r\n\r\nconst TopMoversCard = ({ title, fetchData, type }) => {\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [selectedStock, setSelectedStock] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            try {\r\n                setLoading(true);\r\n                setError(null);\r\n                const response = await fetchData();\r\n                setData(response.data || []);\r\n            } catch (err) {\r\n                setError('Data could not be loaded.');\r\n                console.error(\"Failed to fetch top movers:\", err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        loadData();\r\n    }, [fetchData]);\r\n\r\n    const getRowColor = (stock) => {\r\n        const change = parseFloat(stock.changeAmount);\r\n        if (type === 'gainer' || (type === 'active' && change >= 0)) return 'text-green-600';\r\n        if (type === 'loser' || (type === 'active' && change < 0)) return 'text-red-600';\r\n        return 'text-gray-800';\r\n    };\r\n\r\n    const renderContent = () => {\r\n        if (loading) {\r\n            return <p className=\"p-2 text-xs text-gray-500 text-center\">Loading...</p>;\r\n        }\r\n        if (error) {\r\n            return <p className=\"p-2 text-xs text-red-500 break-words text-center\">{error}</p>;\r\n        }\r\n        return (\r\n            <div className=\"px-1\">\r\n                <table className=\"w-full\">\r\n                    <thead>\r\n                        <tr className=\"text-left text-gray-500 uppercase font-medium text-[10px]\">\r\n                            <th className=\"py-1 px-1 font-semibold\">Symbol</th>\r\n                            <th className=\"py-1 px-1 font-semibold text-right whitespace-nowrap\">Price</th>\r\n                            <th className=\"py-1 px-1 font-semibold text-right whitespace-nowrap\">Chg</th>\r\n                            <th className=\"py-1 px-1 font-semibold text-right whitespace-nowrap\">%Chg</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                        {data.slice(0, 5).map((stock) => (\r\n                            <tr\r\n                                key={stock.ticker}\r\n                                className=\"text-[11px] cursor-pointer hover:bg-gray-100\"\r\n                                onClick={() => setSelectedStock(stock.ticker)}\r\n                            >\r\n                                <td className=\"py-1 px-1 font-bold text-gray-700 truncate\">{stock.ticker}</td>\r\n                                <td className=\"py-1 px-1 text-right font-medium text-gray-700 whitespace-nowrap\">\r\n                                    ${parseFloat(stock.price).toFixed(2)}\r\n                                </td>\r\n                                <td className={`py-1 px-1 text-right font-bold whitespace-nowrap ${getRowColor(stock)}`}>\r\n                                    {parseFloat(stock.changeAmount) >= 0 ? '+' : ''}{parseFloat(stock.changeAmount).toFixed(2)}\r\n                                </td>\r\n                                <td className={`py-1 px-1 text-right font-bold whitespace-nowrap ${getRowColor(stock)}`}>\r\n                                    {stock.changePercentage}\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                {selectedStock && <MarketChart ticker={selectedStock} />}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white border border-gray-200/90 shadow-sm\">\r\n            <h4 className=\"font-bold text-sm p-2 border-b border-gray-200/90 text-gray-800\">{title}</h4>\r\n            {renderContent()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TopMoversCard;","import React from 'react';\r\nimport TopMoversCard from './TopMoversCard';\r\nimport { getMostActive, getTopGainers, getTopLosers } from '../../apiConfig';\r\n\r\nconst MarketMovers = () => {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h2 className=\"font-bold text-xl border-b pb-2 pt-4\">Market Movers</h2>\r\n            <TopMoversCard title=\"Most Active\" fetchData={getMostActive} type=\"active\" />\r\n            <TopMoversCard title=\"Top Gainers\" fetchData={getTopGainers} type=\"gainer\" />\r\n            <TopMoversCard title=\"Top Losers\" fetchData={getTopLosers} type=\"loser\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketMovers;","import React from 'react';\r\nimport IndexCharts from '../market/IndexCharts';\r\nimport MarketMovers from '../market/MarketMovers';\r\n\r\nconst MarketSidebar = () => {\r\n    return (\r\n        // This is the right-hand sidebar for DESKTOP only.\r\n        <div className=\"sticky top-[80px] space-y-6\">\r\n            <div className=\"min-h-[350px]\">\r\n                <IndexCharts />\r\n            </div>\r\n            <div className=\"min-h-[650px]\">\r\n                <MarketMovers />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketSidebar;\r\n","import DOMPurify from 'dompurify';\r\n\r\nexport const categoryStyles = {\r\n    \"Stocks\": \"text-sky-700\",\r\n    \"Crypto\": \"text-sky-700\",\r\n    \"Trading\": \"text-sky-700\",\r\n    \"News\": \"text-sky-700\",\r\n    \"Default\": \"text-sky-700\"\r\n};\r\n\r\nexport const createSnippet = (html, length = 155) => {\r\n    if (!html) return '';\r\n    const plainText = DOMPurify.sanitize(html, { ALLOWED_TAGS: [] });\r\n    if (plainText.length <= length) return plainText;\r\n    const trimmed = plainText.substring(0, length);\r\n    return trimmed.substring(0, Math.min(trimmed.length, trimmed.lastIndexOf(' '))) + '...';\r\n};\r\n\r\nexport const formatDateTime = (dateString) => {\r\n    if (!dateString) return { isNew: false, displayDate: 'Date not available' };\r\n    const dateObj = new Date(dateString);\r\n    if (isNaN(dateObj)) return { isNew: false, displayDate: 'Date not available' };\r\n    const now = new Date();\r\n    const diffHours = (now - dateObj) / (1000 * 60 * 60);\r\n    const displayDate = new Intl.DateTimeFormat('en-US', { month: 'long', day: 'numeric', year: 'numeric' }).format(dateObj);\r\n    return { isNew: diffHours < 48, displayDate };\r\n};\r\n","import React, { memo, forwardRef, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ResponsiveAuthImage from '../ResponsiveAuthImage';\r\nimport Slider from \"react-slick\";\r\nimport { createSnippet, formatDateTime } from '../../utils/blogUtils';\r\n\r\nconst BannerPostCard = memo(forwardRef(({ article, onCategoryClick, categoriesMap, eager = false }, ref) => {\r\n    const sliderRef = useRef(null);\r\n    const hasThumbnails = article.thumbnails && article.thumbnails.length > 0;\r\n    const isStory = hasThumbnails && article.thumbnails.length > 1;\r\n    const { isNew, displayDate } = formatDateTime(article.updatedAt || article.createdAt);\r\n    const categoryName = article.category?.name || 'Uncategorized';\r\n    const bannerSliderSettings = { dots: false, fade: true, infinite: true, speed: 1000, slidesToShow: 1, slidesToScroll: 1, autoplay: true, autoplaySpeed: 4000, arrows: false, pauseOnHover: false };\r\n\r\n    const categorySlug = categoriesMap[categoryName] || 'uncategorized';\r\n    const postLink = `/category/${categorySlug}/${article.userFriendlySlug}/${article.urlArticleId}`;\r\n\r\n    const ThumbnailDisplay = () => {\r\n        if (!hasThumbnails) {\r\n            return <div className=\"aspect-video bg-gray-200\"></div>; // Placeholder maintains aspect ratio\r\n        }\r\n        if (isStory) {\r\n            // Use first thumb metadata to set aspect ratio if available\r\n            const firstThumb = article.thumbnails[0] || {};\r\n            const aspectStyle = (firstThumb.width && firstThumb.height) ? { aspectRatio: `${firstThumb.width} / ${firstThumb.height}` } : { minHeight: 400 };\r\n            return (\r\n                <div style={aspectStyle} className=\"w-full bg-gray-100\">\r\n                    <Slider ref={sliderRef} {...bannerSliderSettings}>\r\n                        {article.thumbnails.map((thumb, index) => ( // Added index for eager prop\r\n                            <div key={thumb.id}>\r\n                                <ResponsiveAuthImage\r\n                                    baseName={thumb.imageUrl}\r\n                                    alt={thumb.altText || article.title}\r\n                                    className=\"w-full h-full object-cover\"\r\n                                    width={thumb.width}\r\n                                    height={thumb.height}\r\n                                    blurHash={thumb.blurHash}\r\n                                    eager={eager && index === 0}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n                    </Slider>\r\n                </div>\r\n            );\r\n        }\r\n        const thumb = article.thumbnails[0];\r\n        const aspectStyle = (thumb.width && thumb.height) ? { aspectRatio: `${thumb.width} / ${thumb.height}` } : { minHeight: 400 };\r\n        return (\r\n            <div style={aspectStyle} className=\"w-full bg-gray-100\">\r\n                <ResponsiveAuthImage\r\n                    baseName={thumb.imageUrl}\r\n                    alt={thumb.altText || article.title}\r\n                    className=\"w-full h-full object-cover\"\r\n                    width={thumb.width}\r\n                    height={thumb.height}\r\n                    blurHash={thumb.blurHash}\r\n                    eager={eager}\r\n                />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (<div ref={ref} className=\"block relative bg-black text-white overflow-hidden border border-gray-200 group\"><div className=\"absolute inset-0\"><ThumbnailDisplay /></div><div className=\"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent group-hover:via-black/80 transition-all duration-300\"></div><Link to={postLink} className=\"relative p-8 flex flex-col justify-end min-h-[400px] z-10\"><div className=\"flex justify-between items-center text-sm mb-2\"><div className=\"flex items-center gap-3\"><span onClick={(e) => { e.preventDefault(); onCategoryClick(categoryName); }} className=\"font-bold uppercase tracking-wider text-sky-300 hover:underline cursor-pointer\">{categoryName}</span><span className=\"text-gray-400\">|</span><span className=\"text-gray-300\">{displayDate}</span></div>{isNew && <span className=\"font-semibold text-red-500 bg-white/20 px-2 py-1 rounded-full text-xs\">NEW</span>}</div><h2 className=\"text-3xl md:text-4xl font-bold my-2 leading-tight text-white group-hover:text-sky-200 transition-colors duration-300\">{article.title}</h2><p className=\"text-gray-200 text-base mt-2 max-w-2xl hidden md:block\">{createSnippet(article.customSnippet || article.content, 150)}</p><div className=\"text-xs text-gray-400 mt-4\">By Treishvaam Finance</div></Link></div>);\r\n}));\r\n\r\nexport default BannerPostCard;\r\n","import React, { memo, forwardRef, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ResponsiveAuthImage from '../ResponsiveAuthImage';\r\nimport Slider from \"react-slick\";\r\nimport { categoryStyles, createSnippet, formatDateTime } from '../../utils/blogUtils';\r\n\r\nconst GridPostCard = memo(forwardRef(({ article, onCategoryClick, categoriesMap }, ref) => {\r\n    const sliderRef = useRef(null);\r\n    const hasThumbnails = article.thumbnails && article.thumbnails.length > 0;\r\n    const isStory = hasThumbnails && article.thumbnails.length > 1;\r\n    const { isNew } = formatDateTime(article.updatedAt || article.createdAt);\r\n    const displayDate = new Intl.DateTimeFormat('en-US', { month: 'long', day: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit', hour12: true }).format(new Date(article.updatedAt || article.createdAt));\r\n    const categoryName = article.category?.name || 'Uncategorized';\r\n    const categoryClass = categoryStyles[categoryName] || categoryStyles[\"Default\"];\r\n    const isFeatured = article.featured;\r\n    const totalSlides = article.thumbnails?.length || 0;\r\n    const landscapeSlidesToShow = Math.min(totalSlides, 4);\r\n    const landscapeSettings = { dots: false, infinite: totalSlides > landscapeSlidesToShow, speed: 500, slidesToShow: landscapeSlidesToShow, slidesToScroll: 1, autoplay: true, autoplaySpeed: 3000, arrows: false };\r\n\r\n    const categorySlug = categoriesMap[categoryName] || 'uncategorized';\r\n    const postLink = `/category/${categorySlug}/${article.userFriendlySlug}/${article.urlArticleId}`;\r\n\r\n    const CardContent = () => (<div className=\"p-3 flex flex-col flex-grow\"><div className=\"flex justify-between items-start text-xs mb-2\"><div className=\"flex items-center\"><button onClick={() => onCategoryClick(categoryName)} className={`font-bold uppercase tracking-wider ${categoryClass} hover:underline`}>{categoryName}</button><span className=\"text-gray-400 mx-2\">|</span><span className=\"text-gray-500 font-medium\">By Treishvaam Finance</span></div>{isNew && <span className=\"font-semibold text-red-500 flex-shrink-0\">NEW</span>}</div><h3 className=\"text-lg font-bold mb-2 text-gray-900 leading-tight break-words\"><Link to={postLink} className=\"hover:underline\">{article.title}</Link></h3><p className=\"text-sm text-gray-700 flex-grow break-words\">{createSnippet(article.customSnippet || article.content, 100)}</p><div className=\"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between\"><div className=\"text-xs text-gray-500\"><span>{displayDate}</span></div><Link to={postLink} className=\"text-sm font-semibold text-sky-600 hover:text-sky-800 flex-shrink-0 ml-2\">Read More</Link></div></div>);\r\n\r\n    const ThumbnailDisplay = () => {\r\n        if (!hasThumbnails) return null;\r\n        if (isStory) {\r\n            const firstThumb = article.thumbnails[0] || {};\r\n            const aspectStyle = (firstThumb.width && firstThumb.height) ? { aspectRatio: `${firstThumb.width} / ${firstThumb.height}` } : {};\r\n            return (\r\n                <div className=\"bg-gray-100\" style={aspectStyle}>\r\n                    <Slider ref={sliderRef} {...landscapeSettings}>\r\n                        {article.thumbnails.map(thumb => (\r\n                            <div key={thumb.id} className=\"px-px\">\r\n                                <Link to={postLink} className=\"block w-full h-full\">\r\n                                    <ResponsiveAuthImage\r\n                                        baseName={thumb.imageUrl}\r\n                                        alt={thumb.altText || article.title}\r\n                                        className=\"w-full h-full object-cover\"\r\n                                        width={thumb.width}\r\n                                        height={thumb.height}\r\n                                        blurHash={thumb.blurHash}\r\n                                    />\r\n                                </Link>\r\n                            </div>\r\n                        ))}\r\n                    </Slider>\r\n                </div>\r\n            );\r\n        }\r\n        const singleThumbnail = article.thumbnails[0];\r\n        const aspectStyle = (singleThumbnail.width && singleThumbnail.height) ? { aspectRatio: `${singleThumbnail.width} / ${singleThumbnail.height}` } : {};\r\n        return (\r\n            <Link to={postLink} className=\"block bg-gray-100\" style={aspectStyle}>\r\n                <ResponsiveAuthImage\r\n                    baseName={singleThumbnail.imageUrl}\r\n                    alt={singleThumbnail.altText || article.title}\r\n                    className=\"w-full h-full object-cover\"\r\n                    width={singleThumbnail.width}\r\n                    height={singleThumbnail.height}\r\n                    blurHash={singleThumbnail.blurHash}\r\n                />\r\n            </Link>\r\n        );\r\n    };\r\n\r\n    return (<div ref={ref} className=\"bg-white border border-gray-200 relative flex flex-col h-full\">{isFeatured && (<div className=\"absolute top-2 left-2 z-10\"><span className=\"bg-gradient-to-r from-yellow-400 to-pink-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md uppercase tracking-wider\">Featured</span></div>)}<ThumbnailDisplay /><CardContent /></div>);\r\n}));\r\n\r\nexport default GridPostCard;\r\n","import React, { memo, forwardRef, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ResponsiveAuthImage from '../ResponsiveAuthImage';\r\nimport Slider from \"react-slick\";\r\nimport { categoryStyles, createSnippet, formatDateTime } from '../../utils/blogUtils';\r\n\r\nconst PostCard = memo(forwardRef(({ article, onCategoryClick, categoriesMap }, ref) => {\r\n    const sliderRef = useRef(null);\r\n    const hasThumbnails = article.thumbnails && article.thumbnails.length > 0;\r\n    const isStory = hasThumbnails && article.thumbnails.length > 1;\r\n    const { isNew } = formatDateTime(article.updatedAt || article.createdAt);\r\n    const displayDate = new Intl.DateTimeFormat('en-US', { month: 'long', day: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit', hour12: true }).format(new Date(article.updatedAt || article.createdAt));\r\n    const categoryName = article.category?.name || 'Uncategorized';\r\n    const categoryClass = categoryStyles[categoryName] || categoryStyles[\"Default\"];\r\n    const isFeatured = article.featured;\r\n    const totalSlides = article.thumbnails?.length || 0;\r\n    const landscapeSlidesToShow = Math.min(totalSlides, 4);\r\n    const landscapeSettings = { dots: false, infinite: totalSlides > landscapeSlidesToShow, speed: 500, slidesToShow: landscapeSlidesToShow, slidesToScroll: 1, autoplay: true, autoplaySpeed: 3000, arrows: false };\r\n\r\n    const categorySlug = categoriesMap[categoryName] || 'uncategorized';\r\n    const postLink = `/category/${categorySlug}/${article.userFriendlySlug}/${article.urlArticleId}`;\r\n\r\n    const CardContent = () => (<div className=\"p-3 flex flex-col flex-grow\"><div className=\"flex justify-between items-start text-xs mb-2\"><div className=\"flex items-center\"><button onClick={() => onCategoryClick(categoryName)} className={`font-bold uppercase tracking-wider ${categoryClass} hover:underline`}>{categoryName}</button><span className=\"text-gray-400 mx-2\">|</span><span className=\"text-gray-500 font-medium\">By Treishvaam Finance</span></div>{isNew && <span className=\"font-semibold text-red-500 flex-shrink-0\">NEW</span>}</div><h3 className=\"text-lg font-bold mb-2 text-gray-900 leading-tight break-words\"><Link to={postLink} className=\"hover:underline\">{article.title}</Link></h3><p className=\"text-sm text-gray-700 flex-grow break-words\">{createSnippet(article.customSnippet || article.content, 100)}</p><div className=\"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between\"><div className=\"text-xs text-gray-500\"><span>{displayDate}</span></div><Link to={postLink} className=\"text-sm font-semibold text-sky-600 hover:text-sky-800 flex-shrink-0 ml-2\">Read More</Link></div></div>);\r\n\r\n    const ThumbnailDisplay = () => {\r\n        if (!hasThumbnails) return null;\r\n        if (isStory) {\r\n            // If thumbnails have consistent metadata, attempt to set aspect ratio from first thumb\r\n            const firstThumb = article.thumbnails[0] || {};\r\n            const aspectStyle = (firstThumb.width && firstThumb.height) ? { aspectRatio: `${firstThumb.width} / ${firstThumb.height}` } : {};\r\n            return (\r\n                <div className=\"bg-gray-100\" style={aspectStyle}>\r\n                    <Slider ref={sliderRef} {...landscapeSettings}>\r\n                        {article.thumbnails.map(thumb => (\r\n                            <div key={thumb.id} className=\"px-px\">\r\n                                <Link to={postLink} className=\"block w-full h-full\">\r\n                                    <ResponsiveAuthImage\r\n                                        baseName={thumb.imageUrl}\r\n                                        alt={thumb.altText || article.title}\r\n                                        className=\"w-full h-full object-cover\"\r\n                                        width={thumb.width}\r\n                                        height={thumb.height}\r\n                                        blurHash={thumb.blurHash}\r\n                                    />\r\n                                </Link>\r\n                            </div>\r\n                        ))}\r\n                    </Slider>\r\n                </div>\r\n            );\r\n        }\r\n        const singleThumbnail = article.thumbnails[0];\r\n        const aspectStyle = (singleThumbnail.width && singleThumbnail.height) ? { aspectRatio: `${singleThumbnail.width} / ${singleThumbnail.height}` } : {};\r\n        return (\r\n            <Link to={postLink} className=\"block bg-gray-100\" style={aspectStyle}>\r\n                <ResponsiveAuthImage\r\n                    baseName={singleThumbnail.imageUrl}\r\n                    alt={singleThumbnail.altText || article.title}\r\n                    className=\"w-full h-full object-cover\"\r\n                    width={singleThumbnail.width}\r\n                    height={singleThumbnail.height}\r\n                    blurHash={singleThumbnail.blurHash}\r\n                />\r\n            </Link>\r\n        );\r\n    };\r\n\r\n    return (<div ref={ref} className=\"break-inside-avoid bg-white border border-gray-200 mb-px relative flex flex-col\">{isFeatured && (<div className=\"absolute top-2 left-2 z-10\"><span className=\"bg-gradient-to-r from-yellow-400 to-pink-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md uppercase tracking-wider\">Featured</span></div>)}<ThumbnailDisplay /><CardContent /></div>);\r\n}));\r\n\r\nexport default PostCard;\r\n","import React from 'react';\r\nimport BannerPostCard from './BannerPostCard';\r\nimport GridPostCard from './GridPostCard';\r\nimport PostCard from './PostCard';\r\n\r\nconst BlogGridDesktop = ({ desktopLayoutBlocks, lastPostElementRef, onCategoryClick, categoriesMap, loading, page, hasMore, postCount }) => {\r\n\r\n    const renderDesktopLayout = () => {\r\n        if (desktopLayoutBlocks.length === 0 && !loading && page === 0) {\r\n            return <div className=\"text-center p-10 col-span-full\"><p>No posts found for your criteria.</p></div>;\r\n        }\r\n        return desktopLayoutBlocks.map((block, blockIndex) => {\r\n            const isLastBlock = blockIndex === desktopLayoutBlocks.length - 1;\r\n            if (block.type === 'BANNER') {\r\n                const isLastPost = isLastBlock && block.posts.length === 1;\r\n                const isLCP = blockIndex === 0;\r\n                return <BannerPostCard ref={isLastPost ? lastPostElementRef : null} key={block.id} article={block.posts[0]} onCategoryClick={onCategoryClick} categoriesMap={categoriesMap} eager={isLCP} />;\r\n            }\r\n            if (block.type.startsWith('MULTI_COLUMN')) {\r\n                const columnCount = parseInt(block.type.split('_')[2]) || 2;\r\n                const gridClass = `grid grid-cols-1 md:grid-cols-${columnCount} gap-px`;\r\n                return (<div key={block.id} className={gridClass}>{block.posts.map((article, postIndex) => { const isLastPost = isLastBlock && postIndex === block.posts.length - 1; return <GridPostCard ref={isLastPost ? lastPostElementRef : null} key={article.id} article={article} onCategoryClick={onCategoryClick} categoriesMap={categoriesMap} />; })}</div>);\r\n            }\r\n            if (block.type === 'DEFAULT') {\r\n                return (<div key={block.id} className=\"sm:columns-2 md:columns-3 lg:columns-4 gap-px\">{block.posts.map((article, postIndex) => { const isLastPost = isLastBlock && postIndex === block.posts.length - 1; return <PostCard ref={isLastPost ? lastPostElementRef : null} key={article.id} article={article} onCategoryClick={onCategoryClick} categoriesMap={categoriesMap} />; })}</div>);\r\n            }\r\n            return null;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <main className=\"lg:col-span-8 order-2 min-h-screen py-6 bg-white\">\r\n            {renderDesktopLayout()}\r\n            {loading && page > 0 && <div className=\"text-center p-10 col-span-full\">Loading more posts...</div>}\r\n            {!hasMore && postCount > 0 && <div className=\"text-center p-10 col-span-full text-gray-500\">You've reached the end.</div>}\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default BlogGridDesktop;\r\n","import React, { useState } from 'react';\r\n\r\nconst BlogSidebar = ({ categories, selectedCategory, setSelectedCategory, loadingCategories }) => {\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n\r\n    const allCategories = ['All', ...categories.map(cat => cat.name)];\r\n\r\n    return (\r\n        <aside className=\"lg:col-span-2 xl:col-span-2 order-1 lg:order-3 bg-white p-6 shadow-md mx-auto max-w-sm lg:max-w-none\">\r\n            <h1 className=\"text-3xl font-bold mb-2 text-gray-900\">Finance <span className=\"text-sky-600\">World</span></h1>\r\n            <p className=\"text-sm text-gray-500 mb-6\">Stay ahead with timely market developments.</p>\r\n            <div className=\"flex flex-col gap-y-6\">\r\n                <div>\r\n                    <h3 className=\"block text-sm font-medium text-gray-700 mb-2\">Categories</h3>\r\n                    {loadingCategories ? (\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"h-10 bg-gray-200 animate-pulse\"></div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"relative\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"w-full px-4 py-2 text-left bg-white border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-colors duration-200 hover:bg-gray-50 text-sm font-medium text-gray-700 flex justify-between items-center\"\r\n                                onClick={() => setIsDropdownOpen(!isDropdownOpen)}\r\n                            >\r\n                                {selectedCategory}\r\n                                <svg className={`h-5 w-5 transition-transform duration-200 ${isDropdownOpen ? 'rotate-180' : ''}`} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\r\n                                    <path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                                </svg>\r\n                            </button>\r\n                            {isDropdownOpen && (\r\n                                <div className=\"absolute z-10 mt-2 w-full origin-top-right bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none transition-all duration-100 ease-in-out\">\r\n                                    <div className=\"py-1\">\r\n                                        {allCategories.map(cat => (\r\n                                            <div\r\n                                                key={cat}\r\n                                                className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer\"\r\n                                                onClick={() => {\r\n                                                    setSelectedCategory(cat);\r\n                                                    setIsDropdownOpen(false);\r\n                                                }}\r\n                                            >\r\n                                                {cat}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </aside>\r\n    );\r\n};\r\n\r\nexport default BlogSidebar;\r\n","import React, { memo, forwardRef, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ResponsiveAuthImage from '../ResponsiveAuthImage';\r\nimport Slider from \"react-slick\";\r\nimport { categoryStyles, formatDateTime } from '../../utils/blogUtils';\r\n\r\nconst MobilePostCard = memo(forwardRef(({ article, onCategoryClick, layout, categoriesMap }, ref) => {\r\n    const sliderRef = useRef(null);\r\n    const hasThumbnails = article.thumbnails && article.thumbnails.length > 0;\r\n    const isStory = hasThumbnails && article.thumbnails.length > 1;\r\n    const { isNew, displayDate } = formatDateTime(article.updatedAt || article.createdAt);\r\n    const categoryName = article.category?.name || 'Uncategorized';\r\n    const categoryClass = categoryStyles[categoryName] || categoryStyles[\"Default\"];\r\n    const isFeatured = article.featured;\r\n    const isBannerLayout = layout === 'banner';\r\n    const titleClass = \"text-sm font-bold text-gray-900 leading-tight\";\r\n    const sliderSettings = { dots: false, infinite: true, speed: 500, slidesToShow: 1, slidesToScroll: 1, autoplay: true, autoplaySpeed: 3500, arrows: false };\r\n\r\n    const categorySlug = categoriesMap[categoryName] || 'uncategorized';\r\n    const postLink = `/category/${categorySlug}/${article.userFriendlySlug}/${article.urlArticleId}`;\r\n\r\n    return (<div ref={ref} className={`bg-white shadow-sm flex flex-col relative ${isBannerLayout ? 'col-span-2' : 'col-span-1'}`}>{isFeatured && (<div className=\"absolute top-2 left-2 z-10\"><span className=\"bg-gradient-to-r from-yellow-400 to-pink-500 text-white text-xs font-bold px-2 py-1 shadow-md uppercase tracking-wider\">Featured</span></div>)}{hasThumbnails && (isStory ? (<Slider ref={sliderRef} {...sliderSettings}>{article.thumbnails.map(thumb => (<div key={thumb.id}><Link to={postLink}><ResponsiveAuthImage baseName={thumb.imageUrl} alt={thumb.altText || article.title} className=\"w-full object-cover bg-gray-100 aspect-video\" /></Link></div>))}</Slider>) : (<Link to={postLink}><ResponsiveAuthImage baseName={article.thumbnails[0].imageUrl} alt={article.thumbnails[0].altText || article.title} className={`w-full object-cover bg-gray-100 ${isBannerLayout ? 'aspect-video' : 'aspect-square'}`} /></Link>))}<div className=\"p-3 flex flex-col flex-grow\"><div className=\"flex items-center justify-between text-xs mb-2\"><div className=\"flex items-center flex-wrap\"><button onClick={() => onCategoryClick(categoryName)} className={`font-bold uppercase tracking-wider ${categoryClass} hover:underline`}>{categoryName}</button><span className=\"text-gray-400 mx-2\">|</span><span className=\"text-gray-500 font-medium\">By Treishvaam Finance</span></div>{isNew && <span className=\"font-semibold text-red-500 flex-shrink-0 ml-2\">NEW</span>}</div><h3 className={titleClass}><Link to={postLink} className=\"hover:underline\">{article.title}</Link></h3><div className=\"mt-auto pt-2 text-xs text-gray-500\"><span>{displayDate}</span></div></div></div>);\r\n}));\r\n\r\nexport default MobilePostCard;\r\n","import React, { useState } from 'react';\r\nimport { FiFilter, FiX } from 'react-icons/fi';\r\nimport SearchAutocomplete from '../SearchAutocomplete';\r\nimport BlogSidebar from './BlogSidebar'; // Note the new path\r\nimport MobilePostCard from './MobilePostCard';\r\n\r\nconst BlogSlideMobile = ({\r\n    mobileLayout,\r\n    lastPostElementRef,\r\n    onCategoryClick,\r\n    categoriesMap,\r\n    categories,\r\n    selectedCategory,\r\n    setSelectedCategory,\r\n    loadingCategories,\r\n    loading,\r\n    page,\r\n    hasMore\r\n}) => {\r\n    const [showMobileFilters, setShowMobileFilters] = useState(false);\r\n\r\n    return (\r\n        <div className=\"outline-none\">\r\n            {/* Mobile Filters and Search */}\r\n            <div className=\"px-4 py-4\">\r\n                <div className=\"border-b border-gray-200 mb-4\">\r\n                    <button onClick={() => setShowMobileFilters(!showMobileFilters)} className=\"w-full flex justify-between items-center py-3 text-lg font-semibold text-gray-800\">\r\n                        {showMobileFilters ? 'Hide Filters' : 'Filters & Categories'}\r\n                        {showMobileFilters ? <FiX /> : <FiFilter />}\r\n                    </button>\r\n                    {showMobileFilters && (\r\n                        <div className=\"py-4\">\r\n                            <BlogSidebar\r\n                                categories={categories}\r\n                                selectedCategory={selectedCategory}\r\n                                setSelectedCategory={setSelectedCategory}\r\n                                loadingCategories={loadingCategories}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <SearchAutocomplete />\r\n            </div>\r\n\r\n            {/* Mobile Post Grid */}\r\n            {mobileLayout.length === 0 && !loading && page === 0 ? (\r\n                <div className=\"text-center p-10\"><p>No posts found.</p></div>\r\n            ) : (\r\n                <div className=\"grid grid-cols-2 gap-2 p-2\">\r\n                    {mobileLayout.map((article, index) => {\r\n                        const isLastPost = index === mobileLayout.length - 1;\r\n                        return <MobilePostCard\r\n                            ref={isLastPost ? lastPostElementRef : null}\r\n                            key={article.id}\r\n                            article={article}\r\n                            onCategoryClick={onCategoryClick}\r\n                            layout={article.layout}\r\n                            categoriesMap={categoriesMap}\r\n                        />;\r\n                    })}\r\n                </div>\r\n            )}\r\n\r\n            {/* Mobile Loading/End Indicators */}\r\n            {loading && page > 0 && <div className=\"text-center p-4\">Loading...</div>}\r\n            {!hasMore && mobileLayout.length > 0 && <div className=\"text-center p-4 text-gray-500\">You've reached the end.</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BlogSlideMobile;\r\n","import React from 'react';\r\nimport Slider from \"react-slick\";\r\nimport TopMoversCard from '../market/TopMoversCard';\r\nimport { getMostActive, getTopGainers, getTopLosers } from '../../apiConfig';\r\nimport IndexCharts from '../market/IndexCharts';\r\n\r\nconst MarketSlideMobile = () => {\r\n    // Added 'centerPadding' and adjusted settings to ensure cards don't touch screen edges abruptly if they peek.\r\n    const marketSliderSettings = {\r\n        dots: true,\r\n        infinite: false, // Better for strictly 3 categories\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        arrows: false,\r\n        centerMode: false // Ensure full card is shown \r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 outline-none bg-gray-50 min-h-screen\">\r\n            <div className=\"mt-4 pt-4\">\r\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4 px-1\">Market Movers</h3>\r\n                {/* Added mx-auto and max-w to constrain width on larger mobile screens if needed */}\r\n                <div className=\"market-slider-container pb-8\">\r\n                    <style>{`.market-slider-container .slick-dots { bottom: 0px; } .market-slider-container .slick-dots li button:before { font-size: 8px; color: #d1d5db; opacity: 1; } .market-slider-container .slick-dots li.slick-active button:before { color: #0284c7; }`}</style>\r\n                    <Slider {...marketSliderSettings}>\r\n                        <div className=\"px-1\"><TopMoversCard title=\"Most Active\" fetchData={getMostActive} type=\"active\" /></div>\r\n                        <div className=\"px-1\"><TopMoversCard title=\"Top Gainers\" fetchData={getTopGainers} type=\"gainer\" /></div>\r\n                        <div className=\"px-1\"><TopMoversCard title=\"Top Losers\" fetchData={getTopLosers} type=\"loser\" /></div>\r\n                    </Slider>\r\n                </div>\r\n                <div className=\"mt-6\">\r\n                    <IndexCharts />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketSlideMobile;","import React, { useState, useEffect, useMemo, memo, useRef, useCallback, forwardRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { API_URL, getCategories, getPaginatedPosts } from '../apiConfig';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { FiFilter, FiX, FiTrendingUp, FiBriefcase } from 'react-icons/fi';\r\nimport DevelopmentNotice from '../components/DevelopmentNotice';\r\n// Note: We're not importing BlogSidebar here anymore, it's used inside BlogSlideMobile\r\nimport SearchAutocomplete from '../components/SearchAutocomplete';\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\n\r\n// Import new layout components\r\nimport FeaturedColumn from '../components/BlogPage/FeaturedColumn';\r\nimport MarketSidebar from '../components/BlogPage/MarketSidebar';\r\nimport BlogGridDesktop from '../components/BlogPage/BlogGridDesktop';\r\nimport BlogSlideMobile from '../components/BlogPage/BlogSlideMobile';\r\nimport MarketSlideMobile from '../components/BlogPage/MarketSlideMobile';\r\n\r\n// Import helpers\r\nimport { createSnippet } from '../utils/blogUtils';\r\n\r\n// --- CategoryFilter (Unchanged) ---\r\nconst CategoryFilter = ({ categories, selectedCategory, setSelectedCategory, loadingCategories }) => {\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n    const allCategories = ['All', ...categories.map(cat => cat.name)];\r\n    if (loadingCategories) return <div className=\"h-10 w-48 bg-gray-200 animate-pulse rounded-md\"></div>;\r\n    return (\r\n        <div className=\"relative\">\r\n            <button type=\"button\" className=\"w-48 px-4 py-2 text-left bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-colors duration-200 hover:bg-gray-50 text-sm font-medium text-gray-700 flex justify-between items-center\" onClick={() => setIsDropdownOpen(!isDropdownOpen)}>\r\n                {selectedCategory}\r\n                <svg className={`h-5 w-5 transition-transform duration-200 ${isDropdownOpen ? 'rotate-180' : ''}`} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\"><path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" /></svg>\r\n            </button>\r\n            {isDropdownOpen && (<div className=\"absolute z-20 mt-2 w-full origin-top-right bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none transition-all duration-100 ease-in-out\"><div className=\"py-1\">{allCategories.map(cat => (<div key={cat} className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer\" onClick={() => { setSelectedCategory(cat); setIsDropdownOpen(false); }}>{cat}</div>))}</div></div>)}\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- NavbarExtrasPortal (Unchanged) ---\r\nconst NavbarExtrasPortal = ({ children }) => {\r\n    const [mountNode, setMountNode] = useState(null);\r\n    useEffect(() => {\r\n        const node = document.getElementById('navbar-extras-portal-target');\r\n        setMountNode(node);\r\n        return () => { if (node) { node.innerHTML = ''; } };\r\n    }, []);\r\n    return mountNode ? createPortal(children, mountNode) : null;\r\n};\r\n\r\n// --- BlogPage Component ---\r\nconst BlogPage = () => {\r\n    // State including mobile slider state\r\n    const [posts, setPosts] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [hasMore, setHasMore] = useState(true);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [categories, setCategories] = useState([]);\r\n    const [loadingCategories, setLoadingCategories] = useState(true);\r\n    const [selectedCategory, setSelectedCategory] = useState(\"All\");\r\n    // const [showMobileFilters, setShowMobileFilters] = useState(false); // This state is now inside BlogSlideMobile\r\n    const [searchParams] = useSearchParams();\r\n    const searchTerm = searchParams.get('q') || \"\";\r\n    const [categoriesMap, setCategoriesMap] = useState({});\r\n    const [isDataReady, setIsDataReady] = useState(false);\r\n    const [activeMobileViewIndex, setActiveMobileViewIndex] = useState(1); // Default to Blog view\r\n    const mobileSliderRef = useRef(null); // Ref for mobile slider instance\r\n\r\n    // Infinite scroll observer - Adjusted for mobile tabs\r\n    const observer = useRef();\r\n    const lastPostElementRef = useCallback(node => {\r\n        // Original logic for desktop observer\r\n        if (typeof window !== 'undefined' && window.innerWidth >= 640) { // sm breakpoint check\r\n            if (loading) return;\r\n            if (observer.current) observer.current.disconnect();\r\n            observer.current = new IntersectionObserver(entries => {\r\n                if (entries[0].isIntersecting && hasMore) {\r\n                    setPage(prevPage => prevPage + 1);\r\n                }\r\n            });\r\n            if (node) observer.current.observe(node);\r\n        }\r\n        // Mobile observer logic (only attach if blog tab active)\r\n        else {\r\n            if (activeMobileViewIndex !== 1) { if (observer.current) observer.current.disconnect(); return; };\r\n            if (loading) return;\r\n            if (observer.current) observer.current.disconnect();\r\n            observer.current = new IntersectionObserver(entries => {\r\n                if (entries[0].isIntersecting && hasMore) {\r\n                    setPage(prevPage => prevPage + 1);\r\n                }\r\n            });\r\n            if (node) observer.current.observe(node);\r\n        }\r\n    }, [loading, hasMore, activeMobileViewIndex]);\r\n\r\n    // useEffect for resetting posts\r\n    useEffect(() => {\r\n        setPosts([]); setPage(0); setHasMore(true);\r\n    }, [selectedCategory, searchTerm]);\r\n\r\n    // useEffect for fetching posts - Adjusted for mobile tabs\r\n    useEffect(() => {\r\n        if (!isDataReady) return;\r\n        // Fetch if desktop OR if mobile blog tab is active\r\n        if (typeof window !== 'undefined' && (window.innerWidth >= 640 || activeMobileViewIndex === 1)) {\r\n            setLoading(true); setError('');\r\n            getPaginatedPosts(page, 9).then(response => {\r\n                setPosts(prevPosts => {\r\n                    const newPosts = response.data.content;\r\n                    const existingIds = new Set(prevPosts.map(p => p.id));\r\n                    const uniqueNewPosts = newPosts.filter(p => !existingIds.has(p.id));\r\n                    return page === 0 ? newPosts : [...prevPosts, ...uniqueNewPosts];\r\n                });\r\n                setHasMore(!response.data.last); setLoading(false);\r\n            }).catch(err => { setError('Failed to fetch blog posts.'); setLoading(false); });\r\n        } else {\r\n            setLoading(false); // Ensure loading is false if not fetching on mobile non-blog tabs\r\n        }\r\n    }, [page, selectedCategory, searchTerm, isDataReady, activeMobileViewIndex]);\r\n\r\n    // useEffect for fetching categories\r\n    useEffect(() => {\r\n        getCategories().then(response => {\r\n            setCategories(response.data);\r\n            const newCategoriesMap = response.data.reduce((acc, cat) => { acc[cat.name] = cat.slug; return acc; }, {});\r\n            setCategoriesMap(newCategoriesMap);\r\n        }).catch(err => console.error(\"Failed to fetch categories:\", err))\r\n            .finally(() => { setLoadingCategories(false); setIsDataReady(true); });\r\n    }, []);\r\n\r\n    // filteredPosts memo\r\n    const filteredPosts = useMemo(() => {\r\n        let postsToFilter = posts;\r\n        if (selectedCategory !== \"All\") { postsToFilter = postsToFilter.filter(p => p.category?.name === selectedCategory); }\r\n        if (searchTerm) { const term = searchTerm.toLowerCase(); postsToFilter = postsToFilter.filter(p => p.title.toLowerCase().includes(term)); }\r\n        return postsToFilter.sort((a, b) => new Date(b.updatedAt || b.createdAt) - new Date(a.updatedAt || a.createdAt));\r\n    }, [posts, selectedCategory, searchTerm]);\r\n\r\n    // mobileLayout memo from user prompt code\r\n    const mobileLayout = useMemo(() => {\r\n        return filteredPosts.map(post => {\r\n            const isStory = post.thumbnails && post.thumbnails.length > 1;\r\n            const layout = isStory ? 'banner' : 'grid';\r\n            return { ...post, layout };\r\n        });\r\n    }, [filteredPosts]);\r\n\r\n    // desktopLayoutBlocks memo from user prompt code\r\n    const desktopLayoutBlocks = useMemo(() => {\r\n        if (filteredPosts.length === 0) return [];\r\n        const blocks = []; let currentDefaultBlock = []; const multiColumnGroups = {};\r\n        filteredPosts.forEach(post => { if (post.layoutStyle && post.layoutStyle.startsWith('MULTI_COLUMN') && post.layoutGroupId) { if (!multiColumnGroups[post.layoutGroupId]) { multiColumnGroups[post.layoutGroupId] = { type: post.layoutStyle, posts: [] }; } multiColumnGroups[post.layoutGroupId].posts.push(post); } });\r\n        for (const groupId in multiColumnGroups) { multiColumnGroups[groupId].posts.sort((a, b) => new Date(b.updatedAt || b.createdAt) - new Date(a.updatedAt || a.createdAt)); }\r\n        const processedGroupIds = new Set();\r\n        filteredPosts.forEach(post => {\r\n            const style = post.layoutStyle || 'DEFAULT';\r\n            if (style === 'BANNER') {\r\n                if (currentDefaultBlock.length > 0) { blocks.push({ id: `default-${blocks.length}`, type: 'DEFAULT', posts: currentDefaultBlock }); currentDefaultBlock = []; }\r\n                blocks.push({ id: `banner-${post.id}`, type: 'BANNER', posts: [post] });\r\n            } else if (style.startsWith('MULTI_COLUMN') && post.layoutGroupId) {\r\n                if (processedGroupIds.has(post.layoutGroupId)) return;\r\n                if (currentDefaultBlock.length > 0) { blocks.push({ id: `default-${blocks.length}`, type: 'DEFAULT', posts: currentDefaultBlock }); currentDefaultBlock = []; }\r\n                blocks.push({ id: post.layoutGroupId, ...multiColumnGroups[post.layoutGroupId] });\r\n                processedGroupIds.add(post.layoutGroupId);\r\n            } else {\r\n                currentDefaultBlock.push(post);\r\n            }\r\n        });\r\n        if (currentDefaultBlock.length > 0) { blocks.push({ id: `default-${blocks.length}`, type: 'DEFAULT', posts: currentDefaultBlock }); }\r\n        return blocks;\r\n    }, [filteredPosts]);\r\n\r\n\r\n    // Helmet variables\r\n    const latestPost = useMemo(() => { if (!posts || posts.length === 0) return null; return posts.reduce((latest, current) => new Date(current.updatedAt || current.createdAt) > new Date(latest.updatedAt || latest.createdAt) ? current : latest); }, [posts]);\r\n    const pageTitle = latestPost ? `Treishvaam Finance  ${latestPost.title}` : `Treishvaam Finance | Financial News & Analysis`;\r\n    const pageDescription = latestPost ? createSnippet(latestPost.content) : \"Your trusted source for financial news and analysis.\";\r\n    const imageUrl = latestPost?.thumbnails?.[0]?.imageUrl ? `${API_URL}/api/uploads/${latestPost.thumbnails[0].imageUrl}.webp` : \"/logo512.png\";\r\n\r\n    // Slider settings\r\n    const mobileMainSliderSettings = { // Settings for the new mobile tab slider\r\n        dots: false, infinite: false, speed: 500, slidesToShow: 1, slidesToScroll: 1,\r\n        arrows: false, swipeToSlide: true, initialSlide: 1, // Start on Blog view (index 1)\r\n        afterChange: (index) => setActiveMobileViewIndex(index) // Update state on swipe\r\n    };\r\n\r\n    // navigateMobile function (for bottom bar)\r\n    const navigateMobile = (index) => {\r\n        // Update state immediately for responsive tab highlight, then navigate slider\r\n        setActiveMobileViewIndex(index);\r\n        if (mobileSliderRef && mobileSliderRef.current && typeof mobileSliderRef.current.slickGoTo === 'function') {\r\n            mobileSliderRef.current.slickGoTo(index);\r\n        }\r\n    };\r\n\r\n    // Original Loading/Error states from user prompt\r\n    // Use isDataReady check for initial loading\r\n    if (page === 0 && loading && !isDataReady) return <div className=\"text-center p-10 min-h-screen flex items-center justify-center\">Loading initial data...</div>;\r\n    if (page === 0 && loading && isDataReady) return <div className=\"text-center p-10 min-h-screen flex items-center justify-center\">Loading posts...</div>; // Loading posts state\r\n    if (error) return (<div className=\"flex flex-col items-center justify-center min-h-[60vh] text-center p-6 bg-gray-50\"><div className=\"text-red-400 mb-4\"><svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={1}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" /></svg></div><h2 className=\"text-2xl font-semibold text-gray-800 mb-2\">Site is Currently Under Maintenance</h2><p className=\"max-w-md text-gray-600\">We are performing essential updates to improve your experience. We apologize for any inconvenience and appreciate your patience. Please check back again shortly.</p></div>);\r\n\r\n    return (\r\n        <>\r\n            <DevelopmentNotice />\r\n            <Helmet>\r\n                <title>{pageTitle}</title>\r\n                <meta name=\"description\" content={pageDescription} />\r\n                <link rel=\"canonical\" href=\"https://treishfin.treishvaamgroup.com/\" />\r\n                <meta property=\"og:title\" content={pageTitle} />\r\n                <meta property=\"og:description\" content={pageDescription} />\r\n                <meta property=\"og:image\" content={imageUrl} />\r\n            </Helmet>\r\n\r\n            <NavbarExtrasPortal>\r\n                {/* Desktop Navbar Extras */}\r\n                <div className=\"hidden sm:flex items-center gap-4\">\r\n                    <div className=\"w-64\"><SearchAutocomplete /></div>\r\n                    <CategoryFilter categories={categories} selectedCategory={selectedCategory} setSelectedCategory={setSelectedCategory} loadingCategories={loadingCategories} />\r\n                    <h1 className=\"text-xl font-bold text-gray-900 hidden lg:block\">Finance <span className=\"text-sky-600\">World</span></h1>\r\n                </div>\r\n            </NavbarExtrasPortal>\r\n\r\n            <section className=\"bg-gray-50 pb-16 sm:pb-0\">\r\n                {/* --- Desktop Layout --- */}\r\n                <div className=\"hidden sm:grid grid-cols-1 lg:grid-cols-12 gap-2\">\r\n\r\n                    {/* Left Column (News & Dive) */}\r\n                    <aside className=\"lg:col-span-2 order-1 py-6 px-2\">\r\n                        <FeaturedColumn />\r\n                    </aside>\r\n\r\n                    {/* Center Column (Blog Grid) */}\r\n                    <BlogGridDesktop\r\n                        desktopLayoutBlocks={desktopLayoutBlocks}\r\n                        lastPostElementRef={lastPostElementRef}\r\n                        onCategoryClick={setSelectedCategory}\r\n                        categoriesMap={categoriesMap}\r\n                        loading={loading}\r\n                        page={page}\r\n                        hasMore={hasMore}\r\n                        postCount={filteredPosts.length}\r\n                    />\r\n\r\n                    {/* Right Column (Market Info) */}\r\n                    <aside className=\"lg:col-span-2 order-3 py-6 px-2\">\r\n                        <MarketSidebar />\r\n                    </aside>\r\n                </div>\r\n\r\n                {/* --- Mobile Layout (Slider Implementation) --- */}\r\n                <div className=\"sm:hidden\">\r\n                    <Slider ref={mobileSliderRef} {...mobileMainSliderSettings}>\r\n\r\n                        {/* Slide 0: News */}\r\n                        <div className=\"p-4 outline-none space-y-4\">\r\n                            <FeaturedColumn />\r\n                        </div>\r\n\r\n                        {/* Slide 1: Blog */}\r\n                        <BlogSlideMobile\r\n                            mobileLayout={mobileLayout}\r\n                            lastPostElementRef={lastPostElementRef}\r\n                            onCategoryClick={setSelectedCategory}\r\n                            categoriesMap={categoriesMap}\r\n                            categories={categories}\r\n                            selectedCategory={selectedCategory}\r\n                            setSelectedCategory={setSelectedCategory}\r\n                            loadingCategories={loadingCategories}\r\n                            loading={loading}\r\n                            page={page}\r\n                            hasMore={hasMore}\r\n                        />\r\n\r\n                        {/* Slide 2: Market */}\r\n                        <MarketSlideMobile />\r\n\r\n                    </Slider>\r\n                </div>\r\n            </section>\r\n\r\n            {/* --- Mobile Bottom Navigation (fixed bottom tab bar) --- */}\r\n            <div className=\"sm:hidden fixed bottom-0 left-0 right-0 h-16 bg-white border-t border-gray-200 shadow-md z-50 flex justify-around items-center\">\r\n                <button onClick={() => navigateMobile(0)} className={`flex flex-col items-center justify-center w-1/3 h-full transition-colors duration-200 ${activeMobileViewIndex === 0 ? 'text-sky-600' : 'text-gray-500 hover:text-sky-500'}`}><FiBriefcase className=\"w-6 h-6 mb-1\" /><span className=\"text-xs font-medium\">News</span></button>\r\n                <button onClick={() => navigateMobile(1)} className={`flex flex-col items-center justify-center w-1/3 h-full transition-colors duration-200 relative ${activeMobileViewIndex === 1 ? 'text-sky-600' : 'text-gray-500 hover:text-sky-500'}`}>{activeMobileViewIndex === 1 && <span className=\"absolute top-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-sky-600 rounded-b-full\"></span>}<img src=\"/logo.webp\" alt=\"TreishFin Home\" className=\"w-10 h-10 object-contain mb-1\" /></button>\r\n                <button onClick={() => navigateMobile(2)} className={`flex flex-col items-center justify-center w-1/3 h-full transition-colors duration-200 ${activeMobileViewIndex === 2 ? 'text-sky-600' : 'text-gray-500 hover:text-sky-500'}`}><FiTrendingUp className=\"w-6 h-6 mb-1\" /><span className=\"text-xs font-medium\">Market</span></button>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\nexport default BlogPage;","import React from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Tooltip,\r\n    Filler,\r\n    TimeScale\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Tooltip,\r\n    Filler,\r\n    TimeScale\r\n);\r\n\r\nconst MarketChart = ({ chartData, previousClose, isPositive }) => {\r\n    if (!chartData || !chartData.prices || chartData.prices.length === 0) {\r\n        return <div className=\"h-full flex items-center justify-center text-gray-300 text-[10px]\">No data</div>;\r\n    }\r\n\r\n    const chartColor = isPositive ? '#16a34a' : '#dc2626';\r\n\r\n    const data = {\r\n        labels: chartData.labels,\r\n        datasets: [\r\n            {\r\n                data: chartData.prices,\r\n                borderColor: chartColor,\r\n                borderWidth: 1.5,\r\n                pointRadius: 0,\r\n                pointHoverRadius: 3,\r\n                pointBackgroundColor: chartColor,\r\n                fill: true,\r\n                backgroundColor: (context) => {\r\n                    const ctx = context.chart.ctx;\r\n                    const gradient = ctx.createLinearGradient(0, 0, 0, context.chart.height);\r\n                    gradient.addColorStop(0, isPositive ? 'rgba(22, 163, 74, 0.1)' : 'rgba(220, 38, 38, 0.1)');\r\n                    gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\r\n                    return gradient;\r\n                },\r\n                tension: 0.05,\r\n            },\r\n            {\r\n                data: new Array(chartData.labels.length).fill(previousClose),\r\n                borderColor: '#9ca3af',\r\n                borderWidth: 1,\r\n                borderDash: [2, 2],\r\n                pointRadius: 0,\r\n                fill: false,\r\n                tooltip: { enabled: false }\r\n            }\r\n        ],\r\n    };\r\n\r\n    const options = {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        animation: { duration: 0 }, // Disable animation for faster sidebar performance\r\n        plugins: {\r\n            legend: { display: false },\r\n            tooltip: {\r\n                mode: 'index',\r\n                intersect: false,\r\n                backgroundColor: 'rgba(17, 24, 39, 0.9)',\r\n                titleColor: '#fff',\r\n                bodyColor: '#fff',\r\n                borderColor: '#374151',\r\n                borderWidth: 1,\r\n                padding: 4,\r\n                titleFont: { size: 10 },\r\n                bodyFont: { size: 10 },\r\n                displayColors: false,\r\n                callbacks: {\r\n                    title: (items) => items[0].label,\r\n                    label: (item) => item.datasetIndex === 0 ? `$${item.parsed.y.toFixed(2)}` : ''\r\n                }\r\n            }\r\n        },\r\n        scales: {\r\n            x: { display: false },\r\n            y: {\r\n                position: 'right',\r\n                beginAtZero: false,\r\n                grace: '5%', // Automatic padding top/bottom for standard stock look\r\n                grid: { display: false, drawBorder: false },\r\n                ticks: {\r\n                    color: '#9ca3af',\r\n                    font: { size: 9 },\r\n                    maxTicksLimit: 4,\r\n                    callback: (val) => Math.round(val)\r\n                }\r\n            }\r\n        },\r\n        interaction: { mode: 'nearest', axis: 'x', intersect: false },\r\n        layout: { padding: 0 }\r\n    };\r\n\r\n    return <Line data={data} options={options} />;\r\n};\r\n\r\nexport default MarketChart;"],"names":["_ref","baseName","alt","className","sizes","onLoad","_jsx","concat","match","console","warn","cleanedBaseName","src","API_URL","placeholderSrc","srcSet","join","LazyLoadImage","effect","afterLoad","DevelopmentNotice","formatNewsTimestamp","dateString","date","Date","isNaN","getTime","toLocaleString","month","day","hour","minute","hour12","error","NewsListItem","title","link","source","publishedAt","_jsxs","children","href","target","rel","replace","NewsHighlights","highlights","setHighlights","useState","loading","setLoading","setError","useEffect","async","response","getNewsHighlights","Array","isArray","data","err","fetchNews","length","map","item","id","DeeperDive","articles","setArticles","getArchivedNews","FeaturedColumn","globalIndices","symbol","name","indianIndices","timeframes","label","points","formatNumber","num","undefined","Math","abs","toFixed","minimumFractionDigits","maximumFractionDigits","IndexCharts","activeMarket","setActiveMarket","activeIndex","setActiveIndex","activeTimeframe","setActiveTimeframe","widgetData","setWidgetData","tabsRef","useRef","indicesToShow","activeIndexData","getWidgetData","e","fetchData","chartData","getChartData","historicalData","labels","prices","history","tf","find","t","filteredHistory","currentYear","getFullYear","filter","priceDate","pointsToTake","min","slice","toLocaleDateString","closePrice","quote","quoteData","isPos","changeAmount","onClick","ref","onMouseDown","ele","current","style","cursor","userSelect","pos","scrollLeft","clientX","onMouseMove","dx","onMouseUp","removeProperty","document","removeEventListener","addEventListener","scrollbarWidth","msOverflowStyle","idx","i","Link","to","encodeURIComponent","currentPrice","currency","TrendingUp","size","TrendingDown","changePercent","MarketChart","previousClose","isPositive","preventDefault","stopPropagation","openPrice","dayHigh","dayLow","type","setData","selectedStock","setSelectedStock","loadData","getRowColor","stock","change","parseFloat","ticker","price","changePercentage","MarketMovers","TopMoversCard","getMostActive","getTopGainers","getTopLosers","MarketSidebar","categoryStyles","createSnippet","html","arguments","plainText","DOMPurify","sanitize","ALLOWED_TAGS","trimmed","substring","lastIndexOf","formatDateTime","isNew","displayDate","dateObj","Intl","DateTimeFormat","year","format","memo","forwardRef","_article$category","article","onCategoryClick","categoriesMap","eager","sliderRef","hasThumbnails","thumbnails","isStory","updatedAt","createdAt","categoryName","category","bannerSliderSettings","dots","fade","infinite","speed","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","arrows","pauseOnHover","categorySlug","postLink","userFriendlySlug","urlArticleId","ThumbnailDisplay","firstThumb","aspectStyle","width","height","aspectRatio","minHeight","Slider","_objectSpread","thumb","index","ResponsiveAuthImage","imageUrl","altText","blurHash","customSnippet","content","_article$thumbnails","categoryClass","isFeatured","featured","totalSlides","landscapeSlidesToShow","landscapeSettings","CardContent","singleThumbnail","desktopLayoutBlocks","lastPostElementRef","page","hasMore","postCount","block","blockIndex","isLastBlock","isLastPost","posts","isLCP","BannerPostCard","startsWith","columnCount","parseInt","split","gridClass","postIndex","GridPostCard","PostCard","categories","selectedCategory","setSelectedCategory","loadingCategories","isDropdownOpen","setIsDropdownOpen","allCategories","cat","xmlns","viewBox","fill","fillRule","d","clipRule","layout","isBannerLayout","mobileLayout","showMobileFilters","setShowMobileFilters","FiX","FiFilter","BlogSidebar","SearchAutocomplete","MobilePostCard","MarketSlideMobile","centerMode","CategoryFilter","NavbarExtrasPortal","_ref2","mountNode","setMountNode","node","getElementById","innerHTML","createPortal","BlogPage","_latestPost$thumbnail","_latestPost$thumbnail2","setPosts","setPage","setHasMore","setCategories","setLoadingCategories","searchParams","useSearchParams","searchTerm","get","setCategoriesMap","isDataReady","setIsDataReady","activeMobileViewIndex","setActiveMobileViewIndex","mobileSliderRef","observer","useCallback","window","innerWidth","disconnect","IntersectionObserver","entries","isIntersecting","prevPage","observe","getPaginatedPosts","then","prevPosts","newPosts","existingIds","Set","p","uniqueNewPosts","has","last","catch","getCategories","newCategoriesMap","reduce","acc","slug","finally","filteredPosts","useMemo","postsToFilter","_p$category","term","toLowerCase","includes","sort","a","b","post","blocks","currentDefaultBlock","multiColumnGroups","forEach","layoutStyle","layoutGroupId","push","groupId","processedGroupIds","add","latestPost","latest","pageTitle","pageDescription","mobileMainSliderSettings","swipeToSlide","initialSlide","afterChange","navigateMobile","slickGoTo","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_Fragment","Helmet","property","BlogGridDesktop","BlogSlideMobile","FiBriefcase","FiTrendingUp","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Filler","TimeScale","chartColor","datasets","borderColor","borderWidth","pointRadius","pointHoverRadius","pointBackgroundColor","backgroundColor","context","gradient","chart","ctx","createLinearGradient","addColorStop","tension","borderDash","tooltip","enabled","options","responsive","maintainAspectRatio","animation","duration","plugins","legend","display","mode","intersect","titleColor","bodyColor","padding","titleFont","bodyFont","displayColors","callbacks","items","datasetIndex","parsed","y","scales","x","position","beginAtZero","grace","grid","drawBorder","ticks","color","font","maxTicksLimit","callback","val","round","interaction","axis","Line"],"sourceRoot":""}