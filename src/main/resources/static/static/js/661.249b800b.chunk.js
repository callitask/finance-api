"use strict";(self.webpackChunktreishvaam_finance_frontend=self.webpackChunktreishvaam_finance_frontend||[]).push([[661],{1748:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(5043),s=a(9634),i=(a(608),a(6355)),c=a(922),l=a(579);const r=e=>{let{hash:t,width:a,height:s,punch:i=1}=e;const r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(r.current&&t&&a&&s)try{const e=(0,c.D4)(t,a,s,i),n=r.current.getContext("2d");if(n){const t=n.createImageData(a,s);t.data.set(e),n.putImageData(t,0,0)}}catch(e){console.error("Failed to decode blurhash",e)}},[t,a,s,i]),t&&a&&s?(0,l.jsx)("canvas",{ref:r,width:a,height:s,className:"absolute inset-0 w-full h-full"}):null},o=e=>{let{baseName:t,alt:a,className:c,sizes:o,onLoad:d,eager:h=!1,width:m,height:u,blurHash:g}=e;const[p,x]=(0,n.useState)(!1),f=()=>{x(!0),d&&d()};if(!t||"string"!==typeof t)return(0,l.jsx)("div",{className:"bg-gray-200 ".concat(c),style:{aspectRatio:m&&u?"".concat(m,"/").concat(u):"1"}});const j=t.match(/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/);if(!j){console.warn('ResponsiveAuthImage: Could not extract a valid image ID from baseName: "'.concat(t,'"'));const e=t.replace(/\.webp$/,""),n="".concat(i.H$,"/api/uploads/").concat(e,".webp");return h?(0,l.jsx)("img",{src:n,className:c,onLoad:f,fetchPriority:"high",width:m,height:u,alt:a}):(0,l.jsxs)("div",{className:"relative w-full h-full overflow-hidden",children:[!p&&g&&(0,l.jsx)(r,{hash:g,width:32,height:32}),(0,l.jsx)(s.LazyLoadImage,{alt:a,src:n,className:"transition-opacity duration-300 ".concat(p?"opacity-100":"opacity-0"," ").concat(c),width:m,height:u,effect:"opacity",afterLoad:f})]})}const w=j[0],v="".concat(i.H$,"/api/uploads/").concat(w,"-small.webp"),y=["".concat(i.H$,"/api/uploads/").concat(w,"-small.webp 300w"),"".concat(i.H$,"/api/uploads/").concat(w,"-medium.webp 600w"),"".concat(i.H$,"/api/uploads/").concat(w,".webp 1200w")].join(", ");return h?(0,l.jsx)("img",{src:v,srcSet:y,sizes:o,className:c,onLoad:f,fetchPriority:"high",width:m,height:u,alt:a}):(0,l.jsxs)("div",{className:"relative w-full h-full overflow-hidden",children:[!p&&g&&(0,l.jsx)(r,{hash:g,width:32,height:32}),(0,l.jsx)(s.LazyLoadImage,{alt:a,src:v,srcSet:y,sizes:o,className:"transition-opacity duration-300 ".concat(p?"opacity-100":"opacity-0"," ").concat(c),width:m,height:u,effect:"opacity",afterLoad:f})]})}},4531:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(9379),s=a(5043),i=a(9001),c=a(6355),l=a(7977),r=a(9367),o=a(1748),d=a(519),h=a(184),m=a(579);const u=e=>{let{url:t,title:a,summary:n}=e;return(0,m.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-8",children:[(0,m.jsx)("span",{className:"font-bold text-gray-700 text-lg mr-2",children:"Share this article:"}),(0,m.jsxs)("div",{className:"flex items-center gap-3",children:[(0,m.jsx)(d.r6,{url:t,title:a,children:(0,m.jsx)(d.Fi,{size:40,round:!0})}),(0,m.jsx)(d.uI,{url:t,quote:n,children:(0,m.jsx)(d.ik,{size:40,round:!0})}),(0,m.jsx)(d.wk,{url:t,title:a,summary:n,children:(0,m.jsx)(d._z,{size:40,round:!0})}),(0,m.jsx)(d.Kz,{url:t,title:a,separator:":: ",children:(0,m.jsx)(d.Y4,{size:40,round:!0})}),(0,m.jsx)(d.VI,{url:t,title:a,children:(0,m.jsx)(d.hZ,{size:40,round:!0})}),(0,m.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t),alert("Link copied to clipboard!")},className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-full hover:bg-gray-300 transition","aria-label":"Copy link",title:"Copy Link",children:(0,m.jsx)(h.paH,{className:"text-gray-600"})})]})]})};var g=a(9889),p=a.n(g);const x=e=>{let{headings:t,activeId:a,progress:n}=e;const[i,c]=(0,s.useState)(!0);if(!t||0===t.length)return null;return(0,m.jsxs)("div",{className:"toc-container",children:[(0,m.jsx)("div",{className:"toc-progress-track",children:(0,m.jsx)("div",{className:"toc-progress-fill",style:{height:"".concat(n,"%")}})}),(0,m.jsxs)("div",{className:"pl-5",children:[(0,m.jsxs)("button",{onClick:()=>c(!i),className:"toc-header",children:[(0,m.jsx)("span",{children:"On this page"}),(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"toc-chevron ".concat(i?"":"-rotate-90"),children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),i&&(0,m.jsx)("nav",{className:"toc-body",children:(0,m.jsx)("ul",{children:t.map(e=>(0,m.jsx)("li",{className:"toc-list-item",children:(0,m.jsx)("a",{href:"#".concat(e.id),onClick:t=>((e,t)=>{e.preventDefault();const a=document.getElementById(t);if(a){const e=-90,t=a.getBoundingClientRect().top+window.pageYOffset+e;window.scrollTo({top:t,behavior:"smooth"})}})(t,e.id),className:"toc-link ".concat(a===e.id?"active":""),style:{paddingLeft:"".concat(.75*(e.level-2)+.5,"rem")},children:e.text})},e.id))})})]})]})},f=()=>{var e,t;const{urlArticleId:a}=(0,i.g)(),[d,h]=(0,s.useState)(null),[g,f]=(0,s.useState)(!0),[j,w]=(0,s.useState)(null),[v,y]=(0,s.useState)([]),[N,b]=(0,s.useState)(""),[I,k]=(0,s.useState)(0),L=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async()=>{try{const e=await(0,c.ct)(a);h(e.data)}catch(e){w("Failed to fetch post.")}finally{f(!1)}})(),window.scrollTo(0,0)},[a]),(0,s.useEffect)(()=>{if(null===d||void 0===d||!d.content)return;const e=document.createElement("div");e.innerHTML=l.A.sanitize(d.content,{USE_PROFILES:{html:!0},ADD_ATTR:["id"]});const t=e.querySelectorAll("h2, h3, h4"),a=Array.from(t).map((e,t)=>{const a="heading-".concat(t,"-").concat(e.tagName);return e.id=a,{id:a,text:e.innerText,level:parseInt(e.tagName.substring(1),10)}});y(a),h(t=>(0,n.A)((0,n.A)({},t),{},{contentWithIds:e.innerHTML}))},[null===d||void 0===d?void 0:d.content]);const A=(0,s.useMemo)(()=>p()(()=>{const e=L.current;if(!e)return;const t=e.getBoundingClientRect().top+window.scrollY,a=e.scrollHeight-window.innerHeight,n=window.scrollY-t;if(n>0&&a>0){const e=n/a*100;k(Math.min(100,Math.max(0,e)))}else k(0);let s="";for(let i=v.length-1;i>=0;i--){const e=document.getElementById(v[i].id);if(e&&e.getBoundingClientRect().top<200){s=v[i].id;break}}b(s)},150),[v]);if((0,s.useEffect)(()=>(window.addEventListener("scroll",A),()=>{A.cancel(),window.removeEventListener("scroll",A)}),[A]),g)return(0,m.jsx)("div",{className:"text-center py-20",children:"Loading post..."});if(j)return(0,m.jsx)("div",{className:"text-center py-20 text-red-500",children:j});if(!d)return(0,m.jsx)("div",{className:"text-center py-20",children:"Post not found."});const S="https://treishfin.treishvaamgroup.com/category/".concat(null===(e=d.category)||void 0===e?void 0:e.slug,"/").concat(d.userFriendlySlug,"/").concat(d.urlArticleId),z="Treishvaam Finance \xb7 ".concat(d.title),T=d.metaDescription||d.customSnippet||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:155;if(!e)return"";const a=l.A.sanitize(e,{ALLOWED_TAGS:[]});if(a.length<=t)return a;const n=a.substring(0,t);return n.substring(0,Math.min(n.length,n.lastIndexOf(" ")))+"..."}(d.content,155),C=d.coverImageUrl?"".concat(c.H$,"/api/uploads/").concat(d.coverImageUrl,".webp"):"".concat(window.location.origin,"/logo512.png"),E=window.location.origin,H={"@context":"https://schema.org","@type":"Article",headline:d.title,image:C,author:{"@type":"Organization",name:"Treishvaam Finance",url:E},publisher:{"@type":"Organization",name:"Treishvaam Finance",logo:{"@type":"ImageObject",url:"".concat(E,"/logo512.png")}},datePublished:d.createdAt,dateModified:d.updatedAt,mainEntityOfPage:{"@type":"WebPage","@id":S},description:T,keywords:d.keywords||(null===(t=d.tags)||void 0===t?void 0:t.join(", "))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(r.mg,{children:[(0,m.jsx)("title",{children:z}),(0,m.jsx)("meta",{name:"description",content:T}),d.keywords&&(0,m.jsx)("meta",{name:"keywords",content:d.keywords}),(0,m.jsx)("link",{rel:"canonical",href:S}),(0,m.jsx)("meta",{property:"og:type",content:"article"}),(0,m.jsx)("meta",{property:"og:url",content:S}),(0,m.jsx)("meta",{property:"og:title",content:d.title}),(0,m.jsx)("meta",{property:"og:description",content:T}),(0,m.jsx)("meta",{property:"og:image",content:C}),(0,m.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,m.jsx)("meta",{name:"twitter:url",content:S}),(0,m.jsx)("meta",{name:"twitter:title",content:d.title}),(0,m.jsx)("meta",{name:"twitter:description",content:T}),(0,m.jsx)("meta",{name:"twitter:image",content:C}),(0,m.jsx)("script",{type:"application/ld+json",children:JSON.stringify(H)})]}),(0,m.jsxs)("div",{className:"max-w-screen-xl mx-auto lg:grid lg:grid-cols-12 lg:gap-x-12 px-4 sm:px-6 lg:px-8",children:[(0,m.jsxs)("div",{className:"lg:col-span-8 xl:col-span-9 py-8",children:[(0,m.jsxs)("header",{className:"mb-8",children:[(0,m.jsx)("h1",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 leading-tight",children:d.title}),(0,m.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-4 mb-6",children:[(0,m.jsxs)("span",{children:["By ",d.author||"Treishvaam Team"]}),(0,m.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,m.jsx)("time",{dateTime:d.createdAt,children:(D=d.createdAt,D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A")})]}),d.coverImageUrl&&(0,m.jsx)("div",{className:"mb-8 rounded-lg overflow-hidden shadow-lg",children:(0,m.jsx)(o.A,{baseName:d.coverImageUrl,alt:d.coverImageAltText||d.title,className:"w-full h-auto object-cover",eager:!0,sizes:"(max-width: 1280px) 90vw, 800px"})})]}),(0,m.jsxs)("main",{ref:L,children:[(0,m.jsx)("article",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:(_=d.contentWithIds||d.content,{__html:_})}),(0,m.jsx)("div",{className:"mt-16 pt-8 border-t",children:(0,m.jsx)(u,{url:S,title:d.title})})]})]}),(0,m.jsx)("aside",{className:"lg:col-span-4 xl:col-span-3 py-8 hidden lg:block",children:(0,m.jsx)("div",{className:"sticky top-24",children:(0,m.jsx)(x,{headings:v,activeId:N,progress:I})})})]})]});var _,D}}}]);
//# sourceMappingURL=661.249b800b.chunk.js.map