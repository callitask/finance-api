{"version":3,"file":"static/js/210.24f50b70.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/arrow-left.ts","../node_modules/lucide-react/src/icons/share-2.ts","pages/MarketDetailPage.js","components/market/MarketChart.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '18', cy: '5', r: '3', key: 'gq8acd' }],\n  ['circle', { cx: '6', cy: '12', r: '3', key: 'w7nqdw' }],\n  ['circle', { cx: '18', cy: '19', r: '3', key: '1xt0gg' }],\n  ['line', { x1: '8.59', x2: '15.42', y1: '13.51', y2: '17.49', key: '47mynk' }],\n  ['line', { x1: '15.41', x2: '8.59', y1: '6.51', y2: '10.49', key: '1n3mei' }],\n];\n\n/**\n * @component @name Share2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjUiIHI9IjMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjEyIiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTkiIHI9IjMiIC8+CiAgPGxpbmUgeDE9IjguNTkiIHgyPSIxNS40MiIgeTE9IjEzLjUxIiB5Mj0iMTcuNDkiIC8+CiAgPGxpbmUgeDE9IjE1LjQxIiB4Mj0iOC41OSIgeTE9IjYuNTEiIHkyPSIxMC40OSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/share-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Share2 = createLucideIcon('share-2', __iconNode);\n\nexport default Share2;\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { getWidgetData } from '../apiConfig';\r\nimport MarketChart from '../components/market/MarketChart'; // Using the correct path\r\nimport { TrendingUp, TrendingDown, ArrowLeft, Share2 } from 'lucide-react';\r\n\r\nconst timeframes = [\r\n    { label: '1D', points: 1 }, // Note: 1D is hard to show without intraday data, but we'll filter\r\n    { label: '5D', points: 5 },\r\n    { label: '1M', points: 22 },\r\n    { label: '6M', points: 126 },\r\n    { label: 'YTD', points: 'YTD' },\r\n    { label: '1Y', points: 252 },\r\n    { label: '5Y', points: 1260 },\r\n    { label: 'Max', points: 99999 },\r\n];\r\n\r\n/**\r\n * Formats numbers into compact, readable strings (e.g., 2.5T, 100.2M, 1.5K).\r\n * Handles currency formatting and large non-currency numbers.\r\n */\r\nconst formatNumber = (num, style = 'decimal', currency = null) => {\r\n    if (num === null || num === undefined || isNaN(num)) return 'N/A';\r\n\r\n    const numAbs = Math.abs(num);\r\n    let suffix = '';\r\n    let value = num;\r\n\r\n    if (style === 'compact') {\r\n        if (numAbs >= 1e12) {\r\n            suffix = 'T';\r\n            value = num / 1e12;\r\n        } else if (numAbs >= 1e9) {\r\n            suffix = 'B';\r\n            value = num / 1e9;\r\n        } else if (numAbs >= 1e6) {\r\n            suffix = 'M';\r\n            value = num / 1e6;\r\n        } else if (numAbs >= 1e3) {\r\n            suffix = 'K';\r\n            value = num / 1e3;\r\n        }\r\n    }\r\n\r\n    let options = {\r\n        maximumFractionDigits: 2,\r\n        minimumFractionDigits: 2,\r\n    };\r\n\r\n    if (style === 'currency' && currency) {\r\n        options.style = 'currency';\r\n        options.currency = currency;\r\n    }\r\n\r\n    // For very large prices (like Bitcoin), don't show cents.\r\n    if (numAbs > 1000) {\r\n        options.minimumFractionDigits = 0;\r\n    }\r\n    // For single-digit prices, show more precision.\r\n    if (numAbs < 10) {\r\n        options.minimumFractionDigits = 2;\r\n    }\r\n\r\n    const formattedValue = new Intl.NumberFormat('en-US', options).format(value);\r\n\r\n    // Handle compact formatting's prefix ($)\r\n    if (style === 'compact' && suffix) {\r\n        // Re-format 'value' without currency style to attach suffix\r\n        const compactValue = new Intl.NumberFormat('en-US', {\r\n            maximumFractionDigits: 2,\r\n            minimumFractionDigits: (value < 10 && value > -10) ? 2 : 0, // 1.5B vs 300M\r\n        }).format(value);\r\n        return `${compactValue}${suffix}`;\r\n    }\r\n\r\n    return `${formattedValue}${suffix}`;\r\n};\r\n\r\nconst MarketDetailPage = () => {\r\n    const { ticker } = useParams();\r\n    const [widgetData, setWidgetData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeTimeframe, setActiveTimeframe] = useState('1Y');\r\n    const [showFullDesc, setShowFullDesc] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const response = await getWidgetData(decodeURIComponent(ticker));\r\n                setWidgetData(response.data);\r\n            } catch (e) {\r\n                console.error(\"Failed to fetch market detail data:\", e);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [ticker]);\r\n\r\n    const getChartData = () => {\r\n        if (!widgetData || !widgetData.historicalData) return { labels: [], prices: [] };\r\n\r\n        const history = widgetData.historicalData;\r\n        const tf = timeframes.find(t => t.label === activeTimeframe);\r\n        if (!tf) return { labels: [], prices: [] };\r\n\r\n        let filteredHistory = history;\r\n\r\n        if (tf.label === '1D') {\r\n            // 1D will just show the last 2 points (today and prev close)\r\n            filteredHistory = history.slice(-2);\r\n        } else if (tf.label === '5D') {\r\n            filteredHistory = history.slice(-5);\r\n        } else if (tf.points === 'YTD') {\r\n            const currentYear = new Date().getFullYear();\r\n            filteredHistory = history.filter(item => new Date(item.priceDate).getFullYear() === currentYear);\r\n        } else if (tf.label !== 'Max') {\r\n            const pointsToTake = Math.min(history.length, tf.points);\r\n            filteredHistory = history.slice(-pointsToTake);\r\n        }\r\n\r\n        return {\r\n            labels: filteredHistory.map(item => new Date(item.priceDate).toLocaleDateString()),\r\n            prices: filteredHistory.map(item => item.closePrice)\r\n        };\r\n    };\r\n\r\n    const chartData = getChartData();\r\n    const quote = widgetData?.quoteData;\r\n    const isPos = quote?.changeAmount >= 0;\r\n\r\n    if (loading) {\r\n        return <div className=\"h-[60vh] flex items-center justify-center text-gray-500\">Loading market data...</div>;\r\n    }\r\n\r\n    if (!quote) {\r\n        return (\r\n            <div className=\"container mx-auto p-4 max-w-4xl text-center\">\r\n                <Link to=\"/\" className=\"text-blue-600 hover:underline mb-4 inline-flex items-center\">\r\n                    <ArrowLeft size={16} className=\"mr-1\" /> Back to Home\r\n                </Link>\r\n                <h2 className=\"text-2xl font-bold text-red-600\">Error</h2>\r\n                <p className=\"text-gray-600\">Could not load data for {decodeURIComponent(ticker)}.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // --- Key Statistics Data Array ---\r\n    const stats = [\r\n        { label: 'Previous Close', value: formatNumber(quote.previousClose, 'currency', quote.currency) },\r\n        { label: 'Open', value: formatNumber(quote.openPrice, 'currency', quote.currency) },\r\n        { label: 'Day\\'s Range', value: `${formatNumber(quote.dayLow, 'currency', quote.currency)} - ${formatNumber(quote.dayHigh, 'currency', quote.currency)}` },\r\n        { label: '52 Week Range', value: `${formatNumber(quote.fiftyTwoWeekLow, 'currency', quote.currency)} - ${formatNumber(quote.fiftyTwoWeekHigh, 'currency', quote.currency)}` },\r\n        { label: 'Volume', value: formatNumber(quote.volume, 'compact') },\r\n        { label: 'Market Cap', value: formatNumber(quote.marketCap, 'compact') },\r\n        { label: 'P/E Ratio (TTM)', value: formatNumber(quote.peRatio) },\r\n        { label: 'Dividend Yield', value: quote.dividendYield ? `${(quote.dividendYield * 100).toFixed(2)}%` : 'N/A' },\r\n    ];\r\n\r\n    // Truncate description\r\n    const description = quote.description || '';\r\n    const isLongDesc = description.length > 300;\r\n    const displayedDesc = showFullDesc ? description : description.substring(0, 300);\r\n\r\n\r\n    return (\r\n        <div className=\"bg-gray-50 min-h-screen\">\r\n            <div className=\"container mx-auto p-4 max-w-6xl font-sans\">\r\n\r\n                {/* --- Component 2: Page Hero --- */}\r\n                <div className=\"mb-4\">\r\n                    <Link to=\"/\" className=\"text-sm text-blue-600 hover:underline mb-2 inline-flex items-center\">\r\n                        <ArrowLeft size={14} className=\"mr-1\" /> Back to Markets\r\n                    </Link>\r\n\r\n                    <div className=\"flex justify-between items-start\">\r\n                        <div>\r\n                            <h1 className=\"text-3xl font-bold text-gray-900\">{quote.name || decodeURIComponent(ticker)}</h1>\r\n                            <div className=\"text-sm text-gray-500 mt-1\">\r\n                                {ticker} · {quote.currency}\r\n                                {quote.lastUpdated && ` · As of ${new Date(quote.lastUpdated).toLocaleString()}`}\r\n                            </div>\r\n                        </div>\r\n                        <button className=\"p-2 rounded-full hover:bg-gray-200 text-gray-600\">\r\n                            <Share2 size={18} />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"mt-2\">\r\n                        <span className=\"text-4xl font-bold text-gray-900\">{formatNumber(quote.currentPrice, 'currency', quote.currency)}</span>\r\n                        <div className={`flex items-center text-xl font-medium mt-1 ${isPos ? 'text-green-600' : 'text-red-600'}`}>\r\n                            {isPos ? <TrendingUp size={20} className=\"mr-1\" /> : <TrendingDown size={20} className=\"mr-1\" />}\r\n                            <span>{formatNumber(quote.changeAmount)}</span>\r\n                            <span className=\"ml-2\">({quote.changePercent ? quote.changePercent.toFixed(2) : '0.00'}%)</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* --- Component 3: Main Content Body (Asymmetric 2-Column Layout) --- */}\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n\r\n                    {/* --- 4a. Left Column (Wide) --- */}\r\n                    <div className=\"lg:col-span-2 bg-white border border-gray-200 shadow-sm rounded-lg p-4\">\r\n\r\n                        {/* Module 1: Interactive Chart */}\r\n                        <div className=\"flex justify-center bg-gray-100 rounded-md p-1 mb-4\">\r\n                            {timeframes.map(tf => (\r\n                                <button\r\n                                    key={tf.label}\r\n                                    onClick={() => setActiveTimeframe(tf.label)}\r\n                                    className={`flex-1 px-3 py-1 rounded text-xs font-bold transition-colors ${activeTimeframe === tf.label ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-500 hover:text-gray-900'}`}\r\n                                >\r\n                                    {tf.label}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"h-[250px] md:h-[400px]\">\r\n                            <MarketChart chartData={chartData} previousClose={quote.previousClose} isPositive={isPos} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* --- 4b. Right Column (Narrow) --- */}\r\n                    <div className=\"lg:col-span-1 space-y-6\">\r\n\r\n                        {/* Module 1: Data Summary Card */}\r\n                        <div className=\"bg-white border border-gray-200 shadow-sm rounded-lg p-4\">\r\n                            <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">Key Statistics</h2>\r\n                            <div className=\"space-y-3 text-sm\">\r\n                                {stats.map(stat => (\r\n                                    <div key={stat.label} className=\"flex justify-between border-b border-gray-100 pb-2\">\r\n                                        <span className=\"text-gray-600\">{stat.label}</span>\r\n                                        <span className=\"font-medium text-gray-900 text-right\">{stat.value}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* --- \"About\" Section (Full Width Below Chart) --- */}\r\n                    {description && (\r\n                        <div className=\"lg:col-span-2 bg-white border border-gray-200 shadow-sm rounded-lg p-4\">\r\n                            <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">About {quote.name}</h2>\r\n                            <p className=\"text-sm text-gray-700 leading-relaxed\">\r\n                                {displayedDesc}{!showFullDesc && isLongDesc ? '...' : ''}\r\n                            </p>\r\n                            {isLongDesc && (\r\n                                <button\r\n                                    onClick={() => setShowFullDesc(!showFullDesc)}\r\n                                    className=\"text-sm font-semibold text-blue-600 hover:underline mt-2\"\r\n                                >\r\n                                    {showFullDesc ? 'Read Less' : 'Read More'}\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketDetailPage;","import React from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Tooltip,\r\n    Filler,\r\n    TimeScale\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Tooltip,\r\n    Filler,\r\n    TimeScale\r\n);\r\n\r\nconst MarketChart = ({ chartData, previousClose, isPositive }) => {\r\n    if (!chartData || !chartData.prices || chartData.prices.length === 0) {\r\n        return <div className=\"h-full flex items-center justify-center text-gray-300 text-[10px]\">No data</div>;\r\n    }\r\n\r\n    const chartColor = isPositive ? '#16a34a' : '#dc2626';\r\n\r\n    const data = {\r\n        labels: chartData.labels,\r\n        datasets: [\r\n            {\r\n                data: chartData.prices,\r\n                borderColor: chartColor,\r\n                borderWidth: 1.5,\r\n                pointRadius: 0,\r\n                pointHoverRadius: 3,\r\n                pointBackgroundColor: chartColor,\r\n                fill: true,\r\n                backgroundColor: (context) => {\r\n                    const ctx = context.chart.ctx;\r\n                    const gradient = ctx.createLinearGradient(0, 0, 0, context.chart.height);\r\n                    gradient.addColorStop(0, isPositive ? 'rgba(22, 163, 74, 0.1)' : 'rgba(220, 38, 38, 0.1)');\r\n                    gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\r\n                    return gradient;\r\n                },\r\n                tension: 0.05,\r\n            },\r\n            {\r\n                data: new Array(chartData.labels.length).fill(previousClose),\r\n                borderColor: '#9ca3af',\r\n                borderWidth: 1,\r\n                borderDash: [2, 2],\r\n                pointRadius: 0,\r\n                fill: false,\r\n                tooltip: { enabled: false }\r\n            }\r\n        ],\r\n    };\r\n\r\n    const options = {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        animation: { duration: 0 }, // Disable animation for faster sidebar performance\r\n        plugins: {\r\n            legend: { display: false },\r\n            tooltip: {\r\n                mode: 'index',\r\n                intersect: false,\r\n                backgroundColor: 'rgba(17, 24, 39, 0.9)',\r\n                titleColor: '#fff',\r\n                bodyColor: '#fff',\r\n                borderColor: '#374151',\r\n                borderWidth: 1,\r\n                padding: 4,\r\n                titleFont: { size: 10 },\r\n                bodyFont: { size: 10 },\r\n                displayColors: false,\r\n                callbacks: {\r\n                    title: (items) => items[0].label,\r\n                    label: (item) => item.datasetIndex === 0 ? `$${item.parsed.y.toFixed(2)}` : ''\r\n                }\r\n            }\r\n        },\r\n        scales: {\r\n            x: { display: false },\r\n            y: {\r\n                position: 'right',\r\n                beginAtZero: false,\r\n                grace: '5%', // Automatic padding top/bottom for standard stock look\r\n                grid: { display: false, drawBorder: false },\r\n                ticks: {\r\n                    color: '#9ca3af',\r\n                    font: { size: 9 },\r\n                    maxTicksLimit: 4,\r\n                    callback: (val) => Math.round(val)\r\n                }\r\n            }\r\n        },\r\n        interaction: { mode: 'nearest', axis: 'x', intersect: false },\r\n        layout: { padding: 0 }\r\n    };\r\n\r\n    return <Line data={data} options={options} />;\r\n};\r\n\r\nexport default MarketChart;"],"names":["ArrowLeft","createLucideIcon","d","key","Share2","cx","cy","r","x1","x2","y1","y2","timeframes","label","points","formatNumber","num","style","arguments","length","undefined","currency","isNaN","numAbs","Math","abs","suffix","value","options","maximumFractionDigits","minimumFractionDigits","formattedValue","Intl","NumberFormat","format","compactValue","concat","MarketDetailPage","ticker","useParams","widgetData","setWidgetData","useState","loading","setLoading","activeTimeframe","setActiveTimeframe","showFullDesc","setShowFullDesc","useEffect","async","response","getWidgetData","decodeURIComponent","data","e","console","error","fetchData","chartData","getChartData","historicalData","labels","prices","history","tf","find","t","filteredHistory","slice","currentYear","Date","getFullYear","filter","item","priceDate","pointsToTake","min","map","toLocaleDateString","closePrice","quote","quoteData","isPos","changeAmount","_jsx","className","children","_jsxs","Link","to","size","stats","previousClose","openPrice","dayLow","dayHigh","fiftyTwoWeekLow","fiftyTwoWeekHigh","volume","marketCap","peRatio","dividendYield","toFixed","description","isLongDesc","displayedDesc","substring","name","lastUpdated","toLocaleString","currentPrice","TrendingUp","TrendingDown","changePercent","onClick","MarketChart","isPositive","stat","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Filler","TimeScale","_ref","chartColor","datasets","borderColor","borderWidth","pointRadius","pointHoverRadius","pointBackgroundColor","fill","backgroundColor","context","gradient","chart","ctx","createLinearGradient","height","addColorStop","tension","Array","borderDash","tooltip","enabled","responsive","maintainAspectRatio","animation","duration","plugins","legend","display","mode","intersect","titleColor","bodyColor","padding","titleFont","bodyFont","displayColors","callbacks","title","items","datasetIndex","parsed","y","scales","x","position","beginAtZero","grace","grid","drawBorder","ticks","color","font","maxTicksLimit","callback","val","round","interaction","axis","layout","Line"],"sourceRoot":""}