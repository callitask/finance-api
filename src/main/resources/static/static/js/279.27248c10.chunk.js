"use strict";(self.webpackChunktreishvaam_finance_frontend=self.webpackChunktreishvaam_finance_frontend||[]).push([[279],{1748:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(9379),s=a(5043),i=a(9634),l=(a(1580),a(6355)),c=a(639),r=a(579);const o=e=>{let{blurHash:t,width:a,height:n}=e;const i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!t||!i.current||!a||!n)return;const e=Math.max(1,Math.round(32*n/a));let s;try{s=(0,c.A)(t,32,e)}catch(h){return void console.warn("Failed to decode blurhash:",h)}const l=i.current.getContext("2d"),r=l.createImageData(32,e);r.data.set(s);const o=document.createElement("canvas");o.width=32,o.height=e;o.getContext("2d").putImageData(r,0,0);const d=i.current;d.width=d.clientWidth,d.height=d.clientHeight,l.clearRect(0,0,d.width,d.height),l.imageSmoothingEnabled=!0,l.drawImage(o,0,0,o.width,o.height,0,0,d.width,d.height)},[t,a,n]),(0,r.jsx)("canvas",{ref:i,className:"absolute inset-0 w-full h-full block","aria-hidden":"true"})},d=e=>{let{baseName:t,alt:a,className:c="",sizes:d,onLoad:h,width:m,height:u,blurHash:g,eager:p=!1}=e;const[x,f]=(0,s.useState)(!1);if(!t||"string"!==typeof t)return(0,r.jsx)("div",{className:"bg-gray-200 w-full h-full ".concat(c)});const j=t.match(/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/);let w;w=j?j[0]:t.endsWith(".webp")?t.slice(0,-5):t;const v="".concat(l.H$,"/api/uploads/").concat(w,"-small.webp"),y="".concat(l.H$,"/api/uploads/").concat(w,"-tiny.webp"),b=["".concat(l.H$,"/api/uploads/").concat(w,"-small.webp 300w"),"".concat(l.H$,"/api/uploads/").concat(w,"-medium.webp 600w"),"".concat(l.H$,"/api/uploads/").concat(w,".webp 1200w")].join(", "),N=e=>{f(!0),"function"===typeof h&&h(e)};return p?(0,r.jsx)("img",(0,n.A)((0,n.A)({alt:a,src:v,srcSet:b,sizes:d,className:c,onLoad:N,fetchpriority:"high"},m&&{width:m}),u&&{height:u})):(0,r.jsxs)("div",{className:"w-full h-full relative overflow-hidden bg-gray-100",children:[g&&m&&u?(0,r.jsx)(o,{blurHash:g,width:m,height:u}):(0,r.jsx)("img",{src:y,alt:a||"",className:"absolute inset-0 w-full h-full object-cover block","aria-hidden":"true",style:{transform:"scale(1.02)"}}),(0,r.jsx)(i.LazyLoadImage,{alt:a,src:v,srcSet:b,sizes:d,effect:null,className:"".concat(c," transition-opacity duration-500 ").concat(x?"opacity-100":"opacity-0"),afterLoad:N,loading:"lazy"})]})}},4531:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(9379),s=a(5043),i=a(1045),l=a(6355),c=a(7977),r=a(9367),o=a(1748),d=a(519),h=a(184),m=a(579);const u=e=>{let{url:t,title:a,summary:n}=e;return(0,m.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-8",children:[(0,m.jsx)("span",{className:"font-bold text-gray-700 text-lg mr-2",children:"Share this article:"}),(0,m.jsxs)("div",{className:"flex items-center gap-3",children:[(0,m.jsx)(d.r6,{url:t,title:a,children:(0,m.jsx)(d.Fi,{size:40,round:!0})}),(0,m.jsx)(d.uI,{url:t,quote:n,children:(0,m.jsx)(d.ik,{size:40,round:!0})}),(0,m.jsx)(d.wk,{url:t,title:a,summary:n,children:(0,m.jsx)(d._z,{size:40,round:!0})}),(0,m.jsx)(d.Kz,{url:t,title:a,separator:":: ",children:(0,m.jsx)(d.Y4,{size:40,round:!0})}),(0,m.jsx)(d.VI,{url:t,title:a,children:(0,m.jsx)(d.hZ,{size:40,round:!0})}),(0,m.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t),alert("Link copied to clipboard!")},className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-full hover:bg-gray-300 transition","aria-label":"Copy link",title:"Copy Link",children:(0,m.jsx)(h.paH,{className:"text-gray-600"})})]})]})};var g=a(9889),p=a.n(g);const x=e=>{let{headings:t,activeId:a,progress:n}=e;const[i,l]=(0,s.useState)(!0);if(!t||0===t.length)return null;return(0,m.jsxs)("div",{className:"toc-container",children:[(0,m.jsx)("div",{className:"toc-progress-track",children:(0,m.jsx)("div",{className:"toc-progress-fill",style:{height:"".concat(n,"%")}})}),(0,m.jsxs)("div",{className:"pl-5",children:[(0,m.jsxs)("button",{onClick:()=>l(!i),className:"toc-header",children:[(0,m.jsx)("span",{children:"On this page"}),(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"toc-chevron ".concat(i?"":"-rotate-90"),children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),i&&(0,m.jsx)("nav",{className:"toc-body",children:(0,m.jsx)("ul",{children:t.map(e=>(0,m.jsx)("li",{className:"toc-list-item",children:(0,m.jsx)("a",{href:"#".concat(e.id),onClick:t=>((e,t)=>{e.preventDefault();const a=document.getElementById(t);if(a){const e=-90,t=a.getBoundingClientRect().top+window.pageYOffset+e;window.scrollTo({top:t,behavior:"smooth"})}})(t,e.id),className:"toc-link ".concat(a===e.id?"active":""),style:{paddingLeft:"".concat(.75*(e.level-2)+.5,"rem")},children:e.text})},e.id))})})]})]})},f=()=>{var e,t;const{urlArticleId:a}=(0,i.g)(),[d,h]=(0,s.useState)(null),[g,f]=(0,s.useState)(!0),[j,w]=(0,s.useState)(null),[v,y]=(0,s.useState)([]),[b,N]=(0,s.useState)(""),[k,A]=(0,s.useState)(0),I=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async()=>{try{const e=await(0,l.ct)(a);h(e.data)}catch(e){w("Failed to fetch post.")}finally{f(!1)}})(),window.scrollTo(0,0)},[a]),(0,s.useEffect)(()=>{if(null===d||void 0===d||!d.content)return;const e=document.createElement("div");e.innerHTML=c.A.sanitize(d.content,{USE_PROFILES:{html:!0},ADD_ATTR:["id"]});const t=e.querySelectorAll("h2, h3, h4"),a=Array.from(t).map((e,t)=>{const a="heading-".concat(t,"-").concat(e.tagName);return e.id=a,{id:a,text:e.innerText,level:parseInt(e.tagName.substring(1),10)}});y(a),h(t=>(0,n.A)((0,n.A)({},t),{},{contentWithIds:e.innerHTML}))},[null===d||void 0===d?void 0:d.content]);const S=(0,s.useMemo)(()=>p()(()=>{const e=I.current;if(!e)return;const t=e.getBoundingClientRect().top+window.scrollY,a=e.scrollHeight-window.innerHeight,n=window.scrollY-t;if(n>0&&a>0){const e=n/a*100;A(Math.min(100,Math.max(0,e)))}else A(0);let s="";for(let i=v.length-1;i>=0;i--){const e=document.getElementById(v[i].id);if(e&&e.getBoundingClientRect().top<200){s=v[i].id;break}}N(s)},150),[v]);if((0,s.useEffect)(()=>(window.addEventListener("scroll",S),()=>{S.cancel(),window.removeEventListener("scroll",S)}),[S]),g)return(0,m.jsx)("div",{className:"text-center py-20",children:"Loading post..."});if(j)return(0,m.jsx)("div",{className:"text-center py-20 text-red-500",children:j});if(!d)return(0,m.jsx)("div",{className:"text-center py-20",children:"Post not found."});const L="https://treishfin.treishvaamgroup.com/category/".concat(null===(e=d.category)||void 0===e?void 0:e.slug,"/").concat(d.userFriendlySlug,"/").concat(d.urlArticleId),z="Treishvaam Finance \xb7 ".concat(d.title),T=d.metaDescription||d.customSnippet||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:155;if(!e)return"";const a=c.A.sanitize(e,{ALLOWED_TAGS:[]});if(a.length<=t)return a;const n=a.substring(0,t);return n.substring(0,Math.min(n.length,n.lastIndexOf(" ")))+"..."}(d.content,155),H=d.coverImageUrl?"".concat(l.H$,"/api/uploads/").concat(d.coverImageUrl,".webp"):"".concat(window.location.origin,"/logo512.png"),E=window.location.origin,C={"@context":"https://schema.org","@type":"Article",headline:d.title,image:H,author:{"@type":"Organization",name:"Treishvaam Finance",url:E},publisher:{"@type":"Organization",name:"Treishvaam Finance",logo:{"@type":"ImageObject",url:"".concat(E,"/logo512.png")}},datePublished:d.createdAt,dateModified:d.updatedAt,mainEntityOfPage:{"@type":"WebPage","@id":L},description:T,keywords:d.keywords||(null===(t=d.tags)||void 0===t?void 0:t.join(", "))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(r.mg,{children:[(0,m.jsx)("title",{children:z}),(0,m.jsx)("meta",{name:"description",content:T}),d.keywords&&(0,m.jsx)("meta",{name:"keywords",content:d.keywords}),(0,m.jsx)("link",{rel:"canonical",href:L}),(0,m.jsx)("meta",{property:"og:type",content:"article"}),(0,m.jsx)("meta",{property:"og:url",content:L}),(0,m.jsx)("meta",{property:"og:title",content:d.title}),(0,m.jsx)("meta",{property:"og:description",content:T}),(0,m.jsx)("meta",{property:"og:image",content:H}),(0,m.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,m.jsx)("meta",{name:"twitter:url",content:L}),(0,m.jsx)("meta",{name:"twitter:title",content:d.title}),(0,m.jsx)("meta",{name:"twitter:description",content:T}),(0,m.jsx)("meta",{name:"twitter:image",content:H}),(0,m.jsx)("script",{type:"application/ld+json",children:JSON.stringify(C)})]}),(0,m.jsxs)("div",{className:"max-w-screen-xl mx-auto lg:grid lg:grid-cols-12 lg:gap-x-12 px-4 sm:px-6 lg:px-8",children:[(0,m.jsxs)("div",{className:"lg:col-span-8 xl:col-span-9 py-8",children:[(0,m.jsxs)("header",{className:"mb-8",children:[(0,m.jsx)("h1",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 leading-tight",children:d.title}),(0,m.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-4 mb-6",children:[(0,m.jsxs)("span",{children:["By ",d.author||"Treishvaam Team"]}),(0,m.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,m.jsx)("time",{dateTime:d.createdAt,children:(M=d.createdAt,M?new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A")})]}),d.coverImageUrl&&(0,m.jsx)("div",{className:"mb-8 rounded-lg overflow-hidden shadow-lg",children:(0,m.jsx)(o.A,{baseName:d.coverImageUrl,alt:d.coverImageAltText||d.title,className:"w-full h-auto object-cover"})})]}),(0,m.jsxs)("main",{ref:I,children:[(0,m.jsx)("article",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:(_=d.contentWithIds||d.content,{__html:_})}),(0,m.jsx)("div",{className:"mt-16 pt-8 border-t",children:(0,m.jsx)(u,{url:L,title:d.title})})]})]}),(0,m.jsx)("aside",{className:"lg:col-span-4 xl:col-span-3 py-8 hidden lg:block",children:(0,m.jsx)("div",{className:"sticky top-24",children:(0,m.jsx)(x,{headings:v,activeId:b,progress:k})})})]})]});var _,M}}}]);
//# sourceMappingURL=279.27248c10.chunk.js.map