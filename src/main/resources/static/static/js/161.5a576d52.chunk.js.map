{"version":3,"file":"static/js/161.5a576d52.chunk.js","mappings":"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","sources":["../node_modules/blurhash/src/base83.ts","../node_modules/blurhash/src/utils.ts","../node_modules/blurhash/src/error.ts","../node_modules/blurhash/src/decode.ts","components/ResponsiveAuthImage.js","components/ShareModal.js","pages/ManagePostsPage.js"],"sourcesContent":["const digitCharacters = [\n  \"0\",\n  \"1\",\n  \"2\",\n  \"3\",\n  \"4\",\n  \"5\",\n  \"6\",\n  \"7\",\n  \"8\",\n  \"9\",\n  \"A\",\n  \"B\",\n  \"C\",\n  \"D\",\n  \"E\",\n  \"F\",\n  \"G\",\n  \"H\",\n  \"I\",\n  \"J\",\n  \"K\",\n  \"L\",\n  \"M\",\n  \"N\",\n  \"O\",\n  \"P\",\n  \"Q\",\n  \"R\",\n  \"S\",\n  \"T\",\n  \"U\",\n  \"V\",\n  \"W\",\n  \"X\",\n  \"Y\",\n  \"Z\",\n  \"a\",\n  \"b\",\n  \"c\",\n  \"d\",\n  \"e\",\n  \"f\",\n  \"g\",\n  \"h\",\n  \"i\",\n  \"j\",\n  \"k\",\n  \"l\",\n  \"m\",\n  \"n\",\n  \"o\",\n  \"p\",\n  \"q\",\n  \"r\",\n  \"s\",\n  \"t\",\n  \"u\",\n  \"v\",\n  \"w\",\n  \"x\",\n  \"y\",\n  \"z\",\n  \"#\",\n  \"$\",\n  \"%\",\n  \"*\",\n  \"+\",\n  \",\",\n  \"-\",\n  \".\",\n  \":\",\n  \";\",\n  \"=\",\n  \"?\",\n  \"@\",\n  \"[\",\n  \"]\",\n  \"^\",\n  \"_\",\n  \"{\",\n  \"|\",\n  \"}\",\n  \"~\"\n];\n\nexport const decode83 = (str: String) => {\n  let value = 0;\n  for (let i = 0; i < str.length; i++) {\n    const c = str[i];\n    const digit = digitCharacters.indexOf(c);\n    value = value * 83 + digit;\n  }\n  return value;\n};\n\nexport const encode83 = (n: number, length: number): string => {\n  var result = \"\";\n  for (let i = 1; i <= length; i++) {\n    let digit = (Math.floor(n) / Math.pow(83, length - i)) % 83;\n    result += digitCharacters[Math.floor(digit)];\n  }\n  return result;\n};\n","export const sRGBToLinear = (value: number) => {\n  let v = value / 255;\n  if (v <= 0.04045) {\n    return v / 12.92;\n  } else {\n    return Math.pow((v + 0.055) / 1.055, 2.4);\n  }\n};\n\nexport const linearTosRGB = (value: number) => {\n  let v = Math.max(0, Math.min(1, value));\n  if (v <= 0.0031308) {\n    return Math.round(v * 12.92 * 255 + 0.5);\n  } else {\n    return Math.round((1.055 * Math.pow(v, 1 / 2.4) - 0.055) * 255 + 0.5);\n  }\n};\n\nexport const sign = (n: number) => (n < 0 ? -1 : 1);\n\nexport const signPow = (val: number, exp: number) =>\n  sign(val) * Math.pow(Math.abs(val), exp);\n","export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = \"ValidationError\";\n    this.message = message;\n  }\n}\n","import { decode83 } from \"./base83\";\nimport { sRGBToLinear, signPow, linearTosRGB } from \"./utils\";\nimport { ValidationError } from \"./error\";\n\n/**\n * Returns an error message if invalid or undefined if valid\n * @param blurhash\n */\nconst validateBlurhash = (blurhash: string) => {\n  if (!blurhash || blurhash.length < 6) {\n    throw new ValidationError(\n      \"The blurhash string must be at least 6 characters\"\n    );\n  }\n\n  const sizeFlag = decode83(blurhash[0]);\n  const numY = Math.floor(sizeFlag / 9) + 1;\n  const numX = (sizeFlag % 9) + 1;\n\n  if (blurhash.length !== 4 + 2 * numX * numY) {\n    throw new ValidationError(\n      `blurhash length mismatch: length is ${\n        blurhash.length\n      } but it should be ${4 + 2 * numX * numY}`\n    );\n  }\n};\n\nexport const isBlurhashValid = (\n  blurhash: string\n): { result: boolean; errorReason?: string } => {\n  try {\n    validateBlurhash(blurhash);\n  } catch (error) {\n    return { result: false, errorReason: error.message };\n  }\n\n  return { result: true };\n};\n\nconst decodeDC = (value: number) => {\n  const intR = value >> 16;\n  const intG = (value >> 8) & 255;\n  const intB = value & 255;\n  return [sRGBToLinear(intR), sRGBToLinear(intG), sRGBToLinear(intB)];\n};\n\nconst decodeAC = (value: number, maximumValue: number) => {\n  const quantR = Math.floor(value / (19 * 19));\n  const quantG = Math.floor(value / 19) % 19;\n  const quantB = value % 19;\n\n  const rgb = [\n    signPow((quantR - 9) / 9, 2.0) * maximumValue,\n    signPow((quantG - 9) / 9, 2.0) * maximumValue,\n    signPow((quantB - 9) / 9, 2.0) * maximumValue\n  ];\n\n  return rgb;\n};\n\nconst decode = (\n  blurhash: string,\n  width: number,\n  height: number,\n  punch?: number\n) => {\n  validateBlurhash(blurhash);\n\n  punch = punch | 1;\n\n  const sizeFlag = decode83(blurhash[0]);\n  const numY = Math.floor(sizeFlag / 9) + 1;\n  const numX = (sizeFlag % 9) + 1;\n\n  const quantisedMaximumValue = decode83(blurhash[1]);\n  const maximumValue = (quantisedMaximumValue + 1) / 166;\n\n  const colors = new Array(numX * numY);\n\n  for (let i = 0; i < colors.length; i++) {\n    if (i === 0) {\n      const value = decode83(blurhash.substring(2, 6));\n      colors[i] = decodeDC(value);\n    } else {\n      const value = decode83(blurhash.substring(4 + i * 2, 6 + i * 2));\n      colors[i] = decodeAC(value, maximumValue * punch);\n    }\n  }\n\n  const bytesPerRow = width * 4;\n  const pixels = new Uint8ClampedArray(bytesPerRow * height);\n\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      let r = 0;\n      let g = 0;\n      let b = 0;\n\n      for (let j = 0; j < numY; j++) {\n        for (let i = 0; i < numX; i++) {\n          const basis =\n            Math.cos((Math.PI * x * i) / width) *\n            Math.cos((Math.PI * y * j) / height);\n          let color = colors[i + j * numX];\n          r += color[0] * basis;\n          g += color[1] * basis;\n          b += color[2] * basis;\n        }\n      }\n\n      let intR = linearTosRGB(r);\n      let intG = linearTosRGB(g);\n      let intB = linearTosRGB(b);\n\n      pixels[4 * x + 0 + y * bytesPerRow] = intR;\n      pixels[4 * x + 1 + y * bytesPerRow] = intG;\n      pixels[4 * x + 2 + y * bytesPerRow] = intB;\n      pixels[4 * x + 3 + y * bytesPerRow] = 255; // alpha\n    }\n  }\n  return pixels;\n};\n\nexport default decode;\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\n// import 'react-lazy-load-image-component/src/effects/blur.css'; // MODIFIED: Removed this import\r\nimport { API_URL } from '../apiConfig';\r\nimport { decode } from 'blurhash';\r\n\r\n/**\r\n * BlurHashCanvas\r\n * Draws a decoded blurhash into a canvas sized to fill its parent.\r\n * Props:\r\n * - blurHash (string)\r\n * - width (number)\r\n * - height (number)\r\n */\r\nconst BlurHashCanvas = ({ blurHash, width, height }) => {\r\n    const canvasRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (!blurHash || !canvasRef.current || !width || !height) return;\r\n        // Choose a small decoded size for speed — will be upscaled by the canvas.\r\n        const decodedWidth = 32;\r\n        const decodedHeight = Math.max(1, Math.round((decodedWidth * height) / width));\r\n        let pixels;\r\n        try {\r\n            pixels = decode(blurHash, decodedWidth, decodedHeight); // returns Uint8ClampedArray rgba\r\n        } catch (e) {\r\n            console.warn('Failed to decode blurhash:', e);\r\n            return;\r\n        }\r\n        const ctx = canvasRef.current.getContext('2d');\r\n        // Create ImageData and put on canvas\r\n        const imageData = ctx.createImageData(decodedWidth, decodedHeight);\r\n        imageData.data.set(pixels);\r\n        // draw to small canvas then upscale to fill\r\n        const tmp = document.createElement('canvas');\r\n        tmp.width = decodedWidth;\r\n        tmp.height = decodedHeight;\r\n        const tmpCtx = tmp.getContext('2d');\r\n        tmpCtx.putImageData(imageData, 0, 0);\r\n\r\n        // Now scale to visible canvas\r\n        const canvas = canvasRef.current;\r\n        canvas.width = canvas.clientWidth;\r\n        canvas.height = canvas.clientHeight;\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.imageSmoothingEnabled = true;\r\n        ctx.drawImage(tmp, 0, 0, tmp.width, tmp.height, 0, 0, canvas.width, canvas.height);\r\n    }, [blurHash, width, height]);\r\n\r\n    // canvas fills container via absolute inset styles in parent\r\n    return <canvas ref={canvasRef} className=\"absolute inset-0 w-full h-full block\" aria-hidden=\"true\" />;\r\n};\r\n\r\n/**\r\n* ResponsiveAuthImage\r\n* Props:\r\n* - baseName: string (the backend image id / base filename)\r\n* - alt: string\r\n* - className: string (applied to the <img>)\r\n* - sizes: string (for srcSet)\r\n* - onLoad: function\r\n* - width, height: numbers (image metadata - used to set aspect ratio in parent)\r\n* - blurHash: string (if available render blurhash canvas)\r\n* - eager: boolean (if true, renders a high-priority <img> tag instead of lazy-loading)\r\n*/\r\nconst ResponsiveAuthImage = ({ baseName, alt, className = '', sizes, onLoad, width, height, blurHash, eager = false }) => {\r\n    // --- MODIFIED: Moved state hook to top ---\r\n    const [loaded, setLoaded] = useState(false);\r\n\r\n    // Render a simple placeholder if baseName is invalid.\r\n    if (!baseName || typeof baseName !== 'string') {\r\n        return <div className={`bg-gray-200 w-full h-full ${className}`} />;\r\n    }\r\n\r\n    const uuidRegex = /([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/;\r\n    const match = baseName.match(uuidRegex);\r\n\r\n    let imageID;\r\n    if (match) {\r\n        imageID = match[0]; // Standard UUID path\r\n    } else {\r\n        // Fallback path: Use the baseName itself, stripping a potential .webp extension\r\n        // This allows for images like 'cover-image.webp'\r\n        imageID = baseName.endsWith('.webp') ? baseName.slice(0, -5) : baseName;\r\n    }\r\n\r\n    // Construct image URLs\r\n    const src = `${API_URL}/api/uploads/${imageID}-small.webp`;\r\n    const placeholderSrc = `${API_URL}/api/uploads/${imageID}-tiny.webp`; // tiny fallback if blurHash not present\r\n    const srcSet = [\r\n        `${API_URL}/api/uploads/${imageID}-small.webp 300w`,\r\n        `${API_URL}/api/uploads/${imageID}-medium.webp 600w`,\r\n        `${API_URL}/api/uploads/${imageID}.webp 1200w`\r\n    ].join(', ');\r\n\r\n    // --- (useState hook was here, but has been moved up) ---\r\n\r\n    const handleAfterLoad = (event) => {\r\n        setLoaded(true);\r\n        if (typeof onLoad === 'function') onLoad(event);\r\n    };\r\n\r\n    // EAGER loading: Render a standard <img> tag for LCP (Largest Contentful Paint)\r\n    // This bypasses the blur/lazy-load logic entirely for critical images.\r\n    if (eager) {\r\n        return (\r\n            <img\r\n                alt={alt}\r\n                src={src}\r\n                srcSet={srcSet}\r\n                sizes={sizes}\r\n                className={className}\r\n                onLoad={handleAfterLoad}\r\n                fetchpriority=\"high\"\r\n                // Pass width/height if available, though layout is controlled by className\r\n                {...(width && { width })}\r\n                {...(height && { height })}\r\n            />\r\n        );\r\n    }\r\n\r\n    // LAZY loading (default): Wrapper is full-size of parent.\r\n    return (\r\n        <div className=\"w-full h-full relative overflow-hidden bg-gray-100\">\r\n            {/* If blurHash provided and we have metadata, render the canvas placeholder */}\r\n            {blurHash && width && height ? (\r\n                <BlurHashCanvas blurHash={blurHash} width={width} height={height} />\r\n            ) : (\r\n                // Fallback tiny image — will be visible until main image loads.\r\n                <img\r\n                    src={placeholderSrc}\r\n                    alt={alt || ''}\r\n                    className=\"absolute inset-0 w-full h-full object-cover block\"\r\n                    aria-hidden=\"true\"\r\n                    style={{ transform: 'scale(1.02)' }}\r\n                />\r\n            )}\r\n\r\n            {/* Real image (lazy loaded) */}\r\n            <LazyLoadImage\r\n                alt={alt}\r\n                src={src}\r\n                srcSet={srcSet}\r\n                sizes={sizes}\r\n                // do not provide placeholderSrc to library when we already rendered our placeholder\r\n                effect={null}\r\n                className={`${className} transition-opacity duration-500 ${loaded ? 'opacity-100' : 'opacity-0'}`}\r\n                afterLoad={handleAfterLoad}\r\n                // Eager path is handled above, so this is always 'lazy'\r\n                loading={'lazy'}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ResponsiveAuthImage;","import React, { useState } from 'react';\r\n\r\nconst ShareModal = ({ post, onShare, onClose }) => {\r\n    const [message, setMessage] = useState('');\r\n    const [tags, setTags] = useState('');\r\n\r\n    const handleShareClick = () => {\r\n        onShare({\r\n            postId: post.id,\r\n            message,\r\n            tags: tags.split(',').map(tag => tag.trim()).filter(Boolean)\r\n        });\r\n    };\r\n    \r\n    const pageUrl = `https://treishfin.treishvaamgroup.com/blog/${post.id}`;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\">\r\n            <div className=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-md\">\r\n                <h2 className=\"text-2xl font-bold mb-4\">Share to LinkedIn</h2>\r\n                <p className=\"mb-2 text-sm text-gray-600\">\r\n                    <strong>Post:</strong> {post.title}\r\n                </p>\r\n                <div className=\"mb-4\">\r\n                    <label htmlFor=\"message\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Custom Message (Optional)\r\n                    </label>\r\n                    <textarea\r\n                        id=\"message\"\r\n                        value={message}\r\n                        onChange={(e) => setMessage(e.target.value)}\r\n                        rows=\"4\"\r\n                        className=\"w-full p-2 border border-gray-300 rounded-md shadow-sm\"\r\n                        placeholder={`Check out this article: ${post.title}\\n\\n${pageUrl}`}\r\n                    ></textarea>\r\n                </div>\r\n                <div className=\"mb-6\">\r\n                    <label htmlFor=\"tags\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Hashtags (comma-separated)\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"tags\"\r\n                        value={tags}\r\n                        onChange={(e) => setTags(e.target.value)}\r\n                        className=\"w-full p-2 border border-gray-300 rounded-md shadow-sm\"\r\n                        placeholder=\"e.g., #finance, #investing, #fintech\"\r\n                    />\r\n                </div>\r\n                <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300\"\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        onClick={handleShareClick}\r\n                        className=\"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n                    >\r\n                        Share to LinkedIn\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ShareModal;\r\n","import React, { useEffect, useState, useMemo, useCallback } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { getAllPostsForAdmin as getPosts, deletePost, getDrafts, duplicatePost, bulkDeletePosts } from '../apiConfig';\r\nimport ResponsiveAuthImage from '../components/ResponsiveAuthImage';\r\nimport ShareModal from '../components/ShareModal';\r\nimport { FaShareAlt, FaEdit, FaTrash, FaPlus, FaCopy } from 'react-icons/fa';\r\n\r\nconst formatDisplayDate = (dateValue) => {\r\n    if (!dateValue) return 'No date available';\r\n    const date = new Date(dateValue);\r\n    if (isNaN(date.getTime())) return 'No date available';\r\n    return date.toLocaleString('en-US', {\r\n        year: 'numeric', month: 'long', day: 'numeric',\r\n        hour: '2-digit', minute: '2-digit', hour12: true\r\n    });\r\n};\r\n\r\nconst formatLayoutStyle = (style) => {\r\n    if (!style || style === 'DEFAULT') return 'Masonry';\r\n    if (style === 'BANNER') return 'Banner';\r\n    if (style.startsWith('MULTI_COLUMN_')) {\r\n        const count = style.split('_')[2];\r\n        return `${count} Column Row`;\r\n    }\r\n    return style;\r\n};\r\n\r\nconst PostsTable = ({\r\n    posts,\r\n    handleDelete,\r\n    handleDuplicate,\r\n    handleOpenShareModal,\r\n    isScheduled = false,\r\n    isDraft = false,\r\n    selectedPostIds,\r\n    onSelectOne,\r\n    onSelectAll,\r\n    isAddColumnDisabled\r\n}) => {\r\n    const navigate = useNavigate();\r\n    const isAllSelected = useMemo(() => posts.length > 0 && selectedPostIds.length === posts.length, [selectedPostIds, posts]);\r\n\r\n    if (!posts || posts.length === 0) {\r\n        return <p className=\"p-6 text-center text-gray-500\">No {isDraft ? 'drafts' : (isScheduled ? 'scheduled' : 'published')} posts found.</p>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full leading-normal\">\r\n                <thead>\r\n                    <tr>\r\n                        <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left\">\r\n                           <input type=\"checkbox\" className=\"form-checkbox h-4 w-4 text-sky-600 rounded focus:ring-sky-500\" checked={isAllSelected} onChange={onSelectAll} />\r\n                        </th>\r\n                        <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">Title</th>\r\n                        <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">Category</th>\r\n                        <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">Post Layout</th>\r\n                        <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                            {isDraft ? 'Last Saved' : (isScheduled ? 'Scheduled For' : 'Last Updated')}\r\n                        </th>\r\n                        <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {posts.map(post => (\r\n                        <tr key={post.id} className={`hover:bg-gray-50 ${selectedPostIds.includes(post.id) ? 'bg-sky-50' : ''}`}>\r\n                            <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                                <input type=\"checkbox\" className=\"form-checkbox h-4 w-4 text-sky-600 rounded focus:ring-sky-500\" checked={selectedPostIds.includes(post.id)} onChange={() => onSelectOne(post.id)} />\r\n                            </td>\r\n                            <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                                <div className=\"flex items-center\">\r\n                                    <div className=\"flex-shrink-0 w-10 h-10 mr-4\">\r\n                                        <ResponsiveAuthImage baseName={post.thumbnails && post.thumbnails.length > 0 ? post.thumbnails[0].imageUrl : null} alt={post.title} className=\"w-full h-full rounded-full object-cover\" sizes=\"40px\" />\r\n                                    </div>\r\n                                    <p className=\"text-gray-900 font-medium\">{post.title}</p>\r\n                                </div>\r\n                            </td>\r\n                            <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                                <span className=\"bg-gray-100 text-gray-700 text-xs font-semibold px-2 py-1 rounded-full\">{post.category?.name || 'N/A'}</span>\r\n                            </td>\r\n                            <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                                <span className=\"text-gray-800\">{formatLayoutStyle(post.layoutStyle)}</span>\r\n                            </td>\r\n                            <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                                <p className=\"text-gray-900\">{formatDisplayDate(isScheduled ? post.scheduledTime : (post.updatedAt || post.createdAt))}</p>\r\n                            </td>\r\n                            <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n                                <div className=\"flex items-center space-x-4\">\r\n                                    {!isScheduled && !isDraft && <button onClick={() => handleOpenShareModal(post)} className=\"text-gray-500 hover:text-green-600\" title=\"Share\"><FaShareAlt /></button>}\r\n                                    <button onClick={() => navigate(`/dashboard/blog/edit/${post.userFriendlySlug}/${post.id}`)} className=\"text-gray-500 hover:text-sky-600\" title=\"Edit\"><FaEdit /></button>\r\n                                    <button onClick={() => handleDelete(post.id)} className=\"text-gray-500 hover:text-red-600\" title=\"Delete\"><FaTrash /></button>\r\n                                    {post.layoutStyle && post.layoutStyle.startsWith('MULTI_COLUMN') && (\r\n                                        <button\r\n                                            onClick={() => handleDuplicate(post.id)}\r\n                                            className={`text-gray-500 ${isAddColumnDisabled(post.layoutGroupId, post.layoutStyle) ? 'opacity-50 cursor-not-allowed' : 'hover:text-blue-600'}`}\r\n                                            title={isAddColumnDisabled(post.layoutGroupId, post.layoutStyle) ? \"Group is full\" : \"Add post column\"}\r\n                                            disabled={isAddColumnDisabled(post.layoutGroupId, post.layoutStyle)}\r\n                                        >\r\n                                            <FaCopy />\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst ManagePostsPage = () => {\r\n    const location = useLocation();\r\n    const [allPosts, setAllPosts] = useState([]);\r\n    const [drafts, setDrafts] = useState([]);\r\n    const [error, setError] = useState('');\r\n    const [isShareModalOpen, setIsShareModalOpen] = useState(false);\r\n    const [selectedPost, setSelectedPost] = useState(null);\r\n    const [activeTab, setActiveTab] = useState('published');\r\n    const [selectedPostIds, setSelectedPostIds] = useState([]);\r\n\r\n    const fetchAllData = useCallback(async () => {\r\n        try {\r\n            const [postsRes, draftsRes] = await Promise.all([getPosts(), getDrafts()]);\r\n            setAllPosts(postsRes.data || []);\r\n            setDrafts(draftsRes.data || []);\r\n        } catch (err) {\r\n            setError('Failed to fetch posts or drafts.');\r\n            console.error(err);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchAllData();\r\n    }, [fetchAllData]);\r\n\r\n    useEffect(() => {\r\n        if (location.hash === '#drafts') {\r\n            setActiveTab('drafts');\r\n        }\r\n    }, [location.hash]);\r\n\r\n    useEffect(() => {\r\n        setSelectedPostIds([]);\r\n    }, [activeTab]);\r\n\r\n    const { publishedPosts, scheduledPosts } = useMemo(() => {\r\n        const published = allPosts.filter(p => p.status === 'PUBLISHED');\r\n        const scheduled = allPosts.filter(p => p.status === 'SCHEDULED');\r\n        return { publishedPosts: published, scheduledPosts: scheduled };\r\n    }, [allPosts]);\r\n\r\n    const layoutGroupCounts = useMemo(() => {\r\n        const counts = {};\r\n        [...allPosts, ...drafts].forEach(p => {\r\n            if (p.layoutGroupId) {\r\n                counts[p.layoutGroupId] = (counts[p.layoutGroupId] || 0) + 1;\r\n            }\r\n        });\r\n        return counts;\r\n    }, [allPosts, drafts]);\r\n\r\n    const isAddColumnDisabled = useCallback((groupId, layoutStyle) => {\r\n        if (!groupId || !layoutStyle || !layoutStyle.startsWith('MULTI_COLUMN')) {\r\n            return true;\r\n        }\r\n        try {\r\n            const limit = parseInt(layoutStyle.split('_')[2], 10);\r\n            const currentCount = layoutGroupCounts[groupId] || 0;\r\n            return currentCount >= limit;\r\n        } catch {\r\n            return true;\r\n        }\r\n    }, [layoutGroupCounts]);\r\n\r\n    const handleDelete = async (id) => {\r\n        if (window.confirm('Are you sure you want to delete this post?')) {\r\n            try {\r\n                await deletePost(id);\r\n                await fetchAllData();\r\n            } catch (err) {\r\n                setError('Failed to delete the post.');\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleDuplicate = async (id) => {\r\n        if (window.confirm('This will create a new draft by duplicating the selected post\\'s layout. Continue?')) {\r\n            try {\r\n                await duplicatePost(id);\r\n                await fetchAllData();\r\n                setActiveTab('drafts');\r\n            } catch (err) {\r\n                setError('Failed to duplicate the post.');\r\n                console.error(err);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleOpenShareModal = (post) => {\r\n        setSelectedPost(post);\r\n        setIsShareModalOpen(true);\r\n    };\r\n\r\n    const handleSelectOne = (postId) => {\r\n        setSelectedPostIds(prev =>\r\n            prev.includes(postId) ? prev.filter(id => id !== postId) : [...prev, postId]\r\n        );\r\n    };\r\n    \r\n    const currentVisiblePosts = useMemo(() => {\r\n        if (activeTab === 'published') return publishedPosts;\r\n        if (activeTab === 'drafts') return drafts;\r\n        if (activeTab === 'scheduled') return scheduledPosts;\r\n        return [];\r\n    }, [activeTab, publishedPosts, drafts, scheduledPosts]);\r\n\r\n    const handleSelectAll = (e) => {\r\n        if (e.target.checked) {\r\n            const postIds = currentVisiblePosts.map(p => p.id);\r\n            setSelectedPostIds(postIds);\r\n        } else {\r\n            setSelectedPostIds([]);\r\n        }\r\n    };\r\n\r\n    const handleBulkDelete = async () => {\r\n        if (selectedPostIds.length === 0) return;\r\n        if (window.confirm(`Are you sure you want to delete ${selectedPostIds.length} selected post(s)?`)) {\r\n            try {\r\n                await bulkDeletePosts(selectedPostIds);\r\n                setSelectedPostIds([]);\r\n                await fetchAllData();\r\n            } catch (err) {\r\n                setError('Failed to delete the selected posts.');\r\n                console.error(err);\r\n            }\r\n        }\r\n    };\r\n    \r\n    const tableProps = {\r\n        handleDelete,\r\n        handleDuplicate,\r\n        handleOpenShareModal,\r\n        selectedPostIds,\r\n        onSelectOne: handleSelectOne,\r\n        isAddColumnDisabled\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container mx-auto p-6\">\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                    <h1 className=\"text-3xl font-bold text-gray-800\">Manage Posts</h1>\r\n                    <Link to=\"/dashboard/blog/new\" className=\"bg-sky-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-700 transition flex items-center\">\r\n                        <FaPlus className=\"mr-2\" /> Create New Post\r\n                    </Link>\r\n                </div>\r\n\r\n                {selectedPostIds.length > 0 && (\r\n                    <div className=\"mb-4 p-3 bg-sky-100 border border-sky-200 rounded-lg flex items-center gap-4\">\r\n                        <p className=\"text-sm font-semibold text-sky-800\">{selectedPostIds.length} post(s) selected.</p>\r\n                        <button\r\n                            onClick={handleBulkDelete}\r\n                            className=\"bg-red-600 text-white text-sm font-bold py-1 px-3 rounded-lg hover:bg-red-700 transition flex items-center\"\r\n                        >\r\n                            <FaTrash className=\"mr-2\" /> Delete Selected\r\n                        </button>\r\n                    </div>\r\n                )}\r\n                \r\n                <div className=\"mb-4 border-b border-gray-200\">\r\n                    <nav className=\"flex space-x-4\" aria-label=\"Tabs\">\r\n                        <button onClick={() => setActiveTab('published')} className={`px-3 py-2 font-medium text-sm rounded-t-lg ${activeTab === 'published' ? 'border-b-2 border-sky-600 text-sky-600' : 'text-gray-500 hover:text-gray-700'}`}>\r\n                            Published ({publishedPosts.length})\r\n                        </button>\r\n                        <button onClick={() => setActiveTab('drafts')} className={`px-3 py-2 font-medium text-sm rounded-t-lg ${activeTab === 'drafts' ? 'border-b-2 border-sky-600 text-sky-600' : 'text-gray-500 hover:text-gray-700'}`}>\r\n                            Drafts ({drafts.length})\r\n                        </button>\r\n                        <button onClick={() => setActiveTab('scheduled')} className={`px-3 py-2 font-medium text-sm rounded-t-lg ${activeTab === 'scheduled' ? 'border-b-2 border-sky-600 text-sky-600' : 'text-gray-500 hover:text-gray-700'}`}>\r\n                            Scheduled ({scheduledPosts.length})\r\n                        </button>\r\n                    </nav>\r\n                </div>\r\n                {error && <p className=\"text-red-500 bg-red-100 p-3 rounded mb-4\">{error}</p>}\r\n                <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\r\n                    {activeTab === 'published' && <PostsTable posts={publishedPosts} {...tableProps} onSelectAll={handleSelectAll} />}\r\n                    {activeTab === 'drafts' && <PostsTable posts={drafts} {...tableProps} onSelectAll={handleSelectAll} isDraft={true} />}\r\n                    {activeTab === 'scheduled' && <PostsTable posts={scheduledPosts} {...tableProps} onSelectAll={handleSelectAll} isScheduled={true} />}\r\n                </div>\r\n            </div>\r\n            {isShareModalOpen && <ShareModal post={selectedPost} onClose={() => setIsShareModalOpen(false)} />}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ManagePostsPage;"],"names":["digitCharacters","decode83","str","value","i","length","c","indexOf","sRGBToLinear","v","Math","pow","linearTosRGB","max","min","round","signPow","val","exp","abs","ValidationError","Error","constructor","message","super","this","name","validateBlurhash","blurhash","sizeFlag","numY","floor","numX","concat","decodeDC","intG","intB","decodeAC","maximumValue","quantR","quantG","quantB","decode","width","height","punch","colors","Array","substring","bytesPerRow","pixels","Uint8ClampedArray","y","x","r","g","b","j","basis","cos","PI","color","intR","BlurHashCanvas","_ref","blurHash","canvasRef","useRef","useEffect","current","decodedHeight","e","console","warn","ctx","getContext","imageData","createImageData","data","set","tmp","document","createElement","putImageData","canvas","clientWidth","clientHeight","clearRect","imageSmoothingEnabled","drawImage","_jsx","ref","className","_ref2","baseName","alt","sizes","onLoad","eager","loaded","setLoaded","useState","match","imageID","endsWith","slice","src","API_URL","placeholderSrc","srcSet","join","handleAfterLoad","event","_objectSpread","fetchpriority","_jsxs","children","style","transform","LazyLoadImage","effect","afterLoad","loading","post","onShare","onClose","setMessage","tags","setTags","pageUrl","id","title","htmlFor","onChange","target","rows","placeholder","type","onClick","handleShareClick","postId","split","map","tag","trim","filter","Boolean","formatDisplayDate","dateValue","date","Date","isNaN","getTime","toLocaleString","year","month","day","hour","minute","hour12","formatLayoutStyle","startsWith","count","PostsTable","posts","handleDelete","handleDuplicate","handleOpenShareModal","isScheduled","isDraft","selectedPostIds","onSelectOne","onSelectAll","isAddColumnDisabled","navigate","useNavigate","isAllSelected","useMemo","checked","_post$category","includes","ResponsiveAuthImage","thumbnails","imageUrl","category","layoutStyle","scheduledTime","updatedAt","createdAt","FaShareAlt","userFriendlySlug","FaEdit","FaTrash","layoutGroupId","disabled","FaCopy","ManagePostsPage","location","useLocation","allPosts","setAllPosts","drafts","setDrafts","error","setError","isShareModalOpen","setIsShareModalOpen","selectedPost","setSelectedPost","activeTab","setActiveTab","setSelectedPostIds","fetchAllData","useCallback","async","postsRes","draftsRes","Promise","all","getPosts","getDrafts","err","hash","publishedPosts","scheduledPosts","p","status","layoutGroupCounts","counts","forEach","groupId","limit","parseInt","_unused","currentVisiblePosts","handleSelectAll","postIds","tableProps","window","confirm","deletePost","duplicatePost","prev","_Fragment","Link","to","FaPlus","bulkDeletePosts","ShareModal"],"sourceRoot":""}