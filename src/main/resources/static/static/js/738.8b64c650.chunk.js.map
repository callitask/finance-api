{"version":3,"file":"static/js/738.8b64c650.chunk.js","mappings":"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","sources":["../node_modules/suneditor/src/lang/tr.js","../node_modules/suneditor/src/lang/ja.js","../node_modules/fast-deep-equal/index.js","../node_modules/suneditor/src/plugins/modules/component.js","../node_modules/suneditor-react/dist/lang/getLanguage.js","../node_modules/redux/es/redux.js","../node_modules/dnd-core/src/utils/js_utils.ts","../node_modules/dnd-core/src/actions/dragDrop/types.ts","../node_modules/dnd-core/src/actions/dragDrop/local/setClientOffset.ts","../node_modules/dnd-core/src/actions/dragDrop/beginDrag.ts","../node_modules/dnd-core/src/actions/dragDrop/drop.ts","../node_modules/dnd-core/src/actions/dragDrop/endDrag.ts","../node_modules/dnd-core/src/utils/matchesType.ts","../node_modules/dnd-core/src/actions/dragDrop/hover.ts","../node_modules/dnd-core/src/actions/dragDrop/publishDragSource.ts","../node_modules/dnd-core/src/classes/DragDropManagerImpl.ts","../node_modules/dnd-core/src/actions/dragDrop/index.ts","../node_modules/dnd-core/src/utils/coords.ts","../node_modules/dnd-core/src/utils/dirtiness.ts","../node_modules/dnd-core/src/classes/DragDropMonitorImpl.ts","../node_modules/@react-dnd/asap/src/makeRequestCall.ts","../node_modules/@react-dnd/asap/src/RawTask.ts","../node_modules/@react-dnd/asap/src/asap.ts","../node_modules/@react-dnd/asap/src/AsapQueue.ts","../node_modules/@react-dnd/asap/src/TaskFactory.ts","../node_modules/dnd-core/src/actions/registry.ts","../node_modules/dnd-core/src/contracts.ts","../node_modules/dnd-core/src/interfaces.ts","../node_modules/dnd-core/src/utils/getNextUniqueId.ts","../node_modules/dnd-core/src/classes/HandlerRegistryImpl.ts","../node_modules/dnd-core/src/utils/equality.ts","../node_modules/dnd-core/src/reducers/dirtyHandlerIds.ts","../node_modules/dnd-core/src/reducers/dragOffset.ts","../node_modules/dnd-core/src/reducers/dragOperation.ts","../node_modules/dnd-core/src/reducers/refCount.ts","../node_modules/dnd-core/src/reducers/stateId.ts","../node_modules/dnd-core/src/reducers/index.ts","../node_modules/dnd-core/src/createDragDropManager.ts","../node_modules/react-dnd/src/core/DndProvider.tsx","../node_modules/suneditor/src/plugins/modules/fileBrowser.js","../node_modules/suneditor/src/lang/index.js","../node_modules/suneditor/src/lang/ko.js","../node_modules/suneditor/src/lang/lv.js","../node_modules/suneditor/src/lang/de.js","../node_modules/react-image-crop/dist/index.js","../node_modules/browser-image-compression/lib/copyExifWithoutOrientation.js","../node_modules/browser-image-compression/node_modules/uzip/UZIP.js","../node_modules/browser-image-compression/lib/UPNG.js","../node_modules/browser-image-compression/lib/canvastobmp.js","../node_modules/browser-image-compression/lib/config/browser-name.js","../node_modules/browser-image-compression/lib/config/max-canvas-size.js","../node_modules/browser-image-compression/lib/utils.js","../node_modules/browser-image-compression/lib/image-compression.js","../node_modules/browser-image-compression/lib/web-worker.js","../node_modules/browser-image-compression/lib/index.js","../node_modules/suneditor/src/lang/da.js","../node_modules/@react-dnd/invariant/src/index.ts","../node_modules/react-dnd/src/hooks/useDrag/connectors.ts","../node_modules/react-dnd/src/internals/SourceConnector.ts","../node_modules/react-dnd/src/internals/DragSourceMonitorImpl.ts","../node_modules/react-dnd/src/hooks/useDrag/DragSourceImpl.ts","../node_modules/react-dnd/src/hooks/useDrag/useRegisteredDragSource.ts","../node_modules/react-dnd/src/hooks/useDrag/useDragSource.ts","../node_modules/react-dnd/src/hooks/useDrag/useDragType.ts","../node_modules/react-dnd/src/hooks/useDrag/useDrag.ts","../node_modules/react-dnd/src/hooks/useDrag/useDragSourceMonitor.ts","../node_modules/react-dnd/src/hooks/useDrag/useDragSourceConnector.ts","../node_modules/suneditor/src/plugins/modules/fileManager.js","../node_modules/suneditor-react/dist/components/SunEditor.js","../node_modules/suneditor/src/lang/ro.js","../node_modules/suneditor/src/lang/he.js","../node_modules/suneditor/src/lang/ckb.js","../node_modules/suneditor/src/lang/hu.js","../node_modules/react-dnd/src/hooks/useMonitorOutput.ts","../node_modules/react-dnd/src/hooks/useCollector.ts","../node_modules/react-dnd/src/hooks/useCollectedProps.ts","../node_modules/@react-dnd/shallowequal/src/index.ts","../node_modules/suneditor/src/lang/ru.js","../node_modules/suneditor/src/lang/ur.js","../node_modules/suneditor/src/lang/it.js","../node_modules/react-dnd/src/internals/registration.ts","../node_modules/react-dnd/src/hooks/useOptionalFactory.ts","../node_modules/suneditor/src/lang/se.js","../node_modules/suneditor/src/lang/zh_cn.js","../node_modules/react-dnd/src/core/DndContext.ts","../node_modules/suneditor/src/lang/en.js","../node_modules/react-dnd/src/hooks/useDrop/connectors.ts","../node_modules/react-dnd/src/internals/TargetConnector.ts","../node_modules/react-dnd/src/internals/DropTargetMonitorImpl.ts","../node_modules/react-dnd/src/hooks/useDrop/DropTargetImpl.ts","../node_modules/react-dnd/src/hooks/useDrop/useRegisteredDropTarget.ts","../node_modules/react-dnd/src/hooks/useDrop/useDropTarget.ts","../node_modules/react-dnd/src/hooks/useDrop/useAccept.ts","../node_modules/react-dnd/src/hooks/useDrop/useDrop.ts","../node_modules/react-dnd/src/hooks/useDrop/useDropTargetMonitor.ts","../node_modules/react-dnd/src/hooks/useDrop/useDropTargetConnector.ts","../node_modules/suneditor/src/plugins/command/blockquote.js","../node_modules/suneditor/src/plugins/submenu/align.js","../node_modules/suneditor/src/plugins/submenu/font.js","../node_modules/suneditor/src/plugins/submenu/fontSize.js","../node_modules/suneditor/src/plugins/modules/_colorPicker.js","../node_modules/suneditor/src/plugins/submenu/fontColor.js","../node_modules/suneditor/src/plugins/submenu/hiliteColor.js","../node_modules/suneditor/src/plugins/submenu/horizontalRule.js","../node_modules/suneditor/src/plugins/submenu/list.js","../node_modules/suneditor/src/plugins/submenu/table.js","../node_modules/suneditor/src/plugins/submenu/formatBlock.js","../node_modules/suneditor/src/plugins/submenu/lineHeight.js","../node_modules/suneditor/src/plugins/submenu/template.js","../node_modules/suneditor/src/plugins/submenu/paragraphStyle.js","../node_modules/suneditor/src/plugins/submenu/textStyle.js","../node_modules/suneditor/src/plugins/modules/_selectMenu.js","../node_modules/suneditor/src/plugins/modules/_anchor.js","../node_modules/suneditor/src/plugins/dialog/link.js","../node_modules/suneditor/src/plugins/dialog/image.js","../node_modules/suneditor/src/plugins/dialog/video.js","../node_modules/suneditor/src/plugins/dialog/audio.js","../node_modules/suneditor/src/plugins/dialog/math.js","../node_modules/suneditor/src/plugins/fileBrowser/imageGallery.js","../node_modules/suneditor/src/plugins/index.js","../node_modules/suneditor/src/lang/fa.js","../node_modules/suneditor/src/lang/es.js","../node_modules/suneditor/src/lang/nl.js","../node_modules/suneditor-react/dist/data/events.js","../node_modules/suneditor-react/dist/buttons/buttonList.js","../node_modules/suneditor/src/assets/defaultIcons.js","../node_modules/suneditor/src/lib/util.js","../node_modules/suneditor/src/lib/constructor.js","../node_modules/suneditor/src/lib/context.js","../node_modules/suneditor/src/plugins/modules/_notice.js","../node_modules/suneditor/src/suneditor.js","../node_modules/suneditor/src/lib/core.js","../node_modules/suneditor/src/lib/history.js","../node_modules/suneditor/src/lang/cs.js","../node_modules/react-dnd-html5-backend/src/utils/js_utils.ts","../node_modules/react-dnd-html5-backend/src/EnterLeaveCounter.ts","../node_modules/react-dnd-html5-backend/src/NativeDragSources/NativeDragSource.ts","../node_modules/react-dnd-html5-backend/src/NativeTypes.ts","../node_modules/react-dnd-html5-backend/src/NativeDragSources/getDataFromDataTransfer.ts","../node_modules/react-dnd-html5-backend/src/NativeDragSources/nativeTypesConfig.ts","../node_modules/react-dnd-html5-backend/src/NativeDragSources/index.ts","../node_modules/react-dnd-html5-backend/src/BrowserDetector.ts","../node_modules/react-dnd-html5-backend/src/MonotonicInterpolant.ts","../node_modules/react-dnd-html5-backend/src/OffsetUtils.ts","../node_modules/react-dnd-html5-backend/src/OptionsReader.ts","../node_modules/react-dnd-html5-backend/src/HTML5BackendImpl.ts","../node_modules/react-dnd-html5-backend/src/index.ts","../node_modules/suneditor/src/lang/km.js","../node_modules/suneditor/src/lang/fr.js","../node_modules/react-dnd/src/hooks/useIsomorphicLayoutEffect.ts","../node_modules/react-dnd/src/hooks/useDragDropManager.ts","../node_modules/suneditor/src/lang/pt_br.js","../node_modules/suneditor/src/lang/pl.js","../node_modules/suneditor/src/plugins/modules/resizing.js","../node_modules/react-dnd/src/internals/isRef.ts","../node_modules/suneditor-react/dist/index.js","../node_modules/suneditor/src/lang/ua.js","../node_modules/suneditor/src/plugins/modules/dialog.js","../node_modules/react-dnd/src/internals/wrapConnectorHooks.ts"],"sourcesContent":["/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2023 JiHong Lee.\r\n *\r\n * Turkish translation by worm-codes at github.com/worm-codes\r\n *\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n\tconst lang = {\r\n\t\tcode: \"tr\",\r\n\t\ttoolbar: {\r\n\t\t\tdefault: \"Varsayılan\",\r\n\t\t\tsave: \"Kaydet\",\r\n\t\t\tfont: \"Yazı Tipi\",\r\n\t\t\tformats: \"Biçimlendirmeler\",\r\n\t\t\tfontSize: \"Boyut\",\r\n\t\t\tbold: \"Kalın\",\r\n\t\t\tunderline: \"Alt Çizili\",\r\n\t\t\titalic: \"İtalik\",\r\n\t\t\tstrike: \"Üstü Çizili\",\r\n\t\t\tsubscript: \"Alt Simge\",\r\n\t\t\tsuperscript: \"Üst Simge\",\r\n\t\t\tremoveFormat: \"Biçimi Kaldır\",\r\n\t\t\tfontColor: \"Yazı Tipi Rengi\",\r\n\t\t\thiliteColor: \"Vurgu Rengi\",\r\n\t\t\tindent: \"Girinti\",\r\n\t\t\toutdent: \"Girintiyi Azalt\",\r\n\t\t\talign: \"Hizala\",\r\n\t\t\talignLeft: \"Sola Hizala\",\r\n\t\t\talignRight: \"Sağa Hizala\",\r\n\t\t\talignCenter: \"Ortaya Hizala\",\r\n\t\t\talignJustify: \"İki Yana Yasla\",\r\n\t\t\tlist: \"Liste\",\r\n\t\t\torderList: \"Sıralı Liste\",\r\n\t\t\tunorderList: \"Sırasız Liste\",\r\n\t\t\thorizontalRule: \"Yatay Çizgi\",\r\n\t\t\thr_solid: \"Düz\",\r\n\t\t\thr_dotted: \"Noktalı\",\r\n\t\t\thr_dashed: \"Kesikli\",\r\n\t\t\ttable: \"Tablo\",\r\n\t\t\tlink: \"Bağlantı\",\r\n\t\t\tmath: \"Matematik\",\r\n\t\t\timage: \"Görsel\",\r\n\t\t\tvideo: \"Video\",\r\n\t\t\taudio: \"Ses\",\r\n\t\t\tfullScreen: \"Tam Ekran\",\r\n\t\t\tshowBlocks: \"Blokları Göster\",\r\n\t\t\tcodeView: \"Kod Görünümü\",\r\n\t\t\tundo: \"Geri Al\",\r\n\t\t\tredo: \"İleri Al\",\r\n\t\t\tpreview: \"Önizleme\",\r\n\t\t\tprint: \"Yazdır\",\r\n\t\t\ttag_p: \"Paragraf\",\r\n\t\t\ttag_div: \"Normal (DIV)\",\r\n\t\t\ttag_h: \"Başlık\",\r\n\t\t\ttag_blockquote: \"Alıntı\",\r\n\t\t\ttag_pre: \"Kod\",\r\n\t\t\ttemplate: \"Şablon\",\r\n\t\t\tlineHeight: \"Satır Yüksekliği\",\r\n\t\t\tparagraphStyle: \"Paragraf Stili\",\r\n\t\t\ttextStyle: \"Metin Stili\",\r\n\t\t\timageGallery: \"Görüntü Galerisi\",\r\n\t\t\tdir_ltr: \"Soldan Sağa\",\r\n\t\t\tdir_rtl: \"Sağdan Sola\",\r\n\t\t\tmention: \"Belirtmek\"\r\n\t\t},\r\n\t\tdialogBox: {\r\n\t\t\tlinkBox: {\r\n\t\t\t\ttitle: \"Bağlantı Ekle\",\r\n\t\t\t\turl: \"Bağlantı URL'si\",\r\n\t\t\t\ttext: \"Görüntülenecek Metin\",\r\n\t\t\t\tnewWindowCheck: \"Yeni Pencerede Aç\",\r\n\t\t\t\tdownloadLinkCheck: \"Bağlantıyı İndir\",\r\n\t\t\t\tbookmark: \"Bağlantıyı Yer İmlerine Ekle\"\r\n\t\t\t},\r\n\t\t\tmathBox: {\r\n\t\t\t\ttitle: \"Matematik\",\r\n\t\t\t\tinputLabel: \"Matematiksel Simgeler\",\r\n\t\t\t\tfontSizeLabel: \"Yazı Tipi Boyutu\",\r\n\t\t\t\tpreviewLabel: \"Önizleme\"\r\n\t\t\t},\r\n\t\t\timageBox: {\r\n\t\t\t\ttitle: \"Görüntü Ekle\",\r\n\t\t\t\tfile: \"Dosya Seç\",\r\n\t\t\t\turl: \"Görüntü URL'si\",\r\n\t\t\t\taltText: \"Alternatif Metin\"\r\n\t\t\t},\r\n\t\t\tvideoBox: {\r\n\t\t\t\ttitle: \"Video Ekle\",\r\n\t\t\t\tfile: \"Dosya Seç\",\r\n\t\t\t\turl: \"Medya Ekleme URL'si (YouTube/Vimeo)\"\r\n\t\t\t},\r\n\t\t\taudioBox: {\r\n\t\t\t\ttitle: \"Ses Ekle\",\r\n\t\t\t\tfile: \"Dosya Seç\",\r\n\t\t\t\turl: \"Ses URL'si\"\r\n\t\t\t},\r\n\t\t\tbrowser: {\r\n\t\t\t\ttags: \"Etiketler\",\r\n\t\t\t\tsearch: \"Ara\"\r\n\t\t\t},\r\n\t\t\tcaption: \"Açıklama Giriniz\",\r\n\t\t\tclose: \"Kapat\",\r\n\t\t\tsubmitButton: \"Gönder\",\r\n\t\t\trevertButton: \"Geri Dön\",\r\n\t\t\tproportion: \"Orantıları Koru\",\r\n\t\t\tbasic: \"Temel\",\r\n\t\t\tleft: \"Sola\",\r\n\t\t\tright: \"Sağa\",\r\n\t\t\tcenter: \"Ortaya\",\r\n\t\t\twidth: \"Genişlik\",\r\n\t\t\theight: \"Yükseklik\",\r\n\t\t\tsize: \"Boyut\",\r\n\t\t\tratio: \"Oran\"\r\n\t\t},\r\n\t\tcontroller: {\r\n\t\t\tedit: \"Düzenle\",\r\n\t\t\tunlink: \"Bağlantıyı Kaldır\",\r\n\t\t\tremove: \"Kaldır\",\r\n\t\t\tinsertRowAbove: \"Satır Yukarı Ekle\",\r\n\t\t\tinsertRowBelow: \"Satır Aşağı Ekle\",\r\n\t\t\tdeleteRow: \"Satırı Sil\",\r\n\t\t\tinsertColumnBefore: \"Sütun Önce Ekle\",\r\n\t\t\tinsertColumnAfter: \"Sütun Sonrası Ekle\",\r\n\t\t\tdeleteColumn: \"Sütunu Sil\",\r\n\t\t\tfixedColumnWidth: \"Sabit Sütun Genişliği\",\r\n\t\t\tresize100: \"%100 Ölçeklendir\",\r\n\t\t\tresize75: \"%75 Ölçeklendir\",\r\n\t\t\tresize50: \"%50 Ölçeklendir\",\r\n\t\t\tresize25: \"%25 Ölçeklendir\",\r\n\t\t\tautoSize: \"Ölçeğe Otomatik Ayar\",\r\n\t\t\tmirrorHorizontal: \"Düzlemsel Aynalama (Yatay)\",\r\n\t\t\tmirrorVertical: \"Düzlemsel Aynalama (Dikey)\",\r\n\t\t\trotateLeft: \"Saat Yönünde Döndür\",\r\n\t\t\trotateRight: \"Saat Yönünün Tersine Döndür\",\r\n\t\t\tmaxSize: \"En Büyük Boyut\",\r\n\t\t\tminSize: \"En Küçük Boyut\",\r\n\t\t\ttableHeader: \"Tablo Başlığı\",\r\n\t\t\tmergeCells: \"Hücreleri Birleştir\",\r\n\t\t\tsplitCells: \"Hücreleri Ayır\",\r\n\t\t\tHorizontalSplit: \"Yatay Ayırma\",\r\n\t\t\tVerticalSplit: \"Dikey Ayırma\"\r\n\t\t},\r\n\t\tmenu: {\r\n\t\t\tspaced: \"Aralıklı\",\r\n\t\t\tbordered: \"Çerçeveli\",\r\n\t\t\tneon: \"Neon\",\r\n\t\t\ttranslucent: \"Yarı Saydam\",\r\n\t\t\tshadow: \"Gölge\",\r\n\t\t\tcode: \"Kod\"\r\n\t\t}\r\n\t};\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'tr', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ja',\r\n        toolbar: {\r\n            default: 'デフォルト',\r\n            save: '保存',\r\n            font: 'フォント',\r\n            formats: '段落形式',\r\n            fontSize: 'サイズ',\r\n            bold: '太字',\r\n            underline: '下線',\r\n            italic: 'イタリック',\r\n            strike: '取り消し線',\r\n            subscript: '下付き',\r\n            superscript: '上付き',\r\n            removeFormat: '形式を削除',\r\n            fontColor: '文字色',\r\n            hiliteColor: '文字の背景色',\r\n            indent: 'インデント',\r\n            outdent: 'インデント',\r\n            align: 'ソート',\r\n            alignLeft: '左揃え',\r\n            alignRight: '右揃え',\r\n            alignCenter: '中央揃え',\r\n            alignJustify: '両端揃え',\r\n            list: 'リスト',\r\n            orderList: '数値ブリット',\r\n            unorderList: '円形ブリット',\r\n            horizontalRule: '水平線を挿入',\r\n            hr_solid: '実線',\r\n            hr_dotted: '点線',\r\n            hr_dashed: 'ダッシュ',\r\n            table: 'テーブル',\r\n            link: 'リンク',\r\n            math: '数学',\r\n            image: '画像',\r\n            video: '動画',\r\n            audio: 'オーディオ',\r\n            fullScreen: 'フルスクリーン',\r\n            showBlocks: 'ブロック表示',\r\n            codeView: 'HTMLの編集',\r\n            undo: '元に戻す',\r\n            redo: '再実行',\r\n            preview: 'プレビュー',\r\n            print: '印刷',\r\n            tag_p: '本文',\r\n            tag_div: '基本（DIV）',\r\n            tag_h: 'タイトル',\r\n            tag_blockquote: '引用',\r\n            tag_pre: 'コード',\r\n            template: 'テンプレート',\r\n            lineHeight: '行の高さ',\r\n            paragraphStyle: '段落スタイル',\r\n            textStyle: 'テキストスタイル',\r\n            imageGallery: 'イメージギャラリー',\r\n            dir_ltr: '左から右へ',\r\n            dir_rtl: '右から左に',\r\n            mention: '言及する'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'リンクの挿入',\r\n                url: 'インターネットアドレス',\r\n                text: '画面のテキスト',\r\n                newWindowCheck: '別ウィンドウで開く',\r\n                downloadLinkCheck: 'ダウンロードリンク',\r\n                bookmark: 'ブックマーク'\r\n            },\r\n            mathBox: {\r\n                title: '数学',\r\n                inputLabel: '数学表記',\r\n                fontSizeLabel: 'サイズ',\r\n                previewLabel: 'プレビュー'\r\n            },\r\n            imageBox: {\r\n                title: '画像の挿入',\r\n                file: 'ファイルの選択',\r\n                url: 'イメージアドレス',\r\n                altText: '置換文字列'\r\n            },\r\n            videoBox: {\r\n                title: '動画を挿入',\r\n                file: 'ファイルの選択',\r\n                url: 'メディア埋め込みアドレス, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'オーディオを挿入',\r\n                file: 'ファイルの選択',\r\n                url: 'オーディオアドレス'\r\n            },\r\n            browser: {\r\n                tags: 'タグ',\r\n                search: '探す',\r\n            },\r\n            caption: '説明付け',\r\n            close: '閉じる',\r\n            submitButton: '確認',\r\n            revertButton: '元に戻す',\r\n            proportion: 'の割合カスタマイズ',\r\n            basic: '基本',\r\n            left: '左',\r\n            right: '右',\r\n            center: '中央',\r\n            width: '横',\r\n            height: '縦',\r\n            size: 'サイズ',\r\n            ratio: '比率'\r\n        },\r\n        controller: {\r\n            edit: '編集',\r\n            unlink: 'リンク解除',\r\n            remove: '削除',\r\n            insertRowAbove: '上に行を挿入',\r\n            insertRowBelow: '下に行を挿入',\r\n            deleteRow: '行の削除',\r\n            insertColumnBefore: '左に列を挿入',\r\n            insertColumnAfter: '右に列を挿入',\r\n            deleteColumn: '列を削除する',\r\n            fixedColumnWidth: '固定列幅',\r\n            resize100: '100％ サイズ',\r\n            resize75: '75％ サイズ',\r\n            resize50: '50％ サイズ',\r\n            resize25: '25％ サイズ',\r\n            autoSize: '自動サイズ',\r\n            mirrorHorizontal: '左右反転',\r\n            mirrorVertical: '上下反転',\r\n            rotateLeft: '左に回転',\r\n            rotateRight: '右に回転',\r\n            maxSize: '最大サイズ',\r\n            minSize: '最小サイズ',\r\n            tableHeader: '表のヘッダー',\r\n            mergeCells: 'セルの結合',\r\n            splitCells: 'セルを分割',\r\n            HorizontalSplit: '横分割',\r\n            VerticalSplit: '垂直分割'\r\n        },\r\n        menu: {\r\n            spaced: '文字間隔',\r\n            bordered: '境界線',\r\n            neon: 'ネオン',\r\n            translucent: '半透明',\r\n            shadow: '影',\r\n            code: 'コード'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ja', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const component = {\r\n        name: 'component',\r\n        /**\r\n         * @description Create a container for the resizing component and insert the element.\r\n         * @param {Element} cover Cover element (FIGURE)\r\n         * @param {String} className Class name of container (fixed: se-component)\r\n         * @returns {Element} Created container element\r\n         */\r\n        set_container: function (cover, className) {\r\n            const container = this.util.createElement('DIV');\r\n            container.className = 'se-component ' + className;\r\n            container.appendChild(cover);\r\n    \r\n            return container;\r\n        },\r\n\r\n        /**\r\n         * @description Cover the target element with a FIGURE element.\r\n         * @param {Element} element Target element\r\n         */\r\n        set_cover: function (element) {\r\n            const cover = this.util.createElement('FIGURE');\r\n            cover.appendChild(element);\r\n    \r\n            return cover;\r\n        },\r\n\r\n        /**\r\n         * @description Return HTML string of caption(FIGCAPTION) element\r\n         * @returns {String}\r\n         */\r\n        create_caption: function () {\r\n            const caption = this.util.createElement('FIGCAPTION');\r\n            caption.innerHTML = '<div>' + this.lang.dialogBox.caption + '</div>';\r\n            return caption;\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'component', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: component\r\n        });\r\n    }\r\n\r\n    return component;\r\n}));","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar getLanguage = function (lang) {\n    switch (typeof lang) {\n        case \"object\":\n            return lang;\n        case \"string\":\n            return require(\"suneditor/src/lang/\".concat(lang, \".js\"));\n        default:\n            return undefined;\n    }\n};\nexports.default = getLanguage;\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get<T>(obj: any, path: string, defaultValue: T): T {\n\treturn path\n\t\t.split('.')\n\t\t.reduce((a, c) => (a && a[c] ? a[c] : defaultValue || null), obj) as T\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T): T[] {\n\treturn items.filter((i) => i !== item)\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isString(input: any): boolean {\n\treturn typeof input === 'string'\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isObject(input: any): boolean {\n\treturn typeof input === 'object'\n}\n\n/**\n * replacement for _.xor\n * @param itemsA\n * @param itemsB\n */\nexport function xor<T extends string | number>(itemsA: T[], itemsB: T[]): T[] {\n\tconst map = new Map<T, number>()\n\tconst insertItem = (item: T) => {\n\t\tmap.set(item, map.has(item) ? (map.get(item) as number) + 1 : 1)\n\t}\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tmap.forEach((count, key) => {\n\t\tif (count === 1) {\n\t\t\tresult.push(key)\n\t\t}\n\t})\n\treturn result\n}\n\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\nexport function intersection<T>(itemsA: T[], itemsB: T[]): T[] {\n\treturn itemsA.filter((t) => itemsB.indexOf(t) > -1)\n}\n","export const INIT_COORDS = 'dnd-core/INIT_COORDS'\nexport const BEGIN_DRAG = 'dnd-core/BEGIN_DRAG'\nexport const PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE'\nexport const HOVER = 'dnd-core/HOVER'\nexport const DROP = 'dnd-core/DROP'\nexport const END_DRAG = 'dnd-core/END_DRAG'\n","import type { AnyAction } from 'redux'\n\nimport type { XYCoord } from '../../../interfaces.js'\nimport { INIT_COORDS } from '../types.js'\n\nexport function setClientOffset(\n\tclientOffset: XYCoord | null | undefined,\n\tsourceClientOffset?: XYCoord | null | undefined,\n): AnyAction {\n\treturn {\n\t\ttype: INIT_COORDS,\n\t\tpayload: {\n\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\tclientOffset: clientOffset || null,\n\t\t},\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tBeginDragOptions,\n\tBeginDragPayload,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tXYCoord,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { setClientOffset } from './local/setClientOffset.js'\nimport { BEGIN_DRAG, INIT_COORDS } from './types.js'\n\nconst ResetCoordinatesAction = {\n\ttype: INIT_COORDS,\n\tpayload: {\n\t\tclientOffset: null,\n\t\tsourceClientOffset: null,\n\t},\n}\n\nexport function createBeginDrag(manager: DragDropManager) {\n\treturn function beginDrag(\n\t\tsourceIds: Identifier[] = [],\n\t\toptions: BeginDragOptions = {\n\t\t\tpublishSource: true,\n\t\t},\n\t): Action<BeginDragPayload> | undefined {\n\t\tconst {\n\t\t\tpublishSource = true,\n\t\t\tclientOffset,\n\t\t\tgetSourceClientOffset,\n\t\t}: BeginDragOptions = options\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\n\t\t// Initialize the coordinates using the client offset\n\t\tmanager.dispatch(setClientOffset(clientOffset))\n\n\t\tverifyInvariants(sourceIds, monitor, registry)\n\n\t\t// Get the draggable source\n\t\tconst sourceId = getDraggableSource(sourceIds, monitor)\n\t\tif (sourceId == null) {\n\t\t\tmanager.dispatch(ResetCoordinatesAction)\n\t\t\treturn\n\t\t}\n\n\t\t// Get the source client offset\n\t\tlet sourceClientOffset: XYCoord | null = null\n\t\tif (clientOffset) {\n\t\t\tif (!getSourceClientOffset) {\n\t\t\t\tthrow new Error('getSourceClientOffset must be defined')\n\t\t\t}\n\t\t\tverifyGetSourceClientOffsetIsFunction(getSourceClientOffset)\n\t\t\tsourceClientOffset = getSourceClientOffset(sourceId)\n\t\t}\n\n\t\t// Initialize the full coordinates\n\t\tmanager.dispatch(setClientOffset(clientOffset, sourceClientOffset))\n\n\t\tconst source = registry.getSource(sourceId)\n\t\tconst item = source.beginDrag(monitor, sourceId)\n\t\t// If source.beginDrag returns null, this is an indicator to cancel the drag\n\t\tif (item == null) {\n\t\t\treturn undefined\n\t\t}\n\t\tverifyItemIsObject(item)\n\t\tregistry.pinSource(sourceId)\n\n\t\tconst itemType = registry.getSourceType(sourceId)\n\t\treturn {\n\t\t\ttype: BEGIN_DRAG,\n\t\t\tpayload: {\n\t\t\t\titemType,\n\t\t\t\titem,\n\t\t\t\tsourceId,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\t\tisSourcePublic: !!publishSource,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyInvariants(\n\tsourceIds: Identifier[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.')\n\tsourceIds.forEach(function (sourceId) {\n\t\tinvariant(\n\t\t\tregistry.getSource(sourceId),\n\t\t\t'Expected sourceIds to be registered.',\n\t\t)\n\t})\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset: any) {\n\tinvariant(\n\t\ttypeof getSourceClientOffset === 'function',\n\t\t'When clientOffset is provided, getSourceClientOffset must be a function.',\n\t)\n}\n\nfunction verifyItemIsObject(item: any) {\n\tinvariant(isObject(item), 'Item must be an object.')\n}\n\nfunction getDraggableSource(sourceIds: Identifier[], monitor: DragDropMonitor) {\n\tlet sourceId = null\n\tfor (let i = sourceIds.length - 1; i >= 0; i--) {\n\t\tif (monitor.canDragSource(sourceIds[i])) {\n\t\t\tsourceId = sourceIds[i]\n\t\t\tbreak\n\t\t}\n\t}\n\treturn sourceId\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tDropPayload,\n\tHandlerRegistry,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { DROP } from './types.js'\n\nexport function createDrop(manager: DragDropManager) {\n\treturn function drop(options = {}): void {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyInvariants(monitor)\n\t\tconst targetIds = getDroppableTargets(monitor)\n\n\t\t// Multiple actions are dispatched here, which is why this doesn't return an action\n\t\ttargetIds.forEach((targetId, index) => {\n\t\t\tconst dropResult = determineDropResult(targetId, index, registry, monitor)\n\t\t\tconst action: Action<DropPayload> = {\n\t\t\t\ttype: DROP,\n\t\t\t\tpayload: {\n\t\t\t\t\tdropResult: {\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\t...dropResult,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t\tmanager.dispatch(action)\n\t\t})\n\t}\n}\n\nfunction verifyInvariants(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call drop while not dragging.')\n\tinvariant(\n\t\t!monitor.didDrop(),\n\t\t'Cannot call drop twice during one drag operation.',\n\t)\n}\n\nfunction determineDropResult(\n\ttargetId: Identifier,\n\tindex: number,\n\tregistry: HandlerRegistry,\n\tmonitor: DragDropMonitor,\n) {\n\tconst target = registry.getTarget(targetId)\n\tlet dropResult = target ? target.drop(monitor, targetId) : undefined\n\tverifyDropResultType(dropResult)\n\tif (typeof dropResult === 'undefined') {\n\t\tdropResult = index === 0 ? {} : monitor.getDropResult()\n\t}\n\treturn dropResult\n}\n\nfunction verifyDropResultType(dropResult: any) {\n\tinvariant(\n\t\ttypeof dropResult === 'undefined' || isObject(dropResult),\n\t\t'Drop result must either be an object or undefined.',\n\t)\n}\n\nfunction getDroppableTargets(monitor: DragDropMonitor) {\n\tconst targetIds = monitor\n\t\t.getTargetIds()\n\t\t.filter(monitor.canDropOnTarget, monitor)\n\ttargetIds.reverse()\n\treturn targetIds\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tSentinelAction,\n} from '../../interfaces.js'\nimport { END_DRAG } from './types.js'\n\nexport function createEndDrag(manager: DragDropManager) {\n\treturn function endDrag(): SentinelAction {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyIsDragging(monitor)\n\n\t\tconst sourceId = monitor.getSourceId()\n\t\tif (sourceId != null) {\n\t\t\tconst source = registry.getSource(sourceId, true)\n\t\t\tsource.endDrag(monitor, sourceId)\n\t\t\tregistry.unpinSource()\n\t\t}\n\t\treturn { type: END_DRAG }\n\t}\n}\n\nfunction verifyIsDragging(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.')\n}\n","import type { Identifier } from '../interfaces.js'\n\nexport function matchesType(\n\ttargetType: Identifier | Identifier[] | null,\n\tdraggedItemType: Identifier | null,\n): boolean {\n\tif (draggedItemType === null) {\n\t\treturn targetType === null\n\t}\n\treturn Array.isArray(targetType)\n\t\t? (targetType as Identifier[]).some((t) => t === draggedItemType)\n\t\t: targetType === draggedItemType\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tHoverOptions,\n\tHoverPayload,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { matchesType } from '../../utils/matchesType.js'\nimport { HOVER } from './types.js'\n\nexport function createHover(manager: DragDropManager) {\n\treturn function hover(\n\t\ttargetIdsArg: string[],\n\t\t{ clientOffset }: HoverOptions = {},\n\t): Action<HoverPayload> {\n\t\tverifyTargetIdsIsArray(targetIdsArg)\n\t\tconst targetIds = targetIdsArg.slice(0)\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tconst draggedItemType = monitor.getItemType()\n\t\tremoveNonMatchingTargetIds(targetIds, registry, draggedItemType)\n\t\tcheckInvariants(targetIds, monitor, registry)\n\t\thoverAllTargets(targetIds, monitor, registry)\n\n\t\treturn {\n\t\t\ttype: HOVER,\n\t\t\tpayload: {\n\t\t\t\ttargetIds,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg: string[]) {\n\tinvariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.')\n}\n\nfunction checkInvariants(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(monitor.isDragging(), 'Cannot call hover while not dragging.')\n\tinvariant(!monitor.didDrop(), 'Cannot call hover after drop.')\n\tfor (let i = 0; i < targetIds.length; i++) {\n\t\tconst targetId = targetIds[i] as string\n\t\tinvariant(\n\t\t\ttargetIds.lastIndexOf(targetId) === i,\n\t\t\t'Expected targetIds to be unique in the passed array.',\n\t\t)\n\n\t\tconst target = registry.getTarget(targetId)\n\t\tinvariant(target, 'Expected targetIds to be registered.')\n\t}\n}\n\nfunction removeNonMatchingTargetIds(\n\ttargetIds: string[],\n\tregistry: HandlerRegistry,\n\tdraggedItemType: Identifier | null,\n) {\n\t// Remove those targetIds that don't match the targetType.  This\n\t// fixes shallow isOver which would only be non-shallow because of\n\t// non-matching targets.\n\tfor (let i = targetIds.length - 1; i >= 0; i--) {\n\t\tconst targetId = targetIds[i] as string\n\t\tconst targetType = registry.getTargetType(targetId)\n\t\tif (!matchesType(targetType, draggedItemType)) {\n\t\t\ttargetIds.splice(i, 1)\n\t\t}\n\t}\n}\n\nfunction hoverAllTargets(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\t// Finally call hover on all matching targets.\n\ttargetIds.forEach(function (targetId) {\n\t\tconst target = registry.getTarget(targetId)\n\t\ttarget.hover(monitor, targetId)\n\t})\n}\n","import type { DragDropManager, SentinelAction } from '../../interfaces.js'\nimport { PUBLISH_DRAG_SOURCE } from './types.js'\n\nexport function createPublishDragSource(manager: DragDropManager) {\n\treturn function publishDragSource(): SentinelAction | undefined {\n\t\tconst monitor = manager.getMonitor()\n\t\tif (monitor.isDragging()) {\n\t\t\treturn { type: PUBLISH_DRAG_SOURCE }\n\t\t}\n\t\treturn\n\t}\n}\n","import type { Action, Store } from 'redux'\n\nimport { createDragDropActions } from '../actions/dragDrop/index.js'\nimport type {\n\tActionCreator,\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport type { DragDropMonitorImpl } from './DragDropMonitorImpl.js'\n\nexport class DragDropManagerImpl implements DragDropManager {\n\tprivate store: Store<State>\n\tprivate monitor: DragDropMonitor\n\tprivate backend: Backend | undefined\n\tprivate isSetUp = false\n\n\tpublic constructor(store: Store<State>, monitor: DragDropMonitor) {\n\t\tthis.store = store\n\t\tthis.monitor = monitor\n\t\tstore.subscribe(this.handleRefCountChange)\n\t}\n\n\tpublic receiveBackend(backend: Backend): void {\n\t\tthis.backend = backend\n\t}\n\n\tpublic getMonitor(): DragDropMonitor {\n\t\treturn this.monitor\n\t}\n\n\tpublic getBackend(): Backend {\n\t\treturn this.backend as Backend\n\t}\n\n\tpublic getRegistry(): HandlerRegistry {\n\t\treturn (this.monitor as DragDropMonitorImpl).registry\n\t}\n\n\tpublic getActions(): DragDropActions {\n\t\t/* eslint-disable-next-line @typescript-eslint/no-this-alias */\n\t\tconst manager = this\n\t\tconst { dispatch } = this.store\n\n\t\tfunction bindActionCreator(actionCreator: ActionCreator<any>) {\n\t\t\treturn (...args: any[]) => {\n\t\t\t\tconst action = actionCreator.apply(manager, args as any)\n\t\t\t\tif (typeof action !== 'undefined') {\n\t\t\t\t\tdispatch(action)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst actions = createDragDropActions(this)\n\n\t\treturn Object.keys(actions).reduce(\n\t\t\t(boundActions: DragDropActions, key: string) => {\n\t\t\t\tconst action: ActionCreator<any> = (actions as any)[\n\t\t\t\t\tkey\n\t\t\t\t] as ActionCreator<any>\n\t\t\t\t;(boundActions as any)[key] = bindActionCreator(action)\n\t\t\t\treturn boundActions\n\t\t\t},\n\t\t\t{} as DragDropActions,\n\t\t)\n\t}\n\n\tpublic dispatch(action: Action<any>): void {\n\t\tthis.store.dispatch(action)\n\t}\n\n\tprivate handleRefCountChange = (): void => {\n\t\tconst shouldSetUp = this.store.getState().refCount > 0\n\t\tif (this.backend) {\n\t\t\tif (shouldSetUp && !this.isSetUp) {\n\t\t\t\tthis.backend.setup()\n\t\t\t\tthis.isSetUp = true\n\t\t\t} else if (!shouldSetUp && this.isSetUp) {\n\t\t\t\tthis.backend.teardown()\n\t\t\t\tthis.isSetUp = false\n\t\t\t}\n\t\t}\n\t}\n}\n","import type { DragDropActions, DragDropManager } from '../../interfaces.js'\nimport { createBeginDrag } from './beginDrag.js'\nimport { createDrop } from './drop.js'\nimport { createEndDrag } from './endDrag.js'\nimport { createHover } from './hover.js'\nimport { createPublishDragSource } from './publishDragSource.js'\n\nexport * from './types.js'\n\nexport function createDragDropActions(\n\tmanager: DragDropManager,\n): DragDropActions {\n\treturn {\n\t\tbeginDrag: createBeginDrag(manager),\n\t\tpublishDragSource: createPublishDragSource(manager),\n\t\thover: createHover(manager),\n\t\tdrop: createDrop(manager),\n\t\tendDrag: createEndDrag(manager),\n\t}\n}\n","import type { XYCoord } from '../interfaces.js'\nimport type { State } from '../reducers/dragOffset.js'\n\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x + b.x,\n\t\ty: a.y + b.y,\n\t}\n}\n\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function subtract(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x - b.x,\n\t\ty: a.y - b.y,\n\t}\n}\n\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\nexport function getSourceClientOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset, initialSourceClientOffset } = state\n\tif (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(\n\t\tadd(clientOffset, initialSourceClientOffset),\n\t\tinitialClientOffset,\n\t)\n}\n\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\nexport function getDifferenceFromInitialOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset } = state\n\tif (!clientOffset || !initialClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(clientOffset, initialClientOffset)\n}\n","import { intersection } from './js_utils.js'\n\nexport const NONE: string[] = []\nexport const ALL: string[] = []\n// Add these flags for debug\n;(NONE as any).__IS_NONE__ = true\n;(ALL as any).__IS_ALL__ = true\n\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\nexport function areDirty(\n\tdirtyIds: string[],\n\thandlerIds: string[] | undefined,\n): boolean {\n\tif (dirtyIds === NONE) {\n\t\treturn false\n\t}\n\n\tif (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n\t\treturn true\n\t}\n\n\tconst commonIds = intersection(handlerIds, dirtyIds)\n\treturn commonIds.length > 0\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport type {\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport {\n\tgetDifferenceFromInitialOffset,\n\tgetSourceClientOffset,\n} from '../utils/coords.js'\nimport { areDirty } from '../utils/dirtiness.js'\nimport { matchesType } from '../utils/matchesType.js'\n\nexport class DragDropMonitorImpl implements DragDropMonitor {\n\tprivate store: Store<State>\n\tpublic readonly registry: HandlerRegistry\n\n\tpublic constructor(store: Store<State>, registry: HandlerRegistry) {\n\t\tthis.store = store\n\t\tthis.registry = registry\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions: { handlerIds?: string[] } = {},\n\t): Unsubscribe {\n\t\tconst { handlerIds } = options\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\t\tinvariant(\n\t\t\ttypeof handlerIds === 'undefined' || Array.isArray(handlerIds),\n\t\t\t'handlerIds, when specified, must be an array of strings.',\n\t\t)\n\n\t\tlet prevStateId = this.store.getState().stateId\n\t\tconst handleChange = () => {\n\t\t\tconst state = this.store.getState()\n\t\t\tconst currentStateId = state.stateId\n\t\t\ttry {\n\t\t\t\tconst canSkipListener =\n\t\t\t\t\tcurrentStateId === prevStateId ||\n\t\t\t\t\t(currentStateId === prevStateId + 1 &&\n\t\t\t\t\t\t!areDirty(state.dirtyHandlerIds, handlerIds))\n\n\t\t\t\tif (!canSkipListener) {\n\t\t\t\t\tlistener()\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tprevStateId = currentStateId\n\t\t\t}\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic subscribeToOffsetChange(listener: Listener): Unsubscribe {\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\n\t\tlet previousState = this.store.getState().dragOffset\n\t\tconst handleChange = () => {\n\t\t\tconst nextState = this.store.getState().dragOffset\n\t\t\tif (nextState === previousState) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tpreviousState = nextState\n\t\t\tlistener()\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic canDragSource(sourceId: string | undefined): boolean {\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.canDrag(this, sourceId)\n\t}\n\n\tpublic canDropOnTarget(targetId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\t\tconst target = this.registry.getTarget(targetId)\n\t\tinvariant(target, `Expected to find a valid target. targetId=${targetId}`)\n\n\t\tif (!this.isDragging() || this.didDrop()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\treturn (\n\t\t\tmatchesType(targetType, draggedItemType) && target.canDrop(this, targetId)\n\t\t)\n\t}\n\n\tpublic isDragging(): boolean {\n\t\treturn Boolean(this.getItemType())\n\t}\n\n\tpublic isDraggingSource(sourceId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId, true)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (!this.isDragging() || !this.isSourcePublic()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst sourceType = this.registry.getSourceType(sourceId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (sourceType !== draggedItemType) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.isDragging(this, sourceId)\n\t}\n\n\tpublic isOverTarget(\n\t\ttargetId: string | undefined,\n\t\toptions = { shallow: false },\n\t): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst { shallow } = options\n\t\tif (!this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (draggedItemType && !matchesType(targetType, draggedItemType)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetIds = this.getTargetIds()\n\t\tif (!targetIds.length) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst index = targetIds.indexOf(targetId)\n\t\tif (shallow) {\n\t\t\treturn index === targetIds.length - 1\n\t\t} else {\n\t\t\treturn index > -1\n\t\t}\n\t}\n\n\tpublic getItemType(): Identifier {\n\t\treturn this.store.getState().dragOperation.itemType as Identifier\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.store.getState().dragOperation.item\n\t}\n\n\tpublic getSourceId(): string | null {\n\t\treturn this.store.getState().dragOperation.sourceId\n\t}\n\n\tpublic getTargetIds(): string[] {\n\t\treturn this.store.getState().dragOperation.targetIds\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.store.getState().dragOperation.dropResult\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.store.getState().dragOperation.didDrop\n\t}\n\n\tpublic isSourcePublic(): boolean {\n\t\treturn Boolean(this.store.getState().dragOperation.isSourcePublic)\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialClientOffset\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialSourceClientOffset\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.clientOffset\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn getSourceClientOffset(this.store.getState().dragOffset)\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn getDifferenceFromInitialOffset(this.store.getState().dragOffset)\n\t}\n}\n","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n","// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { Task, TaskFn } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n","import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\nimport type { Task } from './types.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.js’s\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","import { RawTask } from './RawTask.js'\nimport type { Task } from './types.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n","import type { Action, SourceIdPayload, TargetIdPayload } from '../interfaces.js'\n\nexport const ADD_SOURCE = 'dnd-core/ADD_SOURCE'\nexport const ADD_TARGET = 'dnd-core/ADD_TARGET'\nexport const REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE'\nexport const REMOVE_TARGET = 'dnd-core/REMOVE_TARGET'\n\nexport function addSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: ADD_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function addTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: ADD_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n\nexport function removeSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: REMOVE_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function removeTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: REMOVE_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type { DragSource, DropTarget, Identifier } from './interfaces.js'\n\nexport function validateSourceContract(source: DragSource): void {\n\tinvariant(\n\t\ttypeof source.canDrag === 'function',\n\t\t'Expected canDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.beginDrag === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.endDrag === 'function',\n\t\t'Expected endDrag to be a function.',\n\t)\n}\n\nexport function validateTargetContract(target: DropTarget): void {\n\tinvariant(\n\t\ttypeof target.canDrop === 'function',\n\t\t'Expected canDrop to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.hover === 'function',\n\t\t'Expected hover to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.drop === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n}\n\nexport function validateType(\n\ttype: Identifier | Identifier[],\n\tallowArray?: boolean,\n): void {\n\tif (allowArray && Array.isArray(type)) {\n\t\ttype.forEach((t) => validateType(t, false))\n\t\treturn\n\t}\n\n\tinvariant(\n\t\ttypeof type === 'string' || typeof type === 'symbol',\n\t\tallowArray\n\t\t\t? 'Type can only be a string, a symbol, or an array of either.'\n\t\t\t: 'Type can only be a string or a symbol.',\n\t)\n}\n","export type Identifier = string | symbol\nexport type SourceType = Identifier\nexport type TargetType = Identifier | Identifier[]\nexport type Unsubscribe = () => void\nexport type Listener = () => void\n\nexport interface XYCoord {\n\tx: number\n\ty: number\n}\n\nexport enum HandlerRole {\n\tSOURCE = 'SOURCE',\n\tTARGET = 'TARGET',\n}\n\nexport interface Backend {\n\tsetup(): void\n\tteardown(): void\n\tconnectDragSource(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDragPreview(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDropTarget(targetId: any, node?: any, options?: any): Unsubscribe\n\tprofile(): Record<string, number>\n}\n\nexport interface DragDropMonitor {\n\tsubscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: {\n\t\t\thandlerIds?: Identifier[]\n\t\t},\n\t): Unsubscribe\n\tsubscribeToOffsetChange(listener: Listener): Unsubscribe\n\tcanDragSource(sourceId: Identifier | undefined): boolean\n\tcanDropOnTarget(targetId: Identifier | undefined): boolean\n\n\t/**\n\t * Returns true if a drag operation is in progress, and either the owner initiated the drag, or its isDragging()\n\t * is defined and returns true.\n\t */\n\tisDragging(): boolean\n\tisDraggingSource(sourceId: Identifier | undefined): boolean\n\tisOverTarget(\n\t\ttargetId: Identifier | undefined,\n\t\toptions?: {\n\t\t\tshallow?: boolean\n\t\t},\n\t): boolean\n\n\t/**\n\t * Returns a string or a symbol identifying the type of the current dragged item. Returns null if no item is being dragged.\n\t */\n\tgetItemType(): Identifier | null\n\n\t/**\n\t * Returns a plain object representing the currently dragged item. Every drag source must specify it by returning an object\n\t * from its beginDrag() method. Returns null if no item is being dragged.\n\t */\n\tgetItem(): any\n\tgetSourceId(): Identifier | null\n\tgetTargetIds(): Identifier[]\n\t/**\n\t * Returns a plain object representing the last recorded drop result. The drop targets may optionally specify it by returning an\n\t * object from their drop() methods. When a chain of drop() is dispatched for the nested targets, bottom up, any parent that\n\t * explicitly returns its own result from drop() overrides the child drop result previously set by the child. Returns null if\n\t * called outside endDrag().\n\t */\n\tgetDropResult(): any\n\t/**\n\t * Returns true if some drop target has handled the drop event, false otherwise. Even if a target did not return a drop result,\n\t * didDrop() returns true. Use it inside endDrag() to test whether any drop target has handled the drop. Returns false if called\n\t * outside endDrag().\n\t */\n\tdidDrop(): boolean\n\tisSourcePublic(): boolean | null\n\t/**\n\t * Returns the { x, y } client offset of the pointer at the time when the current drag operation has started.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetInitialClientOffset(): XYCoord | null\n\t/**\n\t * Returns the { x, y } client offset of the drag source component's root DOM node at the time when the current drag\n\t * operation has started. Returns null if no item is being dragged.\n\t */\n\tgetInitialSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the last recorded { x, y } client offset of the pointer while a drag operation is in progress.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the projected { x, y } client offset of the drag source component's root DOM node, based on its position at the time\n\t * when the current drag operation has started, and the movement difference. Returns null if no item is being dragged.\n\t */\n\tgetSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the { x, y } difference between the last recorded client offset of the pointer and the client offset when the current\n\t * drag operation has started. Returns null if no item is being dragged.\n\t */\n\tgetDifferenceFromInitialOffset(): XYCoord | null\n}\n\nexport interface HandlerRegistry {\n\taddSource(type: SourceType, source: DragSource): Identifier\n\taddTarget(type: TargetType, target: DropTarget): Identifier\n\tcontainsHandler(handler: DragSource | DropTarget): boolean\n\tgetSource(sourceId: Identifier, includePinned?: boolean): DragSource\n\tgetSourceType(sourceId: Identifier): SourceType\n\tgetTargetType(targetId: Identifier): TargetType\n\tgetTarget(targetId: Identifier): DropTarget\n\tisSourceId(handlerId: Identifier): boolean\n\tisTargetId(handlerId: Identifier): boolean\n\tremoveSource(sourceId: Identifier): void\n\tremoveTarget(targetId: Identifier): void\n\tpinSource(sourceId: Identifier): void\n\tunpinSource(): void\n}\n\nexport interface Action<Payload> {\n\ttype: Identifier\n\tpayload: Payload\n}\nexport interface SentinelAction {\n\ttype: Identifier\n}\n\nexport type ActionCreator<Payload> = (args: any[]) => Action<Payload>\n\nexport interface BeginDragOptions {\n\tpublishSource?: boolean\n\tclientOffset?: XYCoord\n\tgetSourceClientOffset?: (sourceId: Identifier | undefined) => XYCoord\n}\n\nexport interface InitCoordsPayload {\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n}\n\nexport interface BeginDragPayload {\n\titemType: Identifier\n\titem: any\n\tsourceId: Identifier\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n\tisSourcePublic: boolean\n}\n\nexport interface HoverPayload {\n\ttargetIds: Identifier[]\n\tclientOffset: XYCoord | null\n}\n\nexport interface HoverOptions {\n\tclientOffset?: XYCoord\n}\n\nexport interface DropPayload {\n\tdropResult: any\n}\n\nexport interface TargetIdPayload {\n\ttargetId: Identifier\n}\n\nexport interface SourceIdPayload {\n\tsourceId: Identifier\n}\n\nexport interface DragDropActions {\n\tbeginDrag(\n\t\tsourceIds?: Identifier[],\n\t\toptions?: any,\n\t): Action<BeginDragPayload> | undefined\n\tpublishDragSource(): SentinelAction | undefined\n\thover(targetIds: Identifier[], options?: any): Action<HoverPayload>\n\tdrop(options?: any): void\n\tendDrag(): SentinelAction\n}\n\nexport interface DragDropManager {\n\tgetMonitor(): DragDropMonitor\n\tgetBackend(): Backend\n\tgetRegistry(): HandlerRegistry\n\tgetActions(): DragDropActions\n\tdispatch(action: any): void\n}\n\nexport type BackendFactory = (\n\tmanager: DragDropManager,\n\tglobalContext?: any,\n\tconfiguration?: any,\n) => Backend\n\nexport interface DragSource {\n\tbeginDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tendDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tcanDrag(monitor: DragDropMonitor, targetId: Identifier): boolean\n\tisDragging(monitor: DragDropMonitor, targetId: Identifier): boolean\n}\n\nexport interface DropTarget {\n\tcanDrop(monitor: DragDropMonitor, targetId: Identifier): boolean\n\thover(monitor: DragDropMonitor, targetId: Identifier): void\n\tdrop(monitor: DragDropMonitor, targetId: Identifier): any\n}\n","let nextUniqueId = 0\n\nexport function getNextUniqueId(): number {\n\treturn nextUniqueId++\n}\n","import { asap } from '@react-dnd/asap'\nimport { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport {\n\taddSource,\n\taddTarget,\n\tremoveSource,\n\tremoveTarget,\n} from '../actions/registry.js'\nimport {\n\tvalidateSourceContract,\n\tvalidateTargetContract,\n\tvalidateType,\n} from '../contracts.js'\nimport type {\n\tDragSource,\n\tDropTarget,\n\tHandlerRegistry,\n\tIdentifier,\n\tSourceType,\n\tTargetType,\n} from '../interfaces.js'\nimport { HandlerRole } from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport { getNextUniqueId } from '../utils/getNextUniqueId.js'\n\nfunction getNextHandlerId(role: HandlerRole): string {\n\tconst id = getNextUniqueId().toString()\n\tswitch (role) {\n\t\tcase HandlerRole.SOURCE:\n\t\t\treturn `S${id}`\n\t\tcase HandlerRole.TARGET:\n\t\t\treturn `T${id}`\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown Handler Role: ${role}`)\n\t}\n}\n\nfunction parseRoleFromHandlerId(handlerId: string) {\n\tswitch (handlerId[0]) {\n\t\tcase 'S':\n\t\t\treturn HandlerRole.SOURCE\n\t\tcase 'T':\n\t\t\treturn HandlerRole.TARGET\n\t\tdefault:\n\t\t\tthrow new Error(`Cannot parse handler ID: ${handlerId}`)\n\t}\n}\n\nfunction mapContainsValue<T>(map: Map<string, T>, searchValue: T) {\n\tconst entries = map.entries()\n\tlet isDone = false\n\tdo {\n\t\tconst {\n\t\t\tdone,\n\t\t\tvalue: [, value],\n\t\t} = entries.next()\n\t\tif (value === searchValue) {\n\t\t\treturn true\n\t\t}\n\t\tisDone = !!done\n\t} while (!isDone)\n\treturn false\n}\n\nexport class HandlerRegistryImpl implements HandlerRegistry {\n\tprivate types: Map<string, SourceType | TargetType> = new Map()\n\tprivate dragSources: Map<string, DragSource> = new Map()\n\tprivate dropTargets: Map<string, DropTarget> = new Map()\n\tprivate pinnedSourceId: string | null = null\n\tprivate pinnedSource: any = null\n\tprivate store: Store<State>\n\n\tpublic constructor(store: Store<State>) {\n\t\tthis.store = store\n\t}\n\n\tpublic addSource(type: SourceType, source: DragSource): string {\n\t\tvalidateType(type)\n\t\tvalidateSourceContract(source)\n\n\t\tconst sourceId = this.addHandler(HandlerRole.SOURCE, type, source)\n\t\tthis.store.dispatch(addSource(sourceId))\n\t\treturn sourceId\n\t}\n\n\tpublic addTarget(type: TargetType, target: DropTarget): string {\n\t\tvalidateType(type, true)\n\t\tvalidateTargetContract(target)\n\n\t\tconst targetId = this.addHandler(HandlerRole.TARGET, type, target)\n\t\tthis.store.dispatch(addTarget(targetId))\n\t\treturn targetId\n\t}\n\n\tpublic containsHandler(handler: DragSource | DropTarget): boolean {\n\t\treturn (\n\t\t\tmapContainsValue(this.dragSources, handler) ||\n\t\t\tmapContainsValue(this.dropTargets, handler)\n\t\t)\n\t}\n\n\tpublic getSource(sourceId: string, includePinned = false): DragSource {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\tconst isPinned = includePinned && sourceId === this.pinnedSourceId\n\t\tconst source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId)\n\t\treturn source\n\t}\n\n\tpublic getTarget(targetId: string): DropTarget {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.dropTargets.get(targetId) as DropTarget\n\t}\n\n\tpublic getSourceType(sourceId: string): Identifier {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\treturn this.types.get(sourceId) as Identifier\n\t}\n\n\tpublic getTargetType(targetId: string): Identifier | Identifier[] {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.types.get(targetId) as Identifier | Identifier[]\n\t}\n\n\tpublic isSourceId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.SOURCE\n\t}\n\n\tpublic isTargetId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.TARGET\n\t}\n\n\tpublic removeSource(sourceId: string): void {\n\t\tinvariant(this.getSource(sourceId), 'Expected an existing source.')\n\t\tthis.store.dispatch(removeSource(sourceId))\n\t\tasap(() => {\n\t\t\tthis.dragSources.delete(sourceId)\n\t\t\tthis.types.delete(sourceId)\n\t\t})\n\t}\n\n\tpublic removeTarget(targetId: string): void {\n\t\tinvariant(this.getTarget(targetId), 'Expected an existing target.')\n\t\tthis.store.dispatch(removeTarget(targetId))\n\t\tthis.dropTargets.delete(targetId)\n\t\tthis.types.delete(targetId)\n\t}\n\n\tpublic pinSource(sourceId: string): void {\n\t\tconst source = this.getSource(sourceId)\n\t\tinvariant(source, 'Expected an existing source.')\n\n\t\tthis.pinnedSourceId = sourceId\n\t\tthis.pinnedSource = source\n\t}\n\n\tpublic unpinSource(): void {\n\t\tinvariant(this.pinnedSource, 'No source is pinned at the time.')\n\n\t\tthis.pinnedSourceId = null\n\t\tthis.pinnedSource = null\n\t}\n\n\tprivate addHandler(\n\t\trole: HandlerRole,\n\t\ttype: SourceType | TargetType,\n\t\thandler: DragSource | DropTarget,\n\t): string {\n\t\tconst id = getNextHandlerId(role)\n\t\tthis.types.set(id, type)\n\t\tif (role === HandlerRole.SOURCE) {\n\t\t\tthis.dragSources.set(id, handler as DragSource)\n\t\t} else if (role === HandlerRole.TARGET) {\n\t\t\tthis.dropTargets.set(id, handler as DropTarget)\n\t\t}\n\t\treturn id\n\t}\n}\n","import type { XYCoord } from '../interfaces.js'\n\nexport type EqualityCheck<T> = (a: T, b: T) => boolean\nexport const strictEquality = <T>(a: T, b: T): boolean => a === b\n\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\nexport function areCoordsEqual(\n\toffsetA: XYCoord | null | undefined,\n\toffsetB: XYCoord | null | undefined,\n): boolean {\n\tif (!offsetA && !offsetB) {\n\t\treturn true\n\t} else if (!offsetA || !offsetB) {\n\t\treturn false\n\t} else {\n\t\treturn offsetA.x === offsetB.x && offsetA.y === offsetB.y\n\t}\n}\n\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\nexport function areArraysEqual<T>(\n\ta: T[],\n\tb: T[],\n\tisEqual: EqualityCheck<T> = strictEquality,\n): boolean {\n\tif (a.length !== b.length) {\n\t\treturn false\n\t}\n\tfor (let i = 0; i < a.length; ++i) {\n\t\tif (!isEqual(a[i] as T, b[i] as T)) {\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\nimport { ALL, NONE } from '../utils/dirtiness.js'\nimport { areArraysEqual } from '../utils/equality.js'\nimport { xor } from '../utils/js_utils.js'\n\nexport type State = string[]\n\nexport interface DirtyHandlerIdPayload {\n\ttargetIds: string[]\n\tprevTargetIds: string[]\n}\n\nexport function reduce(\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t_state: State = NONE,\n\taction: Action<DirtyHandlerIdPayload>,\n): State {\n\tswitch (action.type) {\n\t\tcase HOVER:\n\t\t\tbreak\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\tcase REMOVE_TARGET:\n\t\tcase REMOVE_SOURCE:\n\t\t\treturn NONE\n\t\tcase BEGIN_DRAG:\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\tdefault:\n\t\t\treturn ALL\n\t}\n\n\tconst { targetIds = [], prevTargetIds = [] } = action.payload\n\tconst result = xor(targetIds, prevTargetIds)\n\tconst didChange =\n\t\tresult.length > 0 || !areArraysEqual(targetIds, prevTargetIds)\n\n\tif (!didChange) {\n\t\treturn NONE\n\t}\n\n\t// Check the target ids at the innermost position. If they are valid, add them\n\t// to the result\n\tconst prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1]\n\tconst innermostTargetId = targetIds[targetIds.length - 1]\n\tif (prevInnermostTargetId !== innermostTargetId) {\n\t\tif (prevInnermostTargetId) {\n\t\t\tresult.push(prevInnermostTargetId)\n\t\t}\n\t\tif (innermostTargetId) {\n\t\t\tresult.push(innermostTargetId)\n\t\t}\n\t}\n\n\treturn result\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tINIT_COORDS,\n} from '../actions/dragDrop/index.js'\nimport type { Action, XYCoord } from '../interfaces.js'\nimport { areCoordsEqual } from '../utils/equality.js'\n\nexport interface State {\n\tinitialSourceClientOffset: XYCoord | null\n\tinitialClientOffset: XYCoord | null\n\tclientOffset: XYCoord | null\n}\n\nconst initialState: State = {\n\tinitialSourceClientOffset: null,\n\tinitialClientOffset: null,\n\tclientOffset: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\tsourceClientOffset: XYCoord\n\t\tclientOffset: XYCoord\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase INIT_COORDS:\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\tinitialSourceClientOffset: payload.sourceClientOffset,\n\t\t\t\tinitialClientOffset: payload.clientOffset,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\tif (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\t\treturn initialState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport { REMOVE_TARGET } from '../actions/registry.js'\nimport type { Action, Identifier } from '../interfaces.js'\nimport { without } from '../utils/js_utils.js'\n\nexport interface State {\n\titemType: Identifier | Identifier[] | null\n\titem: any\n\tsourceId: string | null\n\ttargetIds: string[]\n\tdropResult: any\n\tdidDrop: boolean\n\tisSourcePublic: boolean | null\n}\n\nconst initialState: State = {\n\titemType: null,\n\titem: null,\n\tsourceId: null,\n\ttargetIds: [],\n\tdropResult: null,\n\tdidDrop: false,\n\tisSourcePublic: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\titemType: Identifier | Identifier[]\n\t\titem: any\n\t\tsourceId: string\n\t\ttargetId: string\n\t\ttargetIds: string[]\n\t\tisSourcePublic: boolean\n\t\tdropResult: any\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: payload.itemType,\n\t\t\t\titem: payload.item,\n\t\t\t\tsourceId: payload.sourceId,\n\t\t\t\tisSourcePublic: payload.isSourcePublic,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t}\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSourcePublic: true,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: payload.targetIds,\n\t\t\t}\n\t\tcase REMOVE_TARGET:\n\t\t\tif (state.targetIds.indexOf(payload.targetId) === -1) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: without(state.targetIds, payload.targetId),\n\t\t\t}\n\t\tcase DROP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdropResult: payload.dropResult,\n\t\t\t\tdidDrop: true,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tcase END_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: null,\n\t\t\t\titem: null,\n\t\t\t\tsourceId: null,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t\tisSourcePublic: null,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\n\nexport type State = number\n\nexport function reduce(state: State = 0, action: Action<any>): State {\n\tswitch (action.type) {\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\t\treturn state + 1\n\t\tcase REMOVE_SOURCE:\n\t\tcase REMOVE_TARGET:\n\t\t\treturn state - 1\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","export type State = number\n\nexport function reduce(state: State = 0): State {\n\treturn state + 1\n}\n","import type { Action } from '../interfaces.js'\nimport { get } from '../utils/js_utils.js'\nimport type { State as DirtyHandlerIdsState } from './dirtyHandlerIds.js'\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds.js'\nimport type { State as DragOffsetState } from './dragOffset.js'\nimport { reduce as dragOffset } from './dragOffset.js'\nimport type { State as DragOperationState } from './dragOperation.js'\nimport { reduce as dragOperation } from './dragOperation.js'\nimport type { State as RefCountState } from './refCount.js'\nimport { reduce as refCount } from './refCount.js'\nimport type { State as StateIdState } from './stateId.js'\nimport { reduce as stateId } from './stateId.js'\n\nexport interface State {\n\tdirtyHandlerIds: DirtyHandlerIdsState\n\tdragOffset: DragOffsetState\n\trefCount: RefCountState\n\tdragOperation: DragOperationState\n\tstateId: StateIdState\n}\n\nexport function reduce(state: State = {} as State, action: Action<any>): State {\n\treturn {\n\t\tdirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n\t\t\ttype: action.type,\n\t\t\tpayload: {\n\t\t\t\t...action.payload,\n\t\t\t\tprevTargetIds: get<string[]>(state, 'dragOperation.targetIds', []),\n\t\t\t},\n\t\t}),\n\t\tdragOffset: dragOffset(state.dragOffset, action),\n\t\trefCount: refCount(state.refCount, action),\n\t\tdragOperation: dragOperation(state.dragOperation, action),\n\t\tstateId: stateId(state.stateId),\n\t}\n}\n","import type { Store } from 'redux'\nimport { createStore } from 'redux'\n\nimport { DragDropManagerImpl } from './classes/DragDropManagerImpl.js'\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl.js'\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl.js'\nimport type { BackendFactory, DragDropManager } from './interfaces.js'\nimport type { State } from './reducers/index.js'\nimport { reduce } from './reducers/index.js'\n\nexport function createDragDropManager(\n\tbackendFactory: BackendFactory,\n\tglobalContext: unknown = undefined,\n\tbackendOptions: unknown = {},\n\tdebugMode = false,\n): DragDropManager {\n\tconst store = makeStoreInstance(debugMode)\n\tconst monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store))\n\tconst manager = new DragDropManagerImpl(store, monitor)\n\tconst backend = backendFactory(manager, globalContext, backendOptions)\n\tmanager.receiveBackend(backend)\n\treturn manager\n}\n\nfunction makeStoreInstance(debugMode: boolean): Store<State> {\n\t// TODO: if we ever make a react-native version of this,\n\t// we'll need to consider how to pull off dev-tooling\n\tconst reduxDevTools =\n\t\ttypeof window !== 'undefined' &&\n\t\t(window as any).__REDUX_DEVTOOLS_EXTENSION__\n\treturn createStore(\n\t\treduce,\n\t\tdebugMode &&\n\t\t\treduxDevTools &&\n\t\t\treduxDevTools({\n\t\t\t\tname: 'dnd-core',\n\t\t\t\tinstanceId: 'dnd-core',\n\t\t\t}),\n\t)\n}\n","import type { BackendFactory, DragDropManager } from 'dnd-core'\nimport { createDragDropManager } from 'dnd-core'\nimport type { FC, ReactNode } from 'react'\nimport { memo, useEffect } from 'react'\n\nimport { DndContext } from './DndContext.js'\n\nexport type DndProviderProps<BackendContext, BackendOptions> =\n\t| {\n\t\t\tchildren?: ReactNode\n\t\t\tmanager: DragDropManager\n\t  }\n\t| {\n\t\t\tbackend: BackendFactory\n\t\t\tchildren?: ReactNode\n\t\t\tcontext?: BackendContext\n\t\t\toptions?: BackendOptions\n\t\t\tdebugMode?: boolean\n\t  }\n\nlet refCount = 0\nconst INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__')\n\n/**\n * A React component that provides the React-DnD context\n */\nexport const DndProvider: FC<DndProviderProps<unknown, unknown>> = memo(\n\tfunction DndProvider({ children, ...props }) {\n\t\tconst [manager, isGlobalInstance] = getDndContextValue(props) // memoized from props\n\t\t/**\n\t\t * If the global context was used to store the DND context\n\t\t * then where theres no more references to it we should\n\t\t * clean it up to avoid memory leaks\n\t\t */\n\t\tuseEffect(() => {\n\t\t\tif (isGlobalInstance) {\n\t\t\t\tconst context = getGlobalContext()\n\t\t\t\t++refCount\n\n\t\t\t\treturn () => {\n\t\t\t\t\tif (--refCount === 0) {\n\t\t\t\t\t\tcontext[INSTANCE_SYM] = null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn\n\t\t}, [])\n\n\t\treturn <DndContext.Provider value={manager}>{children}</DndContext.Provider>\n\t},\n)\n\nfunction getDndContextValue(props: DndProviderProps<unknown, unknown>) {\n\tif ('manager' in props) {\n\t\tconst manager = { dragDropManager: props.manager }\n\t\treturn [manager, false]\n\t}\n\n\tconst manager = createSingletonDndContext(\n\t\tprops.backend,\n\t\tprops.context,\n\t\tprops.options,\n\t\tprops.debugMode,\n\t)\n\tconst isGlobalInstance = !props.context\n\n\treturn [manager, isGlobalInstance]\n}\n\nfunction createSingletonDndContext<BackendContext, BackendOptions>(\n\tbackend: BackendFactory,\n\tcontext: BackendContext = getGlobalContext(),\n\toptions: BackendOptions,\n\tdebugMode?: boolean,\n) {\n\tconst ctx = context as any\n\tif (!ctx[INSTANCE_SYM]) {\n\t\tctx[INSTANCE_SYM] = {\n\t\t\tdragDropManager: createDragDropManager(\n\t\t\t\tbackend,\n\t\t\t\tcontext,\n\t\t\t\toptions,\n\t\t\t\tdebugMode,\n\t\t\t),\n\t\t}\n\t}\n\treturn ctx[INSTANCE_SYM]\n}\n\ndeclare const global: any\nfunction getGlobalContext() {\n\treturn typeof global !== 'undefined' ? global : (window as any)\n}\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const fileBrowser = {\r\n        name: 'fileBrowser',\r\n        _xmlHttp: null,\r\n        _loading: null,\r\n\r\n        /**\r\n         * @description Constructor\r\n         * @param {Object} core Core object \r\n         */\r\n        add: function (core) {\r\n            const context = core.context;\r\n            context.fileBrowser = {\r\n                _closeSignal: false,\r\n                area: null,\r\n                header: null,\r\n                tagArea: null,\r\n                body: null,\r\n                list: null,\r\n                tagElements: null,\r\n                items: [],\r\n                selectedTags: [],\r\n                selectorHandler: null,\r\n                contextPlugin: '',\r\n                columnSize: 4\r\n            };\r\n\r\n            /** fileBrowser */\r\n            let browser_div = core.util.createElement('DIV');\r\n            browser_div.className = 'se-file-browser sun-editor-common';\r\n\r\n            let back = core.util.createElement('DIV');\r\n            back.className = 'se-file-browser-back';\r\n\r\n            let content = core.util.createElement('DIV');\r\n            content.className = 'se-file-browser-inner';\r\n            content.innerHTML = this.set_browser(core);\r\n\r\n            browser_div.appendChild(back);\r\n            browser_div.appendChild(content);\r\n            this._loading = browser_div.querySelector('.se-loading-box');\r\n\r\n            context.fileBrowser.area = browser_div;\r\n            context.fileBrowser.header = content.querySelector('.se-file-browser-header');\r\n            context.fileBrowser.titleArea = content.querySelector('.se-file-browser-title');\r\n            context.fileBrowser.tagArea = content.querySelector('.se-file-browser-tags');\r\n            context.fileBrowser.body = content.querySelector('.se-file-browser-body');\r\n            context.fileBrowser.list = content.querySelector('.se-file-browser-list');\r\n\r\n            /** add event listeners */\r\n            context.fileBrowser.tagArea.addEventListener('click', this.onClickTag.bind(core));\r\n            context.fileBrowser.list.addEventListener('click', this.onClickFile.bind(core));\r\n            content.addEventListener('mousedown', this._onMouseDown_browser.bind(core));\r\n            content.addEventListener('click', this._onClick_browser.bind(core));\r\n            \r\n            /** append html */\r\n            context.element.relative.appendChild(browser_div);\r\n            \r\n            /** empty memory */\r\n            browser_div = null, back = null, content = null;\r\n        },\r\n\r\n        set_browser: function (core) {\r\n            const lang = core.lang;\r\n\r\n            return '<div class=\"se-file-browser-content\">' +\r\n                    '<div class=\"se-file-browser-header\">' +\r\n                        '<button type=\"button\" data-command=\"close\" class=\"se-btn se-file-browser-close\" class=\"close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' +\r\n                        core.icons.cancel +\r\n                        '</button>' +\r\n                        '<span class=\"se-file-browser-title\"></span>' +\r\n                        '<div class=\"se-file-browser-tags\"></div>' +\r\n                    '</div>' +\r\n                    '<div class=\"se-file-browser-body\">' +\r\n                        '<div class=\"se-loading-box sun-editor-common\"><div class=\"se-loading-effect\"></div></div>' +\r\n                        '<div class=\"se-file-browser-list\"></div>' +\r\n                    '</div>' +\r\n                '</div>';\r\n        },\r\n\r\n        /**\r\n         * @description Event to control the behavior of closing the browser\r\n         * @param {MouseEvent} e Event object\r\n         * @private\r\n         */\r\n        _onMouseDown_browser: function (e) {\r\n            if (/se-file-browser-inner/.test(e.target.className)) {\r\n                this.context.fileBrowser._closeSignal = true;\r\n            } else {\r\n                this.context.fileBrowser._closeSignal = false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Event to close the window when the outside area of the browser or close button is click\r\n         * @param {MouseEvent} e Event object\r\n         * @private\r\n         */\r\n        _onClick_browser: function (e) {\r\n            e.stopPropagation();\r\n\r\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.fileBrowser._closeSignal) {\r\n                this.plugins.fileBrowser.close.call(this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a file browser plugin\r\n         * @param {String} pluginName Plugin name using the file browser\r\n         * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n         */\r\n        open: function (pluginName, selectorHandler)  {\r\n            if (this.plugins.fileBrowser._bindClose) {\r\n                this._d.removeEventListener('keydown', this.plugins.fileBrowser._bindClose);\r\n                this.plugins.fileBrowser._bindClose = null;\r\n            }\r\n\r\n            this.plugins.fileBrowser._bindClose = function (e) {\r\n                if (!/27/.test(e.keyCode)) return;\r\n                this.plugins.fileBrowser.close.call(this);\r\n            }.bind(this);\r\n            this._d.addEventListener('keydown', this.plugins.fileBrowser._bindClose);\r\n\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n            fileBrowserContext.contextPlugin = pluginName;\r\n            fileBrowserContext.selectorHandler = selectorHandler;\r\n            \r\n            const pluginContext = this.context[pluginName];\r\n            const listClassName = pluginContext.listClass;\r\n            if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\r\n                fileBrowserContext.list.className = 'se-file-browser-list ' + listClassName;\r\n            }\r\n\r\n            if (this.options.popupDisplay === 'full') {\r\n                fileBrowserContext.area.style.position = 'fixed';\r\n            } else {\r\n                fileBrowserContext.area.style.position = 'absolute';\r\n            }\r\n            \r\n            fileBrowserContext.titleArea.textContent = pluginContext.title;\r\n            fileBrowserContext.area.style.display = 'block';\r\n\r\n            if (this.context[pluginName].directData) {\r\n                this.plugins.fileBrowser._drawListItem.call(this, this.context[pluginName].directData, true);\r\n            } else {\r\n                this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url, this.context[pluginName].header);\r\n            }\r\n        },\r\n\r\n        _bindClose: null,\r\n        \r\n        /**\r\n         * @description Close a fileBrowser plugin\r\n         * The plugin's \"init\" method is called.\r\n         */\r\n        close: function () {\r\n            const fileBrowserPlugin = this.plugins.fileBrowser;\r\n\r\n            if (fileBrowserPlugin._xmlHttp) {\r\n                fileBrowserPlugin._xmlHttp.abort();\r\n            }\r\n\r\n            if (fileBrowserPlugin._bindClose) {\r\n                this._d.removeEventListener('keydown', fileBrowserPlugin._bindClose);\r\n                fileBrowserPlugin._bindClose = null;\r\n            }\r\n\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n            fileBrowserContext.area.style.display = 'none';\r\n            fileBrowserContext.selectorHandler = null;\r\n            fileBrowserContext.selectedTags = [];\r\n            fileBrowserContext.items = [];\r\n            fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = '';\r\n\r\n            if (typeof this.plugins[fileBrowserContext.contextPlugin].init === 'function') this.plugins[fileBrowserContext.contextPlugin].init.call(this);\r\n            fileBrowserContext.contextPlugin = '';\r\n        },\r\n\r\n        /**\r\n         * @description Show file browser loading box\r\n         */\r\n        showBrowserLoading: function () {\r\n            this._loading.style.display = 'block';\r\n        },\r\n\r\n        /**\r\n         * @description Close file browser loading box\r\n         */\r\n        closeBrowserLoading: function () {\r\n            this._loading.style.display = 'none';\r\n        },\r\n\r\n        _drawFileList: function (url, browserHeader) {\r\n            const fileBrowserPlugin = this.plugins.fileBrowser;\r\n\r\n            const xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\r\n            xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\r\n            xmlHttp.open('get', url, true);\r\n            if(browserHeader !== null && typeof browserHeader === 'object' && this._w.Object.keys(browserHeader).length > 0){\r\n                for(let key in browserHeader){\r\n                    xmlHttp.setRequestHeader(key, browserHeader[key]);\r\n                }\r\n            }\r\n            xmlHttp.send(null);\r\n\r\n            this.plugins.fileBrowser.showBrowserLoading();\r\n        },\r\n\r\n        _callBackGet: function (xmlHttp) {\r\n            if (xmlHttp.readyState === 4) {\r\n                this.plugins.fileBrowser._xmlHttp = null;\r\n                if (xmlHttp.status === 200) {\r\n                    try {\r\n                        const res = JSON.parse(xmlHttp.responseText);\r\n                        if (res.result.length > 0) {\r\n                            this.plugins.fileBrowser._drawListItem.call(this, res.result, true);\r\n                        } else if (res.nullMessage) {\r\n                            this.context.fileBrowser.list.innerHTML = res.nullMessage;\r\n                        }\r\n                    } catch (e) {\r\n                        throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\r\n                    } finally {\r\n                        this.plugins.fileBrowser.closeBrowserLoading();\r\n                        this.context.fileBrowser.body.style.maxHeight = (this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50) + 'px';\r\n                    }\r\n                } else { // exception\r\n                    this.plugins.fileBrowser.closeBrowserLoading();\r\n                    if (xmlHttp.status !== 0) {\r\n                        const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\r\n                        const err = '[SUNEDITOR.fileBrowser.get.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\r\n                        throw Error(err);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        _drawListItem: function (items, update) {\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n            const pluginContext = this.context[fileBrowserContext.contextPlugin];\r\n\r\n            const _tags = [];\r\n            const len = items.length;\r\n            const columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\r\n            const splitSize = columnSize <= 1 ? 1 : (Math.round(len/columnSize) || 1);\r\n            const drawItemHandler = pluginContext.itemTemplateHandler;\r\n            \r\n            let tagsHTML = '';\r\n            let listHTML = '<div class=\"se-file-item-column\">';\r\n            let columns = 1;\r\n            for (let i = 0, item, tags; i < len; i++) {\r\n                item = items[i];\r\n                tags = !item.tag ? [] : typeof item.tag === 'string' ? item.tag.split(',') : item.tag;\r\n                tags = item.tag = tags.map(function (v) { return v.trim(); });\r\n                listHTML += drawItemHandler(item);\r\n\r\n                if ((i + 1) % splitSize === 0 && columns < columnSize && (i + 1) < len) {\r\n                    columns++;\r\n                    listHTML += '</div><div class=\"se-file-item-column\">';\r\n                }\r\n                \r\n                if (update && tags.length > 0) {\r\n                    for (let t = 0, tLen = tags.length, tag; t < tLen; t++) {\r\n                        tag = tags[t];\r\n                        if (tag && _tags.indexOf(tag) === -1) {\r\n                            _tags.push(tag);\r\n                            tagsHTML += '<a title=\"' + tag + '\" aria-label=\"' + tag + '\">' + tag + '</a>';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            listHTML += '</div>';\r\n\r\n            fileBrowserContext.list.innerHTML = listHTML;\r\n\r\n            if (update) {\r\n                fileBrowserContext.items = items;\r\n                fileBrowserContext.tagArea.innerHTML = tagsHTML;\r\n                fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll('A');\r\n            }\r\n        },\r\n\r\n        onClickTag: function (e) {\r\n            const target = e.target;\r\n            if (!this.util.isAnchor(target)) return;\r\n\r\n            const tagName = target.textContent;\r\n            const fileBrowserPlugin = this.plugins.fileBrowser;\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n\r\n            const selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\r\n            const selectedTags = fileBrowserContext.selectedTags;\r\n            const sTagIndex = selectedTags.indexOf(tagName);\r\n\r\n            if (sTagIndex > -1){\r\n                selectedTags.splice(sTagIndex, 1);\r\n                this.util.removeClass(selectTag, 'on');\r\n            } else {\r\n                selectedTags.push(tagName);\r\n                this.util.addClass(selectTag, 'on');\r\n            }\r\n\r\n            fileBrowserPlugin._drawListItem.call(this,\r\n                selectedTags.length === 0 ?\r\n                fileBrowserContext.items :\r\n                fileBrowserContext.items.filter(function (item) {\r\n                    return item.tag.some(function (tag) {\r\n                        return selectedTags.indexOf(tag) > -1;\r\n                    });\r\n                }), false);\r\n        },\r\n\r\n        onClickFile: function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n            const listEl = fileBrowserContext.list;\r\n            let target = e.target;\r\n            let command = null;\r\n\r\n            if (target === listEl) return;\r\n\r\n            while (listEl !== target.parentNode) {\r\n                command = target.getAttribute('data-command');\r\n                if (command) break;\r\n                target = target.parentNode;\r\n            }\r\n\r\n            if (!command) return;\r\n\r\n            const handler = (fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler);\r\n            handler(target, target.parentNode.querySelector('.__se__img_name').textContent);\r\n            this.plugins.fileBrowser.close.call(this);\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'fileBrowser', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: fileBrowser\r\n        });\r\n    }\r\n\r\n    return fileBrowser;\r\n}));","'use strict';\r\n\r\nimport ckb from './ckb';\r\nimport cs from './cs';\r\nimport da from './da';\r\nimport de from './de';\r\nimport en from './en';\r\nimport es from './es';\r\nimport fa from './fa';\r\nimport fr from './fr';\r\nimport he from './he';\r\nimport hu from './hu';\r\nimport it from './it';\r\nimport ja from './ja';\r\nimport ko from './ko';\r\nimport km from './km';\r\nimport lv from './lv';\r\nimport nl from './nl';\r\nimport pl from './pl';\r\nimport pt_br from './pt_br';\r\nimport ro from './ro';\r\nimport ru from './ru';\r\nimport se from './se';\r\nimport tr from './tr';\r\nimport ua from './ua';\r\nimport ur from './ur';\r\nimport zh_cn from './zh_cn';\r\n\r\nexport { ckb, cs, da, de, en, es, fa, fr, he, hu, it, ja, ko, km, lv, nl, pl, pt_br, ro, ru, se, tr, ua, ur, zh_cn };\r\nexport default { ckb, cs, da, de, en, es, fa, fr, he, hu, it, ja, ko, km, lv, nl, pl, pt_br, ro, ru, se, tr, ua, ur, zh_cn };\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ko',\r\n        toolbar: {\r\n            default: '기본값',\r\n            save: '저장',\r\n            font: '글꼴',\r\n            formats: '문단 형식',\r\n            fontSize: '크기',\r\n            bold: '굵게',\r\n            underline: '밑줄',\r\n            italic: '기울임',\r\n            strike: '취소선',\r\n            subscript: '아래 첨자',\r\n            superscript: '위 첨자',\r\n            removeFormat: '형식 제거',\r\n            fontColor: '글자색',\r\n            hiliteColor: '배경색',\r\n            indent: '들여쓰기',\r\n            outdent: '내어쓰기',\r\n            align: '정렬',\r\n            alignLeft: '왼쪽 정렬',\r\n            alignRight: '오른쪽 정렬',\r\n            alignCenter: '가운데 정렬',\r\n            alignJustify: '양쪽 정렬',\r\n            list: '리스트',\r\n            orderList: '숫자형 리스트',\r\n            unorderList: '원형 리스트',\r\n            horizontalRule: '가로 줄 삽입',\r\n            hr_solid: '실선',\r\n            hr_dotted: '점선',\r\n            hr_dashed: '대시',\r\n            table: '테이블',\r\n            link: '링크',\r\n            math: '수식',\r\n            image: '이미지',\r\n            video: '동영상',\r\n            audio: '오디오',\r\n            fullScreen: '전체 화면',\r\n            showBlocks: '블록 보기',\r\n            codeView: 'HTML 편집',\r\n            undo: '실행 취소',\r\n            redo: '다시 실행',\r\n            preview: '미리보기',\r\n            print: '인쇄',\r\n            tag_p: '본문',\r\n            tag_div: '기본 (DIV)',\r\n            tag_h: '제목',\r\n            tag_blockquote: '인용문',\r\n            tag_pre: '코드',\r\n            template: '템플릿',\r\n            lineHeight: '줄 높이',\r\n            paragraphStyle: '문단 스타일',\r\n            textStyle: '글자 스타일',\r\n            imageGallery: '이미지 갤러리',\r\n            dir_ltr: '왼쪽에서 오른쪽',\r\n            dir_rtl: '오른쪽에서 왼쪽',\r\n            mention: '멘션'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: '링크 삽입',\r\n                url: '인터넷 주소',\r\n                text: '화면 텍스트',\r\n                newWindowCheck: '새창으로 열기',\r\n                downloadLinkCheck: '다운로드 링크',\r\n                bookmark: '북마크'\r\n            },\r\n            mathBox: {\r\n                title: '수식',\r\n                inputLabel: '수학적 표기법',\r\n                fontSizeLabel: '글자 크기',\r\n                previewLabel: '미리보기'\r\n            },\r\n            imageBox: {\r\n                title: '이미지 삽입',\r\n                file: '파일 선택',\r\n                url: '이미지 주소',\r\n                altText: '대체 문자열'\r\n            },\r\n            videoBox: {\r\n                title: '동영상 삽입',\r\n                file: '파일 선택',\r\n                url: '미디어 임베드 주소, 유튜브/비메오'\r\n            },\r\n            audioBox: {\r\n                title: '오디오 삽입',\r\n                file: '파일 선택',\r\n                url: '오디오 파일 주소'\r\n            },\r\n            browser: {\r\n                tags: '태그',\r\n                search: '검색',\r\n            },\r\n            caption: '설명 넣기',\r\n            close: '닫기',\r\n            submitButton: '확인',\r\n            revertButton: '되돌리기',\r\n            proportion: '비율 맞춤',\r\n            basic: '기본',\r\n            left: '왼쪽',\r\n            right: '오른쪽',\r\n            center: '가운데',\r\n            width: '가로',\r\n            height: '세로',\r\n            size: '크기',\r\n            ratio: '비율'\r\n        },\r\n        controller: {\r\n            edit: '편집',\r\n            unlink: '링크 해제',\r\n            remove: '삭제',\r\n            insertRowAbove: '위에 행 삽입',\r\n            insertRowBelow: '아래에 행 삽입',\r\n            deleteRow: '행 삭제',\r\n            insertColumnBefore: '왼쪽에 열 삽입',\r\n            insertColumnAfter: '오른쪽에 열 삽입',\r\n            deleteColumn: '열 삭제',\r\n            fixedColumnWidth: '고정 된 열 너비',\r\n            resize100: '100% 크기',\r\n            resize75: '75% 크기',\r\n            resize50: '50% 크기',\r\n            resize25: '25% 크기',\r\n            autoSize: '자동 크기',\r\n            mirrorHorizontal: '좌우 반전',\r\n            mirrorVertical: '상하 반전',\r\n            rotateLeft: '왼쪽으로 회전',\r\n            rotateRight: '오른쪽으로 회전',\r\n            maxSize: '최대화',\r\n            minSize: '최소화',\r\n            tableHeader: '테이블 제목',\r\n            mergeCells: '셀 병합',\r\n            splitCells: '셀 분할',\r\n            HorizontalSplit: '가로 분할',\r\n            VerticalSplit: '세로 분할'\r\n        },\r\n        menu: {\r\n            spaced: '글자 간격',\r\n            bordered: '경계선',\r\n            neon: '네온',\r\n            translucent: '반투명',\r\n            shadow: '그림자',\r\n            code: '코드'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ko', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'lv',\r\n        toolbar: {\r\n            default: 'Noklusējuma',\r\n            save: 'Saglabāt',\r\n            font: 'Fonts',\r\n            formats: 'Formāti',\r\n            fontSize: 'Fonta lielums',\r\n            bold: 'Treknraksts',\r\n            underline: 'Pasvītrot',\r\n            italic: 'Slīpraksts',\r\n            strike: 'Pārsvītrojums',\r\n            subscript: 'Apakšraksts',\r\n            superscript: 'Augšraksts',\r\n            removeFormat: 'Noņemt formātu',\r\n            fontColor: 'Fonta krāsa',\r\n            hiliteColor: 'Teksta iezīmēšanas krāsa',\r\n            indent: 'Palielināt atkāpi',\r\n            outdent: 'Samazināt atkāpi',\r\n            align: 'Izlīdzināt',\r\n            alignLeft: 'Līdzināt pa kreisi',\r\n            alignRight: 'Līdzināt pa labi',\r\n            alignCenter: 'Centrēt',\r\n            alignJustify: 'Taisnot',\r\n            list: 'Saraksts',\r\n            orderList: 'Numerācija',\r\n            unorderList: 'Aizzimes',\r\n            horizontalRule: 'Horizontāla līnija',\r\n            hr_solid: 'Ciets',\r\n            hr_dotted: 'Punktiņš',\r\n            hr_dashed: 'Braša',\r\n            table: 'Tabula',\r\n            link: 'Saite',\r\n            math: 'Matemātika',\r\n            image: 'Attēls',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Pilnekrāna režīms',\r\n            showBlocks: 'Parādit blokus',\r\n            codeView: 'Koda skats',\r\n            undo: 'Atsaukt',\r\n            redo: 'Atkārtot',\r\n            preview: 'Priekšskatījums',\r\n            print: 'Drukāt',\r\n            tag_p: 'Paragrāfs',\r\n            tag_div: 'Normāli (DIV)',\r\n            tag_h: 'Galvene',\r\n            tag_blockquote: 'Citāts',\r\n            tag_pre: 'Kods',\r\n            template: 'Veidne',\r\n            lineHeight: 'Līnijas augstums',\r\n            paragraphStyle: 'Paragrāfa stils',\r\n            textStyle: 'Teksta stils',\r\n            imageGallery: 'Attēlu galerija',\r\n            dir_ltr: 'No kreisās uz labo',\r\n            dir_rtl: 'No labās uz kreiso',\r\n            mention: 'Pieminēt'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Ievietot saiti',\r\n                url: 'Saites URL',\r\n                text: 'Parādāmais teksts',\r\n                newWindowCheck: 'Atvērt jaunā logā',\r\n                downloadLinkCheck: 'Lejupielādes saite',\r\n                bookmark: 'Grāmatzīme'\r\n            },\r\n            mathBox: {\r\n                title: 'Matemātika',\r\n                inputLabel: 'Matemātiskā notācija',\r\n                fontSizeLabel: 'Fonta lielums',\r\n                previewLabel: 'Priekšskatījums'\r\n            },\r\n            imageBox: {\r\n                title: 'Ievietot attēlu',\r\n                file: 'Izvēlieties no failiem',\r\n                url: 'Attēla URL',\r\n                altText: 'Alternatīvs teksts'\r\n            },\r\n            videoBox: {\r\n                title: 'Ievietot video',\r\n                file: 'Izvēlieties no failiem',\r\n                url: 'Multivides iegulšanas URL, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Ievietot audio',\r\n                file: 'Izvēlieties no failiem',\r\n                url: 'Audio URL'\r\n            },\r\n            browser: {\r\n                tags: 'Tagi',\r\n                search: 'Meklēt'\r\n            },\r\n            caption: 'Ievietot aprakstu',\r\n            close: 'Aizvērt',\r\n            submitButton: 'Iesniegt',\r\n            revertButton: 'Atjaunot',\r\n            proportion: 'Ierobežo proporcijas',\r\n            basic: 'Nav iesaiņojuma',\r\n            left: 'Pa kreisi',\r\n            right: 'Labajā pusē',\r\n            center: 'Centrs',\r\n            width: 'Platums',\r\n            height: 'Augstums',\r\n            size: 'Izmērs',\r\n            ratio: 'Attiecība'\r\n        },\r\n        controller: {\r\n            edit: 'Rediģēt',\r\n            unlink: 'Atsaistīt',\r\n            remove: 'Noņemt',\r\n            insertRowAbove: 'Ievietot rindu virs',\r\n            insertRowBelow: 'Ievietot rindu zemāk',\r\n            deleteRow: 'Dzēst rindu',\r\n            insertColumnBefore: 'Ievietot kolonnu pirms',\r\n            insertColumnAfter: 'Ievietot kolonnu aiz',\r\n            deleteColumn: 'Dzēst kolonnu',\r\n            fixColumnWidth: 'Fiksēts kolonnas platums',\r\n            resize100: 'Mainīt izmēru 100%',\r\n            resize75: 'Mainīt izmēru 75%',\r\n            resize50: 'Mainīt izmēru 50%',\r\n            resize25: 'Mainīt izmēru 25%',\r\n            autoSize: 'Automātiskais izmērs',\r\n            mirrorHorizontal: 'Spogulis, horizontāls',\r\n            mirrorVertical: 'Spogulis, vertikāls',\r\n            rotateLeft: 'Pagriezt pa kreisi',\r\n            rotateRight: 'Pagriezt pa labi',\r\n            maxSize: 'Maksimālais izmērs',\r\n            minSize: 'Minimālais izmērs',\r\n            tableHeader: 'Tabulas galvene',\r\n            mergeCells: 'Apvienot šūnas',\r\n            splitCells: 'Sadalīt šūnas',\r\n            HorizontalSplit: 'Horizontāls sadalījums',\r\n            VerticalSplit: 'Vertikāls sadalījums'\r\n        },\r\n        menu: {\r\n            spaced: 'Ar atstarpi',\r\n            bordered: 'Robežojās',\r\n            neon: 'Neona',\r\n            translucent: 'Caurspīdīgs',\r\n            shadow: 'Ēna',\r\n            code: 'Kods'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'lv', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 @Gundolf68\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'de',\r\n        toolbar: {\r\n            default: 'Standard',\r\n            save: 'Speichern',\r\n            font: 'Schriftart',\r\n            formats: 'Format',\r\n            fontSize: 'Schriftgröße',\r\n            bold: 'Fett',\r\n            underline: 'Unterstrichen',\r\n            italic: 'Kursiv',\r\n            strike: 'Durchgestrichen',\r\n            subscript: 'Tiefgestellt',\r\n            superscript: 'Hochgestellt',\r\n            removeFormat: 'Format entfernen',\r\n            fontColor: 'Schriftfarbe',\r\n            hiliteColor: 'Farbe für Hervorhebungen',\r\n            indent: 'Einzug vergrößern',\r\n            outdent: 'Einzug verkleinern',\r\n            align: 'Ausrichtung',\r\n            alignLeft: 'Links ausrichten',\r\n            alignRight: 'Rechts ausrichten',\r\n            alignCenter: 'Zentriert ausrichten',\r\n            alignJustify: 'Blocksatz',\r\n            list: 'Liste',\r\n            orderList: 'Nummerierte Liste',\r\n            unorderList: 'Aufzählung',\r\n            horizontalRule: 'Horizontale Linie',\r\n            hr_solid: 'Strich',\r\n            hr_dotted: 'Gepunktet',\r\n            hr_dashed: 'Gestrichelt',\r\n            table: 'Tabelle',\r\n            link: 'Link',\r\n            math: 'Mathematik',\r\n            image: 'Bild',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Vollbild',\r\n            showBlocks: 'Blockformatierungen anzeigen',\r\n            codeView: 'Quelltext anzeigen',\r\n            undo: 'Rückgängig',\r\n            redo: 'Wiederholen',\r\n            preview: 'Vorschau',\r\n            print: 'Drucken',\r\n            tag_p: 'Absatz',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Header',\r\n            tag_blockquote: 'Zitat',\r\n            tag_pre: 'Quellcode',\r\n            template: 'Vorlage',\r\n            lineHeight: 'Zeilenhöhe',\r\n            paragraphStyle: 'Absatzstil',\r\n            textStyle: 'Textstil',\r\n            imageGallery: 'Bildergalerie',\r\n            dir_ltr: 'Links nach rechts',\r\n            dir_rtl: 'Rechts nach links',\r\n            mention: 'Erwähnen'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Link einfügen',\r\n                url: 'Link-URL',\r\n                text: 'Link-Text',\r\n                newWindowCheck: 'In neuem Fenster anzeigen',\r\n                downloadLinkCheck: 'Download-Link',\r\n                bookmark: 'Lesezeichen'\r\n            },\r\n            mathBox: {\r\n                title: 'Mathematik',\r\n                inputLabel: 'Mathematische Notation',\r\n                fontSizeLabel: 'Schriftgröße',\r\n                previewLabel: 'Vorschau'\r\n            },\r\n            imageBox: {\r\n                title: 'Bild einfügen',\r\n                file: 'Datei auswählen',\r\n                url: 'Bild-URL',\r\n                altText: 'Alternativer Text'\r\n            },\r\n            videoBox: {\r\n                title: 'Video einfügen',\r\n                file: 'Datei auswählen',\r\n                url: 'Video-URL, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Audio einfügen',\r\n                file: 'Datei auswählen',\r\n                url: 'Audio-URL'\r\n            },\r\n            browser: {\r\n                tags: 'Stichworte',\r\n                search: 'Suche',\r\n            },\r\n            caption: 'Beschreibung eingeben',\r\n            close: 'Schließen',\r\n            submitButton: 'Übernehmen',\r\n            revertButton: 'Rückgängig',\r\n            proportion: 'Seitenverhältnis beibehalten',\r\n            basic: 'Standard',\r\n            left: 'Links',\r\n            right: 'Rechts',\r\n            center: 'Zentriert',\r\n            width: 'Breite',\r\n            height: 'Höhe',\r\n            size: 'Größe',\r\n            ratio: 'Verhältnis'\r\n        },\r\n        controller: {\r\n            edit: 'Bearbeiten',\r\n            unlink: 'Link entfernen',\r\n            remove: 'Löschen',\r\n            insertRowAbove: 'Zeile oberhalb einfügen',\r\n            insertRowBelow: 'Zeile unterhalb einfügen',\r\n            deleteRow: 'Zeile löschen',\r\n            insertColumnBefore: 'Spalte links einfügen',\r\n            insertColumnAfter: 'Spalte rechts einfügen',\r\n            deleteColumn: 'Spalte löschen',\r\n            fixedColumnWidth: 'Feste Spaltenbreite',\r\n            resize100: 'Zoom 100%',\r\n            resize75: 'Zoom 75%',\r\n            resize50: 'Zoom 50%',\r\n            resize25: 'Zoom 25%',\r\n            autoSize: 'Automatische Größenanpassung',\r\n            mirrorHorizontal: 'Horizontal spiegeln',\r\n            mirrorVertical: 'Vertikal spiegeln',\r\n            rotateLeft: 'Nach links drehen',\r\n            rotateRight: 'Nach rechts drehen',\r\n            maxSize: 'Maximale Größe',\r\n            minSize: 'Mindestgröße',\r\n            tableHeader: 'Tabellenüberschrift',\r\n            mergeCells: 'Zellen verbinden',\r\n            splitCells: 'Zellen teilen',\r\n            HorizontalSplit: 'Horizontal teilen',\r\n            VerticalSplit: 'Vertikal teilen'\r\n        },\r\n        menu: {\r\n            spaced: 'Buchstabenabstand',\r\n            bordered: 'Umrandet',\r\n            neon: 'Neon',\r\n            translucent: 'Durchscheinend',\r\n            shadow: 'Schatten',\r\n            code: 'Quellcode'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'de', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","var _ = Object.defineProperty;\nvar $ = (a, h, e) => h in a ? _(a, h, { enumerable: !0, configurable: !0, writable: !0, value: e }) : a[h] = e;\nvar m = (a, h, e) => $(a, typeof h != \"symbol\" ? h + \"\" : h, e);\nimport u, { PureComponent as K, createRef as P } from \"react\";\nconst E = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  unit: \"px\"\n}, b = (a, h, e) => Math.min(Math.max(a, h), e), H = (...a) => a.filter((h) => h && typeof h == \"string\").join(\" \"), X = (a, h) => a === h || a.width === h.width && a.height === h.height && a.x === h.x && a.y === h.y && a.unit === h.unit;\nfunction B(a, h, e, n) {\n  const t = D(a, e, n);\n  return a.width && (t.height = t.width / h), a.height && (t.width = t.height * h), t.y + t.height > n && (t.height = n - t.y, t.width = t.height * h), t.x + t.width > e && (t.width = e - t.x, t.height = t.width / h), a.unit === \"%\" ? v(t, e, n) : t;\n}\nfunction L(a, h, e) {\n  const n = D(a, h, e);\n  return n.x = (h - n.width) / 2, n.y = (e - n.height) / 2, a.unit === \"%\" ? v(n, h, e) : n;\n}\nfunction v(a, h, e) {\n  return a.unit === \"%\" ? { ...E, ...a, unit: \"%\" } : {\n    unit: \"%\",\n    x: a.x ? a.x / h * 100 : 0,\n    y: a.y ? a.y / e * 100 : 0,\n    width: a.width ? a.width / h * 100 : 0,\n    height: a.height ? a.height / e * 100 : 0\n  };\n}\nfunction D(a, h, e) {\n  return a.unit ? a.unit === \"px\" ? { ...E, ...a, unit: \"px\" } : {\n    unit: \"px\",\n    x: a.x ? a.x * h / 100 : 0,\n    y: a.y ? a.y * e / 100 : 0,\n    width: a.width ? a.width * h / 100 : 0,\n    height: a.height ? a.height * e / 100 : 0\n  } : { ...E, ...a, unit: \"px\" };\n}\nfunction k(a, h, e, n, t, d = 0, r = 0, o = n, w = t) {\n  const i = { ...a };\n  let s = Math.min(d, n), c = Math.min(r, t), g = Math.min(o, n), p = Math.min(w, t);\n  h && (h > 1 ? (s = r ? r * h : s, c = s / h, g = o * h) : (c = d ? d / h : c, s = c * h, p = w / h)), i.y < 0 && (i.height = Math.max(i.height + i.y, c), i.y = 0), i.x < 0 && (i.width = Math.max(i.width + i.x, s), i.x = 0);\n  const l = n - (i.x + i.width);\n  l < 0 && (i.x = Math.min(i.x, n - s), i.width += l);\n  const C = t - (i.y + i.height);\n  if (C < 0 && (i.y = Math.min(i.y, t - c), i.height += C), i.width < s && ((e === \"sw\" || e == \"nw\") && (i.x -= s - i.width), i.width = s), i.height < c && ((e === \"nw\" || e == \"ne\") && (i.y -= c - i.height), i.height = c), i.width > g && ((e === \"sw\" || e == \"nw\") && (i.x -= g - i.width), i.width = g), i.height > p && ((e === \"nw\" || e == \"ne\") && (i.y -= p - i.height), i.height = p), h) {\n    const y = i.width / i.height;\n    if (y < h) {\n      const f = Math.max(i.width / h, c);\n      (e === \"nw\" || e == \"ne\") && (i.y -= f - i.height), i.height = f;\n    } else if (y > h) {\n      const f = Math.max(i.height * h, s);\n      (e === \"sw\" || e == \"nw\") && (i.x -= f - i.width), i.width = f;\n    }\n  }\n  return i;\n}\nfunction I(a, h, e, n) {\n  const t = { ...a };\n  return h === \"ArrowLeft\" ? n === \"nw\" ? (t.x -= e, t.y -= e, t.width += e, t.height += e) : n === \"w\" ? (t.x -= e, t.width += e) : n === \"sw\" ? (t.x -= e, t.width += e, t.height += e) : n === \"ne\" ? (t.y += e, t.width -= e, t.height -= e) : n === \"e\" ? t.width -= e : n === \"se\" && (t.width -= e, t.height -= e) : h === \"ArrowRight\" && (n === \"nw\" ? (t.x += e, t.y += e, t.width -= e, t.height -= e) : n === \"w\" ? (t.x += e, t.width -= e) : n === \"sw\" ? (t.x += e, t.width -= e, t.height -= e) : n === \"ne\" ? (t.y -= e, t.width += e, t.height += e) : n === \"e\" ? t.width += e : n === \"se\" && (t.width += e, t.height += e)), h === \"ArrowUp\" ? n === \"nw\" ? (t.x -= e, t.y -= e, t.width += e, t.height += e) : n === \"n\" ? (t.y -= e, t.height += e) : n === \"ne\" ? (t.y -= e, t.width += e, t.height += e) : n === \"sw\" ? (t.x += e, t.width -= e, t.height -= e) : n === \"s\" ? t.height -= e : n === \"se\" && (t.width -= e, t.height -= e) : h === \"ArrowDown\" && (n === \"nw\" ? (t.x += e, t.y += e, t.width -= e, t.height -= e) : n === \"n\" ? (t.y += e, t.height -= e) : n === \"ne\" ? (t.y += e, t.width -= e, t.height -= e) : n === \"sw\" ? (t.x -= e, t.width += e, t.height += e) : n === \"s\" ? t.height += e : n === \"se\" && (t.width += e, t.height += e)), t;\n}\nconst M = { capture: !0, passive: !1 };\nlet N = 0;\nconst x = class x extends K {\n  constructor() {\n    super(...arguments);\n    m(this, \"docMoveBound\", !1);\n    m(this, \"mouseDownOnCrop\", !1);\n    m(this, \"dragStarted\", !1);\n    m(this, \"evData\", {\n      startClientX: 0,\n      startClientY: 0,\n      startCropX: 0,\n      startCropY: 0,\n      clientX: 0,\n      clientY: 0,\n      isResize: !0\n    });\n    m(this, \"componentRef\", P());\n    m(this, \"mediaRef\", P());\n    m(this, \"resizeObserver\");\n    m(this, \"initChangeCalled\", !1);\n    m(this, \"instanceId\", `rc-${N++}`);\n    m(this, \"state\", {\n      cropIsActive: !1,\n      newCropIsBeingDrawn: !1\n    });\n    m(this, \"onCropPointerDown\", (e) => {\n      const { crop: n, disabled: t } = this.props, d = this.getBox();\n      if (!n)\n        return;\n      const r = D(n, d.width, d.height);\n      if (t)\n        return;\n      e.cancelable && e.preventDefault(), this.bindDocMove(), this.componentRef.current.focus({ preventScroll: !0 });\n      const o = e.target.dataset.ord, w = !!o;\n      let i = e.clientX, s = e.clientY, c = r.x, g = r.y;\n      if (o) {\n        const p = e.clientX - d.x, l = e.clientY - d.y;\n        let C = 0, y = 0;\n        o === \"ne\" || o == \"e\" ? (C = p - (r.x + r.width), y = l - r.y, c = r.x, g = r.y + r.height) : o === \"se\" || o === \"s\" ? (C = p - (r.x + r.width), y = l - (r.y + r.height), c = r.x, g = r.y) : o === \"sw\" || o == \"w\" ? (C = p - r.x, y = l - (r.y + r.height), c = r.x + r.width, g = r.y) : (o === \"nw\" || o == \"n\") && (C = p - r.x, y = l - r.y, c = r.x + r.width, g = r.y + r.height), i = c + d.x + C, s = g + d.y + y;\n      }\n      this.evData = {\n        startClientX: i,\n        startClientY: s,\n        startCropX: c,\n        startCropY: g,\n        clientX: e.clientX,\n        clientY: e.clientY,\n        isResize: w,\n        ord: o\n      }, this.mouseDownOnCrop = !0, this.setState({ cropIsActive: !0 });\n    });\n    m(this, \"onComponentPointerDown\", (e) => {\n      const { crop: n, disabled: t, locked: d, keepSelection: r, onChange: o } = this.props, w = this.getBox();\n      if (t || d || r && n)\n        return;\n      e.cancelable && e.preventDefault(), this.bindDocMove(), this.componentRef.current.focus({ preventScroll: !0 });\n      const i = e.clientX - w.x, s = e.clientY - w.y, c = {\n        unit: \"px\",\n        x: i,\n        y: s,\n        width: 0,\n        height: 0\n      };\n      this.evData = {\n        startClientX: e.clientX,\n        startClientY: e.clientY,\n        startCropX: i,\n        startCropY: s,\n        clientX: e.clientX,\n        clientY: e.clientY,\n        isResize: !0\n      }, this.mouseDownOnCrop = !0, o(D(c, w.width, w.height), v(c, w.width, w.height)), this.setState({ cropIsActive: !0, newCropIsBeingDrawn: !0 });\n    });\n    m(this, \"onDocPointerMove\", (e) => {\n      const { crop: n, disabled: t, onChange: d, onDragStart: r } = this.props, o = this.getBox();\n      if (t || !n || !this.mouseDownOnCrop)\n        return;\n      e.cancelable && e.preventDefault(), this.dragStarted || (this.dragStarted = !0, r && r(e));\n      const { evData: w } = this;\n      w.clientX = e.clientX, w.clientY = e.clientY;\n      let i;\n      w.isResize ? i = this.resizeCrop() : i = this.dragCrop(), X(n, i) || d(\n        D(i, o.width, o.height),\n        v(i, o.width, o.height)\n      );\n    });\n    m(this, \"onComponentKeyDown\", (e) => {\n      const { crop: n, disabled: t, onChange: d, onComplete: r } = this.props;\n      if (t)\n        return;\n      const o = e.key;\n      let w = !1;\n      if (!n)\n        return;\n      const i = this.getBox(), s = this.makePixelCrop(i), g = (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) ? x.nudgeStepLarge : e.shiftKey ? x.nudgeStepMedium : x.nudgeStep;\n      if (o === \"ArrowLeft\" ? (s.x -= g, w = !0) : o === \"ArrowRight\" ? (s.x += g, w = !0) : o === \"ArrowUp\" ? (s.y -= g, w = !0) : o === \"ArrowDown\" && (s.y += g, w = !0), w) {\n        e.cancelable && e.preventDefault(), s.x = b(s.x, 0, i.width - s.width), s.y = b(s.y, 0, i.height - s.height);\n        const p = D(s, i.width, i.height), l = v(s, i.width, i.height);\n        d(p, l), r && r(p, l);\n      }\n    });\n    m(this, \"onHandlerKeyDown\", (e, n) => {\n      const {\n        aspect: t = 0,\n        crop: d,\n        disabled: r,\n        minWidth: o = 0,\n        minHeight: w = 0,\n        maxWidth: i,\n        maxHeight: s,\n        onChange: c,\n        onComplete: g\n      } = this.props, p = this.getBox();\n      if (r || !d)\n        return;\n      if (e.key === \"ArrowUp\" || e.key === \"ArrowDown\" || e.key === \"ArrowLeft\" || e.key === \"ArrowRight\")\n        e.stopPropagation(), e.preventDefault();\n      else\n        return;\n      const C = (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) ? x.nudgeStepLarge : e.shiftKey ? x.nudgeStepMedium : x.nudgeStep, y = D(d, p.width, p.height), f = I(y, e.key, C, n), R = k(\n        f,\n        t,\n        n,\n        p.width,\n        p.height,\n        o,\n        w,\n        i,\n        s\n      );\n      if (!X(d, R)) {\n        const Y = v(R, p.width, p.height);\n        c(R, Y), g && g(R, Y);\n      }\n    });\n    m(this, \"onDocPointerDone\", (e) => {\n      const { crop: n, disabled: t, onComplete: d, onDragEnd: r } = this.props, o = this.getBox();\n      this.unbindDocMove(), !(t || !n) && this.mouseDownOnCrop && (this.mouseDownOnCrop = !1, this.dragStarted = !1, r && r(e), d && d(D(n, o.width, o.height), v(n, o.width, o.height)), this.setState({ cropIsActive: !1, newCropIsBeingDrawn: !1 }));\n    });\n    m(this, \"onDragFocus\", () => {\n      var e;\n      (e = this.componentRef.current) == null || e.scrollTo(0, 0);\n    });\n  }\n  get document() {\n    return document;\n  }\n  // We unfortunately get the bounding box every time as x+y changes\n  // due to scrolling.\n  getBox() {\n    const e = this.mediaRef.current;\n    if (!e)\n      return { x: 0, y: 0, width: 0, height: 0 };\n    const { x: n, y: t, width: d, height: r } = e.getBoundingClientRect();\n    return { x: n, y: t, width: d, height: r };\n  }\n  componentDidUpdate(e) {\n    const { crop: n, onComplete: t } = this.props;\n    if (t && !e.crop && n) {\n      const { width: d, height: r } = this.getBox();\n      d && r && t(D(n, d, r), v(n, d, r));\n    }\n  }\n  componentWillUnmount() {\n    this.resizeObserver && this.resizeObserver.disconnect(), this.unbindDocMove();\n  }\n  bindDocMove() {\n    this.docMoveBound || (this.document.addEventListener(\"pointermove\", this.onDocPointerMove, M), this.document.addEventListener(\"pointerup\", this.onDocPointerDone, M), this.document.addEventListener(\"pointercancel\", this.onDocPointerDone, M), this.docMoveBound = !0);\n  }\n  unbindDocMove() {\n    this.docMoveBound && (this.document.removeEventListener(\"pointermove\", this.onDocPointerMove, M), this.document.removeEventListener(\"pointerup\", this.onDocPointerDone, M), this.document.removeEventListener(\"pointercancel\", this.onDocPointerDone, M), this.docMoveBound = !1);\n  }\n  getCropStyle() {\n    const { crop: e } = this.props;\n    if (e)\n      return {\n        top: `${e.y}${e.unit}`,\n        left: `${e.x}${e.unit}`,\n        width: `${e.width}${e.unit}`,\n        height: `${e.height}${e.unit}`\n      };\n  }\n  dragCrop() {\n    const { evData: e } = this, n = this.getBox(), t = this.makePixelCrop(n), d = e.clientX - e.startClientX, r = e.clientY - e.startClientY;\n    return t.x = b(e.startCropX + d, 0, n.width - t.width), t.y = b(e.startCropY + r, 0, n.height - t.height), t;\n  }\n  getPointRegion(e, n, t, d) {\n    const { evData: r } = this, o = r.clientX - e.x, w = r.clientY - e.y;\n    let i;\n    d && n ? i = n === \"nw\" || n === \"n\" || n === \"ne\" : i = w < r.startCropY;\n    let s;\n    return t && n ? s = n === \"nw\" || n === \"w\" || n === \"sw\" : s = o < r.startCropX, s ? i ? \"nw\" : \"sw\" : i ? \"ne\" : \"se\";\n  }\n  resolveMinDimensions(e, n, t = 0, d = 0) {\n    const r = Math.min(t, e.width), o = Math.min(d, e.height);\n    return !n || !r && !o ? [r, o] : n > 1 ? r ? [r, r / n] : [o * n, o] : o ? [o * n, o] : [r, r / n];\n  }\n  resizeCrop() {\n    const { evData: e } = this, { aspect: n = 0, maxWidth: t, maxHeight: d } = this.props, r = this.getBox(), [o, w] = this.resolveMinDimensions(r, n, this.props.minWidth, this.props.minHeight);\n    let i = this.makePixelCrop(r);\n    const s = this.getPointRegion(r, e.ord, o, w), c = e.ord || s;\n    let g = e.clientX - e.startClientX, p = e.clientY - e.startClientY;\n    (o && c === \"nw\" || c === \"w\" || c === \"sw\") && (g = Math.min(g, -o)), (w && c === \"nw\" || c === \"n\" || c === \"ne\") && (p = Math.min(p, -w));\n    const l = {\n      unit: \"px\",\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n    s === \"ne\" ? (l.x = e.startCropX, l.width = g, n ? (l.height = l.width / n, l.y = e.startCropY - l.height) : (l.height = Math.abs(p), l.y = e.startCropY - l.height)) : s === \"se\" ? (l.x = e.startCropX, l.y = e.startCropY, l.width = g, n ? l.height = l.width / n : l.height = p) : s === \"sw\" ? (l.x = e.startCropX + g, l.y = e.startCropY, l.width = Math.abs(g), n ? l.height = l.width / n : l.height = p) : s === \"nw\" && (l.x = e.startCropX + g, l.width = Math.abs(g), n ? (l.height = l.width / n, l.y = e.startCropY - l.height) : (l.height = Math.abs(p), l.y = e.startCropY + p));\n    const C = k(\n      l,\n      n,\n      s,\n      r.width,\n      r.height,\n      o,\n      w,\n      t,\n      d\n    );\n    return n || x.xyOrds.indexOf(c) > -1 ? i = C : x.xOrds.indexOf(c) > -1 ? (i.x = C.x, i.width = C.width) : x.yOrds.indexOf(c) > -1 && (i.y = C.y, i.height = C.height), i.x = b(i.x, 0, r.width - i.width), i.y = b(i.y, 0, r.height - i.height), i;\n  }\n  renderCropSelection() {\n    const {\n      ariaLabels: e = x.defaultProps.ariaLabels,\n      disabled: n,\n      locked: t,\n      renderSelectionAddon: d,\n      ruleOfThirds: r,\n      crop: o\n    } = this.props, w = this.getCropStyle();\n    if (o)\n      return /* @__PURE__ */ u.createElement(\n        \"div\",\n        {\n          style: w,\n          className: \"ReactCrop__crop-selection\",\n          onPointerDown: this.onCropPointerDown,\n          \"aria-label\": e.cropArea,\n          tabIndex: 0,\n          onKeyDown: this.onComponentKeyDown,\n          role: \"group\"\n        },\n        !n && !t && /* @__PURE__ */ u.createElement(\"div\", { className: \"ReactCrop__drag-elements\", onFocus: this.onDragFocus }, /* @__PURE__ */ u.createElement(\"div\", { className: \"ReactCrop__drag-bar ord-n\", \"data-ord\": \"n\" }), /* @__PURE__ */ u.createElement(\"div\", { className: \"ReactCrop__drag-bar ord-e\", \"data-ord\": \"e\" }), /* @__PURE__ */ u.createElement(\"div\", { className: \"ReactCrop__drag-bar ord-s\", \"data-ord\": \"s\" }), /* @__PURE__ */ u.createElement(\"div\", { className: \"ReactCrop__drag-bar ord-w\", \"data-ord\": \"w\" }), /* @__PURE__ */ u.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-nw\",\n            \"data-ord\": \"nw\",\n            tabIndex: 0,\n            \"aria-label\": e.nwDragHandle,\n            onKeyDown: (i) => this.onHandlerKeyDown(i, \"nw\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ u.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-n\",\n            \"data-ord\": \"n\",\n            tabIndex: 0,\n            \"aria-label\": e.nDragHandle,\n            onKeyDown: (i) => this.onHandlerKeyDown(i, \"n\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ u.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-ne\",\n            \"data-ord\": \"ne\",\n            tabIndex: 0,\n            \"aria-label\": e.neDragHandle,\n            onKeyDown: (i) => this.onHandlerKeyDown(i, \"ne\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ u.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-e\",\n            \"data-ord\": \"e\",\n            tabIndex: 0,\n            \"aria-label\": e.eDragHandle,\n            onKeyDown: (i) => this.onHandlerKeyDown(i, \"e\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ u.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-se\",\n            \"data-ord\": \"se\",\n            tabIndex: 0,\n            \"aria-label\": e.seDragHandle,\n            onKeyDown: (i) => this.onHandlerKeyDown(i, \"se\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ u.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-s\",\n            \"data-ord\": \"s\",\n            tabIndex: 0,\n            \"aria-label\": e.sDragHandle,\n            onKeyDown: (i) => this.onHandlerKeyDown(i, \"s\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ u.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-sw\",\n            \"data-ord\": \"sw\",\n            tabIndex: 0,\n            \"aria-label\": e.swDragHandle,\n            onKeyDown: (i) => this.onHandlerKeyDown(i, \"sw\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ u.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-w\",\n            \"data-ord\": \"w\",\n            tabIndex: 0,\n            \"aria-label\": e.wDragHandle,\n            onKeyDown: (i) => this.onHandlerKeyDown(i, \"w\"),\n            role: \"button\"\n          }\n        )),\n        d && /* @__PURE__ */ u.createElement(\"div\", { className: \"ReactCrop__selection-addon\", onPointerDown: (i) => i.stopPropagation() }, d(this.state)),\n        r && /* @__PURE__ */ u.createElement(u.Fragment, null, /* @__PURE__ */ u.createElement(\"div\", { className: \"ReactCrop__rule-of-thirds-hz\" }), /* @__PURE__ */ u.createElement(\"div\", { className: \"ReactCrop__rule-of-thirds-vt\" }))\n      );\n  }\n  makePixelCrop(e) {\n    const n = { ...E, ...this.props.crop || {} };\n    return D(n, e.width, e.height);\n  }\n  render() {\n    const { aspect: e, children: n, circularCrop: t, className: d, crop: r, disabled: o, locked: w, style: i, ruleOfThirds: s } = this.props, { cropIsActive: c, newCropIsBeingDrawn: g } = this.state, p = r ? this.renderCropSelection() : null, l = H(\n      \"ReactCrop\",\n      d,\n      c && \"ReactCrop--active\",\n      o && \"ReactCrop--disabled\",\n      w && \"ReactCrop--locked\",\n      g && \"ReactCrop--new-crop\",\n      r && e && \"ReactCrop--fixed-aspect\",\n      r && t && \"ReactCrop--circular-crop\",\n      r && s && \"ReactCrop--rule-of-thirds\",\n      !this.dragStarted && r && !r.width && !r.height && \"ReactCrop--invisible-crop\",\n      t && \"ReactCrop--no-animate\"\n    );\n    return /* @__PURE__ */ u.createElement(\"div\", { ref: this.componentRef, className: l, style: i }, /* @__PURE__ */ u.createElement(\"div\", { ref: this.mediaRef, className: \"ReactCrop__child-wrapper\", onPointerDown: this.onComponentPointerDown }, n), r ? /* @__PURE__ */ u.createElement(\"svg\", { className: \"ReactCrop__crop-mask\", width: \"100%\", height: \"100%\" }, /* @__PURE__ */ u.createElement(\"defs\", null, /* @__PURE__ */ u.createElement(\"mask\", { id: `hole-${this.instanceId}` }, /* @__PURE__ */ u.createElement(\"rect\", { width: \"100%\", height: \"100%\", fill: \"white\" }), t ? /* @__PURE__ */ u.createElement(\n      \"ellipse\",\n      {\n        cx: `${r.x + r.width / 2}${r.unit}`,\n        cy: `${r.y + r.height / 2}${r.unit}`,\n        rx: `${r.width / 2}${r.unit}`,\n        ry: `${r.height / 2}${r.unit}`,\n        fill: \"black\"\n      }\n    ) : /* @__PURE__ */ u.createElement(\n      \"rect\",\n      {\n        x: `${r.x}${r.unit}`,\n        y: `${r.y}${r.unit}`,\n        width: `${r.width}${r.unit}`,\n        height: `${r.height}${r.unit}`,\n        fill: \"black\"\n      }\n    ))), /* @__PURE__ */ u.createElement(\"rect\", { fill: \"black\", fillOpacity: 0.5, width: \"100%\", height: \"100%\", mask: `url(#hole-${this.instanceId})` })) : void 0, p);\n  }\n};\nm(x, \"xOrds\", [\"e\", \"w\"]), m(x, \"yOrds\", [\"n\", \"s\"]), m(x, \"xyOrds\", [\"nw\", \"ne\", \"se\", \"sw\"]), m(x, \"nudgeStep\", 1), m(x, \"nudgeStepMedium\", 10), m(x, \"nudgeStepLarge\", 100), m(x, \"defaultProps\", {\n  ariaLabels: {\n    cropArea: \"Use the arrow keys to move the crop selection area\",\n    nwDragHandle: \"Use the arrow keys to move the north west drag handle to change the crop selection area\",\n    nDragHandle: \"Use the up and down arrow keys to move the north drag handle to change the crop selection area\",\n    neDragHandle: \"Use the arrow keys to move the north east drag handle to change the crop selection area\",\n    eDragHandle: \"Use the up and down arrow keys to move the east drag handle to change the crop selection area\",\n    seDragHandle: \"Use the arrow keys to move the south east drag handle to change the crop selection area\",\n    sDragHandle: \"Use the up and down arrow keys to move the south drag handle to change the crop selection area\",\n    swDragHandle: \"Use the arrow keys to move the south west drag handle to change the crop selection area\",\n    wDragHandle: \"Use the up and down arrow keys to move the west drag handle to change the crop selection area\"\n  }\n});\nlet S = x;\nexport {\n  S as Component,\n  S as ReactCrop,\n  X as areCropsEqual,\n  L as centerCrop,\n  b as clamp,\n  H as cls,\n  k as containCrop,\n  v as convertToPercentCrop,\n  D as convertToPixelCrop,\n  S as default,\n  E as defaultCrop,\n  B as makeAspectCrop,\n  I as nudgeCrop\n};\n","// https://gist.github.com/tonytonyjan/ffb7cd0e82cb293b843ece7e79364233\n// Copyright (c) 2022 Weihang Jian <tonytonyjan@gmail.com>\n\nexport default async function copyExifWithoutOrientation(srcBlob, destBlob) {\n  const exif = await getApp1Segment(srcBlob);\n  return new Blob([destBlob.slice(0, 2), exif, destBlob.slice(2)], {\n    type: 'image/jpeg',\n  });\n}\n\nconst SOI = 0xffd8;\nconst SOS = 0xffda;\nconst APP1 = 0xffe1;\nconst EXIF = 0x45786966;\nconst LITTLE_ENDIAN = 0x4949;\nconst BIG_ENDIAN = 0x4d4d;\nconst TAG_ID_ORIENTATION = 0x0112;\nconst TAG_TYPE_SHORT = 3;\nconst getApp1Segment = (blob) => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.addEventListener('load', ({ target: { result: buffer } }) => {\n    const view = new DataView(buffer);\n    let offset = 0;\n    if (view.getUint16(offset) !== SOI) return reject('not a valid JPEG');\n    offset += 2;\n\n    while (true) {\n      const marker = view.getUint16(offset);\n      if (marker === SOS) break;\n\n      const size = view.getUint16(offset + 2);\n      if (marker === APP1 && view.getUint32(offset + 4) === EXIF) {\n        const tiffOffset = offset + 10;\n        let littleEndian;\n        switch (view.getUint16(tiffOffset)) {\n          case LITTLE_ENDIAN:\n            littleEndian = true;\n            break;\n          case BIG_ENDIAN:\n            littleEndian = false;\n            break;\n          default:\n            return reject('TIFF header contains invalid endian');\n        }\n        if (view.getUint16(tiffOffset + 2, littleEndian) !== 0x2a) { return reject('TIFF header contains invalid version'); }\n\n        const ifd0Offset = view.getUint32(tiffOffset + 4, littleEndian);\n        const endOfTagsOffset = tiffOffset\n              + ifd0Offset\n              + 2\n              + view.getUint16(tiffOffset + ifd0Offset, littleEndian) * 12;\n        for (\n          let i = tiffOffset + ifd0Offset + 2;\n          i < endOfTagsOffset;\n          i += 12\n        ) {\n          const tagId = view.getUint16(i, littleEndian);\n          if (tagId == TAG_ID_ORIENTATION) {\n            if (view.getUint16(i + 2, littleEndian) !== TAG_TYPE_SHORT) { return reject('Orientation data type is invalid'); }\n\n            if (view.getUint32(i + 4, littleEndian) !== 1) { return reject('Orientation data count is invalid'); }\n\n            view.setUint16(i + 8, 1, littleEndian);\n            break;\n          }\n        }\n        return resolve(buffer.slice(offset, offset + 2 + size));\n      }\n      offset += 2 + size;\n    }\n    return resolve(new Blob());\n  });\n  reader.readAsArrayBuffer(blob);\n});\n","\r\n\r\nvar UZIP = {};\r\nif(typeof module == \"object\") module.exports = UZIP;\r\n\r\n\r\nUZIP[\"parse\"] = function(buf, onlyNames)\t// ArrayBuffer\r\n{\r\n\tvar rUs = UZIP.bin.readUshort, rUi = UZIP.bin.readUint, o = 0, out = {};\r\n\tvar data = new Uint8Array(buf);\r\n\tvar eocd = data.length-4;\r\n\t\r\n\twhile(rUi(data, eocd)!=0x06054b50) eocd--;\r\n\t\r\n\tvar o = eocd;\r\n\to+=4;\t// sign  = 0x06054b50\r\n\to+=4;  // disks = 0;\r\n\tvar cnu = rUs(data, o);  o+=2;\r\n\tvar cnt = rUs(data, o);  o+=2;\r\n\t\t\t\r\n\tvar csize = rUi(data, o);  o+=4;\r\n\tvar coffs = rUi(data, o);  o+=4;\r\n\t\r\n\to = coffs;\r\n\tfor(var i=0; i<cnu; i++)\r\n\t{\r\n\t\tvar sign = rUi(data, o);  o+=4;\r\n\t\to += 4;  // versions;\r\n\t\to += 4;  // flag + compr\r\n\t\to += 4;  // time\r\n\t\t\r\n\t\tvar crc32 = rUi(data, o);  o+=4;\r\n\t\tvar csize = rUi(data, o);  o+=4;\r\n\t\tvar usize = rUi(data, o);  o+=4;\r\n\t\t\r\n\t\tvar nl = rUs(data, o), el = rUs(data, o+2), cl = rUs(data, o+4);  o += 6;  // name, extra, comment\r\n\t\to += 8;  // disk, attribs\r\n\t\t\r\n\t\tvar roff = rUi(data, o);  o+=4;\r\n\t\to += nl + el + cl;\r\n\t\t\r\n\t\tUZIP._readLocal(data, roff, out, csize, usize, onlyNames);\r\n\t}\r\n\t//console.log(out);\r\n\treturn out;\r\n}\r\n\r\nUZIP._readLocal = function(data, o, out, csize, usize, onlyNames)\r\n{\r\n\tvar rUs = UZIP.bin.readUshort, rUi = UZIP.bin.readUint;\r\n\tvar sign  = rUi(data, o);  o+=4;\r\n\tvar ver   = rUs(data, o);  o+=2;\r\n\tvar gpflg = rUs(data, o);  o+=2;\r\n\t//if((gpflg&8)!=0) throw \"unknown sizes\";\r\n\tvar cmpr  = rUs(data, o);  o+=2;\r\n\t\r\n\tvar time  = rUi(data, o);  o+=4;\r\n\t\r\n\tvar crc32 = rUi(data, o);  o+=4;\r\n\t//var csize = rUi(data, o);  o+=4;\r\n\t//var usize = rUi(data, o);  o+=4;\r\n\to+=8;\r\n\t\t\r\n\tvar nlen  = rUs(data, o);  o+=2;\r\n\tvar elen  = rUs(data, o);  o+=2;\r\n\t\t\r\n\tvar name =  UZIP.bin.readUTF8(data, o, nlen);  o+=nlen;  //console.log(name);\r\n\to += elen;\r\n\t\t\t\r\n\t//console.log(sign.toString(16), ver, gpflg, cmpr, crc32.toString(16), \"csize, usize\", csize, usize, nlen, elen, name, o);\r\n\tif(onlyNames) {  out[name]={size:usize, csize:csize};  return;  }   \r\n\tvar file = new Uint8Array(data.buffer, o);\r\n\tif(false) {}\r\n\telse if(cmpr==0) out[name] = new Uint8Array(file.buffer.slice(o, o+csize));\r\n\telse if(cmpr==8) {\r\n\t\tvar buf = new Uint8Array(usize);  UZIP.inflateRaw(file, buf);\r\n\t\t/*var nbuf = pako[\"inflateRaw\"](file);\r\n\t\tif(usize>8514000) {\r\n\t\t\t//console.log(PUtils.readASCII(buf , 8514500, 500));\r\n\t\t\t//console.log(PUtils.readASCII(nbuf, 8514500, 500));\r\n\t\t}\r\n\t\tfor(var i=0; i<buf.length; i++) if(buf[i]!=nbuf[i]) {  console.log(buf.length, nbuf.length, usize, i);  throw \"e\";  }\r\n\t\t*/\r\n\t\tout[name] = buf;\r\n\t}\r\n\telse throw \"unknown compression method: \"+cmpr;\r\n}\r\n\r\nUZIP.inflateRaw = function(file, buf) {  return UZIP.F.inflate(file, buf);  }\r\nUZIP.inflate    = function(file, buf) { \r\n\tvar CMF = file[0], FLG = file[1];\r\n\tvar CM = (CMF&15), CINFO = (CMF>>>4);\r\n\t//console.log(CM, CINFO,CMF,FLG);\r\n\treturn UZIP.inflateRaw(new Uint8Array(file.buffer, file.byteOffset+2, file.length-6), buf);  \r\n}\r\nUZIP.deflate    = function(data, opts/*, buf, off*/) {\r\n\tif(opts==null) opts={level:6};\r\n\tvar off=0, buf=new Uint8Array(50+Math.floor(data.length*1.1));\r\n\tbuf[off]=120;  buf[off+1]=156;  off+=2;\r\n\toff = UZIP.F.deflateRaw(data, buf, off, opts.level);\r\n\tvar crc = UZIP.adler(data, 0, data.length);\r\n\tbuf[off+0]=((crc>>>24)&255); \r\n\tbuf[off+1]=((crc>>>16)&255); \r\n\tbuf[off+2]=((crc>>> 8)&255); \r\n\tbuf[off+3]=((crc>>> 0)&255); \t\r\n\treturn new Uint8Array(buf.buffer, 0, off+4);\r\n}\r\nUZIP.deflateRaw = function(data, opts) {\r\n\tif(opts==null) opts={level:6};\r\n\tvar buf=new Uint8Array(50+Math.floor(data.length*1.1));\r\n\tvar off = UZIP.F.deflateRaw(data, buf, off, opts.level);\r\n\treturn new Uint8Array(buf.buffer, 0, off);\r\n}\r\n\r\n\r\nUZIP.encode = function(obj, noCmpr) {\r\n\tif(noCmpr==null) noCmpr=false;\r\n\tvar tot = 0, wUi = UZIP.bin.writeUint, wUs = UZIP.bin.writeUshort;\r\n\tvar zpd = {};\r\n\tfor(var p in obj) {  var cpr = !UZIP._noNeed(p) && !noCmpr, buf = obj[p], crc = UZIP.crc.crc(buf,0,buf.length); \r\n\t\tzpd[p] = {  cpr:cpr, usize:buf.length, crc:crc, file: (cpr ? UZIP.deflateRaw(buf) : buf)  };  }\r\n\t\r\n\tfor(var p in zpd) tot += zpd[p].file.length + 30 + 46 + 2*UZIP.bin.sizeUTF8(p);\r\n\ttot +=  22;\r\n\t\r\n\tvar data = new Uint8Array(tot), o = 0;\r\n\tvar fof = []\r\n\t\r\n\tfor(var p in zpd) {\r\n\t\tvar file = zpd[p];  fof.push(o);\r\n\t\to = UZIP._writeHeader(data, o, p, file, 0);\r\n\t}\r\n\tvar i=0, ioff = o;\r\n\tfor(var p in zpd) {\r\n\t\tvar file = zpd[p];  fof.push(o);\r\n\t\to = UZIP._writeHeader(data, o, p, file, 1, fof[i++]);\t\t\r\n\t}\r\n\tvar csize = o-ioff;\r\n\t\r\n\twUi(data, o, 0x06054b50);  o+=4;\r\n\to += 4;  // disks\r\n\twUs(data, o, i);  o += 2;\r\n\twUs(data, o, i);  o += 2;\t// number of c d records\r\n\twUi(data, o, csize);  o += 4;\r\n\twUi(data, o, ioff );  o += 4;\r\n\to += 2;\r\n\treturn data.buffer;\r\n}\r\n// no need to compress .PNG, .ZIP, .JPEG ....\r\nUZIP._noNeed = function(fn) {  var ext = fn.split(\".\").pop().toLowerCase();  return \"png,jpg,jpeg,zip\".indexOf(ext)!=-1;  }\r\n\r\nUZIP._writeHeader = function(data, o, p, obj, t, roff)\r\n{\r\n\tvar wUi = UZIP.bin.writeUint, wUs = UZIP.bin.writeUshort;\r\n\tvar file = obj.file;\r\n\t\r\n\twUi(data, o, t==0 ? 0x04034b50 : 0x02014b50);  o+=4; // sign\r\n\tif(t==1) o+=2;  // ver made by\r\n\twUs(data, o, 20);  o+=2;\t// ver\r\n\twUs(data, o,  0);  o+=2;    // gflip\r\n\twUs(data, o,  obj.cpr?8:0);  o+=2;\t// cmpr\r\n\t\t\r\n\twUi(data, o,  0);  o+=4;\t// time\t\t\r\n\twUi(data, o, obj.crc);  o+=4;\t// crc32\r\n\twUi(data, o, file.length);  o+=4;\t// csize\r\n\twUi(data, o, obj.usize);  o+=4;\t// usize\r\n\t\t\r\n\twUs(data, o, UZIP.bin.sizeUTF8(p));  o+=2;\t// nlen\r\n\twUs(data, o, 0);  o+=2;\t// elen\r\n\t\r\n\tif(t==1) {\r\n\t\to += 2;  // comment length\r\n\t\to += 2;  // disk number\r\n\t\to += 6;  // attributes\r\n\t\twUi(data, o, roff);  o+=4;\t// usize\r\n\t}\r\n\tvar nlen = UZIP.bin.writeUTF8(data, o, p);  o+= nlen;\t\r\n\tif(t==0) {  data.set(file, o);  o += file.length;  }\r\n\treturn o;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nUZIP.crc = {\r\n\ttable : ( function() {\r\n\t   var tab = new Uint32Array(256);\r\n\t   for (var n=0; n<256; n++) {\r\n\t\t\tvar c = n;\r\n\t\t\tfor (var k=0; k<8; k++) {\r\n\t\t\t\tif (c & 1)  c = 0xedb88320 ^ (c >>> 1);\r\n\t\t\t\telse        c = c >>> 1;\r\n\t\t\t}\r\n\t\t\ttab[n] = c;  }    \r\n\t\treturn tab;  })(),\r\n\tupdate : function(c, buf, off, len) {\r\n\t\tfor (var i=0; i<len; i++)  c = UZIP.crc.table[(c ^ buf[off+i]) & 0xff] ^ (c >>> 8);\r\n\t\treturn c;\r\n\t},\r\n\tcrc : function(b,o,l)  {  return UZIP.crc.update(0xffffffff,b,o,l) ^ 0xffffffff;  }\r\n}\r\nUZIP.adler = function(data,o,len) {\r\n\tvar a = 1, b = 0;\r\n\tvar off = o, end=o+len;\r\n\twhile(off<end) {\r\n\t\tvar eend = Math.min(off+5552, end);\r\n\t\twhile(off<eend) {\r\n\t\t\ta += data[off++];\r\n\t\t\tb += a;\r\n\t\t}\r\n\t\ta=a%65521;\r\n\t\tb=b%65521;\r\n\t}\r\n    return (b << 16) | a;\r\n}\r\n\r\nUZIP.bin = {\r\n\treadUshort : function(buff,p)  {  return (buff[p]) | (buff[p+1]<<8);  },\r\n\twriteUshort: function(buff,p,n){  buff[p] = (n)&255;  buff[p+1] = (n>>8)&255;  },\r\n\treadUint   : function(buff,p)  {  return (buff[p+3]*(256*256*256)) + ((buff[p+2]<<16) | (buff[p+1]<< 8) | buff[p]);  },\r\n\twriteUint  : function(buff,p,n){  buff[p]=n&255;  buff[p+1]=(n>>8)&255;  buff[p+2]=(n>>16)&255;  buff[p+3]=(n>>24)&255;  },\r\n\treadASCII  : function(buff,p,l){  var s = \"\";  for(var i=0; i<l; i++) s += String.fromCharCode(buff[p+i]);  return s;    },\r\n\twriteASCII : function(data,p,s){  for(var i=0; i<s.length; i++) data[p+i] = s.charCodeAt(i);  },\r\n\tpad : function(n) { return n.length < 2 ? \"0\" + n : n; },\r\n\treadUTF8 : function(buff, p, l) {\r\n\t\tvar s = \"\", ns;\r\n\t\tfor(var i=0; i<l; i++) s += \"%\" + UZIP.bin.pad(buff[p+i].toString(16));\r\n\t\ttry {  ns = decodeURIComponent(s); }\r\n\t\tcatch(e) {  return UZIP.bin.readASCII(buff, p, l);  }\r\n\t\treturn  ns;\r\n\t},\r\n\twriteUTF8 : function(buff, p, str) {\r\n\t\tvar strl = str.length, i=0;\r\n\t\tfor(var ci=0; ci<strl; ci++)\r\n\t\t{\r\n\t\t\tvar code = str.charCodeAt(ci);\r\n\t\t\tif     ((code&(0xffffffff-(1<< 7)+1))==0) {  buff[p+i] = (     code     );  i++;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<11)+1))==0) {  buff[p+i] = (192|(code>> 6));  buff[p+i+1] = (128|((code>> 0)&63));  i+=2;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<16)+1))==0) {  buff[p+i] = (224|(code>>12));  buff[p+i+1] = (128|((code>> 6)&63));  buff[p+i+2] = (128|((code>>0)&63));  i+=3;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<21)+1))==0) {  buff[p+i] = (240|(code>>18));  buff[p+i+1] = (128|((code>>12)&63));  buff[p+i+2] = (128|((code>>6)&63));  buff[p+i+3] = (128|((code>>0)&63)); i+=4;  }\r\n\t\t\telse throw \"e\";\r\n\t\t}\r\n\t\treturn i;\r\n\t},\r\n\tsizeUTF8 : function(str) {\r\n\t\tvar strl = str.length, i=0;\r\n\t\tfor(var ci=0; ci<strl; ci++)\r\n\t\t{\r\n\t\t\tvar code = str.charCodeAt(ci);\r\n\t\t\tif     ((code&(0xffffffff-(1<< 7)+1))==0) {  i++ ;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<11)+1))==0) {  i+=2;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<16)+1))==0) {  i+=3;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<21)+1))==0) {  i+=4;  }\r\n\t\t\telse throw \"e\";\r\n\t\t}\r\n\t\treturn i;\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nUZIP.F = {};\r\n\r\nUZIP.F.deflateRaw = function(data, out, opos, lvl) {\t\r\n\tvar opts = [\r\n\t/*\r\n\t\t ush good_length; /* reduce lazy search above this match length \r\n\t\t ush max_lazy;    /* do not perform lazy search above this match length \r\n         ush nice_length; /* quit search above this match length \r\n\t*/\r\n\t/*      good lazy nice chain */\r\n\t/* 0 */ [ 0,   0,   0,    0,0],  /* store only */\r\n\t/* 1 */ [ 4,   4,   8,    4,0], /* max speed, no lazy matches */\r\n\t/* 2 */ [ 4,   5,  16,    8,0],\r\n\t/* 3 */ [ 4,   6,  16,   16,0],\r\n\r\n\t/* 4 */ [ 4,  10,  16,   32,0],  /* lazy matches */\r\n\t/* 5 */ [ 8,  16,  32,   32,0],\r\n\t/* 6 */ [ 8,  16, 128,  128,0],\r\n\t/* 7 */ [ 8,  32, 128,  256,0],\r\n\t/* 8 */ [32, 128, 258, 1024,1],\r\n\t/* 9 */ [32, 258, 258, 4096,1]]; /* max compression */\r\n\t\r\n\tvar opt = opts[lvl];\r\n\t\r\n\t\r\n\tvar U = UZIP.F.U, goodIndex = UZIP.F._goodIndex, hash = UZIP.F._hash, putsE = UZIP.F._putsE;\r\n\tvar i = 0, pos = opos<<3, cvrd = 0, dlen = data.length;\r\n\t\r\n\tif(lvl==0) {\r\n\t\twhile(i<dlen) {   var len = Math.min(0xffff, dlen-i);\r\n\t\t\tputsE(out, pos, (i+len==dlen ? 1 : 0));  pos = UZIP.F._copyExact(data, i, len, out, pos+8);  i += len;  }\r\n\t\treturn pos>>>3;\r\n\t}\r\n\r\n\tvar lits = U.lits, strt=U.strt, prev=U.prev, li=0, lc=0, bs=0, ebits=0, c=0, nc=0;  // last_item, literal_count, block_start\r\n\tif(dlen>2) {  nc=UZIP.F._hash(data,0);  strt[nc]=0;  }\r\n\tvar nmch=0,nmci=0;\r\n\t\r\n\tfor(i=0; i<dlen; i++)  {\r\n\t\tc = nc;\r\n\t\t//*\r\n\t\tif(i+1<dlen-2) {\r\n\t\t\tnc = UZIP.F._hash(data, i+1);\r\n\t\t\tvar ii = ((i+1)&0x7fff);\r\n\t\t\tprev[ii]=strt[nc];\r\n\t\t\tstrt[nc]=ii;\r\n\t\t} //*/\r\n\t\tif(cvrd<=i) {\r\n\t\t\tif((li>14000 || lc>26697) && (dlen-i)>100) {\r\n\t\t\t\tif(cvrd<i) {  lits[li]=i-cvrd;  li+=2;  cvrd=i;  }\r\n\t\t\t\tpos = UZIP.F._writeBlock(((i==dlen-1) || (cvrd==dlen))?1:0, lits, li, ebits, data,bs,i-bs, out, pos);  li=lc=ebits=0;  bs=i;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar mch = 0;\r\n\t\t\t//if(nmci==i) mch= nmch;  else \r\n\t\t\tif(i<dlen-2) mch = UZIP.F._bestMatch(data, i, prev, c, Math.min(opt[2],dlen-i), opt[3]);\r\n\t\t\t/*\r\n\t\t\tif(mch!=0 && opt[4]==1 && (mch>>>16)<opt[1] && i+1<dlen-2) {\r\n\t\t\t\tnmch = UZIP.F._bestMatch(data, i+1, prev, nc, opt[2], opt[3]);  nmci=i+1;\r\n\t\t\t\t//var mch2 = UZIP.F._bestMatch(data, i+2, prev, nnc);  //nmci=i+1;\r\n\t\t\t\tif((nmch>>>16)>(mch>>>16)) mch=0;\r\n\t\t\t}//*/\r\n\t\t\tvar len = mch>>>16, dst = mch&0xffff;  //if(i-dst<0) throw \"e\";\r\n\t\t\tif(mch!=0) { \r\n\t\t\t\tvar len = mch>>>16, dst = mch&0xffff;  //if(i-dst<0) throw \"e\";\r\n\t\t\t\tvar lgi = goodIndex(len, U.of0);  U.lhst[257+lgi]++; \r\n\t\t\t\tvar dgi = goodIndex(dst, U.df0);  U.dhst[    dgi]++;  ebits += U.exb[lgi] + U.dxb[dgi]; \r\n\t\t\t\tlits[li] = (len<<23)|(i-cvrd);  lits[li+1] = (dst<<16)|(lgi<<8)|dgi;  li+=2;\r\n\t\t\t\tcvrd = i + len;  \r\n\t\t\t}\r\n\t\t\telse {\tU.lhst[data[i]]++;  }\r\n\t\t\tlc++;\r\n\t\t}\r\n\t}\r\n\tif(bs!=i || data.length==0) {\r\n\t\tif(cvrd<i) {  lits[li]=i-cvrd;  li+=2;  cvrd=i;  }\r\n\t\tpos = UZIP.F._writeBlock(1, lits, li, ebits, data,bs,i-bs, out, pos);  li=0;  lc=0;  li=lc=ebits=0;  bs=i;\r\n\t}\r\n\twhile((pos&7)!=0) pos++;\r\n\treturn pos>>>3;\r\n}\r\nUZIP.F._bestMatch = function(data, i, prev, c, nice, chain) {\r\n\tvar ci = (i&0x7fff), pi=prev[ci];  \r\n\t//console.log(\"----\", i);\r\n\tvar dif = ((ci-pi + (1<<15)) & 0x7fff);  if(pi==ci || c!=UZIP.F._hash(data,i-dif)) return 0;\r\n\tvar tl=0, td=0;  // top length, top distance\r\n\tvar dlim = Math.min(0x7fff, i);\r\n\twhile(dif<=dlim && --chain!=0 && pi!=ci /*&& c==UZIP.F._hash(data,i-dif)*/) {\r\n\t\tif(tl==0 || (data[i+tl]==data[i+tl-dif])) {\r\n\t\t\tvar cl = UZIP.F._howLong(data, i, dif);\r\n\t\t\tif(cl>tl) {  \r\n\t\t\t\ttl=cl;  td=dif;  if(tl>=nice) break;    //* \r\n\t\t\t\tif(dif+2<cl) cl = dif+2;\r\n\t\t\t\tvar maxd = 0; // pi does not point to the start of the word\r\n\t\t\t\tfor(var j=0; j<cl-2; j++) {\r\n\t\t\t\t\tvar ei =  (i-dif+j+ (1<<15)) & 0x7fff;\r\n\t\t\t\t\tvar li = prev[ei];\r\n\t\t\t\t\tvar curd = (ei-li + (1<<15)) & 0x7fff;\r\n\t\t\t\t\tif(curd>maxd) {  maxd=curd;  pi = ei; }\r\n\t\t\t\t}  //*/\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tci=pi;  pi = prev[ci];\r\n\t\tdif += ((ci-pi + (1<<15)) & 0x7fff);\r\n\t}\r\n\treturn (tl<<16)|td;\r\n}\r\nUZIP.F._howLong = function(data, i, dif) {\r\n\tif(data[i]!=data[i-dif] || data[i+1]!=data[i+1-dif] || data[i+2]!=data[i+2-dif]) return 0;\r\n\tvar oi=i, l = Math.min(data.length, i+258);  i+=3;\r\n\t//while(i+4<l && data[i]==data[i-dif] && data[i+1]==data[i+1-dif] && data[i+2]==data[i+2-dif] && data[i+3]==data[i+3-dif]) i+=4;\r\n\twhile(i<l && data[i]==data[i-dif]) i++;\r\n\treturn i-oi;\r\n}\r\nUZIP.F._hash = function(data, i) {\r\n\treturn (((data[i]<<8) | data[i+1])+(data[i+2]<<4))&0xffff;\r\n\t//var hash_shift = 0, hash_mask = 255;\r\n\t//var h = data[i+1] % 251;\r\n\t//h = (((h << 8) + data[i+2]) % 251);\r\n\t//h = (((h << 8) + data[i+2]) % 251);\r\n\t//h = ((h<<hash_shift) ^ (c) ) & hash_mask;\r\n\t//return h | (data[i]<<8);\r\n\t//return (data[i] | (data[i+1]<<8));\r\n}\r\n//UZIP.___toth = 0;\r\nUZIP.saved = 0;\r\nUZIP.F._writeBlock = function(BFINAL, lits, li, ebits, data,o0,l0, out, pos) {\r\n\tvar U = UZIP.F.U, putsF = UZIP.F._putsF, putsE = UZIP.F._putsE;\r\n\t\r\n\t//*\r\n\tvar T, ML, MD, MH, numl, numd, numh, lset, dset;  U.lhst[256]++;\r\n\tT = UZIP.F.getTrees(); ML=T[0]; MD=T[1]; MH=T[2]; numl=T[3]; numd=T[4]; numh=T[5]; lset=T[6]; dset=T[7];\r\n\t\r\n\tvar cstSize = (((pos+3)&7)==0 ? 0 : 8-((pos+3)&7)) + 32 + (l0<<3);\r\n\tvar fxdSize = ebits + UZIP.F.contSize(U.fltree, U.lhst) + UZIP.F.contSize(U.fdtree, U.dhst);\r\n\tvar dynSize = ebits + UZIP.F.contSize(U.ltree , U.lhst) + UZIP.F.contSize(U.dtree , U.dhst);\r\n\tdynSize    += 14 + 3*numh + UZIP.F.contSize(U.itree, U.ihst) + (U.ihst[16]*2 + U.ihst[17]*3 + U.ihst[18]*7);\r\n\t\r\n\tfor(var j=0; j<286; j++) U.lhst[j]=0;   for(var j=0; j<30; j++) U.dhst[j]=0;   for(var j=0; j<19; j++) U.ihst[j]=0;\r\n\t//*/\r\n\tvar BTYPE = (cstSize<fxdSize && cstSize<dynSize) ? 0 : ( fxdSize<dynSize ? 1 : 2 );\r\n\tputsF(out, pos, BFINAL);  putsF(out, pos+1, BTYPE);  pos+=3;\r\n\t\r\n\tvar opos = pos;\r\n\tif(BTYPE==0) {\r\n\t\twhile((pos&7)!=0) pos++;\r\n\t\tpos = UZIP.F._copyExact(data, o0, l0, out, pos);\r\n\t}\r\n\telse {\r\n\t\tvar ltree, dtree;\r\n\t\tif(BTYPE==1) {  ltree=U.fltree;  dtree=U.fdtree;  }\r\n\t\tif(BTYPE==2) {\t\r\n\t\t\tUZIP.F.makeCodes(U.ltree, ML);  UZIP.F.revCodes(U.ltree, ML);\r\n\t\t\tUZIP.F.makeCodes(U.dtree, MD);  UZIP.F.revCodes(U.dtree, MD);\r\n\t\t\tUZIP.F.makeCodes(U.itree, MH);  UZIP.F.revCodes(U.itree, MH);\r\n\t\t\t\r\n\t\t\tltree = U.ltree;  dtree = U.dtree;\r\n\t\t\t\r\n\t\t\tputsE(out, pos,numl-257);  pos+=5;  // 286\r\n\t\t\tputsE(out, pos,numd-  1);  pos+=5;  // 30\r\n\t\t\tputsE(out, pos,numh-  4);  pos+=4;  // 19\r\n\t\t\t\r\n\t\t\tfor(var i=0; i<numh; i++) putsE(out, pos+i*3, U.itree[(U.ordr[i]<<1)+1]);   pos+=3* numh;\r\n\t\t\tpos = UZIP.F._codeTiny(lset, U.itree, out, pos);\r\n\t\t\tpos = UZIP.F._codeTiny(dset, U.itree, out, pos);\r\n\t\t}\r\n\t\t\r\n\t\tvar off=o0;\r\n\t\tfor(var si=0; si<li; si+=2) {\r\n\t\t\tvar qb=lits[si], len=(qb>>>23), end = off+(qb&((1<<23)-1));\r\n\t\t\twhile(off<end) pos = UZIP.F._writeLit(data[off++], ltree, out, pos);\r\n\t\t\t\r\n\t\t\tif(len!=0) {\r\n\t\t\t\tvar qc = lits[si+1], dst=(qc>>16), lgi=(qc>>8)&255, dgi=(qc&255);\r\n\t\t\t\tpos = UZIP.F._writeLit(257+lgi, ltree, out, pos);\r\n\t\t\t\tputsE(out, pos, len-U.of0[lgi]);  pos+=U.exb[lgi];\r\n\t\t\t\t\r\n\t\t\t\tpos = UZIP.F._writeLit(dgi, dtree, out, pos);\r\n\t\t\t\tputsF(out, pos, dst-U.df0[dgi]);  pos+=U.dxb[dgi];  off+=len;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpos = UZIP.F._writeLit(256, ltree, out, pos);\r\n\t}\r\n\t//console.log(pos-opos, fxdSize, dynSize, cstSize);\r\n\treturn pos;\r\n}\r\nUZIP.F._copyExact = function(data,off,len,out,pos) {\r\n\tvar p8 = (pos>>>3);\r\n\tout[p8]=(len);  out[p8+1]=(len>>>8);  out[p8+2]=255-out[p8];  out[p8+3]=255-out[p8+1];  p8+=4;\r\n\tout.set(new Uint8Array(data.buffer, off, len), p8);\r\n\t//for(var i=0; i<len; i++) out[p8+i]=data[off+i];\r\n\treturn pos + ((len+4)<<3);\r\n}\r\n/*\r\n\tInteresting facts:\r\n\t- decompressed block can have bytes, which do not occur in a Huffman tree (copied from the previous block by reference)\r\n*/\r\n\r\nUZIP.F.getTrees = function() {\r\n\tvar U = UZIP.F.U;\r\n\tvar ML = UZIP.F._hufTree(U.lhst, U.ltree, 15);\r\n\tvar MD = UZIP.F._hufTree(U.dhst, U.dtree, 15);\r\n\tvar lset = [], numl = UZIP.F._lenCodes(U.ltree, lset);\r\n\tvar dset = [], numd = UZIP.F._lenCodes(U.dtree, dset);\r\n\tfor(var i=0; i<lset.length; i+=2) U.ihst[lset[i]]++;\r\n\tfor(var i=0; i<dset.length; i+=2) U.ihst[dset[i]]++;\r\n\tvar MH = UZIP.F._hufTree(U.ihst, U.itree,  7);\r\n\tvar numh = 19;  while(numh>4 && U.itree[(U.ordr[numh-1]<<1)+1]==0) numh--;\r\n\treturn [ML, MD, MH, numl, numd, numh, lset, dset];\r\n}\r\nUZIP.F.getSecond= function(a) {  var b=[];  for(var i=0; i<a.length; i+=2) b.push  (a[i+1]);  return b;  }\r\nUZIP.F.nonZero  = function(a) {  var b= \"\";  for(var i=0; i<a.length; i+=2) if(a[i+1]!=0)b+=(i>>1)+\",\";  return b;  }\r\nUZIP.F.contSize = function(tree, hst) {  var s=0;  for(var i=0; i<hst.length; i++) s+= hst[i]*tree[(i<<1)+1];  return s;  }\r\nUZIP.F._codeTiny = function(set, tree, out, pos) {\r\n\tfor(var i=0; i<set.length; i+=2) {\r\n\t\tvar l = set[i], rst = set[i+1];  //console.log(l, pos, tree[(l<<1)+1]);\r\n\t\tpos = UZIP.F._writeLit(l, tree, out, pos);\r\n\t\tvar rsl = l==16 ? 2 : (l==17 ? 3 : 7);\r\n\t\tif(l>15) {  UZIP.F._putsE(out, pos, rst, rsl);  pos+=rsl;  }\r\n\t}\r\n\treturn pos;\r\n}\r\nUZIP.F._lenCodes = function(tree, set) {\r\n\tvar len=tree.length;  while(len!=2 && tree[len-1]==0) len-=2;  // when no distances, keep one code with length 0\r\n\tfor(var i=0; i<len; i+=2) {\r\n\t\tvar l = tree[i+1], nxt = (i+3<len ? tree[i+3]:-1),  nnxt = (i+5<len ? tree[i+5]:-1),  prv = (i==0 ? -1 : tree[i-1]);\r\n\t\tif(l==0 && nxt==l && nnxt==l) {\r\n\t\t\tvar lz = i+5;\r\n\t\t\twhile(lz+2<len && tree[lz+2]==l) lz+=2;\r\n\t\t\tvar zc = Math.min((lz+1-i)>>>1, 138);\r\n\t\t\tif(zc<11) set.push(17, zc-3);\r\n\t\t\telse set.push(18, zc-11);\r\n\t\t\ti += zc*2-2;\r\n\t\t}\r\n\t\telse if(l==prv && nxt==l && nnxt==l) {\r\n\t\t\tvar lz = i+5;\r\n\t\t\twhile(lz+2<len && tree[lz+2]==l) lz+=2;\r\n\t\t\tvar zc = Math.min((lz+1-i)>>>1, 6);\r\n\t\t\tset.push(16, zc-3);\r\n\t\t\ti += zc*2-2;\r\n\t\t}\r\n\t\telse set.push(l, 0);\r\n\t}\r\n\treturn len>>>1;\r\n}\r\nUZIP.F._hufTree   = function(hst, tree, MAXL) {\r\n\tvar list=[], hl = hst.length, tl=tree.length, i=0;\r\n\tfor(i=0; i<tl; i+=2) {  tree[i]=0;  tree[i+1]=0;  }\t\r\n\tfor(i=0; i<hl; i++) if(hst[i]!=0) list.push({lit:i, f:hst[i]});\r\n\tvar end = list.length, l2=list.slice(0);\r\n\tif(end==0) return 0;  // empty histogram (usually for dist)\r\n\tif(end==1) {  var lit=list[0].lit, l2=lit==0?1:0;  tree[(lit<<1)+1]=1;  tree[(l2<<1)+1]=1;  return 1;  }\r\n\tlist.sort(function(a,b){return a.f-b.f;});\r\n\tvar a=list[0], b=list[1], i0=0, i1=1, i2=2;  list[0]={lit:-1,f:a.f+b.f,l:a,r:b,d:0};\r\n\twhile(i1!=end-1) {\r\n\t\tif(i0!=i1 && (i2==end || list[i0].f<list[i2].f)) {  a=list[i0++];  }  else {  a=list[i2++];  }\r\n\t\tif(i0!=i1 && (i2==end || list[i0].f<list[i2].f)) {  b=list[i0++];  }  else {  b=list[i2++];  }\r\n\t\tlist[i1++]={lit:-1,f:a.f+b.f, l:a,r:b};\r\n\t}\r\n\tvar maxl = UZIP.F.setDepth(list[i1-1], 0);\r\n\tif(maxl>MAXL) {  UZIP.F.restrictDepth(l2, MAXL, maxl);  maxl = MAXL;  }\r\n\tfor(i=0; i<end; i++) tree[(l2[i].lit<<1)+1]=l2[i].d;\r\n\treturn maxl;\r\n}\r\n\r\nUZIP.F.setDepth  = function(t, d) {\r\n\tif(t.lit!=-1) {  t.d=d;  return d;  }\r\n\treturn Math.max( UZIP.F.setDepth(t.l, d+1),  UZIP.F.setDepth(t.r, d+1) );\r\n}\r\n\r\nUZIP.F.restrictDepth = function(dps, MD, maxl) {\r\n\tvar i=0, bCost=1<<(maxl-MD), dbt=0;\r\n\tdps.sort(function(a,b){return b.d==a.d ? a.f-b.f : b.d-a.d;});\r\n\t\r\n\tfor(i=0; i<dps.length; i++) if(dps[i].d>MD) {  var od=dps[i].d;  dps[i].d=MD;  dbt+=bCost-(1<<(maxl-od));  }  else break;\r\n\tdbt = dbt>>>(maxl-MD);\r\n\twhile(dbt>0) {  var od=dps[i].d;  if(od<MD) {  dps[i].d++;  dbt-=(1<<(MD-od-1));  }  else  i++;  }\r\n\tfor(; i>=0; i--) if(dps[i].d==MD && dbt<0) {  dps[i].d--;  dbt++;  }  if(dbt!=0) console.log(\"debt left\");\r\n}\r\n\r\nUZIP.F._goodIndex = function(v, arr) {\r\n\tvar i=0;  if(arr[i|16]<=v) i|=16;  if(arr[i|8]<=v) i|=8;  if(arr[i|4]<=v) i|=4;  if(arr[i|2]<=v) i|=2;  if(arr[i|1]<=v) i|=1;  return i;\r\n}\r\nUZIP.F._writeLit = function(ch, ltree, out, pos) {\r\n\tUZIP.F._putsF(out, pos, ltree[ch<<1]);\r\n\treturn pos+ltree[(ch<<1)+1];\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nUZIP.F.inflate = function(data, buf) {\r\n\tvar u8=Uint8Array;\r\n\tif(data[0]==3 && data[1]==0) return (buf ? buf : new u8(0));\r\n\tvar F=UZIP.F, bitsF = F._bitsF, bitsE = F._bitsE, decodeTiny = F._decodeTiny, makeCodes = F.makeCodes, codes2map=F.codes2map, get17 = F._get17;\r\n\tvar U = F.U;\r\n\t\r\n\tvar noBuf = (buf==null);\r\n\tif(noBuf) buf = new u8((data.length>>>2)<<3);\r\n\t\r\n\tvar BFINAL=0, BTYPE=0, HLIT=0, HDIST=0, HCLEN=0, ML=0, MD=0; \t\r\n\tvar off = 0, pos = 0;\r\n\tvar lmap, dmap;\r\n\t\r\n\twhile(BFINAL==0) {\t\t\r\n\t\tBFINAL = bitsF(data, pos  , 1);\r\n\t\tBTYPE  = bitsF(data, pos+1, 2);  pos+=3;\r\n\t\t//console.log(BFINAL, BTYPE);\r\n\t\t\r\n\t\tif(BTYPE==0) {\r\n\t\t\tif((pos&7)!=0) pos+=8-(pos&7);\r\n\t\t\tvar p8 = (pos>>>3)+4, len = data[p8-4]|(data[p8-3]<<8);  //console.log(len);//bitsF(data, pos, 16), \r\n\t\t\tif(noBuf) buf=UZIP.F._check(buf, off+len);\r\n\t\t\tbuf.set(new u8(data.buffer, data.byteOffset+p8, len), off);\r\n\t\t\t//for(var i=0; i<len; i++) buf[off+i] = data[p8+i];\r\n\t\t\t//for(var i=0; i<len; i++) if(buf[off+i] != data[p8+i]) throw \"e\";\r\n\t\t\tpos = ((p8+len)<<3);  off+=len;  continue;\r\n\t\t}\r\n\t\tif(noBuf) buf=UZIP.F._check(buf, off+(1<<17));  // really not enough in many cases (but PNG and ZIP provide buffer in advance)\r\n\t\tif(BTYPE==1) {  lmap = U.flmap;  dmap = U.fdmap;  ML = (1<<9)-1;  MD = (1<<5)-1;   }\r\n\t\tif(BTYPE==2) {\r\n\t\t\tHLIT  = bitsE(data, pos   , 5)+257;  \r\n\t\t\tHDIST = bitsE(data, pos+ 5, 5)+  1;  \r\n\t\t\tHCLEN = bitsE(data, pos+10, 4)+  4;  pos+=14;\r\n\t\t\t\r\n\t\t\tvar ppos = pos;\r\n\t\t\tfor(var i=0; i<38; i+=2) {  U.itree[i]=0;  U.itree[i+1]=0;  }\r\n\t\t\tvar tl = 1;\r\n\t\t\tfor(var i=0; i<HCLEN; i++) {  var l=bitsE(data, pos+i*3, 3);  U.itree[(U.ordr[i]<<1)+1] = l;  if(l>tl)tl=l;  }     pos+=3*HCLEN;  //console.log(itree);\r\n\t\t\tmakeCodes(U.itree, tl);\r\n\t\t\tcodes2map(U.itree, tl, U.imap);\r\n\t\t\t\r\n\t\t\tlmap = U.lmap;  dmap = U.dmap;\r\n\t\t\t\r\n\t\t\tpos = decodeTiny(U.imap, (1<<tl)-1, HLIT+HDIST, data, pos, U.ttree);\r\n\t\t\tvar mx0 = F._copyOut(U.ttree,    0, HLIT , U.ltree);  ML = (1<<mx0)-1;\r\n\t\t\tvar mx1 = F._copyOut(U.ttree, HLIT, HDIST, U.dtree);  MD = (1<<mx1)-1;\r\n\t\t\t\r\n\t\t\t//var ml = decodeTiny(U.imap, (1<<tl)-1, HLIT , data, pos, U.ltree); ML = (1<<(ml>>>24))-1;  pos+=(ml&0xffffff);\r\n\t\t\tmakeCodes(U.ltree, mx0);\r\n\t\t\tcodes2map(U.ltree, mx0, lmap);\r\n\t\t\t\r\n\t\t\t//var md = decodeTiny(U.imap, (1<<tl)-1, HDIST, data, pos, U.dtree); MD = (1<<(md>>>24))-1;  pos+=(md&0xffffff);\r\n\t\t\tmakeCodes(U.dtree, mx1);\r\n\t\t\tcodes2map(U.dtree, mx1, dmap);\r\n\t\t}\r\n\t\t//var ooff=off, opos=pos;\r\n\t\twhile(true) {\r\n\t\t\tvar code = lmap[get17(data, pos) & ML];  pos += code&15;\r\n\t\t\tvar lit = code>>>4;  //U.lhst[lit]++;  \r\n\t\t\tif((lit>>>8)==0) {  buf[off++] = lit;  }\r\n\t\t\telse if(lit==256) {  break;  }\r\n\t\t\telse {\r\n\t\t\t\tvar end = off+lit-254;\r\n\t\t\t\tif(lit>264) { var ebs = U.ldef[lit-257];  end = off + (ebs>>>3) + bitsE(data, pos, ebs&7);  pos += ebs&7;  }\r\n\t\t\t\t//UZIP.F.dst[end-off]++;\r\n\t\t\t\t\r\n\t\t\t\tvar dcode = dmap[get17(data, pos) & MD];  pos += dcode&15;\r\n\t\t\t\tvar dlit = dcode>>>4;\r\n\t\t\t\tvar dbs = U.ddef[dlit], dst = (dbs>>>4) + bitsF(data, pos, dbs&15);  pos += dbs&15;\r\n\t\t\t\t\r\n\t\t\t\t//var o0 = off-dst, stp = Math.min(end-off, dst);\r\n\t\t\t\t//if(stp>20) while(off<end) {  buf.copyWithin(off, o0, o0+stp);  off+=stp;  }  else\r\n\t\t\t\t//if(end-dst<=off) buf.copyWithin(off, off-dst, end-dst);  else\r\n\t\t\t\t//if(dst==1) buf.fill(buf[off-1], off, end);  else\r\n\t\t\t\tif(noBuf) buf=UZIP.F._check(buf, off+(1<<17));\r\n\t\t\t\twhile(off<end) {  buf[off]=buf[off++-dst];    buf[off]=buf[off++-dst];  buf[off]=buf[off++-dst];  buf[off]=buf[off++-dst];  }   \r\n\t\t\t\toff=end;\r\n\t\t\t\t//while(off!=end) {  buf[off]=buf[off++-dst];  }\r\n\t\t\t}\r\n\t\t}\r\n\t\t//console.log(off-ooff, (pos-opos)>>>3);\r\n\t}\r\n\t//console.log(UZIP.F.dst);\r\n\t//console.log(tlen, dlen, off-tlen+tcnt);\r\n\treturn buf.length==off ? buf : buf.slice(0,off);\r\n}\r\nUZIP.F._check=function(buf, len) {\r\n\tvar bl=buf.length;  if(len<=bl) return buf;\r\n\tvar nbuf = new Uint8Array(Math.max(bl<<1,len));  nbuf.set(buf,0);\r\n\t//for(var i=0; i<bl; i+=4) {  nbuf[i]=buf[i];  nbuf[i+1]=buf[i+1];  nbuf[i+2]=buf[i+2];  nbuf[i+3]=buf[i+3];  }\r\n\treturn nbuf;\r\n}\r\n\r\nUZIP.F._decodeTiny = function(lmap, LL, len, data, pos, tree) {\r\n\tvar bitsE = UZIP.F._bitsE, get17 = UZIP.F._get17;\r\n\tvar i = 0;\r\n\twhile(i<len) {\r\n\t\tvar code = lmap[get17(data, pos)&LL];  pos+=code&15;\r\n\t\tvar lit = code>>>4; \r\n\t\tif(lit<=15) {  tree[i]=lit;  i++;  }\r\n\t\telse {\r\n\t\t\tvar ll = 0, n = 0;\r\n\t\t\tif(lit==16) {\r\n\t\t\t\tn = (3  + bitsE(data, pos, 2));  pos += 2;  ll = tree[i-1];\r\n\t\t\t}\r\n\t\t\telse if(lit==17) {\r\n\t\t\t\tn = (3  + bitsE(data, pos, 3));  pos += 3;\r\n\t\t\t}\r\n\t\t\telse if(lit==18) {\r\n\t\t\t\tn = (11 + bitsE(data, pos, 7));  pos += 7;\r\n\t\t\t}\r\n\t\t\tvar ni = i+n;\r\n\t\t\twhile(i<ni) {  tree[i]=ll;  i++; }\r\n\t\t}\r\n\t}\r\n\treturn pos;\r\n}\r\nUZIP.F._copyOut = function(src, off, len, tree) {\r\n\tvar mx=0, i=0, tl=tree.length>>>1;\r\n\twhile(i<len) {  var v=src[i+off];  tree[(i<<1)]=0;  tree[(i<<1)+1]=v;  if(v>mx)mx=v;  i++;  }\r\n\twhile(i<tl ) {  tree[(i<<1)]=0;  tree[(i<<1)+1]=0;  i++;  }\r\n\treturn mx;\r\n}\r\n\r\nUZIP.F.makeCodes = function(tree, MAX_BITS) {  // code, length\r\n\tvar U = UZIP.F.U;\r\n\tvar max_code = tree.length;\r\n\tvar code, bits, n, i, len;\r\n\t\r\n\tvar bl_count = U.bl_count;  for(var i=0; i<=MAX_BITS; i++) bl_count[i]=0;\r\n\tfor(i=1; i<max_code; i+=2) bl_count[tree[i]]++;\r\n\t\r\n\tvar next_code = U.next_code;\t// smallest code for each length\r\n\t\r\n\tcode = 0;\r\n\tbl_count[0] = 0;\r\n\tfor (bits = 1; bits <= MAX_BITS; bits++) {\r\n\t\tcode = (code + bl_count[bits-1]) << 1;\r\n\t\tnext_code[bits] = code;\r\n\t}\r\n\t\r\n\tfor (n = 0; n < max_code; n+=2) {\r\n\t\tlen = tree[n+1];\r\n\t\tif (len != 0) {\r\n\t\t\ttree[n] = next_code[len];\r\n\t\t\tnext_code[len]++;\r\n\t\t}\r\n\t}\r\n}\r\nUZIP.F.codes2map = function(tree, MAX_BITS, map) {\r\n\tvar max_code = tree.length;\r\n\tvar U=UZIP.F.U, r15 = U.rev15;\r\n\tfor(var i=0; i<max_code; i+=2) if(tree[i+1]!=0)  {\r\n\t\tvar lit = i>>1;\r\n\t\tvar cl = tree[i+1], val = (lit<<4)|cl; // :  (0x8000 | (U.of0[lit-257]<<7) | (U.exb[lit-257]<<4) | cl);\r\n\t\tvar rest = (MAX_BITS-cl), i0 = tree[i]<<rest, i1 = i0 + (1<<rest);\r\n\t\t//tree[i]=r15[i0]>>>(15-MAX_BITS);\r\n\t\twhile(i0!=i1) {\r\n\t\t\tvar p0 = r15[i0]>>>(15-MAX_BITS);\r\n\t\t\tmap[p0]=val;  i0++;\r\n\t\t}\r\n\t}\r\n}\r\nUZIP.F.revCodes = function(tree, MAX_BITS) {\r\n\tvar r15 = UZIP.F.U.rev15, imb = 15-MAX_BITS;\r\n\tfor(var i=0; i<tree.length; i+=2) {  var i0 = (tree[i]<<(MAX_BITS-tree[i+1]));  tree[i] = r15[i0]>>>imb;  }\r\n}\r\n\r\n// used only in deflate\r\nUZIP.F._putsE= function(dt, pos, val   ) {  val = val<<(pos&7);  var o=(pos>>>3);  dt[o]|=val;  dt[o+1]|=(val>>>8);                        }\r\nUZIP.F._putsF= function(dt, pos, val   ) {  val = val<<(pos&7);  var o=(pos>>>3);  dt[o]|=val;  dt[o+1]|=(val>>>8);  dt[o+2]|=(val>>>16);  }\r\n\r\nUZIP.F._bitsE= function(dt, pos, length) {  return ((dt[pos>>>3] | (dt[(pos>>>3)+1]<<8)                        )>>>(pos&7))&((1<<length)-1);  }\r\nUZIP.F._bitsF= function(dt, pos, length) {  return ((dt[pos>>>3] | (dt[(pos>>>3)+1]<<8) | (dt[(pos>>>3)+2]<<16))>>>(pos&7))&((1<<length)-1);  }\r\n/*\r\nUZIP.F._get9 = function(dt, pos) {\r\n\treturn ((dt[pos>>>3] | (dt[(pos>>>3)+1]<<8))>>>(pos&7))&511;\r\n} */\r\nUZIP.F._get17= function(dt, pos) {\t// return at least 17 meaningful bytes\r\n\treturn (dt[pos>>>3] | (dt[(pos>>>3)+1]<<8) | (dt[(pos>>>3)+2]<<16) )>>>(pos&7);\r\n}\r\nUZIP.F._get25= function(dt, pos) {\t// return at least 17 meaningful bytes\r\n\treturn (dt[pos>>>3] | (dt[(pos>>>3)+1]<<8) | (dt[(pos>>>3)+2]<<16) | (dt[(pos>>>3)+3]<<24) )>>>(pos&7);\r\n}\r\nUZIP.F.U = function(){\r\n\tvar u16=Uint16Array, u32=Uint32Array;\r\n\treturn {\r\n\t\tnext_code : new u16(16),\r\n\t\tbl_count  : new u16(16),\r\n\t\tordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],\r\n\t\tof0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],\r\n\t\texb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],\r\n\t\tldef : new u16(32),\r\n\t\tdf0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],\r\n\t\tdxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],\r\n\t\tddef : new u32(32),\r\n\t\tflmap: new u16(  512),  fltree: [],\r\n\t\tfdmap: new u16(   32),  fdtree: [],\r\n\t\tlmap : new u16(32768),  ltree : [],  ttree:[],\r\n\t\tdmap : new u16(32768),  dtree : [],\r\n\t\timap : new u16(  512),  itree : [],\r\n\t\t//rev9 : new u16(  512)\r\n\t\trev15: new u16(1<<15),\r\n\t\tlhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),\r\n\t\tlits : new u32(15000),\r\n\t\tstrt : new u16(1<<16),\r\n\t\tprev : new u16(1<<15)\r\n\t};  \r\n} ();\r\n\r\n(function(){\t\r\n\tvar U = UZIP.F.U;\r\n\tvar len = 1<<15;\r\n\tfor(var i=0; i<len; i++) {\r\n\t\tvar x = i;\r\n\t\tx = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));\r\n\t\tx = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));\r\n\t\tx = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));\r\n\t\tx = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));\r\n\t\tU.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;\r\n\t}\r\n\t\r\n\tfunction pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }\r\n\t\r\n\tfor(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }\r\n\t\r\n\tpushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);\r\n\t/*\r\n\tvar i = 0;\r\n\tfor(; i<=143; i++) U.fltree.push(0,8);\r\n\tfor(; i<=255; i++) U.fltree.push(0,9);\r\n\tfor(; i<=279; i++) U.fltree.push(0,7);\r\n\tfor(; i<=287; i++) U.fltree.push(0,8);\r\n\t*/\r\n\tUZIP.F.makeCodes(U.fltree, 9);\r\n\tUZIP.F.codes2map(U.fltree, 9, U.flmap);\r\n\tUZIP.F.revCodes (U.fltree, 9)\r\n\t\r\n\tpushV(U.fdtree,32,5);\r\n\t//for(i=0;i<32; i++) U.fdtree.push(0,5);\r\n\tUZIP.F.makeCodes(U.fdtree, 5);\r\n\tUZIP.F.codes2map(U.fdtree, 5, U.fdmap);\r\n\tUZIP.F.revCodes (U.fdtree, 5)\r\n\t\r\n\tpushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);\r\n\t/*\r\n\tfor(var i=0; i< 19; i++) U.itree.push(0,0);\r\n\tfor(var i=0; i<286; i++) U.ltree.push(0,0);\r\n\tfor(var i=0; i< 30; i++) U.dtree.push(0,0);\r\n\tfor(var i=0; i<320; i++) U.ttree.push(0,0);\r\n\t*/\r\n})()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// https://github.com/photopea/UPNG.js/blob/f6e5f93da01094b1ffb3cef364abce4d9e758cbf/UPNG.js\n\n// import * as pako from 'pako'\nimport * as UZIP from 'uzip';\n\nconst UPNG = (function () {\n  var _bin = {\n    nextZero(data, p) { while (data[p] != 0) p++; return p; },\n    readUshort(buff, p) { return (buff[p] << 8) | buff[p + 1]; },\n    writeUshort(buff, p, n) { buff[p] = (n >> 8) & 255; buff[p + 1] = n & 255; },\n    readUint(buff, p) { return (buff[p] * (256 * 256 * 256)) + ((buff[p + 1] << 16) | (buff[p + 2] << 8) | buff[p + 3]); },\n    writeUint(buff, p, n) { buff[p] = (n >> 24) & 255; buff[p + 1] = (n >> 16) & 255; buff[p + 2] = (n >> 8) & 255; buff[p + 3] = n & 255; },\n    readASCII(buff, p, l) { let s = ''; for (let i = 0; i < l; i++) s += String.fromCharCode(buff[p + i]); return s; },\n    writeASCII(data, p, s) { for (let i = 0; i < s.length; i++) data[p + i] = s.charCodeAt(i); },\n    readBytes(buff, p, l) { const arr = []; for (let i = 0; i < l; i++) arr.push(buff[p + i]); return arr; },\n    pad(n) { return n.length < 2 ? `0${n}` : n; },\n    readUTF8(buff, p, l) {\n      let s = '';\n      let ns;\n      for (let i = 0; i < l; i++) s += `%${_bin.pad(buff[p + i].toString(16))}`;\n      try { ns = decodeURIComponent(s); } catch (e) { return _bin.readASCII(buff, p, l); }\n      return ns;\n    },\n  };\n\n  function toRGBA8(out) {\n    const w = out.width; const\n      h = out.height;\n    if (out.tabs.acTL == null) return [decodeImage(out.data, w, h, out).buffer];\n\n    const frms = [];\n    if (out.frames[0].data == null) out.frames[0].data = out.data;\n\n    const len = w * h * 4; const img = new Uint8Array(len); const empty = new Uint8Array(len); const\n      prev = new Uint8Array(len);\n    for (let i = 0; i < out.frames.length; i++) {\n      const frm = out.frames[i];\n      const fx = frm.rect.x; const fy = frm.rect.y; const fw = frm.rect.width; const\n        fh = frm.rect.height;\n      const fdata = decodeImage(frm.data, fw, fh, out);\n\n      if (i != 0) for (var j = 0; j < len; j++) prev[j] = img[j];\n\n      if (frm.blend == 0) _copyTile(fdata, fw, fh, img, w, h, fx, fy, 0);\n      else if (frm.blend == 1) _copyTile(fdata, fw, fh, img, w, h, fx, fy, 1);\n\n      frms.push(img.buffer.slice(0));\n\n      if (frm.dispose == 0) {} else if (frm.dispose == 1) _copyTile(empty, fw, fh, img, w, h, fx, fy, 0);\n      else if (frm.dispose == 2) for (var j = 0; j < len; j++) img[j] = prev[j];\n    }\n    return frms;\n  }\n  function decodeImage(data, w, h, out) {\n    const area = w * h; const\n      bpp = _getBPP(out);\n    const bpl = Math.ceil(w * bpp / 8);\t// bytes per line\n\n    const bf = new Uint8Array(area * 4); const\n      bf32 = new Uint32Array(bf.buffer);\n    const { ctype } = out;\n    const { depth } = out;\n    const rs = _bin.readUshort;\n\n    // console.log(ctype, depth);\n    const time = Date.now();\n\n    if (ctype == 6) { // RGB + alpha\n      const qarea = area << 2;\n      if (depth == 8) for (var i = 0; i < qarea; i += 4) { bf[i] = data[i]; bf[i + 1] = data[i + 1]; bf[i + 2] = data[i + 2]; bf[i + 3] = data[i + 3]; }\n      if (depth == 16) for (var i = 0; i < qarea; i++) { bf[i] = data[i << 1]; }\n    } else if (ctype == 2) {\t// RGB\n      const ts = out.tabs.tRNS;\n      if (ts == null) {\n        if (depth == 8) for (var i = 0; i < area; i++) { var ti = i * 3; bf32[i] = (255 << 24) | (data[ti + 2] << 16) | (data[ti + 1] << 8) | data[ti]; }\n        if (depth == 16) for (var i = 0; i < area; i++) { var ti = i * 6; bf32[i] = (255 << 24) | (data[ti + 4] << 16) | (data[ti + 2] << 8) | data[ti]; }\n      } else {\n        var tr = ts[0]; const tg = ts[1]; const\n          tb = ts[2];\n        if (depth == 8) {\n          for (var i = 0; i < area; i++) {\n            var qi = i << 2; var\n              ti = i * 3; bf32[i] = (255 << 24) | (data[ti + 2] << 16) | (data[ti + 1] << 8) | data[ti];\n            if (data[ti] == tr && data[ti + 1] == tg && data[ti + 2] == tb) bf[qi + 3] = 0;\n          }\n        }\n        if (depth == 16) {\n          for (var i = 0; i < area; i++) {\n            var qi = i << 2; var\n              ti = i * 6; bf32[i] = (255 << 24) | (data[ti + 4] << 16) | (data[ti + 2] << 8) | data[ti];\n            if (rs(data, ti) == tr && rs(data, ti + 2) == tg && rs(data, ti + 4) == tb) bf[qi + 3] = 0;\n          }\n        }\n      }\n    } else if (ctype == 3) {\t// palette\n      const p = out.tabs.PLTE;\n      const ap = out.tabs.tRNS;\n      const tl = ap ? ap.length : 0;\n      // console.log(p, ap);\n      if (depth == 1) {\n        for (var y = 0; y < h; y++) {\n          var s0 = y * bpl; var\n            t0 = y * w;\n          for (var i = 0; i < w; i++) {\n            var qi = (t0 + i) << 2; var j = ((data[s0 + (i >> 3)] >> (7 - ((i & 7) << 0))) & 1); var\n              cj = 3 * j; bf[qi] = p[cj]; bf[qi + 1] = p[cj + 1]; bf[qi + 2] = p[cj + 2]; bf[qi + 3] = (j < tl) ? ap[j] : 255;\n          }\n        }\n      }\n      if (depth == 2) {\n        for (var y = 0; y < h; y++) {\n          var s0 = y * bpl; var\n            t0 = y * w;\n          for (var i = 0; i < w; i++) {\n            var qi = (t0 + i) << 2; var j = ((data[s0 + (i >> 2)] >> (6 - ((i & 3) << 1))) & 3); var\n              cj = 3 * j; bf[qi] = p[cj]; bf[qi + 1] = p[cj + 1]; bf[qi + 2] = p[cj + 2]; bf[qi + 3] = (j < tl) ? ap[j] : 255;\n          }\n        }\n      }\n      if (depth == 4) {\n        for (var y = 0; y < h; y++) {\n          var s0 = y * bpl; var\n            t0 = y * w;\n          for (var i = 0; i < w; i++) {\n            var qi = (t0 + i) << 2; var j = ((data[s0 + (i >> 1)] >> (4 - ((i & 1) << 2))) & 15); var\n              cj = 3 * j; bf[qi] = p[cj]; bf[qi + 1] = p[cj + 1]; bf[qi + 2] = p[cj + 2]; bf[qi + 3] = (j < tl) ? ap[j] : 255;\n          }\n        }\n      }\n      if (depth == 8) {\n        for (var i = 0; i < area; i++) {\n          var qi = i << 2; var j = data[i]; var\n            cj = 3 * j; bf[qi] = p[cj]; bf[qi + 1] = p[cj + 1]; bf[qi + 2] = p[cj + 2]; bf[qi + 3] = (j < tl) ? ap[j] : 255;\n        }\n      }\n    } else if (ctype == 4) {\t// gray + alpha\n      if (depth == 8) {\n        for (var i = 0; i < area; i++) {\n          var qi = i << 2; var di = i << 1; var\n            gr = data[di]; bf[qi] = gr; bf[qi + 1] = gr; bf[qi + 2] = gr; bf[qi + 3] = data[di + 1];\n        }\n      }\n      if (depth == 16) {\n        for (var i = 0; i < area; i++) {\n          var qi = i << 2; var di = i << 2; var\n            gr = data[di]; bf[qi] = gr; bf[qi + 1] = gr; bf[qi + 2] = gr; bf[qi + 3] = data[di + 2];\n        }\n      }\n    } else if (ctype == 0) {\t// gray\n      var tr = out.tabs.tRNS ? out.tabs.tRNS : -1;\n      for (var y = 0; y < h; y++) {\n        const off = y * bpl; const\n          to = y * w;\n        if (depth == 1) {\n          for (var x = 0; x < w; x++) {\n            var gr = 255 * ((data[off + (x >>> 3)] >>> (7 - ((x & 7)))) & 1); var\n              al = (gr == tr * 255) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        } else if (depth == 2) {\n          for (var x = 0; x < w; x++) {\n            var gr = 85 * ((data[off + (x >>> 2)] >>> (6 - ((x & 3) << 1))) & 3); var\n              al = (gr == tr * 85) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        } else if (depth == 4) {\n          for (var x = 0; x < w; x++) {\n            var gr = 17 * ((data[off + (x >>> 1)] >>> (4 - ((x & 1) << 2))) & 15); var\n              al = (gr == tr * 17) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        } else if (depth == 8) {\n          for (var x = 0; x < w; x++) {\n            var gr = data[off + x]; var\n              al = (gr == tr) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        } else if (depth == 16) {\n          for (var x = 0; x < w; x++) {\n            var gr = data[off + (x << 1)]; var\n              al = (rs(data, off + (x << 1)) == tr) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        }\n      }\n    }\n    // console.log(Date.now()-time);\n    return bf;\n  }\n\n  function decode(buff) {\n    const data = new Uint8Array(buff); let offset = 8; const bin = _bin; const rUs = bin.readUshort; const\n      rUi = bin.readUint;\n    const out = { tabs: {}, frames: [] };\n    const dd = new Uint8Array(data.length); let\n      doff = 0;\t // put all IDAT data into it\n    let fd; let\n      foff = 0;\t// frames\n\n    const mgck = [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a];\n    for (var i = 0; i < 8; i++) if (data[i] != mgck[i]) throw 'The input is not a PNG file!';\n\n    while (offset < data.length) {\n      const len = bin.readUint(data, offset); offset += 4;\n      const type = bin.readASCII(data, offset, 4); offset += 4;\n      // console.log(type,len);\n\n      if (type == 'IHDR') { _IHDR(data, offset, out); } else if (type == 'iCCP') {\n        var off = offset; while (data[off] != 0) off++;\n        const nam = bin.readASCII(data, offset, off - offset);\n        const cpr = data[off + 1];\n        const fil = data.slice(off + 2, offset + len);\n        let res = null;\n        try { res = _inflate(fil); } catch (e) { res = inflateRaw(fil); }\n        out.tabs[type] = res;\n      } else if (type == 'CgBI') { out.tabs[type] = data.slice(offset, offset + 4); } else if (type == 'IDAT') {\n        for (var i = 0; i < len; i++) dd[doff + i] = data[offset + i];\n        doff += len;\n      } else if (type == 'acTL') {\n        out.tabs[type] = { num_frames: rUi(data, offset), num_plays: rUi(data, offset + 4) };\n        fd = new Uint8Array(data.length);\n      } else if (type == 'fcTL') {\n        if (foff != 0) {\n          var fr = out.frames[out.frames.length - 1];\n          fr.data = _decompress(out, fd.slice(0, foff), fr.rect.width, fr.rect.height); foff = 0;\n        }\n        const rct = {\n          x: rUi(data, offset + 12), y: rUi(data, offset + 16), width: rUi(data, offset + 4), height: rUi(data, offset + 8),\n        };\n        let del = rUs(data, offset + 22); del = rUs(data, offset + 20) / (del == 0 ? 100 : del);\n        const frm = {\n          rect: rct, delay: Math.round(del * 1000), dispose: data[offset + 24], blend: data[offset + 25],\n        };\n        // console.log(frm);\n        out.frames.push(frm);\n      } else if (type == 'fdAT') {\n        for (var i = 0; i < len - 4; i++) fd[foff + i] = data[offset + i + 4];\n        foff += len - 4;\n      } else if (type == 'pHYs') {\n        out.tabs[type] = [bin.readUint(data, offset), bin.readUint(data, offset + 4), data[offset + 8]];\n      } else if (type == 'cHRM') {\n        out.tabs[type] = [];\n        for (var i = 0; i < 8; i++) out.tabs[type].push(bin.readUint(data, offset + i * 4));\n      } else if (type == 'tEXt' || type == 'zTXt') {\n        if (out.tabs[type] == null) out.tabs[type] = {};\n        var nz = bin.nextZero(data, offset);\n        var keyw = bin.readASCII(data, offset, nz - offset);\n        var text; var\n          tl = offset + len - nz - 1;\n        if (type == 'tEXt') text = bin.readASCII(data, nz + 1, tl);\n        else {\n          var bfr = _inflate(data.slice(nz + 2, nz + 2 + tl));\n          text = bin.readUTF8(bfr, 0, bfr.length);\n        }\n        out.tabs[type][keyw] = text;\n      } else if (type == 'iTXt') {\n        if (out.tabs[type] == null) out.tabs[type] = {};\n        var nz = 0; var\n          off = offset;\n        nz = bin.nextZero(data, off);\n        var keyw = bin.readASCII(data, off, nz - off); off = nz + 1;\n        const cflag = data[off]; const\n          cmeth = data[off + 1]; off += 2;\n        nz = bin.nextZero(data, off);\n        const ltag = bin.readASCII(data, off, nz - off); off = nz + 1;\n        nz = bin.nextZero(data, off);\n        const tkeyw = bin.readUTF8(data, off, nz - off); off = nz + 1;\n        var text; var\n          tl = len - (off - offset);\n        if (cflag == 0) text = bin.readUTF8(data, off, tl);\n        else {\n          var bfr = _inflate(data.slice(off, off + tl));\n          text = bin.readUTF8(bfr, 0, bfr.length);\n        }\n        out.tabs[type][keyw] = text;\n      } else if (type == 'PLTE') {\n        out.tabs[type] = bin.readBytes(data, offset, len);\n      } else if (type == 'hIST') {\n        const pl = out.tabs.PLTE.length / 3;\n        out.tabs[type] = []; for (var i = 0; i < pl; i++) out.tabs[type].push(rUs(data, offset + i * 2));\n      } else if (type == 'tRNS') {\n        if (out.ctype == 3) out.tabs[type] = bin.readBytes(data, offset, len);\n        else if (out.ctype == 0) out.tabs[type] = rUs(data, offset);\n        else if (out.ctype == 2) out.tabs[type] = [rUs(data, offset), rUs(data, offset + 2), rUs(data, offset + 4)];\n        // else console.log(\"tRNS for unsupported color type\",out.ctype, len);\n      } else if (type == 'gAMA') out.tabs[type] = bin.readUint(data, offset) / 100000;\n      else if (type == 'sRGB') out.tabs[type] = data[offset];\n      else if (type == 'bKGD') {\n        if (out.ctype == 0 || out.ctype == 4) out.tabs[type] = [rUs(data, offset)];\n        else if (out.ctype == 2 || out.ctype == 6) out.tabs[type] = [rUs(data, offset), rUs(data, offset + 2), rUs(data, offset + 4)];\n        else if (out.ctype == 3) out.tabs[type] = data[offset];\n      } else if (type == 'IEND') {\n        break;\n      }\n      // else {  console.log(\"unknown chunk type\", type, len);  out.tabs[type]=data.slice(offset,offset+len);  }\n      offset += len;\n      const crc = bin.readUint(data, offset); offset += 4;\n    }\n    if (foff != 0) {\n      var fr = out.frames[out.frames.length - 1];\n      fr.data = _decompress(out, fd.slice(0, foff), fr.rect.width, fr.rect.height);\n    }\n    out.data = _decompress(out, dd, out.width, out.height);\n\n    delete out.compress; delete out.interlace; delete out.filter;\n    return out;\n  }\n\n  function _decompress(out, dd, w, h) {\n    var time = Date.now();\n    const bpp = _getBPP(out); const bpl = Math.ceil(w * bpp / 8); const\n      buff = new Uint8Array((bpl + 1 + out.interlace) * h);\n    if (out.tabs.CgBI) dd = inflateRaw(dd, buff);\n    else dd = _inflate(dd, buff);\n    // console.log(dd.length, buff.length);\n    // console.log(Date.now()-time);\n\n    var time = Date.now();\n    if (out.interlace == 0) dd = _filterZero(dd, out, 0, w, h);\n    else if (out.interlace == 1) dd = _readInterlace(dd, out);\n    // console.log(Date.now()-time);\n    return dd;\n  }\n\n  function _inflate(data, buff) { const out = inflateRaw(new Uint8Array(data.buffer, 2, data.length - 6), buff); return out; }\n\n  var inflateRaw = (function () {\n    const H = {}; H.H = {}; H.H.N = function (N, W) {\n      const R = Uint8Array; let i = 0; let m = 0; let J = 0; let h = 0; let Q = 0; let X = 0; let u = 0; let w = 0; let d = 0; let v; let C;\n      if (N[0] == 3 && N[1] == 0) return W || new R(0); const V = H.H; const n = V.b; const A = V.e; const l = V.R; const M = V.n; const I = V.A; const e = V.Z; const b = V.m; const Z = W == null;\n      if (Z)W = new R(N.length >>> 2 << 5); while (i == 0) {\n        i = n(N, d, 1); m = n(N, d + 1, 2); d += 3; if (m == 0) {\n          if ((d & 7) != 0)d += 8 - (d & 7);\n          const D = (d >>> 3) + 4; const q = N[D - 4] | N[D - 3] << 8; if (Z)W = H.H.W(W, w + q); W.set(new R(N.buffer, N.byteOffset + D, q), w); d = D + q << 3;\n          w += q; continue;\n        } if (Z)W = H.H.W(W, w + (1 << 17)); if (m == 1) { v = b.J; C = b.h; X = (1 << 9) - 1; u = (1 << 5) - 1; } if (m == 2) {\n          J = A(N, d, 5) + 257;\n          h = A(N, d + 5, 5) + 1; Q = A(N, d + 10, 4) + 4; d += 14; const E = d; let j = 1; for (var c = 0; c < 38; c += 2) { b.Q[c] = 0; b.Q[c + 1] = 0; } for (var c = 0;\n            c < Q; c++) { const K = A(N, d + c * 3, 3); b.Q[(b.X[c] << 1) + 1] = K; if (K > j)j = K; }d += 3 * Q; M(b.Q, j); I(b.Q, j, b.u); v = b.w; C = b.d;\n          d = l(b.u, (1 << j) - 1, J + h, N, d, b.v); const r = V.V(b.v, 0, J, b.C); X = (1 << r) - 1; const S = V.V(b.v, J, h, b.D); u = (1 << S) - 1; M(b.C, r);\n          I(b.C, r, v); M(b.D, S); I(b.D, S, C);\n        } while (!0) {\n          const T = v[e(N, d) & X]; d += T & 15; const p = T >>> 4; if (p >>> 8 == 0) { W[w++] = p; } else if (p == 256) { break; } else {\n            let z = w + p - 254;\n            if (p > 264) { const _ = b.q[p - 257]; z = w + (_ >>> 3) + A(N, d, _ & 7); d += _ & 7; } const $ = C[e(N, d) & u]; d += $ & 15; const s = $ >>> 4; const Y = b.c[s]; const a = (Y >>> 4) + n(N, d, Y & 15);\n            d += Y & 15; while (w < z) { W[w] = W[w++ - a]; W[w] = W[w++ - a]; W[w] = W[w++ - a]; W[w] = W[w++ - a]; }w = z;\n          }\n        }\n      } return W.length == w ? W : W.slice(0, w);\n    };\n    H.H.W = function (N, W) { const R = N.length; if (W <= R) return N; const V = new Uint8Array(R << 1); V.set(N, 0); return V; };\n    H.H.R = function (N, W, R, V, n, A) {\n      const l = H.H.e; const M = H.H.Z; let I = 0; while (I < R) {\n        const e = N[M(V, n) & W]; n += e & 15; const b = e >>> 4;\n        if (b <= 15) { A[I] = b; I++; } else {\n          let Z = 0; let m = 0; if (b == 16) { m = 3 + l(V, n, 2); n += 2; Z = A[I - 1]; } else if (b == 17) {\n            m = 3 + l(V, n, 3);\n            n += 3;\n          } else if (b == 18) { m = 11 + l(V, n, 7); n += 7; } const J = I + m; while (I < J) { A[I] = Z; I++; }\n        }\n      } return n;\n    }; H.H.V = function (N, W, R, V) {\n      let n = 0; let A = 0; const l = V.length >>> 1;\n      while (A < R) { const M = N[A + W]; V[A << 1] = 0; V[(A << 1) + 1] = M; if (M > n)n = M; A++; } while (A < l) { V[A << 1] = 0; V[(A << 1) + 1] = 0; A++; } return n;\n    };\n    H.H.n = function (N, W) {\n      const R = H.H.m; const V = N.length; let n; let A; let l; var M; let I; const e = R.j; for (var M = 0; M <= W; M++)e[M] = 0; for (M = 1; M < V; M += 2)e[N[M]]++;\n      const b = R.K; n = 0; e[0] = 0; for (A = 1; A <= W; A++) { n = n + e[A - 1] << 1; b[A] = n; } for (l = 0; l < V; l += 2) {\n        I = N[l + 1]; if (I != 0) {\n          N[l] = b[I];\n          b[I]++;\n        }\n      }\n    }; H.H.A = function (N, W, R) {\n      const V = N.length; const n = H.H.m; const A = n.r; for (let l = 0; l < V; l += 2) {\n        if (N[l + 1] != 0) {\n          const M = l >> 1; const I = N[l + 1]; const e = M << 4 | I; const b = W - I; let Z = N[l] << b; const m = Z + (1 << b);\n          while (Z != m) { const J = A[Z] >>> 15 - W; R[J] = e; Z++; }\n        }\n      }\n    }; H.H.l = function (N, W) {\n      const R = H.H.m.r; const V = 15 - W; for (let n = 0; n < N.length;\n        n += 2) { const A = N[n] << W - N[n + 1]; N[n] = R[A] >>> V; }\n    }; H.H.M = function (N, W, R) { R <<= (W & 7); const V = W >>> 3; N[V] |= R; N[V + 1] |= R >>> 8; };\n    H.H.I = function (N, W, R) { R <<= (W & 7); const V = W >>> 3; N[V] |= R; N[V + 1] |= R >>> 8; N[V + 2] |= R >>> 16; }; H.H.e = function (N, W, R) { return (N[W >>> 3] | N[(W >>> 3) + 1] << 8) >>> (W & 7) & (1 << R) - 1; };\n    H.H.b = function (N, W, R) { return (N[W >>> 3] | N[(W >>> 3) + 1] << 8 | N[(W >>> 3) + 2] << 16) >>> (W & 7) & (1 << R) - 1; }; H.H.Z = function (N, W) { return (N[W >>> 3] | N[(W >>> 3) + 1] << 8 | N[(W >>> 3) + 2] << 16) >>> (W & 7); };\n    H.H.i = function (N, W) { return (N[W >>> 3] | N[(W >>> 3) + 1] << 8 | N[(W >>> 3) + 2] << 16 | N[(W >>> 3) + 3] << 24) >>> (W & 7); }; H.H.m = (function () {\n      const N = Uint16Array; const W = Uint32Array;\n      return {\n        K: new N(16), j: new N(16), X: [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], S: [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 999, 999, 999], T: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0], q: new N(32), p: [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 65535, 65535], z: [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0], c: new W(32), J: new N(512), _: [], h: new N(32), $: [], w: new N(32768), C: [], v: [], d: new N(32768), D: [], u: new N(512), Q: [], r: new N(1 << 15), s: new W(286), Y: new W(30), a: new W(19), t: new W(15e3), k: new N(1 << 16), g: new N(1 << 15),\n      };\n    }());\n    (function () {\n      const N = H.H.m; const W = 1 << 15; for (var R = 0; R < W; R++) {\n        let V = R; V = (V & 2863311530) >>> 1 | (V & 1431655765) << 1;\n        V = (V & 3435973836) >>> 2 | (V & 858993459) << 2; V = (V & 4042322160) >>> 4 | (V & 252645135) << 4; V = (V & 4278255360) >>> 8 | (V & 16711935) << 8;\n        N.r[R] = (V >>> 16 | V << 16) >>> 17;\n      } function n(A, l, M) { while (l-- != 0)A.push(0, M); } for (var R = 0; R < 32; R++) {\n        N.q[R] = N.S[R] << 3 | N.T[R];\n        N.c[R] = N.p[R] << 4 | N.z[R];\n      }n(N._, 144, 8); n(N._, 255 - 143, 9); n(N._, 279 - 255, 7); n(N._, 287 - 279, 8); H.H.n(N._, 9);\n      H.H.A(N._, 9, N.J); H.H.l(N._, 9); n(N.$, 32, 5); H.H.n(N.$, 5); H.H.A(N.$, 5, N.h); H.H.l(N.$, 5); n(N.Q, 19, 0); n(N.C, 286, 0);\n      n(N.D, 30, 0); n(N.v, 320, 0);\n    }()); return H.H.N;\n  }());\n\n  function _readInterlace(data, out) {\n    const w = out.width; const\n      h = out.height;\n    const bpp = _getBPP(out); const cbpp = bpp >> 3; const\n      bpl = Math.ceil(w * bpp / 8);\n    const img = new Uint8Array(h * bpl);\n    let di = 0;\n\n    const starting_row = [0, 0, 4, 0, 2, 0, 1];\n    const starting_col = [0, 4, 0, 2, 0, 1, 0];\n    const row_increment = [8, 8, 8, 4, 4, 2, 2];\n    const col_increment = [8, 8, 4, 4, 2, 2, 1];\n\n    let pass = 0;\n    while (pass < 7) {\n      const ri = row_increment[pass]; const\n        ci = col_increment[pass];\n      let sw = 0; let\n        sh = 0;\n      let cr = starting_row[pass]; while (cr < h) { cr += ri; sh++; }\n      let cc = starting_col[pass]; while (cc < w) { cc += ci; sw++; }\n      const bpll = Math.ceil(sw * bpp / 8);\n      _filterZero(data, out, di, sw, sh);\n\n      let y = 0; let\n        row = starting_row[pass];\n      while (row < h) {\n        let col = starting_col[pass];\n        let cdi = (di + y * bpll) << 3;\n\n        while (col < w) {\n          if (bpp == 1) {\n            var val = data[cdi >> 3]; val = (val >> (7 - (cdi & 7))) & 1;\n            img[row * bpl + (col >> 3)] |= (val << (7 - ((col & 7) << 0)));\n          }\n          if (bpp == 2) {\n            var val = data[cdi >> 3]; val = (val >> (6 - (cdi & 7))) & 3;\n            img[row * bpl + (col >> 2)] |= (val << (6 - ((col & 3) << 1)));\n          }\n          if (bpp == 4) {\n            var val = data[cdi >> 3]; val = (val >> (4 - (cdi & 7))) & 15;\n            img[row * bpl + (col >> 1)] |= (val << (4 - ((col & 1) << 2)));\n          }\n          if (bpp >= 8) {\n            const ii = row * bpl + col * cbpp;\n            for (let j = 0; j < cbpp; j++) img[ii + j] = data[(cdi >> 3) + j];\n          }\n          cdi += bpp; col += ci;\n        }\n        y++; row += ri;\n      }\n      if (sw * sh != 0) di += sh * (1 + bpll);\n      pass += 1;\n    }\n    return img;\n  }\n\n  function _getBPP(out) {\n    const noc = [1, null, 3, 1, 2, null, 4][out.ctype];\n    return noc * out.depth;\n  }\n\n  function _filterZero(data, out, off, w, h) {\n    let bpp = _getBPP(out); const\n      bpl = Math.ceil(w * bpp / 8);\n    bpp = Math.ceil(bpp / 8);\n\n    let i; let di; let type = data[off]; let\n      x = 0;\n\n    if (type > 1) data[off] = [0, 0, 1][type - 2];\n    if (type == 3) for (x = bpp; x < bpl; x++) data[x + 1] = (data[x + 1] + (data[x + 1 - bpp] >>> 1)) & 255;\n\n    for (let y = 0; y < h; y++) {\n      i = off + y * bpl; di = i + y + 1;\n      type = data[di - 1]; x = 0;\n\n      if (type == 0) for (; x < bpl; x++) data[i + x] = data[di + x];\n      else if (type == 1) {\n        for (; x < bpp; x++) data[i + x] = data[di + x];\n\t\t\t\t\t\t\t   for (; x < bpl; x++) data[i + x] = (data[di + x] + data[i + x - bpp]);\n      } else if (type == 2) { for (; x < bpl; x++) data[i + x] = (data[di + x] + data[i + x - bpl]); } else if (type == 3) {\n        for (; x < bpp; x++) data[i + x] = (data[di + x] + (data[i + x - bpl] >>> 1));\n\t\t\t\t\t\t\t   for (; x < bpl; x++) data[i + x] = (data[di + x] + ((data[i + x - bpl] + data[i + x - bpp]) >>> 1));\n      } else {\n        for (; x < bpp; x++) data[i + x] = (data[di + x] + _paeth(0, data[i + x - bpl], 0));\n\t\t\t\t\t\t\t   for (; x < bpl; x++) data[i + x] = (data[di + x] + _paeth(data[i + x - bpp], data[i + x - bpl], data[i + x - bpp - bpl]));\n      }\n    }\n    return data;\n  }\n\n  function _paeth(a, b, c) {\n    const p = a + b - c; const pa = (p - a); const pb = (p - b); const\n      pc = (p - c);\n    if (pa * pa <= pb * pb && pa * pa <= pc * pc) return a;\n    if (pb * pb <= pc * pc) return b;\n    return c;\n  }\n\n  function _IHDR(data, offset, out) {\n    out.width = _bin.readUint(data, offset); offset += 4;\n    out.height = _bin.readUint(data, offset); offset += 4;\n    out.depth = data[offset]; offset++;\n    out.ctype = data[offset]; offset++;\n    out.compress = data[offset]; offset++;\n    out.filter = data[offset]; offset++;\n    out.interlace = data[offset]; offset++;\n  }\n\n  function _copyTile(sb, sw, sh, tb, tw, th, xoff, yoff, mode) {\n    const w = Math.min(sw, tw); const\n      h = Math.min(sh, th);\n    let si = 0; let\n      ti = 0;\n    for (let y = 0; y < h; y++) {\n      for (let x = 0; x < w; x++) {\n        if (xoff >= 0 && yoff >= 0) { si = (y * sw + x) << 2; ti = ((yoff + y) * tw + xoff + x) << 2; } else { si = ((-yoff + y) * sw - xoff + x) << 2; ti = (y * tw + x) << 2; }\n\n        if (mode == 0) { tb[ti] = sb[si]; tb[ti + 1] = sb[si + 1]; tb[ti + 2] = sb[si + 2]; tb[ti + 3] = sb[si + 3]; } else if (mode == 1) {\n          var fa = sb[si + 3] * (1 / 255); var fr = sb[si] * fa; var fg = sb[si + 1] * fa; var\n            fb = sb[si + 2] * fa;\n          var ba = tb[ti + 3] * (1 / 255); var br = tb[ti] * ba; var bg = tb[ti + 1] * ba; var\n            bb = tb[ti + 2] * ba;\n\n          const ifa = 1 - fa; const oa = fa + ba * ifa; const\n            ioa = (oa == 0 ? 0 : 1 / oa);\n          tb[ti + 3] = 255 * oa;\n          tb[ti + 0] = (fr + br * ifa) * ioa;\n          tb[ti + 1] = (fg + bg * ifa) * ioa;\n          tb[ti + 2] = (fb + bb * ifa) * ioa;\n        } else if (mode == 2) {\t// copy only differences, otherwise zero\n          var fa = sb[si + 3]; var fr = sb[si]; var fg = sb[si + 1]; var\n            fb = sb[si + 2];\n          var ba = tb[ti + 3]; var br = tb[ti]; var bg = tb[ti + 1]; var\n            bb = tb[ti + 2];\n          if (fa == ba && fr == br && fg == bg && fb == bb) { tb[ti] = 0; tb[ti + 1] = 0; tb[ti + 2] = 0; tb[ti + 3] = 0; } else { tb[ti] = fr; tb[ti + 1] = fg; tb[ti + 2] = fb; tb[ti + 3] = fa; }\n        } else if (mode == 3) {\t// check if can be blended\n          var fa = sb[si + 3]; var fr = sb[si]; var fg = sb[si + 1]; var\n            fb = sb[si + 2];\n          var ba = tb[ti + 3]; var br = tb[ti]; var bg = tb[ti + 1]; var\n            bb = tb[ti + 2];\n          if (fa == ba && fr == br && fg == bg && fb == bb) continue;\n          // if(fa!=255 && ba!=0) return false;\n          if (fa < 220 && ba > 20) return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  return {\n    decode,\n    toRGBA8,\n    _paeth,\n    _copyTile,\n    _bin,\n  };\n}());\n\n(function () {\n  const { _copyTile } = UPNG;\n  const { _bin } = UPNG;\n  const paeth = UPNG._paeth;\n  var crcLib = {\n    table: (function () {\n\t\t   const tab = new Uint32Array(256);\n\t\t   for (let n = 0; n < 256; n++) {\n        let c = n;\n        for (let k = 0; k < 8; k++) {\n          if (c & 1) c = 0xedb88320 ^ (c >>> 1);\n          else c >>>= 1;\n        }\n        tab[n] = c;\n      }\n      return tab;\n    }()),\n    update(c, buf, off, len) {\n      for (let i = 0; i < len; i++) c = crcLib.table[(c ^ buf[off + i]) & 0xff] ^ (c >>> 8);\n      return c;\n    },\n    crc(b, o, l) { return crcLib.update(0xffffffff, b, o, l) ^ 0xffffffff; },\n  };\n\n  function addErr(er, tg, ti, f) {\n    tg[ti] += (er[0] * f) >> 4; tg[ti + 1] += (er[1] * f) >> 4; tg[ti + 2] += (er[2] * f) >> 4; tg[ti + 3] += (er[3] * f) >> 4;\n  }\n  function N(x) { return Math.max(0, Math.min(255, x)); }\n  function D(a, b) {\n    const dr = a[0] - b[0]; const dg = a[1] - b[1]; const db = a[2] - b[2]; const\n      da = a[3] - b[3]; return (dr * dr + dg * dg + db * db + da * da);\n  }\n\n  // MTD: 0: None, 1: floyd-steinberg, 2: Bayer\n  function dither(sb, w, h, plte, tb, oind, MTD) {\n    if (MTD == null) MTD = 1;\n\n    const pc = plte.length; const nplt = []; const\n      rads = [];\n    for (var i = 0; i < pc; i++) {\n      const c = plte[i];\n      nplt.push([((c >>> 0) & 255), ((c >>> 8) & 255), ((c >>> 16) & 255), ((c >>> 24) & 255)]);\n    }\n    for (var i = 0; i < pc; i++) {\n      let ne = 0xffffffff; var\n        ni = 0;\n      for (var j = 0; j < pc; j++) { var ce = D(nplt[i], nplt[j]); if (j != i && ce < ne) { ne = ce; ni = j; } }\n      const hd = Math.sqrt(ne) / 2;\n      rads[i] = ~~(hd * hd);\n    }\n\n    const tb32 = new Uint32Array(tb.buffer);\n    const err = new Int16Array(w * h * 4);\n\n    /*\n\t\tvar S=2, M = [\n\t\t\t0,2,\n\t\t    3,1];  // */\n    //*\n    const S = 4; const\n      M = [\n\t\t\t 0, 8, 2, 10,\n\t\t    12, 4, 14, 6,\n\t\t\t 3, 11, 1, 9,\n        15, 7, 13, 5]; //* /\n    for (var i = 0; i < M.length; i++) M[i] = 255 * (-0.5 + (M[i] + 0.5) / (S * S));\n\n    for (let y = 0; y < h; y++) {\n      for (let x = 0; x < w; x++) {\n        var i = (y * w + x) * 4;\n\n        var cc;\n        if (MTD != 2) cc = [N(sb[i] + err[i]), N(sb[i + 1] + err[i + 1]), N(sb[i + 2] + err[i + 2]), N(sb[i + 3] + err[i + 3])];\n        else {\n          var ce = M[(y & (S - 1)) * S + (x & (S - 1))];\n          cc = [N(sb[i] + ce), N(sb[i + 1] + ce), N(sb[i + 2] + ce), N(sb[i + 3] + ce)];\n        }\n\n        var ni = 0; let\n          nd = 0xffffff;\n        for (var j = 0; j < pc; j++) {\n          const cd = D(cc, nplt[j]);\n          if (cd < nd) { nd = cd; ni = j; }\n        }\n\n        const nc = nplt[ni];\n        const er = [cc[0] - nc[0], cc[1] - nc[1], cc[2] - nc[2], cc[3] - nc[3]];\n\n        if (MTD == 1) {\n          // addErr(er, err, i+4, 16);\n          if (x != w - 1) addErr(er, err, i + 4, 7);\n          if (y != h - 1) {\n            if (x != 0) addErr(er, err, i + 4 * w - 4, 3);\n\t\t\t\t\t\t\t\t   addErr(er, err, i + 4 * w, 5);\n            if (x != w - 1) addErr(er, err, i + 4 * w + 4, 1);\n          }//* /\n        }\n        oind[i >> 2] = ni; tb32[i >> 2] = plte[ni];\n      }\n    }\n  }\n\n  function encode(bufs, w, h, ps, dels, tabs, forbidPlte) {\n    if (ps == null) ps = 0;\n    if (forbidPlte == null) forbidPlte = false;\n\n    const nimg = compress(bufs, w, h, ps, [false, false, false, 0, forbidPlte, false]);\n    compressPNG(nimg, -1);\n\n    return _main(nimg, w, h, dels, tabs);\n  }\n\n  function encodeLL(bufs, w, h, cc, ac, depth, dels, tabs) {\n    const nimg = { ctype: 0 + (cc == 1 ? 0 : 2) + (ac == 0 ? 0 : 4), depth, frames: [] };\n\n    const time = Date.now();\n    const bipp = (cc + ac) * depth; const\n      bipl = bipp * w;\n    for (let i = 0; i < bufs.length; i++) {\n      nimg.frames.push({\n        rect: {\n          x: 0, y: 0, width: w, height: h,\n        },\n        img: new Uint8Array(bufs[i]),\n        blend: 0,\n        dispose: 1,\n        bpp: Math.ceil(bipp / 8),\n        bpl: Math.ceil(bipl / 8),\n      });\n    }\n\n    compressPNG(nimg, 0, true);\n\n    const out = _main(nimg, w, h, dels, tabs);\n    return out;\n  }\n\n  function _main(nimg, w, h, dels, tabs) {\n    if (tabs == null) tabs = {};\n    const { crc } = crcLib;\n    const wUi = _bin.writeUint;\n    const wUs = _bin.writeUshort;\n    const wAs = _bin.writeASCII;\n    let offset = 8; const anim = nimg.frames.length > 1; let\n      pltAlpha = false;\n\n    let cicc;\n\n    let leng = 8 + (16 + 5 + 4) /* + (9+4) */ + (anim ? 20 : 0);\n    if (tabs.sRGB != null) leng += 8 + 1 + 4;\n    if (tabs.pHYs != null) leng += 8 + 9 + 4;\n    if (tabs.iCCP != null) { cicc = pako.deflate(tabs.iCCP); leng += 8 + 11 + 2 + cicc.length + 4; }\n    if (nimg.ctype == 3) {\n      var dl = nimg.plte.length;\n      for (var i = 0; i < dl; i++) if ((nimg.plte[i] >>> 24) != 255) pltAlpha = true;\n      leng += (8 + dl * 3 + 4) + (pltAlpha ? (8 + dl * 1 + 4) : 0);\n    }\n    for (var j = 0; j < nimg.frames.length; j++) {\n      var fr = nimg.frames[j];\n      if (anim) leng += 38;\n      leng += fr.cimg.length + 12;\n      if (j != 0) leng += 4;\n    }\n    leng += 12;\n\n    const data = new Uint8Array(leng);\n    const wr = [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a];\n    for (var i = 0; i < 8; i++) data[i] = wr[i];\n\n    wUi(data, offset, 13); offset += 4;\n    wAs(data, offset, 'IHDR'); offset += 4;\n    wUi(data, offset, w); offset += 4;\n    wUi(data, offset, h); offset += 4;\n    data[offset] = nimg.depth; offset++; // depth\n    data[offset] = nimg.ctype; offset++; // ctype\n    data[offset] = 0; offset++; // compress\n    data[offset] = 0; offset++; // filter\n    data[offset] = 0; offset++; // interlace\n    wUi(data, offset, crc(data, offset - 17, 17)); offset += 4; // crc\n\n    // 13 bytes to say, that it is sRGB\n    if (tabs.sRGB != null) {\n      wUi(data, offset, 1); offset += 4;\n      wAs(data, offset, 'sRGB'); offset += 4;\n      data[offset] = tabs.sRGB; offset++;\n      wUi(data, offset, crc(data, offset - 5, 5)); offset += 4; // crc\n    }\n    if (tabs.iCCP != null) {\n      const sl = 11 + 2 + cicc.length;\n      wUi(data, offset, sl); offset += 4;\n      wAs(data, offset, 'iCCP'); offset += 4;\n      wAs(data, offset, 'ICC profile'); offset += 11; offset += 2;\n      data.set(cicc, offset); offset += cicc.length;\n      wUi(data, offset, crc(data, offset - (sl + 4), sl + 4)); offset += 4; // crc\n    }\n    if (tabs.pHYs != null) {\n      wUi(data, offset, 9); offset += 4;\n      wAs(data, offset, 'pHYs'); offset += 4;\n      wUi(data, offset, tabs.pHYs[0]); offset += 4;\n      wUi(data, offset, tabs.pHYs[1]); offset += 4;\n      data[offset] = tabs.pHYs[2];\t\t\toffset++;\n      wUi(data, offset, crc(data, offset - 13, 13)); offset += 4; // crc\n    }\n\n    if (anim) {\n      wUi(data, offset, 8); offset += 4;\n      wAs(data, offset, 'acTL'); offset += 4;\n      wUi(data, offset, nimg.frames.length); offset += 4;\n      wUi(data, offset, tabs.loop != null ? tabs.loop : 0); offset += 4;\n      wUi(data, offset, crc(data, offset - 12, 12)); offset += 4; // crc\n    }\n\n    if (nimg.ctype == 3) {\n      var dl = nimg.plte.length;\n      wUi(data, offset, dl * 3); offset += 4;\n      wAs(data, offset, 'PLTE'); offset += 4;\n      for (var i = 0; i < dl; i++) {\n        const ti = i * 3; const c = nimg.plte[i]; const r = (c) & 255; const g = (c >>> 8) & 255; const\n          b = (c >>> 16) & 255;\n        data[offset + ti + 0] = r; data[offset + ti + 1] = g; data[offset + ti + 2] = b;\n      }\n      offset += dl * 3;\n      wUi(data, offset, crc(data, offset - dl * 3 - 4, dl * 3 + 4)); offset += 4; // crc\n\n      if (pltAlpha) {\n        wUi(data, offset, dl); offset += 4;\n        wAs(data, offset, 'tRNS'); offset += 4;\n        for (var i = 0; i < dl; i++) data[offset + i] = (nimg.plte[i] >>> 24) & 255;\n        offset += dl;\n        wUi(data, offset, crc(data, offset - dl - 4, dl + 4)); offset += 4; // crc\n      }\n    }\n\n    let fi = 0;\n    for (var j = 0; j < nimg.frames.length; j++) {\n      var fr = nimg.frames[j];\n      if (anim) {\n        wUi(data, offset, 26); offset += 4;\n        wAs(data, offset, 'fcTL'); offset += 4;\n        wUi(data, offset, fi++); offset += 4;\n        wUi(data, offset, fr.rect.width); offset += 4;\n        wUi(data, offset, fr.rect.height); offset += 4;\n        wUi(data, offset, fr.rect.x); offset += 4;\n        wUi(data, offset, fr.rect.y); offset += 4;\n        wUs(data, offset, dels[j]); offset += 2;\n        wUs(data, offset, 1000); offset += 2;\n        data[offset] = fr.dispose; offset++;\t// dispose\n        data[offset] = fr.blend; offset++;\t// blend\n        wUi(data, offset, crc(data, offset - 30, 30)); offset += 4; // crc\n      }\n\n      const imgd = fr.cimg; var\n        dl = imgd.length;\n      wUi(data, offset, dl + (j == 0 ? 0 : 4)); offset += 4;\n      const ioff = offset;\n      wAs(data, offset, (j == 0) ? 'IDAT' : 'fdAT'); offset += 4;\n      if (j != 0) { wUi(data, offset, fi++); offset += 4; }\n      data.set(imgd, offset);\n      offset += dl;\n      wUi(data, offset, crc(data, ioff, offset - ioff)); offset += 4; // crc\n    }\n\n    wUi(data, offset, 0); offset += 4;\n    wAs(data, offset, 'IEND'); offset += 4;\n    wUi(data, offset, crc(data, offset - 4, 4)); offset += 4; // crc\n\n    return data.buffer;\n  }\n\n  function compressPNG(out, filter, levelZero) {\n    for (let i = 0; i < out.frames.length; i++) {\n      const frm = out.frames[i]; const nw = frm.rect.width; const\n        nh = frm.rect.height;\n      const fdata = new Uint8Array(nh * frm.bpl + nh);\n      frm.cimg = _filterZero(frm.img, nh, frm.bpp, frm.bpl, fdata, filter, levelZero);\n    }\n  }\n\n  function compress(bufs, w, h, ps, prms) // prms:  onlyBlend, minBits, forbidPlte\n  {\n    // var time = Date.now();\n    const onlyBlend = prms[0]; const evenCrd = prms[1]; const forbidPrev = prms[2]; const minBits = prms[3]; const forbidPlte = prms[4]; const\n      dith = prms[5];\n\n    let ctype = 6; let depth = 8; let\n      alphaAnd = 255;\n\n    for (var j = 0; j < bufs.length; j++) { // when not quantized, other frames can contain colors, that are not in an initial frame\n      const img = new Uint8Array(bufs[j]); var\n        ilen = img.length;\n      for (var i = 0; i < ilen; i += 4) alphaAnd &= img[i + 3];\n    }\n    const gotAlpha = (alphaAnd != 255);\n\n    // console.log(\"alpha check\", Date.now()-time);  time = Date.now();\n\n    // var brute = gotAlpha && forGIF;\t\t// brute : frames can only be copied, not \"blended\"\n    const frms = framize(bufs, w, h, onlyBlend, evenCrd, forbidPrev);\n    // console.log(\"framize\", Date.now()-time);  time = Date.now();\n\n    const cmap = {}; const plte = []; const\n      inds = [];\n\n    if (ps != 0) {\n      const nbufs = []; for (var i = 0; i < frms.length; i++) nbufs.push(frms[i].img.buffer);\n\n      const abuf = concatRGBA(nbufs); const\n        qres = quantize(abuf, ps);\n\n      for (var i = 0; i < qres.plte.length; i++) plte.push(qres.plte[i].est.rgba);\n\n      let cof = 0;\n      for (var i = 0; i < frms.length; i++) {\n        var frm = frms[i]; const bln = frm.img.length; var\n          ind = new Uint8Array(qres.inds.buffer, cof >> 2, bln >> 2); inds.push(ind);\n        const bb = new Uint8Array(qres.abuf, cof, bln);\n\n        // console.log(frm.img, frm.width, frm.height);\n        // var time = Date.now();\n        if (dith) dither(frm.img, frm.rect.width, frm.rect.height, plte, bb, ind);\n        // console.log(Date.now()-time);\n        frm.img.set(bb); cof += bln;\n      }\n\n      // console.log(\"quantize\", Date.now()-time);  time = Date.now();\n    } else {\n      // what if ps==0, but there are <=256 colors?  we still need to detect, if the palette could be used\n      for (var j = 0; j < frms.length; j++) { // when not quantized, other frames can contain colors, that are not in an initial frame\n        var frm = frms[j]; const img32 = new Uint32Array(frm.img.buffer); var nw = frm.rect.width; var\n          ilen = img32.length;\n        var ind = new Uint8Array(ilen); inds.push(ind);\n        for (var i = 0; i < ilen; i++) {\n          const c = img32[i];\n          if (i != 0 && c == img32[i - 1]) ind[i] = ind[i - 1];\n          else if (i > nw && c == img32[i - nw]) ind[i] = ind[i - nw];\n          else {\n            let cmc = cmap[c];\n            if (cmc == null) { cmap[c] = cmc = plte.length; plte.push(c); if (plte.length >= 300) break; }\n            ind[i] = cmc;\n          }\n        }\n      }\n      // console.log(\"make palette\", Date.now()-time);  time = Date.now();\n    }\n\n    const cc = plte.length; // console.log(\"colors:\",cc);\n    if (cc <= 256 && forbidPlte == false) {\n      if (cc <= 2) depth = 1; else if (cc <= 4) depth = 2; else if (cc <= 16) depth = 4; else depth = 8;\n      depth = Math.max(depth, minBits);\n    }\n\n    for (var j = 0; j < frms.length; j++) {\n      var frm = frms[j]; const nx = frm.rect.x; const ny = frm.rect.y; var nw = frm.rect.width; const\n        nh = frm.rect.height;\n      let cimg = frm.img; const\n        cimg32 = new Uint32Array(cimg.buffer);\n      let bpl = 4 * nw; let\n        bpp = 4;\n      if (cc <= 256 && forbidPlte == false) {\n        bpl = Math.ceil(depth * nw / 8);\n        var nimg = new Uint8Array(bpl * nh);\n        const inj = inds[j];\n        for (let y = 0; y < nh; y++) {\n          var i = y * bpl; const\n            ii = y * nw;\n          if (depth == 8) for (var x = 0; x < nw; x++) nimg[i + (x)] = (inj[ii + x]);\n          else if (depth == 4) for (var x = 0; x < nw; x++) nimg[i + (x >> 1)] |= (inj[ii + x] << (4 - (x & 1) * 4));\n          else if (depth == 2) for (var x = 0; x < nw; x++) nimg[i + (x >> 2)] |= (inj[ii + x] << (6 - (x & 3) * 2));\n          else if (depth == 1) for (var x = 0; x < nw; x++) nimg[i + (x >> 3)] |= (inj[ii + x] << (7 - (x & 7) * 1));\n        }\n        cimg = nimg; ctype = 3; bpp = 1;\n      } else if (gotAlpha == false && frms.length == 1) {\t// some next \"reduced\" frames may contain alpha for blending\n        var nimg = new Uint8Array(nw * nh * 3); const\n          area = nw * nh;\n        for (var i = 0; i < area; i++) {\n          const ti = i * 3; const\n            qi = i * 4; nimg[ti] = cimg[qi]; nimg[ti + 1] = cimg[qi + 1]; nimg[ti + 2] = cimg[qi + 2];\n        }\n        cimg = nimg; ctype = 2; bpp = 3; bpl = 3 * nw;\n      }\n      frm.img = cimg; frm.bpl = bpl; frm.bpp = bpp;\n    }\n    // console.log(\"colors => palette indices\", Date.now()-time);  time = Date.now();\n\n    return {\n      ctype, depth, plte, frames: frms,\n    };\n  }\n  function framize(bufs, w, h, alwaysBlend, evenCrd, forbidPrev) {\n    /*  DISPOSE\n\t\t\t- 0 : no change\n\t\t\t- 1 : clear to transparent\n\t\t\t- 2 : retstore to content before rendering (previous frame disposed)\n\t\t\tBLEND\n\t\t\t- 0 : replace\n\t\t\t- 1 : blend\n\t\t*/\n    const frms = [];\n    for (var j = 0; j < bufs.length; j++) {\n      const cimg = new Uint8Array(bufs[j]); const\n        cimg32 = new Uint32Array(cimg.buffer);\n      var nimg;\n\n      let nx = 0; let ny = 0; let nw = w; let nh = h; let\n        blend = alwaysBlend ? 1 : 0;\n      if (j != 0) {\n        const tlim = (forbidPrev || alwaysBlend || j == 1 || frms[j - 2].dispose != 0) ? 1 : 2; let tstp = 0; let\n          tarea = 1e9;\n        for (let it = 0; it < tlim; it++) {\n          var pimg = new Uint8Array(bufs[j - 1 - it]); const\n            p32 = new Uint32Array(bufs[j - 1 - it]);\n          let mix = w; let miy = h; let max = -1; let may = -1;\n          for (let y = 0; y < h; y++) {\n            for (let x = 0; x < w; x++) {\n              var i = y * w + x;\n              if (cimg32[i] != p32[i]) {\n                if (x < mix) mix = x; if (x > max) max = x;\n                if (y < miy) miy = y; if (y > may) may = y;\n              }\n            }\n          }\n          if (max == -1) mix = miy = max = may = 0;\n          if (evenCrd) { if ((mix & 1) == 1)mix--; if ((miy & 1) == 1)miy--; }\n          const sarea = (max - mix + 1) * (may - miy + 1);\n          if (sarea < tarea) {\n            tarea = sarea; tstp = it;\n            nx = mix; ny = miy; nw = max - mix + 1; nh = may - miy + 1;\n          }\n        }\n\n        // alwaysBlend: pokud zjistím, že blendit nelze, nastavím předchozímu snímku dispose=1. Zajistím, aby obsahoval můj obdélník.\n        var pimg = new Uint8Array(bufs[j - 1 - tstp]);\n        if (tstp == 1) frms[j - 1].dispose = 2;\n\n        nimg = new Uint8Array(nw * nh * 4);\n        _copyTile(pimg, w, h, nimg, nw, nh, -nx, -ny, 0);\n\n        blend = _copyTile(cimg, w, h, nimg, nw, nh, -nx, -ny, 3) ? 1 : 0;\n        if (blend == 1) {\n          _prepareDiff(cimg, w, h, nimg, {\n            x: nx, y: ny, width: nw, height: nh,\n          });\n        } else _copyTile(cimg, w, h, nimg, nw, nh, -nx, -ny, 0);\n      } else nimg = cimg.slice(0);\t// img may be rewritten further ... don't rewrite input\n\n      frms.push({\n        rect: {\n          x: nx, y: ny, width: nw, height: nh,\n        },\n        img: nimg,\n        blend,\n        dispose: 0,\n      });\n    }\n\n    if (alwaysBlend) {\n      for (var j = 0; j < frms.length; j++) {\n        var frm = frms[j]; if (frm.blend == 1) continue;\n        const r0 = frm.rect; const\n          r1 = frms[j - 1].rect;\n        const miX = Math.min(r0.x, r1.x); const\n          miY = Math.min(r0.y, r1.y);\n        const maX = Math.max(r0.x + r0.width, r1.x + r1.width); const\n          maY = Math.max(r0.y + r0.height, r1.y + r1.height);\n        const r = {\n          x: miX, y: miY, width: maX - miX, height: maY - miY,\n        };\n\n        frms[j - 1].dispose = 1;\n        if (j - 1 != 0) _updateFrame(bufs, w, h, frms, j - 1, r, evenCrd);\n        _updateFrame(bufs, w, h, frms, j, r, evenCrd);\n      }\n    }\n    let area = 0;\n    if (bufs.length != 1) {\n      for (var i = 0; i < frms.length; i++) {\n        var frm = frms[i];\n        area += frm.rect.width * frm.rect.height;\n      // if(i==0 || frm.blend!=1) continue;\n      // var ob = new Uint8Array(\n      // console.log(frm.blend, frm.dispose, frm.rect);\n      }\n    }\n    // if(area!=0) console.log(area);\n    return frms;\n  }\n  function _updateFrame(bufs, w, h, frms, i, r, evenCrd) {\n    const U8 = Uint8Array; const\n      U32 = Uint32Array;\n    const pimg = new U8(bufs[i - 1]); const pimg32 = new U32(bufs[i - 1]); const\n      nimg = i + 1 < bufs.length ? new U8(bufs[i + 1]) : null;\n    const cimg = new U8(bufs[i]); const\n      cimg32 = new U32(cimg.buffer);\n\n    let mix = w; let miy = h; let max = -1; let may = -1;\n    for (let y = 0; y < r.height; y++) {\n      for (let x = 0; x < r.width; x++) {\n        const cx = r.x + x; const\n          cy = r.y + y;\n        const j = cy * w + cx; const\n          cc = cimg32[j];\n        // no need to draw transparency, or to dispose it. Or, if writing the same color and the next one does not need transparency.\n        if (cc == 0 || (frms[i - 1].dispose == 0 && pimg32[j] == cc && (nimg == null || nimg[j * 4 + 3] != 0))/**/) {} else {\n          if (cx < mix) mix = cx; if (cx > max) max = cx;\n          if (cy < miy) miy = cy; if (cy > may) may = cy;\n        }\n      }\n    }\n    if (max == -1) mix = miy = max = may = 0;\n    if (evenCrd) { if ((mix & 1) == 1)mix--; if ((miy & 1) == 1)miy--; }\n    r = {\n      x: mix, y: miy, width: max - mix + 1, height: may - miy + 1,\n    };\n\n    const fr = frms[i]; fr.rect = r; fr.blend = 1; fr.img = new Uint8Array(r.width * r.height * 4);\n    if (frms[i - 1].dispose == 0) {\n      _copyTile(pimg, w, h, fr.img, r.width, r.height, -r.x, -r.y, 0);\n      _prepareDiff(cimg, w, h, fr.img, r);\n    } else _copyTile(cimg, w, h, fr.img, r.width, r.height, -r.x, -r.y, 0);\n  }\n  function _prepareDiff(cimg, w, h, nimg, rec) {\n    _copyTile(cimg, w, h, nimg, rec.width, rec.height, -rec.x, -rec.y, 2);\n  }\n\n  function _filterZero(img, h, bpp, bpl, data, filter, levelZero) {\n    const fls = []; let\n      ftry = [0, 1, 2, 3, 4];\n    if (filter != -1) ftry = [filter];\n    else if (h * bpl > 500000 || bpp == 1) ftry = [0];\n    let opts; if (levelZero) opts = { level: 0 };\n\n    const CMPR = UZIP;\n\n    const time = Date.now();\n    for (var i = 0; i < ftry.length; i++) {\n      for (let y = 0; y < h; y++) _filterLine(data, img, y, bpl, bpp, ftry[i]);\n      // var nimg = new Uint8Array(data.length);\n      // var sz = UZIP.F.deflate(data, nimg);  fls.push(nimg.slice(0,sz));\n      // var dfl = pako[\"deflate\"](data), dl=dfl.length-4;\n      // var crc = (dfl[dl+3]<<24)|(dfl[dl+2]<<16)|(dfl[dl+1]<<8)|(dfl[dl+0]<<0);\n      // console.log(crc, UZIP.adler(data,2,data.length-6));\n      fls.push(CMPR.deflate(data, opts));\n    }\n\n    let ti; let\n      tsize = 1e9;\n    for (var i = 0; i < fls.length; i++) if (fls[i].length < tsize) { ti = i; tsize = fls[i].length; }\n    return fls[ti];\n  }\n  function _filterLine(data, img, y, bpl, bpp, type) {\n    const i = y * bpl; let\n      di = i + y;\n    data[di] = type; di++;\n\n    if (type == 0) {\n      if (bpl < 500) for (var x = 0; x < bpl; x++) data[di + x] = img[i + x];\n      else data.set(new Uint8Array(img.buffer, i, bpl), di);\n    } else if (type == 1) {\n      for (var x = 0; x < bpp; x++) data[di + x] = img[i + x];\n      for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] - img[i + x - bpp] + 256) & 255;\n    } else if (y == 0) {\n      for (var x = 0; x < bpp; x++) data[di + x] = img[i + x];\n\n      if (type == 2) for (var x = bpp; x < bpl; x++) data[di + x] = img[i + x];\n      if (type == 3) for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] - (img[i + x - bpp] >> 1) + 256) & 255;\n      if (type == 4) for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] - paeth(img[i + x - bpp], 0, 0) + 256) & 255;\n    } else {\n      if (type == 2) { for (var x = 0; x < bpl; x++) data[di + x] = (img[i + x] + 256 - img[i + x - bpl]) & 255; }\n      if (type == 3) {\n        for (var x = 0; x < bpp; x++) data[di + x] = (img[i + x] + 256 - (img[i + x - bpl] >> 1)) & 255;\n\t\t\t\t\t\t  for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] + 256 - ((img[i + x - bpl] + img[i + x - bpp]) >> 1)) & 255;\n      }\n      if (type == 4) {\n        for (var x = 0; x < bpp; x++) data[di + x] = (img[i + x] + 256 - paeth(0, img[i + x - bpl], 0)) & 255;\n\t\t\t\t\t\t  for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] + 256 - paeth(img[i + x - bpp], img[i + x - bpl], img[i + x - bpp - bpl])) & 255;\n      }\n    }\n  }\n\n  function quantize(abuf, ps) {\n    const sb = new Uint8Array(abuf); const tb = sb.slice(0); const\n      tb32 = new Uint32Array(tb.buffer);\n\n    const KD = getKDtree(tb, ps);\n    const root = KD[0]; const\n      leafs = KD[1];\n\n    const len = sb.length;\n\n    const inds = new Uint8Array(len >> 2); let\n      nd;\n    if (sb.length < 20e6) // precise, but slow :(\n    {\n      for (var i = 0; i < len; i += 4) {\n        var r = sb[i] * (1 / 255); var g = sb[i + 1] * (1 / 255); var b = sb[i + 2] * (1 / 255); var\n          a = sb[i + 3] * (1 / 255);\n\n        nd = getNearest(root, r, g, b, a);\n        inds[i >> 2] = nd.ind; tb32[i >> 2] = nd.est.rgba;\n      }\n    } else {\n      for (var i = 0; i < len; i += 4) {\n        var r = sb[i] * (1 / 255); var g = sb[i + 1] * (1 / 255); var b = sb[i + 2] * (1 / 255); var\n          a = sb[i + 3] * (1 / 255);\n\n        nd = root; while (nd.left) nd = (planeDst(nd.est, r, g, b, a) <= 0) ? nd.left : nd.right;\n        inds[i >> 2] = nd.ind; tb32[i >> 2] = nd.est.rgba;\n      }\n    }\n    return { abuf: tb.buffer, inds, plte: leafs };\n  }\n\n  function getKDtree(nimg, ps, err) {\n    if (err == null) err = 0.0001;\n    const nimg32 = new Uint32Array(nimg.buffer);\n\n    const root = {\n      i0: 0, i1: nimg.length, bst: null, est: null, tdst: 0, left: null, right: null,\n    }; // basic statistic, extra statistic\n    root.bst = stats(nimg, root.i0, root.i1); root.est = estats(root.bst);\n    const leafs = [root];\n\n    while (leafs.length < ps) {\n      let maxL = 0; let\n        mi = 0;\n      for (var i = 0; i < leafs.length; i++) if (leafs[i].est.L > maxL) { maxL = leafs[i].est.L; mi = i; }\n      if (maxL < err) break;\n      const node = leafs[mi];\n\n      const s0 = splitPixels(nimg, nimg32, node.i0, node.i1, node.est.e, node.est.eMq255);\n      const s0wrong = (node.i0 >= s0 || node.i1 <= s0);\n      // console.log(maxL, leafs.length, mi);\n      if (s0wrong) { node.est.L = 0; continue; }\n\n      const ln = {\n        i0: node.i0, i1: s0, bst: null, est: null, tdst: 0, left: null, right: null,\n      }; ln.bst = stats(nimg, ln.i0, ln.i1);\n      ln.est = estats(ln.bst);\n      const rn = {\n        i0: s0, i1: node.i1, bst: null, est: null, tdst: 0, left: null, right: null,\n      }; rn.bst = { R: [], m: [], N: node.bst.N - ln.bst.N };\n      for (var i = 0; i < 16; i++) rn.bst.R[i] = node.bst.R[i] - ln.bst.R[i];\n      for (var i = 0; i < 4; i++) rn.bst.m[i] = node.bst.m[i] - ln.bst.m[i];\n      rn.est = estats(rn.bst);\n\n      node.left = ln; node.right = rn;\n      leafs[mi] = ln; leafs.push(rn);\n    }\n    leafs.sort((a, b) => b.bst.N - a.bst.N);\n    for (var i = 0; i < leafs.length; i++) leafs[i].ind = i;\n    return [root, leafs];\n  }\n\n  function getNearest(nd, r, g, b, a) {\n    if (nd.left == null) { nd.tdst = dist(nd.est.q, r, g, b, a); return nd; }\n    const pd = planeDst(nd.est, r, g, b, a);\n\n    let node0 = nd.left; let\n      node1 = nd.right;\n    if (pd > 0) { node0 = nd.right; node1 = nd.left; }\n\n    const ln = getNearest(node0, r, g, b, a);\n    if (ln.tdst <= pd * pd) return ln;\n    const rn = getNearest(node1, r, g, b, a);\n    return rn.tdst < ln.tdst ? rn : ln;\n  }\n  function planeDst(est, r, g, b, a) { const { e } = est; return e[0] * r + e[1] * g + e[2] * b + e[3] * a - est.eMq; }\n  function dist(q, r, g, b, a) {\n    const d0 = r - q[0]; const d1 = g - q[1]; const d2 = b - q[2]; const\n      d3 = a - q[3]; return d0 * d0 + d1 * d1 + d2 * d2 + d3 * d3;\n  }\n\n  function splitPixels(nimg, nimg32, i0, i1, e, eMq) {\n    i1 -= 4;\n    const shfs = 0;\n    while (i0 < i1) {\n      while (vecDot(nimg, i0, e) <= eMq) i0 += 4;\n      while (vecDot(nimg, i1, e) > eMq) i1 -= 4;\n      if (i0 >= i1) break;\n\n      const t = nimg32[i0 >> 2]; nimg32[i0 >> 2] = nimg32[i1 >> 2]; nimg32[i1 >> 2] = t;\n\n      i0 += 4; i1 -= 4;\n    }\n    while (vecDot(nimg, i0, e) > eMq) i0 -= 4;\n    return i0 + 4;\n  }\n  function vecDot(nimg, i, e) {\n    return nimg[i] * e[0] + nimg[i + 1] * e[1] + nimg[i + 2] * e[2] + nimg[i + 3] * e[3];\n  }\n  function stats(nimg, i0, i1) {\n    const R = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    const m = [0, 0, 0, 0];\n    const N = (i1 - i0) >> 2;\n    for (let i = i0; i < i1; i += 4) {\n      const r = nimg[i] * (1 / 255); const g = nimg[i + 1] * (1 / 255); const b = nimg[i + 2] * (1 / 255); const\n        a = nimg[i + 3] * (1 / 255);\n      // var r = nimg[i], g = nimg[i+1], b = nimg[i+2], a = nimg[i+3];\n      m[0] += r; m[1] += g; m[2] += b; m[3] += a;\n\n      R[0] += r * r; R[1] += r * g; R[2] += r * b; R[3] += r * a;\n\t\t\t\t\t\t   R[5] += g * g; R[6] += g * b; R[7] += g * a;\n\t\t\t\t\t\t\t\t\t\t  R[10] += b * b; R[11] += b * a;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t R[15] += a * a;\n    }\n    R[4] = R[1]; R[8] = R[2]; R[9] = R[6]; R[12] = R[3]; R[13] = R[7]; R[14] = R[11];\n\n    return { R, m, N };\n  }\n  function estats(stats) {\n    const { R } = stats;\n    const { m } = stats;\n    const { N } = stats;\n\n    // when all samples are equal, but N is large (millions), the Rj can be non-zero ( 0.0003.... - precission error)\n    const m0 = m[0]; const m1 = m[1]; const m2 = m[2]; const m3 = m[3]; const\n      iN = (N == 0 ? 0 : 1 / N);\n    const Rj = [\n      R[0] - m0 * m0 * iN, R[1] - m0 * m1 * iN, R[2] - m0 * m2 * iN, R[3] - m0 * m3 * iN,\n      R[4] - m1 * m0 * iN, R[5] - m1 * m1 * iN, R[6] - m1 * m2 * iN, R[7] - m1 * m3 * iN,\n      R[8] - m2 * m0 * iN, R[9] - m2 * m1 * iN, R[10] - m2 * m2 * iN, R[11] - m2 * m3 * iN,\n      R[12] - m3 * m0 * iN, R[13] - m3 * m1 * iN, R[14] - m3 * m2 * iN, R[15] - m3 * m3 * iN,\n    ];\n\n    const A = Rj; const\n      M = M4;\n    let b = [Math.random(), Math.random(), Math.random(), Math.random()]; let mi = 0; let\n      tmi = 0;\n\n    if (N != 0) {\n      for (let i = 0; i < 16; i++) {\n        b = M.multVec(A, b); tmi = Math.sqrt(M.dot(b, b)); b = M.sml(1 / tmi, b);\n        if (i != 0 && Math.abs(tmi - mi) < 1e-9) break; mi = tmi;\n      }\n    }\n    // b = [0,0,1,0];  mi=N;\n    const q = [m0 * iN, m1 * iN, m2 * iN, m3 * iN];\n    const eMq255 = M.dot(M.sml(255, q), b);\n\n    return {\n      Cov: Rj,\n      q,\n      e: b,\n      L: mi,\n      eMq255,\n      eMq: M.dot(b, q),\n      rgba: (((Math.round(255 * q[3]) << 24) | (Math.round(255 * q[2]) << 16) | (Math.round(255 * q[1]) << 8) | (Math.round(255 * q[0]) << 0)) >>> 0),\n    };\n  }\n  var M4 = {\n    multVec(m, v) {\n      return [\n        m[0] * v[0] + m[1] * v[1] + m[2] * v[2] + m[3] * v[3],\n        m[4] * v[0] + m[5] * v[1] + m[6] * v[2] + m[7] * v[3],\n        m[8] * v[0] + m[9] * v[1] + m[10] * v[2] + m[11] * v[3],\n        m[12] * v[0] + m[13] * v[1] + m[14] * v[2] + m[15] * v[3],\n      ];\n    },\n    dot(x, y) { return x[0] * y[0] + x[1] * y[1] + x[2] * y[2] + x[3] * y[3]; },\n    sml(a, y) { return [a * y[0], a * y[1], a * y[2], a * y[3]]; },\n  };\n\n  function concatRGBA(bufs) {\n    let tlen = 0;\n    for (var i = 0; i < bufs.length; i++) tlen += bufs[i].byteLength;\n    const nimg = new Uint8Array(tlen); let\n      noff = 0;\n    for (var i = 0; i < bufs.length; i++) {\n      const img = new Uint8Array(bufs[i]); const\n        il = img.length;\n      for (let j = 0; j < il; j += 4) {\n        let r = img[j]; let g = img[j + 1]; let b = img[j + 2]; const\n          a = img[j + 3];\n        if (a == 0) r = g = b = 0;\n        nimg[noff + j] = r; nimg[noff + j + 1] = g; nimg[noff + j + 2] = b; nimg[noff + j + 3] = a;\n      }\n      noff += il;\n    }\n    return nimg.buffer;\n  }\n\n  UPNG.encode = encode;\n  UPNG.encodeLL = encodeLL;\n  UPNG.encode.compress = compress;\n  UPNG.encode.dither = dither;\n\n  UPNG.quantize = quantize;\n  UPNG.quantize.getKDtree = getKDtree;\n  UPNG.quantize.getNearest = getNearest;\n}());\n\nexport default UPNG;\n","// https://github.com/marcosvega91/canvas-to-bmp/blob/77aaf2221647a6533b1926cb637c7cd2bc432d9b/src/canvastobmp.js\n\n/**\n * Static helper object that can convert a CORS-compliant canvas element\n * to a 32-bits BMP file (buffer, Blob and data-URI).\n *\n * @type {{toArrayBuffer: Function, toBlob: Function, toDataURL: Function}}\n * @namespace\n */\nconst CanvasToBMP = {\n\n  /**\n\t * Convert a canvas element to ArrayBuffer containing a BMP file\n\t * with support for 32-bit format (alpha). The call is asynchronous\n\t * so a callback must be provided.\n\t *\n\t * Note that CORS requirement must be fulfilled.\n\t *\n\t * @param {HTMLCanvasElement} canvas - the canvas element to convert\n\t * @param {function} callback - called when conversion is done. Argument is ArrayBuffer\n\t * @static\n\t */\n  toArrayBuffer(canvas, callback) {\n    const w = canvas.width;\n    const h = canvas.height;\n    const w4 = w << 2;\n    const idata = canvas.getContext('2d').getImageData(0, 0, w, h);\n    const data32 = new Uint32Array(idata.data.buffer);\n\n    const stride = ((32 * w + 31) / 32) << 2;\n    const pixelArraySize = stride * h;\n    const fileLength = 122 + pixelArraySize;\n\n    const file = new ArrayBuffer(fileLength);\n    const view = new DataView(file);\n    const blockSize = 1 << 20;\n    let block = blockSize;\n    let y = 0; let x; let v; let a; let pos = 0; let p; let\n      s = 0;\n\n    // Header\n    set16(0x4d42);\t\t\t\t\t\t\t\t\t\t// BM\n    set32(fileLength);\t\t\t\t\t\t\t\t\t// total length\n    seek(4);\t\t\t\t\t\t\t\t\t\t\t// skip unused fields\n    set32(0x7a);\t\t\t\t\t\t\t\t\t\t// offset to pixels\n\n    // DIB header\n    set32(0x6c);\t\t\t\t\t\t\t\t\t\t// header size (108)\n    set32(w);\n    set32(-h >>> 0);\t\t\t\t\t\t\t\t\t// negative = top-to-bottom\n    set16(1);\t\t\t\t\t\t\t\t\t\t\t// 1 plane\n    set16(32);\t\t\t\t\t\t\t\t\t\t\t// 32-bits (RGBA)\n    set32(3);\t\t\t\t\t\t\t\t\t\t\t// no compression (BI_BITFIELDS, 3)\n    set32(pixelArraySize);\t\t\t\t\t\t\t\t// bitmap size incl. padding (stride x height)\n    set32(2835);\t\t\t\t\t\t\t\t\t\t// pixels/meter h (~72 DPI x 39.3701 inch/m)\n    set32(2835);\t\t\t\t\t\t\t\t\t\t// pixels/meter v\n    seek(8);\t\t\t\t\t\t\t\t\t\t\t// skip color/important colors\n    set32(0xff0000);\t\t\t\t\t\t\t\t\t// red channel mask\n    set32(0xff00);\t\t\t\t\t\t\t\t\t\t// green channel mask\n    set32(0xff);\t\t\t\t\t\t\t\t\t\t// blue channel mask\n    set32(0xff000000);\t\t\t\t\t\t\t\t\t// alpha channel mask\n    set32(0x57696e20);\t\t\t\t\t\t\t\t\t// \" win\" color space\n\n    (function convert() {\n      // bitmap data, change order of ABGR to BGRA (msb-order)\n      while (y < h && block > 0) {\n        p = 0x7a + y * stride;\t\t\t\t\t\t// offset + stride x height\n        x = 0;\n\n        while (x < w4) {\n          block--;\n          v = data32[s++];\t\t\t\t\t\t// get ABGR\n          a = v >>> 24;\t\t\t\t\t\t\t// alpha\n          view.setUint32(p + x, (v << 8) | a); // set BGRA (msb order)\n          x += 4;\n        }\n        y++;\n      }\n\n      if (s < data32.length) {\n        block = blockSize;\n        setTimeout(convert, CanvasToBMP._dly);\n      } else callback(file);\n    }());\n\n    // helper method to move current buffer position\n    function set16(data) {\n      view.setUint16(pos, data, true);\n      pos += 2;\n    }\n\n    function set32(data) {\n      view.setUint32(pos, data, true);\n      pos += 4;\n    }\n\n    function seek(delta) { pos += delta; }\n  },\n\n  /**\n\t * Converts a canvas to BMP file, returns a Blob representing the\n\t * file. This can be used with URL.createObjectURL(). The call is\n\t * asynchronous so a callback must be provided.\n\t *\n\t * Note that CORS requirement must be fulfilled.\n\t *\n\t * @param {HTMLCanvasElement} canvas - the canvas element to convert\n\t * @param {function} callback - called when conversion is done. Argument is a Blob\n\t * @static\n\t */\n  toBlob(canvas, callback) {\n    this.toArrayBuffer(canvas, (file) => {\n      callback(new Blob([file], { type: 'image/bmp' }));\n    });\n  },\n\n  // /**\n\t//  * Converts a canvas to BMP file, returns an ObjectURL (for Blob)\n\t//  * representing the file. The call is asynchronous so a callback\n\t//  * must be provided.\n\t//  *\n\t//  * **Important**: To avoid memory-leakage you must revoke the returned\n\t//  * ObjectURL when no longer needed:\n\t//  *\n\t//  *     var _URL = self.URL || self.webkitURL || self;\n\t//  *     _URL.revokeObjectURL(url);\n\t//  *\n\t//  * Note that CORS requirement must be fulfilled.\n\t//  *\n\t//  * @param {HTMLCanvasElement} canvas - the canvas element to convert\n\t//  * @param {function} callback - called when conversion is done. Argument is a Blob\n\t//  * @static\n\t//  */\n  // toObjectURL(canvas, callback) {\n  //   this.toBlob(canvas, (blob) => {\n  //     const url = self.URL || self.webkitURL || self;\n  //     callback(url.createObjectURL(blob));\n  //   });\n  // },\n\n  // /**\n\t//  * Converts the canvas to a data-URI representing a BMP file. The\n\t//  * call is asynchronous so a callback must be provided.\n\t//  *\n\t//  * Note that CORS requirement must be fulfilled.\n\t//  *\n\t//  * @param {HTMLCanvasElement} canvas - the canvas element to convert\n\t//  * @param {function} callback - called when conversion is done. Argument is an data-URI (string)\n\t//  * @static\n\t//  */\n  // toDataURL(canvas, callback) {\n  //   this.toArrayBuffer(canvas, (file) => {\n  //     const buffer = new Uint8Array(file);\n  //     const blockSize = 1 << 20;\n  //     let block = blockSize;\n  //     let bs = ''; let base64 = ''; let i = 0; let\n  //       l = buffer.length;\n\n  //     // This is a necessary step before we can use btoa. We can\n  //     // replace this later with a direct byte-buffer to Base-64 routine.\n  //     // Will do for now, impacts only with very large bitmaps (in which\n  //     // case toBlob should be used).\n  //     (function prepBase64() {\n  //       while (i < l && block-- > 0) bs += String.fromCharCode(buffer[i++]);\n\n  //       if (i < l) {\n  //         block = blockSize;\n  //         setTimeout(prepBase64, CanvasToBMP._dly);\n  //       } else {\n  //         // convert string to Base-64\n  //         i = 0;\n  //         l = bs.length;\n  //         block = 180000;\t\t// must be divisible by 3\n\n  //         (function toBase64() {\n  //           base64 += btoa(bs.substr(i, block));\n  //           i += block;\n  //           (i < l)\n  //             ? setTimeout(toBase64, CanvasToBMP._dly)\n  //             : callback(`data:image/bmp;base64,${base64}`);\n  //         }());\n  //       }\n  //     }());\n  //   });\n  // },\n  _dly: 9,\t// delay for async operations\n};\nexport default CanvasToBMP;\n","export default {\n  CHROME: 'CHROME',\n  FIREFOX: 'FIREFOX',\n  DESKTOP_SAFARI: 'DESKTOP_SAFARI',\n  IE: 'IE',\n  IOS: 'IOS',\n  ETC: 'ETC',\n};\n","import BROWSER_NAME from './browser-name';\n\n// see: https://github.com/jhildenbiddle/canvas-size#test-results\n// see: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas#maximum_canvas_size\nexport default {\n  [BROWSER_NAME.CHROME]: 16384,\n  [BROWSER_NAME.FIREFOX]: 11180,\n  [BROWSER_NAME.DESKTOP_SAFARI]: 16384,\n  [BROWSER_NAME.IE]: 8192,\n  [BROWSER_NAME.IOS]: 4096,\n  [BROWSER_NAME.ETC]: 8192,\n};\n","import UPNG from './UPNG';\nimport CanvasToBMP from './canvastobmp';\nimport MAX_CANVAS_SIZE from './config/max-canvas-size';\nimport BROWSER_NAME from './config/browser-name';\n\nconst isBrowser = typeof window !== 'undefined'; // change browser environment to support SSR\nconst inWebWorker = typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope;\n\n// add support for cordova-plugin-file\nconst moduleMapper = isBrowser && window.cordova && window.cordova.require && window.cordova.require('cordova/modulemapper');\nexport const CustomFile = (isBrowser || inWebWorker) && ((moduleMapper && moduleMapper.getOriginalSymbol(window, 'File')) || (typeof File !== 'undefined' && File));\nexport const CustomFileReader = (isBrowser || inWebWorker) && ((moduleMapper && moduleMapper.getOriginalSymbol(window, 'FileReader')) || (typeof FileReader !== 'undefined' && FileReader));\n\n/**\n * getFilefromDataUrl\n *\n * @param {string} dataUrl\n * @param {string} filename\n * @param {number} [lastModified=Date.now()]\n * @returns {Promise<File | Blob>}\n */\nexport function getFilefromDataUrl(dataUrl, filename, lastModified = Date.now()) {\n  return new Promise((resolve) => {\n    const arr = dataUrl.split(',');\n    const mime = arr[0].match(/:(.*?);/)[1];\n    const bstr = globalThis.atob(arr[1]);\n    let n = bstr.length;\n    const u8arr = new Uint8Array(n);\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n    const file = new Blob([u8arr], { type: mime });\n    file.name = filename;\n    file.lastModified = lastModified;\n    resolve(file);\n\n    // Safari has issue with File constructor not being able to POST in FormData\n    // https://github.com/Donaldcwl/browser-image-compression/issues/8\n    // https://bugs.webkit.org/show_bug.cgi?id=165081\n    // let file\n    // try {\n    //   file = new File([u8arr], filename, { type: mime }) // Edge do not support File constructor\n    // } catch (e) {\n    //   file = new Blob([u8arr], { type: mime })\n    //   file.name = filename\n    //   file.lastModified = lastModified\n    // }\n    // resolve(file)\n  });\n}\n\n/**\n * getDataUrlFromFile\n *\n * @param {File | Blob} file\n * @returns {Promise<string>}\n */\nexport function getDataUrlFromFile(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new CustomFileReader();\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (e) => reject(e);\n    reader.readAsDataURL(file);\n  });\n}\n\n/**\n * loadImage\n *\n * @param {string} src\n * @returns {Promise<HTMLImageElement>}\n */\nexport function loadImage(src) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.onerror = (e) => reject(e);\n    img.src = src;\n  });\n}\n\n/**\n * getBrowserName\n *\n * Extracts the browser name from the useragent.\n *\n * ref: https://stackoverflow.com/a/26358856\n *\n * @returns {string}\n */\nexport function getBrowserName() {\n  if (getBrowserName.cachedResult !== undefined) {\n    return getBrowserName.cachedResult;\n  }\n  let browserName = BROWSER_NAME.ETC;\n  const { userAgent } = navigator;\n  if (/Chrom(e|ium)/i.test(userAgent)) {\n    browserName = BROWSER_NAME.CHROME;\n  } else if (/iP(ad|od|hone)/i.test(userAgent) && /WebKit/i.test(userAgent)) {\n    browserName = BROWSER_NAME.IOS;\n  } else if (/Safari/i.test(userAgent)) {\n    browserName = BROWSER_NAME.DESKTOP_SAFARI;\n  } else if (/Firefox/i.test(userAgent)) {\n    browserName = BROWSER_NAME.FIREFOX;\n  } else if (/MSIE/i.test(userAgent) || (!!document.documentMode) === true) { // IF IE > 10\n    browserName = BROWSER_NAME.IE;\n  }\n  getBrowserName.cachedResult = browserName;\n  return getBrowserName.cachedResult;\n}\n\n/**\n * approximateBelowCanvasMaximumSizeOfBrowser\n *\n * it uses binary search to converge below the browser's maximum Canvas size.\n *\n * @param {number} initWidth\n * @param {number} initHeight\n * @returns {object}\n */\nexport function approximateBelowMaximumCanvasSizeOfBrowser(initWidth, initHeight) {\n  const browserName = getBrowserName();\n  const maximumCanvasSize = MAX_CANVAS_SIZE[browserName];\n\n  let width = initWidth;\n  let height = initHeight;\n  let size = width * height;\n  const ratio = width > height ? height / width : width / height;\n\n  while (size > maximumCanvasSize * maximumCanvasSize) {\n    const halfSizeWidth = (maximumCanvasSize + width) / 2;\n    const halfSizeHeight = (maximumCanvasSize + height) / 2;\n    if (halfSizeWidth < halfSizeHeight) {\n      height = halfSizeHeight;\n      width = halfSizeHeight * ratio;\n    } else {\n      height = halfSizeWidth * ratio;\n      width = halfSizeWidth;\n    }\n\n    size = width * height;\n  }\n\n  return {\n    width, height,\n  };\n}\n\n/**\n * get new Canvas and it's context\n * @param width\n * @param height\n * @returns {[HTMLCanvasElement | OffscreenCanvas, CanvasRenderingContext2D]}\n */\nexport function getNewCanvasAndCtx(width, height) {\n  let canvas;\n  let ctx;\n  try {\n    canvas = new OffscreenCanvas(width, height);\n    ctx = canvas.getContext('2d');\n    if (ctx === null) {\n      throw new Error('getContext of OffscreenCanvas returns null');\n    }\n  } catch (e) {\n    canvas = document.createElement('canvas');\n    ctx = canvas.getContext('2d');\n  }\n  canvas.width = width;\n  canvas.height = height;\n  // ctx.fillStyle = '#fff'\n  // ctx.fillRect(0, 0, width, height)\n  return [canvas, ctx];\n}\n\n/**\n * drawImageInCanvas\n *\n * @param {HTMLImageElement} img\n * @param {string} [fileType=undefined]\n * @returns {HTMLCanvasElement | OffscreenCanvas}\n */\nexport function drawImageInCanvas(img, fileType = undefined) {\n  const { width, height } = approximateBelowMaximumCanvasSizeOfBrowser(img.width, img.height);\n  const [canvas, ctx] = getNewCanvasAndCtx(width, height);\n  if (fileType && /jpe?g/.test(fileType)) {\n    ctx.fillStyle = 'white'; // to fill the transparent background with white color for png file in jpeg extension\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n  }\n  ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n  return canvas;\n}\n\n/**\n * Detect IOS device\n * see: https://stackoverflow.com/a/9039885\n * @returns {boolean} isIOS device\n */\nexport function isIOS() {\n  if (isIOS.cachedResult !== undefined) {\n    return isIOS.cachedResult;\n  }\n  isIOS.cachedResult = [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod',\n  ].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || (navigator.userAgent.includes('Mac') && typeof document !== 'undefined' && 'ontouchend' in document);\n  return isIOS.cachedResult;\n}\n\n/**\n * drawFileInCanvas\n *\n * @param {File | Blob} file\n * @returns {Promise<[ImageBitmap | HTMLImageElement, HTMLCanvasElement | OffscreenCanvas]>}\n */\nexport async function drawFileInCanvas(file, options = {}) {\n  let img;\n  try {\n    if (isIOS() || [BROWSER_NAME.DESKTOP_SAFARI, BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName())) {\n      throw new Error('Skip createImageBitmap on IOS and Safari'); // see https://github.com/Donaldcwl/browser-image-compression/issues/118\n    }\n    img = await createImageBitmap(file);\n  } catch (e) {\n    if (process.env.BUILD === 'development') {\n      console.error(e);\n    }\n    try {\n      const dataUrl = await getDataUrlFromFile(file);\n      img = await loadImage(dataUrl);\n    } catch (e2) {\n      if (process.env.BUILD === 'development') {\n        console.error(e2);\n      }\n      throw e2;\n    }\n  }\n  const canvas = drawImageInCanvas(img, options.fileType || file.type);\n  return [img, canvas];\n}\n\n/**\n * canvasToFile\n *\n * @param {HTMLCanvasElement | OffscreenCanvas} canvas\n * @param {string} fileType\n * @param {string} fileName\n * @param {number} fileLastModified\n * @param {number} [quality]\n * @returns {Promise<File | Blob>}\n */\nexport async function canvasToFile(canvas, fileType, fileName, fileLastModified, quality = 1) {\n  let file;\n  if (fileType === 'image/png') {\n    const ctx = canvas.getContext('2d');\n    const { data } = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    if (process.env.BUILD === 'development') {\n      console.log('png no. of colors', 4096 * quality);\n    }\n    const png = UPNG.encode([data.buffer], canvas.width, canvas.height, 4096 * quality);\n    file = new Blob([png], { type: fileType });\n    file.name = fileName;\n    file.lastModified = fileLastModified;\n  } else if (fileType === 'image/bmp') {\n    file = await new Promise((resolve) => CanvasToBMP.toBlob(canvas, resolve));\n    file.name = fileName;\n    file.lastModified = fileLastModified;\n  } else if (typeof OffscreenCanvas === 'function' && canvas instanceof OffscreenCanvas) { // checked on Win Chrome 83, MacOS Chrome 83\n    file = await canvas.convertToBlob({ type: fileType, quality });\n    file.name = fileName;\n    file.lastModified = fileLastModified;\n  // some browser do not support quality parameter, see: https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob\n  // } else if (typeof canvas.toBlob === 'function') {\n  //   file = await new Promise(resolve => canvas.toBlob(resolve, fileType, quality))\n  } else { // checked on Win Edge 44, Win IE 11, Win Firefox 76, MacOS Firefox 77, MacOS Safari 13.1\n    const dataUrl = canvas.toDataURL(fileType, quality);\n    file = await getFilefromDataUrl(dataUrl, fileName, fileLastModified);\n  }\n  return file;\n}\n\n/**\n * clear Canvas memory\n * @param canvas\n * @returns null\n */\nexport function cleanupCanvasMemory(canvas) {\n  // garbage clean canvas for safari\n  // ref: https://bugs.webkit.org/show_bug.cgi?id=195325\n  // eslint-disable-next-line no-param-reassign\n  canvas.width = 0;\n  // eslint-disable-next-line no-param-reassign\n  canvas.height = 0;\n}\n\n// Check if browser supports automatic image orientation\n// see https://github.com/blueimp/JavaScript-Load-Image/blob/1e4df707821a0afcc11ea0720ee403b8759f3881/js/load-image-orientation.js#L37-L53\nexport async function isAutoOrientationInBrowser() {\n  if (isAutoOrientationInBrowser.cachedResult !== undefined) return isAutoOrientationInBrowser.cachedResult;\n\n  // black 2x1 JPEG, with the following meta information set:\n  // EXIF Orientation: 6 (Rotated 90° CCW)\n  const testImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA'\n    + 'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA'\n    + 'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE'\n    + 'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x'\n    + 'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA'\n    + 'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\n  const testImageFile = await getFilefromDataUrl(testImageURL, 'test.jpg', Date.now());\n\n  const testImageCanvas = (await drawFileInCanvas(testImageFile))[1];\n  const testImageFile2 = await canvasToFile(testImageCanvas, testImageFile.type, testImageFile.name, testImageFile.lastModified);\n  cleanupCanvasMemory(testImageCanvas);\n  const img = (await drawFileInCanvas(testImageFile2))[0];\n  // console.log('img', img.width, img.height)\n\n  isAutoOrientationInBrowser.cachedResult = img.width === 1 && img.height === 2;\n  return isAutoOrientationInBrowser.cachedResult;\n}\n\n/**\n * getExifOrientation\n * get image exif orientation info\n * source: https://stackoverflow.com/a/32490603/10395024\n *\n * @param {File | Blob} file\n * @returns {Promise<number>} - orientation id, see https://i.stack.imgur.com/VGsAj.gif\n */\nexport function getExifOrientation(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new CustomFileReader();\n    reader.onload = (e) => {\n      const view = new DataView(e.target.result);\n      if (view.getUint16(0, false) != 0xFFD8) {\n        return resolve(-2); // not jpeg\n      }\n      const length = view.byteLength;\n      let offset = 2;\n      while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8) return resolve(-1);\n        const marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker == 0xFFE1) {\n          if (view.getUint32(offset += 2, false) != 0x45786966) {\n            return resolve(-1);\n          }\n\n          const little = view.getUint16(offset += 6, false) == 0x4949;\n          offset += view.getUint32(offset + 4, little);\n          const tags = view.getUint16(offset, little);\n          offset += 2;\n          for (let i = 0; i < tags; i++) {\n            if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n              return resolve(view.getUint16(offset + (i * 12) + 8, little));\n            }\n          }\n        } else if ((marker & 0xFF00) != 0xFF00) {\n          break;\n        } else {\n          offset += view.getUint16(offset, false);\n        }\n      }\n      return resolve(-1); // not defined\n    };\n    reader.onerror = (e) => reject(e);\n    reader.readAsArrayBuffer(file);\n  });\n}\n\n/**\n *\n * @param {HTMLCanvasElement | OffscreenCanvas} canvas\n * @param options\n * @returns {HTMLCanvasElement | OffscreenCanvas}\n */\nexport function handleMaxWidthOrHeight(canvas, options) {\n  const { width } = canvas;\n  const { height } = canvas;\n  const { maxWidthOrHeight } = options;\n\n  const needToHandle = isFinite(maxWidthOrHeight) && (width > maxWidthOrHeight || height > maxWidthOrHeight);\n\n  let newCanvas = canvas;\n  let ctx;\n\n  if (needToHandle) {\n    [newCanvas, ctx] = getNewCanvasAndCtx(width, height);\n    if (width > height) {\n      newCanvas.width = maxWidthOrHeight;\n      newCanvas.height = (height / width) * maxWidthOrHeight;\n    } else {\n      newCanvas.width = (width / height) * maxWidthOrHeight;\n      newCanvas.height = maxWidthOrHeight;\n    }\n    ctx.drawImage(canvas, 0, 0, newCanvas.width, newCanvas.height);\n\n    cleanupCanvasMemory(canvas);\n  }\n\n  return newCanvas;\n}\n\n/**\n * followExifOrientation\n * source: https://stackoverflow.com/a/40867559/10395024\n *\n * @param {HTMLCanvasElement | OffscreenCanvas} canvas\n * @param {number} exifOrientation\n * @returns {HTMLCanvasElement | OffscreenCanvas} canvas\n */\nexport function followExifOrientation(canvas, exifOrientation) {\n  const { width } = canvas;\n  const { height } = canvas;\n\n  const [newCanvas, ctx] = getNewCanvasAndCtx(width, height);\n\n  // set proper canvas dimensions before transform & export\n  if (exifOrientation > 4 && exifOrientation < 9) {\n    newCanvas.width = height;\n    newCanvas.height = width;\n  } else {\n    newCanvas.width = width;\n    newCanvas.height = height;\n  }\n\n  // transform context before drawing image\n  switch (exifOrientation) {\n    case 2:\n      ctx.transform(-1, 0, 0, 1, width, 0);\n      break;\n    case 3:\n      ctx.transform(-1, 0, 0, -1, width, height);\n      break;\n    case 4:\n      ctx.transform(1, 0, 0, -1, 0, height);\n      break;\n    case 5:\n      ctx.transform(0, 1, 1, 0, 0, 0);\n      break;\n    case 6:\n      ctx.transform(0, 1, -1, 0, height, 0);\n      break;\n    case 7:\n      ctx.transform(0, -1, -1, 0, height, width);\n      break;\n    case 8:\n      ctx.transform(0, -1, 1, 0, 0, width);\n      break;\n    default:\n      break;\n  }\n\n  ctx.drawImage(canvas, 0, 0, width, height);\n\n  cleanupCanvasMemory(canvas);\n\n  return newCanvas;\n}\n","import {\n  canvasToFile,\n  cleanupCanvasMemory,\n  drawFileInCanvas,\n  followExifOrientation,\n  getExifOrientation,\n  getNewCanvasAndCtx,\n  handleMaxWidthOrHeight,\n  isAutoOrientationInBrowser,\n} from './utils';\n\n/**\n * Compress an image file.\n *\n * @param {File} file\n * @param {Object} options\n * @param {number} [options.maxSizeMB=Number.POSITIVE_INFINITY]\n * @param {number} [options.maxWidthOrHeight=undefined]\n * @param {boolean} [options.useWebWorker=true]\n * @param {number} [options.maxIteration=10]\n * @param {number} [options.exifOrientation] - default to be the exif orientation from the image file\n * @param {Function} [options.onProgress] - a function takes one progress argument (progress from 0 to 100)\n * @param {string} [options.fileType] - default to be the original mime type from the image file\n * @param {number} [options.initialQuality=1.0]\n * @param {boolean} [options.alwaysKeepResolution=false]\n * @param {AbortSignal} [options.signal]\n * @param {number} previousProgress - for internal try catch rerunning start from previous progress\n * @returns {Promise<File | Blob>}\n */\nexport default async function compress(file, options, previousProgress = 0) {\n  let progress = previousProgress;\n\n  function incProgress(inc = 5) {\n    if (options.signal && options.signal.aborted) {\n      throw options.signal.reason;\n    }\n    progress += inc;\n    options.onProgress(Math.min(progress, 100));\n  }\n\n  function setProgress(p) {\n    if (options.signal && options.signal.aborted) {\n      throw options.signal.reason;\n    }\n    progress = Math.min(Math.max(p, progress), 100);\n    options.onProgress(progress);\n  }\n\n  let remainingTrials = options.maxIteration || 10;\n\n  const maxSizeByte = options.maxSizeMB * 1024 * 1024;\n\n  incProgress();\n\n  // drawFileInCanvas\n  const [, origCanvas] = await drawFileInCanvas(file, options);\n\n  incProgress();\n\n  // handleMaxWidthOrHeight\n  const maxWidthOrHeightFixedCanvas = handleMaxWidthOrHeight(origCanvas, options);\n\n  incProgress();\n\n  // exifOrientation\n  const exifOrientation = options.exifOrientation || await getExifOrientation(file);\n  incProgress();\n  const orientationFixedCanvas = (await isAutoOrientationInBrowser()) ? maxWidthOrHeightFixedCanvas : followExifOrientation(maxWidthOrHeightFixedCanvas, exifOrientation);\n  incProgress();\n\n  let quality = options.initialQuality || 1.0;\n\n  const outputFileType = options.fileType || file.type;\n\n  const tempFile = await canvasToFile(orientationFixedCanvas, outputFileType, file.name, file.lastModified, quality);\n  incProgress();\n\n  const origExceedMaxSize = tempFile.size > maxSizeByte;\n  const sizeBecomeLarger = tempFile.size > file.size;\n  if (process.env.BUILD === 'development') {\n    console.log('outputFileType', outputFileType);\n    console.log('original file size', file.size);\n    console.log('current file size', tempFile.size);\n  }\n\n  // check if we need to compress or resize\n  if (!origExceedMaxSize && !sizeBecomeLarger) {\n    // no need to compress\n    if (process.env.BUILD === 'development') {\n      console.log('no need to compress');\n    }\n    setProgress(100);\n    return tempFile;\n  }\n\n  const sourceSize = file.size;\n  const renderedSize = tempFile.size;\n  let currentSize = renderedSize;\n  let compressedFile;\n  let newCanvas;\n  let ctx;\n  let canvas = orientationFixedCanvas;\n  const shouldReduceResolution = !options.alwaysKeepResolution && origExceedMaxSize;\n  while (remainingTrials-- && (currentSize > maxSizeByte || currentSize > sourceSize)) {\n    const newWidth = shouldReduceResolution ? canvas.width * 0.95 : canvas.width;\n    const newHeight = shouldReduceResolution ? canvas.height * 0.95 : canvas.height;\n    if (process.env.BUILD === 'development') {\n      console.log('current width', newWidth);\n      console.log('current height', newHeight);\n      console.log('current quality', quality);\n    }\n    [newCanvas, ctx] = getNewCanvasAndCtx(newWidth, newHeight);\n\n    ctx.drawImage(canvas, 0, 0, newWidth, newHeight);\n\n    if (outputFileType === 'image/png') {\n      quality *= 0.85;\n    } else {\n      quality *= 0.95;\n    }\n    // eslint-disable-next-line no-await-in-loop\n    compressedFile = await canvasToFile(newCanvas, outputFileType, file.name, file.lastModified, quality);\n\n    cleanupCanvasMemory(canvas);\n\n    canvas = newCanvas;\n\n    currentSize = compressedFile.size;\n    // console.log('currentSize', currentSize)\n    setProgress(Math.min(99, Math.floor(((renderedSize - currentSize) / (renderedSize - maxSizeByte)) * 100)));\n  }\n\n  cleanupCanvasMemory(canvas);\n  cleanupCanvasMemory(newCanvas);\n  cleanupCanvasMemory(maxWidthOrHeightFixedCanvas);\n  cleanupCanvasMemory(orientationFixedCanvas);\n  cleanupCanvasMemory(origCanvas);\n\n  setProgress(100);\n  return compressedFile;\n}\n","function createWorkerScriptURL(script) {\n  const blobArgs = [];\n  if (typeof script === 'function') {\n    blobArgs.push(`(${script})()`);\n  } else {\n    blobArgs.push(script);\n  }\n  return URL.createObjectURL(new Blob(blobArgs));\n}\n\nconst workerScript = `\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\\\n' + e.stack, id })\n  }\n})\n`;\nlet workerScriptURL;\n\nexport default function compressOnWebWorker(file, options) {\n  return new Promise((resolve, reject) => {\n    if (!workerScriptURL) {\n      workerScriptURL = createWorkerScriptURL(workerScript);\n    }\n    const worker = new Worker(workerScriptURL);\n\n    function handler(e) {\n      if (options.signal && options.signal.aborted) {\n        worker.terminate();\n        return;\n      }\n      if (e.data.progress !== undefined) {\n        options.onProgress(e.data.progress);\n        return;\n      }\n      if (e.data.error) {\n        reject(new Error(e.data.error));\n        worker.terminate();\n        return;\n      }\n      resolve(e.data.file);\n      worker.terminate();\n    }\n\n    worker.addEventListener('message', handler);\n    worker.addEventListener('error', reject);\n    if (options.signal) {\n      options.signal.addEventListener('abort', () => {\n        reject(options.signal.reason);\n        worker.terminate();\n      });\n    }\n\n    worker.postMessage({\n      file,\n      imageCompressionLibUrl: options.libURL,\n      options: { ...options, onProgress: undefined, signal: undefined },\n    });\n  });\n}\n","import copyExifWithoutOrientation from './copyExifWithoutOrientation';\nimport compress from './image-compression';\nimport {\n  canvasToFile,\n  drawFileInCanvas,\n  drawImageInCanvas,\n  getDataUrlFromFile,\n  getFilefromDataUrl,\n  loadImage,\n  getExifOrientation,\n  handleMaxWidthOrHeight,\n  followExifOrientation,\n  CustomFile,\n  cleanupCanvasMemory,\n  isAutoOrientationInBrowser,\n  approximateBelowMaximumCanvasSizeOfBrowser,\n  getBrowserName,\n} from './utils';\nimport compressOnWebWorker from './web-worker';\n\n/**\n * Compress an image file.\n *\n * @param {File} file\n * @param {Object} options\n * @param {number} [options.maxSizeMB=Number.POSITIVE_INFINITY]\n * @param {number} [options.maxWidthOrHeight=undefined]\n * @param {boolean} [options.useWebWorker=true]\n * @param {number} [options.maxIteration=10]\n * @param {number} [options.exifOrientation] - default to be the exif orientation from the image file\n * @param {Function} [options.onProgress] - a function takes one progress argument (progress from 0 to 100)\n * @param {string} [options.fileType] - default to be the original mime type from the image file\n * @param {number} [options.initialQuality=1.0]\n * @param {boolean} [options.alwaysKeepResolution=false]\n * @param {AbortSignal} [options.signal]\n * @param {boolean} [options.preserveExif] - preserve Exif metadata\n * @param {string} [options.libURL] - URL to this library\n * @returns {Promise<File | Blob>}\n */\nasync function imageCompression(file, options) {\n  const opts = { ...options };\n\n  let compressedFile;\n  let progress = 0;\n  const { onProgress } = opts;\n\n  opts.maxSizeMB = opts.maxSizeMB || Number.POSITIVE_INFINITY;\n  const useWebWorker = typeof opts.useWebWorker === 'boolean' ? opts.useWebWorker : true;\n  delete opts.useWebWorker;\n  opts.onProgress = (aProgress) => {\n    progress = aProgress;\n    if (typeof onProgress === 'function') {\n      onProgress(progress);\n    }\n  };\n\n  if (!(file instanceof Blob || file instanceof CustomFile)) {\n    throw new Error('The file given is not an instance of Blob or File');\n  } else if (!/^image/.test(file.type)) {\n    throw new Error('The file given is not an image');\n  }\n\n  // try run in web worker, fall back to run in main thread\n  // eslint-disable-next-line no-undef, no-restricted-globals\n  const inWebWorker = typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope;\n\n  if (process.env.BUILD === 'development') {\n    if ((useWebWorker && typeof Worker === 'function') || inWebWorker) {\n      console.log('run compression in web worker');\n    } else {\n      console.log('run compression in main thread');\n    }\n  }\n\n  if (useWebWorker && typeof Worker === 'function' && !inWebWorker) {\n    try {\n      // \"compressOnWebWorker\" is kind of like a recursion to call \"imageCompression\" again inside web worker\n      opts.libURL = opts.libURL || `https://cdn.jsdelivr.net/npm/browser-image-compression@${__buildVersion__}/dist/browser-image-compression.js`;\n      compressedFile = await compressOnWebWorker(file, opts);\n    } catch (e) {\n      if (process.env.BUILD === 'development') {\n        console.warn('Run compression in web worker failed:', e, ', fall back to main thread');\n      }\n      compressedFile = await compress(file, opts);\n    }\n  } else {\n    compressedFile = await compress(file, opts);\n  }\n\n  try {\n    compressedFile.name = file.name;\n    compressedFile.lastModified = file.lastModified;\n  } catch (e) {\n    if (process.env.BUILD === 'development') {\n      console.error(e);\n    }\n  }\n\n  try {\n    if (opts.preserveExif && file.type === 'image/jpeg' && (!opts.fileType || (opts.fileType && opts.fileType === file.type))) {\n      if (process.env.BUILD === 'development') {\n        console.log('copyExifWithoutOrientation');\n      }\n      compressedFile = copyExifWithoutOrientation(file, compressedFile);\n    }\n  } catch (e) {\n    if (process.env.BUILD === 'development') {\n      console.error(e);\n    }\n  }\n\n  return compressedFile;\n}\n\nimageCompression.getDataUrlFromFile = getDataUrlFromFile;\nimageCompression.getFilefromDataUrl = getFilefromDataUrl;\nimageCompression.loadImage = loadImage;\nimageCompression.drawImageInCanvas = drawImageInCanvas;\nimageCompression.drawFileInCanvas = drawFileInCanvas;\nimageCompression.canvasToFile = canvasToFile;\nimageCompression.getExifOrientation = getExifOrientation;\n\nimageCompression.handleMaxWidthOrHeight = handleMaxWidthOrHeight;\nimageCompression.followExifOrientation = followExifOrientation;\nimageCompression.cleanupCanvasMemory = cleanupCanvasMemory;\nimageCompression.isAutoOrientationInBrowser = isAutoOrientationInBrowser;\nimageCompression.approximateBelowMaximumCanvasSizeOfBrowser = approximateBelowMaximumCanvasSizeOfBrowser;\nimageCompression.copyExifWithoutOrientation = copyExifWithoutOrientation;\nimageCompression.getBrowserName = getBrowserName;\nimageCompression.version = __buildVersion__;\n\nexport default imageCompression;\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * \r\n * Danish translation by davidkonrad at github or gmail\r\n *\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'da',\r\n        toolbar: {\r\n            default: 'Default',\r\n            save: 'Gem',\r\n            font: 'Skrifttype',\r\n            formats: 'Format',\r\n            fontSize: 'Skriftstørrelse',\r\n            bold: 'Fed',\r\n            underline: 'Understreget',\r\n            italic: 'Skråskrift',\r\n            strike: 'Overstreget',\r\n            subscript: 'Sænket skrift',\r\n            superscript: 'Hævet skrift',\r\n            removeFormat: 'Fjern formatering',\r\n            fontColor: 'Skriftfarve',\r\n            hiliteColor: 'Baggrundsfarve',\r\n            indent: 'Ryk ind',\r\n            outdent: 'Ryk ud',\r\n            align: 'Justering',\r\n            alignLeft: 'Venstrejustering',\r\n            alignRight: 'Højrejustering',\r\n            alignCenter: 'Midterjustering',\r\n            alignJustify: 'Tilpas margin',\r\n            list: 'Lister',\r\n            orderList: 'Nummereret liste',\r\n            unorderList: 'Uordnet liste',\r\n            horizontalRule: 'Horisontal linie',\r\n            hr_solid: 'Almindelig',\r\n            hr_dotted: 'Punkteret',\r\n            hr_dashed: 'Streget',\r\n            table: 'Tabel',\r\n            link: 'Link',\r\n            math: 'Math',\r\n            image: 'Billede',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Fuld skærm',\r\n            showBlocks: 'Vis blokke',\r\n            codeView: 'Vis koder',\r\n            undo: 'Undo',\r\n            redo: 'Redo',\r\n            preview: 'Preview',\r\n            print: 'Print',\r\n            tag_p: 'Paragraph',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Overskrift',\r\n            tag_blockquote: 'Citer',\r\n            tag_pre: 'Code',\r\n            template: 'Schablone',\r\n            lineHeight: 'Linjehøjde',\r\n            paragraphStyle: 'Afsnitstil',\r\n            textStyle: 'Tekststil',\r\n            imageGallery: 'Billedgalleri',\r\n            dir_ltr: 'Venstre til højre',\r\n            dir_rtl: 'Højre til venstre',\r\n            mention: 'Nævne'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Indsæt link',\r\n                url: 'URL til link',\r\n                text: 'Tekst for link',\r\n                newWindowCheck: 'Åben i nyt faneblad',\r\n                downloadLinkCheck: 'Download link',\r\n                bookmark: 'Bogmærke'\r\n            },\r\n            mathBox: {\r\n                title: 'Math',\r\n                inputLabel: 'Matematisk notation',\r\n                fontSizeLabel: 'Skriftstørrelse',\r\n                previewLabel: 'Preview'\r\n            },\r\n            imageBox: {\r\n                title: 'Indsæt billede',\r\n                file: 'Indsæt fra fil',\r\n                url: 'Indsæt fra URL',\r\n                altText: 'Alternativ tekst'\r\n            },\r\n            videoBox: {\r\n                title: 'Indsæt Video',\r\n                file: 'Indsæt fra fil',\r\n                url: 'Indlejr video / YouTube,Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Indsæt Audio',\r\n                file: 'Indsæt fra fil',\r\n                url: 'Indsæt fra URL'\r\n            },\r\n            browser: {\r\n                tags: 'Tags',\r\n                search: 'Søg',\r\n            },\r\n            caption: 'Indsæt beskrivelse',\r\n            close: 'Luk',\r\n            submitButton: 'Gennemfør',\r\n            revertButton: 'Gendan',\r\n            proportion: 'Bevar proportioner',\r\n            basic: 'Basis',\r\n            left: 'Venstre',\r\n            right: 'Højre',\r\n            center: 'Center',\r\n            width: 'Bredde',\r\n            height: 'Højde',\r\n            size: 'Størrelse',\r\n            ratio: 'Forhold'\r\n        },\r\n        controller: {\r\n            edit: 'Rediger',\r\n            unlink: 'Fjern link',\r\n            remove: 'Fjern',\r\n            insertRowAbove: 'Indsæt række foroven',\r\n            insertRowBelow: 'Indsæt række nedenfor',\r\n            deleteRow: 'Slet række',\r\n            insertColumnBefore: 'Indsæt kolonne før',\r\n            insertColumnAfter: 'Indsæt kolonne efter',\r\n            deleteColumn: 'Slet kolonne',\r\n            fixedColumnWidth: 'Fast søjlebredde',\r\n            resize100: 'Forstør 100%',\r\n            resize75: 'Forstør 75%',\r\n            resize50: 'Forstør 50%',\r\n            resize25: 'Forstør 25%',\r\n            autoSize: 'Auto størrelse',\r\n            mirrorHorizontal: 'Spejling, horisontal',\r\n            mirrorVertical: 'Spejling, vertikal',\r\n            rotateLeft: 'Roter til venstre',\r\n            rotateRight: 'Toter til højre',\r\n            maxSize: 'Max størrelse',\r\n            minSize: 'Min størrelse',\r\n            tableHeader: 'Tabel overskrift',\r\n            mergeCells: 'Sammenlæg celler (merge)',\r\n            splitCells: 'Opdel celler',\r\n            HorizontalSplit: 'Opdel horisontalt',\r\n            VerticalSplit: 'Opdel vertikalt'\r\n        },\r\n        menu: {\r\n            spaced: 'Brev Afstand',\r\n            bordered: 'Afgrænsningslinje',\r\n            neon: 'Neon',\r\n            translucent: 'Gennemsigtig',\r\n            shadow: 'Skygge',\r\n            code: 'Code'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'da', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nexport function invariant(condition: any, format: string, ...args: any[]) {\n\tif (isProduction()) {\n\t\tif (format === undefined) {\n\t\t\tthrow new Error('invariant requires an error message argument')\n\t\t}\n\t}\n\n\tif (!condition) {\n\t\tlet error\n\t\tif (format === undefined) {\n\t\t\terror = new Error(\n\t\t\t\t'Minified exception occurred; use the non-minified dev environment ' +\n\t\t\t\t\t'for the full error message and additional helpful warnings.',\n\t\t\t)\n\t\t} else {\n\t\t\tlet argIndex = 0\n\t\t\terror = new Error(\n\t\t\t\tformat.replace(/%s/g, function () {\n\t\t\t\t\treturn args[argIndex++]\n\t\t\t\t}),\n\t\t\t)\n\t\t\terror.name = 'Invariant Violation'\n\t\t}\n\n\t\t;(error as any).framesToPop = 1 // we don't care about invariant's own frame\n\t\tthrow error\n\t}\n}\n\nfunction isProduction() {\n\treturn (\n\t\ttypeof process !== 'undefined' && process.env['NODE_ENV'] === 'production'\n\t)\n}\n","import { useMemo } from 'react'\n\nimport type { SourceConnector } from '../../internals/index.js'\n\nexport function useConnectDragSource(connector: SourceConnector) {\n\treturn useMemo(() => connector.hooks.dragSource(), [connector])\n}\n\nexport function useConnectDragPreview(connector: SourceConnector) {\n\treturn useMemo(() => connector.hooks.dragPreview(), [connector])\n}\n","import { shallowEqual } from '@react-dnd/shallowequal'\nimport type { Backend, Identifier, Unsubscribe } from 'dnd-core'\nimport type { ReactElement, Ref, RefObject } from 'react'\n\nimport type { DragPreviewOptions, DragSourceOptions } from '../types/index.js'\nimport { isRef } from './isRef.js'\nimport { wrapConnectorHooks } from './wrapConnectorHooks.js'\n\nexport interface Connector {\n\thooks: any\n\tconnectTarget: any\n\treceiveHandlerId(handlerId: Identifier | null): void\n\treconnect(): void\n}\n\nexport class SourceConnector implements Connector {\n\tpublic hooks = wrapConnectorHooks({\n\t\tdragSource: (\n\t\t\tnode: Element | ReactElement | Ref<any>,\n\t\t\toptions?: DragSourceOptions,\n\t\t) => {\n\t\t\tthis.clearDragSource()\n\t\t\tthis.dragSourceOptions = options || null\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dragSourceRef = node as RefObject<any>\n\t\t\t} else {\n\t\t\t\tthis.dragSourceNode = node\n\t\t\t}\n\t\t\tthis.reconnectDragSource()\n\t\t},\n\t\tdragPreview: (node: any, options?: DragPreviewOptions) => {\n\t\t\tthis.clearDragPreview()\n\t\t\tthis.dragPreviewOptions = options || null\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dragPreviewRef = node\n\t\t\t} else {\n\t\t\t\tthis.dragPreviewNode = node\n\t\t\t}\n\t\t\tthis.reconnectDragPreview()\n\t\t},\n\t})\n\tprivate handlerId: Identifier | null = null\n\n\t// The drop target may either be attached via ref or connect function\n\tprivate dragSourceRef: RefObject<any> | null = null\n\tprivate dragSourceNode: any\n\tprivate dragSourceOptionsInternal: DragSourceOptions | null = null\n\tprivate dragSourceUnsubscribe: Unsubscribe | undefined\n\n\t// The drag preview may either be attached via ref or connect function\n\tprivate dragPreviewRef: RefObject<any> | null = null\n\tprivate dragPreviewNode: any\n\tprivate dragPreviewOptionsInternal: DragPreviewOptions | null = null\n\tprivate dragPreviewUnsubscribe: Unsubscribe | undefined\n\n\tprivate lastConnectedHandlerId: Identifier | null = null\n\tprivate lastConnectedDragSource: any = null\n\tprivate lastConnectedDragSourceOptions: any = null\n\tprivate lastConnectedDragPreview: any = null\n\tprivate lastConnectedDragPreviewOptions: any = null\n\n\tprivate readonly backend: Backend\n\n\tpublic constructor(backend: Backend) {\n\t\tthis.backend = backend\n\t}\n\n\tpublic receiveHandlerId(newHandlerId: Identifier | null): void {\n\t\tif (this.handlerId === newHandlerId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.handlerId = newHandlerId\n\t\tthis.reconnect()\n\t}\n\n\tpublic get connectTarget(): any {\n\t\treturn this.dragSource\n\t}\n\n\tpublic get dragSourceOptions(): DragSourceOptions | null {\n\t\treturn this.dragSourceOptionsInternal\n\t}\n\tpublic set dragSourceOptions(options: DragSourceOptions | null) {\n\t\tthis.dragSourceOptionsInternal = options\n\t}\n\n\tpublic get dragPreviewOptions(): DragPreviewOptions | null {\n\t\treturn this.dragPreviewOptionsInternal\n\t}\n\n\tpublic set dragPreviewOptions(options: DragPreviewOptions | null) {\n\t\tthis.dragPreviewOptionsInternal = options\n\t}\n\n\tpublic reconnect(): void {\n\t\tconst didChange = this.reconnectDragSource()\n\t\tthis.reconnectDragPreview(didChange)\n\t}\n\n\tprivate reconnectDragSource(): boolean {\n\t\tconst dragSource = this.dragSource\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didConnectedDragSourceChange() ||\n\t\t\tthis.didDragSourceOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDragSource()\n\t\t}\n\n\t\tif (!this.handlerId) {\n\t\t\treturn didChange\n\t\t}\n\t\tif (!dragSource) {\n\t\t\tthis.lastConnectedDragSource = dragSource\n\t\t\treturn didChange\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDragSource = dragSource\n\t\t\tthis.lastConnectedDragSourceOptions = this.dragSourceOptions\n\t\t\tthis.dragSourceUnsubscribe = this.backend.connectDragSource(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdragSource,\n\t\t\t\tthis.dragSourceOptions,\n\t\t\t)\n\t\t}\n\t\treturn didChange\n\t}\n\n\tprivate reconnectDragPreview(forceDidChange = false): void {\n\t\tconst dragPreview = this.dragPreview\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tforceDidChange ||\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didConnectedDragPreviewChange() ||\n\t\t\tthis.didDragPreviewOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDragPreview()\n\t\t}\n\n\t\tif (!this.handlerId) {\n\t\t\treturn\n\t\t}\n\t\tif (!dragPreview) {\n\t\t\tthis.lastConnectedDragPreview = dragPreview\n\t\t\treturn\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDragPreview = dragPreview\n\t\t\tthis.lastConnectedDragPreviewOptions = this.dragPreviewOptions\n\t\t\tthis.dragPreviewUnsubscribe = this.backend.connectDragPreview(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdragPreview,\n\t\t\t\tthis.dragPreviewOptions,\n\t\t\t)\n\t\t}\n\t}\n\n\tprivate didHandlerIdChange(): boolean {\n\t\treturn this.lastConnectedHandlerId !== this.handlerId\n\t}\n\n\tprivate didConnectedDragSourceChange(): boolean {\n\t\treturn this.lastConnectedDragSource !== this.dragSource\n\t}\n\n\tprivate didConnectedDragPreviewChange(): boolean {\n\t\treturn this.lastConnectedDragPreview !== this.dragPreview\n\t}\n\n\tprivate didDragSourceOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDragSourceOptions,\n\t\t\tthis.dragSourceOptions,\n\t\t)\n\t}\n\n\tprivate didDragPreviewOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDragPreviewOptions,\n\t\t\tthis.dragPreviewOptions,\n\t\t)\n\t}\n\n\tpublic disconnectDragSource() {\n\t\tif (this.dragSourceUnsubscribe) {\n\t\t\tthis.dragSourceUnsubscribe()\n\t\t\tthis.dragSourceUnsubscribe = undefined\n\t\t}\n\t}\n\n\tpublic disconnectDragPreview() {\n\t\tif (this.dragPreviewUnsubscribe) {\n\t\t\tthis.dragPreviewUnsubscribe()\n\t\t\tthis.dragPreviewUnsubscribe = undefined\n\t\t\tthis.dragPreviewNode = null\n\t\t\tthis.dragPreviewRef = null\n\t\t}\n\t}\n\n\tprivate get dragSource() {\n\t\treturn (\n\t\t\tthis.dragSourceNode || (this.dragSourceRef && this.dragSourceRef.current)\n\t\t)\n\t}\n\n\tprivate get dragPreview() {\n\t\treturn (\n\t\t\tthis.dragPreviewNode ||\n\t\t\t(this.dragPreviewRef && this.dragPreviewRef.current)\n\t\t)\n\t}\n\n\tprivate clearDragSource() {\n\t\tthis.dragSourceNode = null\n\t\tthis.dragSourceRef = null\n\t}\n\n\tprivate clearDragPreview() {\n\t\tthis.dragPreviewNode = null\n\t\tthis.dragPreviewRef = null\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type { DragSourceMonitor } from '../types/index.js'\n\nlet isCallingCanDrag = false\nlet isCallingIsDragging = false\n\nexport class DragSourceMonitorImpl implements DragSourceMonitor {\n\tprivate internalMonitor: DragDropMonitor\n\tprivate sourceId: Identifier | null = null\n\n\tpublic constructor(manager: DragDropManager) {\n\t\tthis.internalMonitor = manager.getMonitor()\n\t}\n\n\tpublic receiveHandlerId(sourceId: Identifier | null): void {\n\t\tthis.sourceId = sourceId\n\t}\n\n\tpublic getHandlerId(): Identifier | null {\n\t\treturn this.sourceId\n\t}\n\n\tpublic canDrag(): boolean {\n\t\tinvariant(\n\t\t\t!isCallingCanDrag,\n\t\t\t'You may not call monitor.canDrag() inside your canDrag() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingCanDrag = true\n\t\t\treturn this.internalMonitor.canDragSource(this.sourceId as Identifier)\n\t\t} finally {\n\t\t\tisCallingCanDrag = false\n\t\t}\n\t}\n\n\tpublic isDragging(): boolean {\n\t\tif (!this.sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tinvariant(\n\t\t\t!isCallingIsDragging,\n\t\t\t'You may not call monitor.isDragging() inside your isDragging() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingIsDragging = true\n\t\t\treturn this.internalMonitor.isDraggingSource(this.sourceId)\n\t\t} finally {\n\t\t\tisCallingIsDragging = false\n\t\t}\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: { handlerIds?: Identifier[] },\n\t): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToStateChange(listener, options)\n\t}\n\n\tpublic isDraggingSource(sourceId: Identifier): boolean {\n\t\treturn this.internalMonitor.isDraggingSource(sourceId)\n\t}\n\n\tpublic isOverTarget(\n\t\ttargetId: Identifier,\n\t\toptions?: { shallow: boolean },\n\t): boolean {\n\t\treturn this.internalMonitor.isOverTarget(targetId, options)\n\t}\n\n\tpublic getTargetIds(): Identifier[] {\n\t\treturn this.internalMonitor.getTargetIds()\n\t}\n\n\tpublic isSourcePublic(): boolean | null {\n\t\treturn this.internalMonitor.isSourcePublic()\n\t}\n\n\tpublic getSourceId(): Identifier | null {\n\t\treturn this.internalMonitor.getSourceId()\n\t}\n\n\tpublic subscribeToOffsetChange(listener: Listener): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToOffsetChange(listener)\n\t}\n\n\tpublic canDragSource(sourceId: Identifier): boolean {\n\t\treturn this.internalMonitor.canDragSource(sourceId)\n\t}\n\n\tpublic canDropOnTarget(targetId: Identifier): boolean {\n\t\treturn this.internalMonitor.canDropOnTarget(targetId)\n\t}\n\n\tpublic getItemType(): Identifier | null {\n\t\treturn this.internalMonitor.getItemType()\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.internalMonitor.getItem()\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.internalMonitor.getDropResult()\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.internalMonitor.didDrop()\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialClientOffset()\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialSourceClientOffset()\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getSourceClientOffset()\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getClientOffset()\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getDifferenceFromInitialOffset()\n\t}\n}\n","import type { DragDropMonitor, DragSource, Identifier } from 'dnd-core'\n\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragObjectFactory, DragSourceHookSpec } from '../types.js'\n\nexport class DragSourceImpl<O, R, P> implements DragSource {\n\tpublic constructor(\n\t\tpublic spec: DragSourceHookSpec<O, R, P>,\n\t\tprivate monitor: DragSourceMonitor<O, R>,\n\t\tprivate connector: Connector,\n\t) {}\n\n\tpublic beginDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\n\t\tlet result: O | null = null\n\t\tif (typeof spec.item === 'object') {\n\t\t\tresult = spec.item as O\n\t\t} else if (typeof spec.item === 'function') {\n\t\t\tresult = (spec.item as DragObjectFactory<O>)(monitor)\n\t\t} else {\n\t\t\tresult = {} as O\n\t\t}\n\t\treturn result ?? null\n\t}\n\n\tpublic canDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (typeof spec.canDrag === 'boolean') {\n\t\t\treturn spec.canDrag\n\t\t} else if (typeof spec.canDrag === 'function') {\n\t\t\treturn spec.canDrag(monitor)\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}\n\n\tpublic isDragging(globalMonitor: DragDropMonitor, target: Identifier) {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst { isDragging } = spec\n\t\treturn isDragging\n\t\t\t? isDragging(monitor)\n\t\t\t: target === globalMonitor.getSourceId()\n\t}\n\n\tpublic endDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst connector = this.connector\n\t\tconst { end } = spec\n\t\tif (end) {\n\t\t\tend(monitor.getItem(), monitor)\n\t\t}\n\t\tconnector.reconnect()\n\t}\n}\n","import type { SourceConnector } from '../../internals/index.js'\nimport { registerSource } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useDragSource } from './useDragSource.js'\nimport { useDragType } from './useDragType.js'\n\nexport function useRegisteredDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: SourceConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst handler = useDragSource(spec, monitor, connector)\n\tconst itemType = useDragType(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDragSource() {\n\t\t\tif (itemType != null) {\n\t\t\t\tconst [handlerId, unregister] = registerSource(\n\t\t\t\t\titemType,\n\t\t\t\t\thandler,\n\t\t\t\t\tmanager,\n\t\t\t\t)\n\t\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\t\treturn unregister\n\t\t\t}\n\t\t\treturn\n\t\t},\n\t\t[manager, monitor, connector, handler, itemType],\n\t)\n}\n","import { useEffect, useMemo } from 'react'\n\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { DragSourceImpl } from './DragSourceImpl.js'\n\nexport function useDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: Connector,\n) {\n\tconst handler = useMemo(\n\t\t() => new DragSourceImpl(spec, monitor, connector),\n\t\t[monitor, connector],\n\t)\n\tuseEffect(() => {\n\t\thandler.spec = spec\n\t}, [spec])\n\treturn handler\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { Identifier } from 'dnd-core'\nimport { useMemo } from 'react'\n\nimport type { DragSourceHookSpec } from '../types.js'\n\nexport function useDragType(\n\tspec: DragSourceHookSpec<any, any, any>,\n): Identifier {\n\treturn useMemo(() => {\n\t\tconst result: Identifier = spec.type\n\t\tinvariant(result != null, 'spec.type must be defined')\n\t\treturn result\n\t}, [spec])\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tConnectDragPreview,\n\tConnectDragSource,\n} from '../../types/index.js'\nimport type { DragSourceHookSpec, FactoryOrInstance } from '../types.js'\nimport { useCollectedProps } from '../useCollectedProps.js'\nimport { useOptionalFactory } from '../useOptionalFactory.js'\nimport { useConnectDragPreview, useConnectDragSource } from './connectors.js'\nimport { useDragSourceConnector } from './useDragSourceConnector.js'\nimport { useDragSourceMonitor } from './useDragSourceMonitor.js'\nimport { useRegisteredDragSource } from './useRegisteredDragSource.js'\n\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\nexport function useDrag<\n\tDragObject = unknown,\n\tDropResult = unknown,\n\tCollectedProps = unknown,\n>(\n\tspecArg: FactoryOrInstance<\n\t\tDragSourceHookSpec<DragObject, DropResult, CollectedProps>\n\t>,\n\tdeps?: unknown[],\n): [CollectedProps, ConnectDragSource, ConnectDragPreview] {\n\tconst spec = useOptionalFactory(specArg, deps)\n\tinvariant(\n\t\t!(spec as any).begin,\n\t\t`useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)`,\n\t)\n\n\tconst monitor = useDragSourceMonitor<DragObject, DropResult>()\n\tconst connector = useDragSourceConnector(spec.options, spec.previewOptions)\n\tuseRegisteredDragSource(spec, monitor, connector)\n\n\treturn [\n\t\tuseCollectedProps(spec.collect, monitor, connector),\n\t\tuseConnectDragSource(connector),\n\t\tuseConnectDragPreview(connector),\n\t]\n}\n","import { useMemo } from 'react'\n\nimport { DragSourceMonitorImpl } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\n\nexport function useDragSourceMonitor<O, R>(): DragSourceMonitor<O, R> {\n\tconst manager = useDragDropManager()\n\treturn useMemo<DragSourceMonitor<O, R>>(\n\t\t() => new DragSourceMonitorImpl(manager),\n\t\t[manager],\n\t)\n}\n","import { useMemo } from 'react'\n\nimport { SourceConnector } from '../../internals/index.js'\nimport type {\n\tDragPreviewOptions,\n\tDragSourceOptions,\n} from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDragSourceConnector(\n\tdragSourceOptions: DragSourceOptions | undefined,\n\tdragPreviewOptions: DragPreviewOptions | undefined,\n): SourceConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new SourceConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragSourceOptions = dragSourceOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragSource()\n\t}, [connector, dragSourceOptions])\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragPreviewOptions = dragPreviewOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragPreview()\n\t}, [connector, dragPreviewOptions])\n\treturn connector\n}\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const fileManager = {\r\n        name: 'fileManager',\r\n        _xmlHttp: null,\r\n\r\n        _checkMediaComponent: function (tag) {\r\n            if (/IMG|IFRAME|VIDEO|AUDIO/i.test(tag.tagName)) {\r\n                return /FIGURE/i.test(tag.parentElement.nodeName) || /FIGURE/i.test(tag.parentElement.parentElement.nodeName);\r\n            }\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Upload the file to the server.\r\n         * @param {String} uploadUrl Upload server url\r\n         * @param {Object|null} uploadHeader Request header\r\n         * @param {FormData} formData FormData in body\r\n         * @param {Function|null} callBack Success call back function\r\n         * @param {Function|null} errorCallBack Error call back function\r\n         * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\r\n         */\r\n        upload: function (uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\r\n            this.showLoading();\r\n            const filePlugin = this.plugins.fileManager;\r\n            const xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\r\n\r\n            xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\r\n            xmlHttp.open('post', uploadUrl, true);\r\n            if(uploadHeader !== null && typeof uploadHeader === 'object' && this._w.Object.keys(uploadHeader).length > 0){\r\n                for(let key in uploadHeader){\r\n                    xmlHttp.setRequestHeader(key, uploadHeader[key]);\r\n                }\r\n            }\r\n            xmlHttp.send(formData);\r\n        },\r\n\r\n        _callBackUpload: function (xmlHttp, callBack, errorCallBack) {\r\n            if (xmlHttp.readyState === 4) {\r\n                if (xmlHttp.status === 200) {\r\n                    try {\r\n                        callBack(xmlHttp);\r\n                    } catch (e) {\r\n                        throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\r\n                    } finally {\r\n                        this.closeLoading();\r\n                    }\r\n                } else { // exception\r\n                    this.closeLoading();\r\n                    const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\r\n                    if (typeof errorCallBack !== 'function' || errorCallBack('', res, this)) {\r\n                        const err = '[SUNEDITOR.fileManager.upload.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\r\n                        this.functions.noticeOpen(err);\r\n                        throw Error(err);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        \r\n        /**\r\n         * @description Checke the file's information and modify the tag that does not fit the format.\r\n         * @param {String} pluginName Plugin name\r\n         * @param {Array} tagNames Tag array to check\r\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\r\n         * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\r\n         * @param {Boolean} resizing True if the plugin is using a resizing module\r\n         * @example \r\n         * const modifyHandler = function (tag) {\r\n         *      imagePlugin.onModifyMode.call(this, tag, null);\r\n         *      imagePlugin.openModify.call(this, true);\r\n         *      imagePlugin.update_image.call(this, true, false, true);\r\n         *  }.bind(this);\r\n         *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\r\n         */\r\n        checkInfo: function (pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\r\n            let tags = [];\r\n            for (let i = 0, len = tagNames.length; i < len; i++) {\r\n                tags = tags.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(tagNames[i] + ':not([data-se-embed=\"true\"])')));\r\n            }\r\n\r\n            const fileManagerPlugin = this.plugins.fileManager;\r\n            const context = this.context[pluginName];\r\n            const infoList = context._infoList;\r\n            const setFileInfo = fileManagerPlugin.setInfo.bind(this);\r\n\r\n            if (tags.length === infoList.length) {\r\n                // reset\r\n                if (this._componentsInfoReset) {\r\n                    for (let i = 0, len = tags.length; i < len; i++) {\r\n                        setFileInfo(pluginName, tags[i], uploadEventHandler, null, resizing);\r\n                    }\r\n                    return ;\r\n                } else {\r\n                    let infoUpdate = false;\r\n                    for (let i = 0, len = infoList.length, info; i < len; i++) {\r\n                        info = infoList[i];\r\n                        if (tags.filter(function (t) { return info.src === t.src && info.index.toString() === t.getAttribute('data-index'); }).length === 0) {\r\n                            infoUpdate = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    // pass\r\n                    if (!infoUpdate) return;\r\n                }\r\n            }\r\n\r\n            // check\r\n            const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\r\n            if (resizing) this.context.resizing._resize_plugin = pluginName;\r\n            const currentTags = [];\r\n            const infoIndex = [];\r\n            for (let i = 0, len = infoList.length; i < len; i++) {\r\n                infoIndex[i] = infoList[i].index;\r\n            }\r\n            context.__updateTags = tags;\r\n\r\n            while (tags.length > 0) {\r\n                const tag = tags.shift();\r\n                if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !fileManagerPlugin._checkMediaComponent(tag)) {\r\n                    currentTags.push(context._infoIndex);\r\n                    modifyHandler(tag);\r\n                } else if (!tag.getAttribute('data-index') || infoIndex.indexOf(tag.getAttribute('data-index') * 1) < 0) {\r\n                    currentTags.push(context._infoIndex);\r\n                    tag.removeAttribute('data-index');\r\n                    setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\r\n                } else {\r\n                    currentTags.push(tag.getAttribute('data-index') * 1);\r\n                }\r\n            }\r\n\r\n            for (let i = 0, dataIndex; i < infoList.length; i++) {\r\n                dataIndex = infoList[i].index;\r\n                if (currentTags.indexOf(dataIndex) > -1) continue;\r\n\r\n                infoList.splice(i, 1);\r\n                if (typeof uploadEventHandler === 'function') uploadEventHandler(null, dataIndex, 'delete', null, 0, this);\r\n                i--;\r\n            }\r\n\r\n            if (resizing) this.context.resizing._resize_plugin = _resize_plugin;\r\n        },\r\n\r\n        /**\r\n         * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\r\n         * @param {String} pluginName Plugin name \r\n         * @param {Element} element \r\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n         * @param {Object|null} file \r\n         * @param {Boolean} resizing True if the plugin is using a resizing module\r\n         * @example \r\n         * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\r\n         * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\r\n         */\r\n        setInfo: function (pluginName, element, uploadEventHandler, file, resizing) {\r\n            const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\r\n            if (resizing) this.context.resizing._resize_plugin = pluginName;\r\n    \r\n            const plguin = this.plugins[pluginName];\r\n            const context = this.context[pluginName];\r\n            const infoList = context._infoList;\r\n            let dataIndex = element.getAttribute('data-index');\r\n            let info = null;\r\n            let state = '';\r\n\r\n            if (!file) {\r\n                file = {\r\n                    'name': element.getAttribute('data-file-name') || (typeof element.src === 'string' ? element.src.split('/').pop() : ''),\r\n                    'size': element.getAttribute('data-file-size') || 0\r\n                };\r\n            }\r\n    \r\n            // create\r\n            if (!dataIndex || this._componentsInfoInit) {\r\n                state = 'create';\r\n                dataIndex = context._infoIndex++;\r\n    \r\n                element.setAttribute('data-index', dataIndex);\r\n                element.setAttribute('data-file-name', file.name);\r\n                element.setAttribute('data-file-size', file.size);\r\n    \r\n                info = {\r\n                    src: element.src,\r\n                    index: dataIndex * 1,\r\n                    name: file.name,\r\n                    size: file.size\r\n                };\r\n    \r\n                infoList.push(info);\r\n            } else { // update\r\n                state = 'update';\r\n                dataIndex *= 1;\r\n    \r\n                for (let i = 0, len = infoList.length; i < len; i++) {\r\n                    if (dataIndex === infoList[i].index) {\r\n                        info = infoList[i];\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                if (!info) {\r\n                    dataIndex = context._infoIndex++;\r\n                    info = { index: dataIndex };\r\n                    infoList.push(info);\r\n                }\r\n    \r\n                info.src = element.src;\r\n                info.name = element.getAttribute(\"data-file-name\");\r\n                info.size = element.getAttribute(\"data-file-size\") * 1;\r\n            }\r\n    \r\n            // method bind\r\n            info.element = element;\r\n            info.delete = plguin.destroy.bind(this, element);\r\n            info.select = function (element) {\r\n                element.scrollIntoView(true);\r\n                this._w.setTimeout(plguin.select.bind(this, element));\r\n            }.bind(this, element);\r\n    \r\n            if (resizing) {\r\n                if (!element.getAttribute('origin-size') && element.naturalWidth) {\r\n                    element.setAttribute('origin-size', element.naturalWidth + ',' + element.naturalHeight);\r\n                }\r\n    \r\n                if (!element.getAttribute('data-origin')) {\r\n                    const container = this.util.getParentElement(element, this.util.isMediaComponent);\r\n                    const cover = this.util.getParentElement(element, 'FIGURE');\r\n        \r\n                    const w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\r\n                    const h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\r\n                    element.setAttribute('data-origin', w + ',' + h);\r\n                    element.setAttribute('data-size', w + ',' + h);\r\n                }\r\n        \r\n                if (!element.style.width) {\r\n                    const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\r\n                    plguin.onModifyMode.call(this, element, null);\r\n                    plguin.applySize.call(this, size[0], size[1]);\r\n                }\r\n        \r\n                this.context.resizing._resize_plugin = _resize_plugin;\r\n            }\r\n\r\n            if (typeof uploadEventHandler === 'function') uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\r\n        },\r\n\r\n        /**\r\n         * @description Delete info object at \"_infoList\"\r\n         * @param {String} pluginName Plugin name \r\n         * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\r\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n         */\r\n        deleteInfo: function (pluginName, index, uploadEventHandler) {\r\n            if (index >= 0) {\r\n                const infoList = this.context[pluginName]._infoList;\r\n    \r\n                for (let i = 0, len = infoList.length; i < len; i++) {\r\n                    if (index === infoList[i].index) {\r\n                        infoList.splice(i, 1);\r\n                        if (typeof uploadEventHandler === 'function') uploadEventHandler(null, index, 'delete', null, 0, this);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\r\n         * @param {String} pluginName Plugin name \r\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n         */\r\n        resetInfo: function (pluginName, uploadEventHandler) {\r\n            const context = this.context[pluginName];\r\n\r\n            if (typeof uploadEventHandler === 'function') {\r\n                const infoList = context._infoList;\r\n                for (let i = 0, len = infoList.length; i < len; i++) {\r\n                    uploadEventHandler(null, infoList[i].index, 'delete', null, 0, this);\r\n                }\r\n            }\r\n\r\n            context._infoList = [];\r\n            context._infoIndex = 0;\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'fileManager', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: fileManager\r\n        });\r\n    }\r\n\r\n    return fileManager;\r\n}));","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar plugins_1 = __importDefault(require(\"suneditor/src/plugins\"));\nvar suneditor_1 = __importDefault(require(\"suneditor\"));\nvar getLanguage_1 = __importDefault(require(\"../lang/getLanguage\"));\nvar events_1 = require(\"../data/events\");\nvar SunEditor = function (props) {\n    var name = props.name, lang = props.lang, _a = props.setOptions, setOptions = _a === void 0 ? {} : _a, placeholder = props.placeholder, _b = props.width, width = _b === void 0 ? \"100%\" : _b, height = props.height, defaultValue = props.defaultValue, setContents = props.setContents, setDefaultStyle = props.setDefaultStyle, getSunEditorInstance = props.getSunEditorInstance, appendContents = props.appendContents, _c = props.setAllPlugins, setAllPlugins = _c === void 0 ? true : _c, _d = props.disable, disable = _d === void 0 ? false : _d, _e = props.readOnly, readOnly = _e === void 0 ? false : _e, _f = props.hide, hide = _f === void 0 ? false : _f, _g = props.hideToolbar, hideToolbar = _g === void 0 ? false : _g, _h = props.disableToolbar, disableToolbar = _h === void 0 ? false : _h, onChange = props.onChange, autoFocus = props.autoFocus, onBlur = props.onBlur, onLoad = props.onLoad;\n    var txtArea = (0, react_1.useRef)(null);\n    var editor = (0, react_1.useRef)(null);\n    var initialEffect = (0, react_1.useRef)(true);\n    (0, react_1.useEffect)(function () {\n        var _a;\n        var options = __assign(__assign({}, setOptions), { lang: lang ? (0, getLanguage_1.default)(lang) : setOptions.lang, width: width !== null && width !== void 0 ? width : setOptions.width, placeholder: placeholder !== null && placeholder !== void 0 ? placeholder : setOptions.placeholder, plugins: (_a = setOptions.plugins) !== null && _a !== void 0 ? _a : (setAllPlugins ? plugins_1.default : undefined), height: height !== null && height !== void 0 ? height : setOptions.height, value: defaultValue !== null && defaultValue !== void 0 ? defaultValue : setOptions.value, defaultStyle: setDefaultStyle !== null && setDefaultStyle !== void 0 ? setDefaultStyle : setOptions.defaultStyle });\n        if (name && options.value)\n            txtArea.current.value = options.value;\n        editor.current = suneditor_1.default.create(txtArea.current, options);\n        if (getSunEditorInstance)\n            getSunEditorInstance(editor.current);\n        editor.current.onload = function (_, reload) {\n            if (reload)\n                return onLoad === null || onLoad === void 0 ? void 0 : onLoad(reload);\n            if (setContents) {\n                editor.current.setContents(setContents);\n                editor.current.core.focusEdge(null);\n            }\n            if (appendContents)\n                editor.current.appendContents(appendContents);\n            if (editor.current.util.isIE)\n                editor.current.core._createDefaultRange();\n            if (disable)\n                editor.current.disable();\n            if (readOnly)\n                editor.current.readOnly(true);\n            if (hide)\n                editor.current.hide();\n            if (hideToolbar)\n                editor.current.toolbar.hide();\n            if (disableToolbar)\n                editor.current.toolbar.disable();\n            if (autoFocus === false)\n                editor.current.core.context.element.wysiwyg.blur();\n            else if (autoFocus)\n                editor.current.core.context.element.wysiwyg.focus();\n            return onLoad === null || onLoad === void 0 ? void 0 : onLoad(reload);\n        };\n        editor.current.onChange = function (content) {\n            if (name && txtArea.current)\n                txtArea.current.value = content;\n            if (onChange)\n                onChange(content);\n        };\n        if (onBlur) {\n            editor.current.onBlur = function (e) {\n                return onBlur(e, editor.current.getContents(true));\n            };\n        }\n        events_1.uploadBeforeEvents.forEach(function (event) {\n            var value = props[event];\n            if (editor.current && value)\n                editor.current[event] = function (files, info, _, uploadHandler) { return value(files, info, uploadHandler); };\n        });\n        events_1.events.forEach(function (event) {\n            var value = props[event];\n            if (value && editor.current) {\n                editor.current[event] = value;\n            }\n        });\n        return function () {\n            if (editor.current)\n                editor.current.destroy();\n            editor.current = null;\n        };\n    }, []);\n    (0, react_1.useEffect)(function () {\n        var _a;\n        if (initialEffect.current)\n            return;\n        (_a = editor.current) === null || _a === void 0 ? void 0 : _a.setOptions({\n            lang: (0, getLanguage_1.default)(lang),\n        });\n    }, [lang]);\n    (0, react_1.useEffect)(function () {\n        var _a;\n        if (initialEffect.current)\n            return;\n        (_a = editor.current) === null || _a === void 0 ? void 0 : _a.setOptions({\n            placeholder: placeholder,\n            height: height,\n            width: width,\n        });\n    }, [placeholder, height, width]);\n    (0, react_1.useEffect)(function () {\n        var _a;\n        if (setDefaultStyle && !initialEffect.current)\n            (_a = editor.current) === null || _a === void 0 ? void 0 : _a.setDefaultStyle(setDefaultStyle);\n    }, [setDefaultStyle]);\n    (0, react_1.useEffect)(function () {\n        var _a, _b;\n        if (!initialEffect.current &&\n            setContents !== undefined &&\n            !((_a = editor.current) === null || _a === void 0 ? void 0 : _a.core.hasFocus)) {\n            (_b = editor.current) === null || _b === void 0 ? void 0 : _b.setContents(setContents);\n        }\n    }, [setContents]);\n    (0, react_1.useEffect)(function () {\n        var _a, _b, _c;\n        if (!initialEffect.current &&\n            appendContents !== undefined &&\n            !((_a = editor.current) === null || _a === void 0 ? void 0 : _a.core.hasFocus)) {\n            (_b = editor.current) === null || _b === void 0 ? void 0 : _b.appendContents(appendContents);\n            (_c = editor.current) === null || _c === void 0 ? void 0 : _c.core.focusEdge(null);\n        }\n    }, [appendContents]);\n    (0, react_1.useEffect)(function () {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        if (initialEffect.current)\n            return;\n        (_a = editor.current) === null || _a === void 0 ? void 0 : _a.readOnly(readOnly);\n        if (hideToolbar)\n            (_b = editor.current) === null || _b === void 0 ? void 0 : _b.toolbar.hide();\n        else\n            (_c = editor.current) === null || _c === void 0 ? void 0 : _c.toolbar.show();\n        if (disableToolbar)\n            (_d = editor.current) === null || _d === void 0 ? void 0 : _d.toolbar.disable();\n        else\n            (_e = editor.current) === null || _e === void 0 ? void 0 : _e.toolbar.enable();\n        if (disable)\n            (_f = editor.current) === null || _f === void 0 ? void 0 : _f.disable();\n        else\n            (_g = editor.current) === null || _g === void 0 ? void 0 : _g.enable();\n        if (hide)\n            (_h = editor.current) === null || _h === void 0 ? void 0 : _h.hide();\n        else\n            (_j = editor.current) === null || _j === void 0 ? void 0 : _j.show();\n    }, [disable, hideToolbar, disableToolbar, hide, readOnly]);\n    (0, react_1.useEffect)(function () {\n        initialEffect.current = false;\n    }, []);\n    return (react_1.default.createElement(\"textarea\", __assign({ style: { visibility: \"hidden\" }, ref: txtArea }, { name: name })));\n};\nexports.default = SunEditor;\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ro',\r\n        toolbar: {\r\n            default: 'Default',\r\n            save: 'Salvează',\r\n            font: 'Font',\r\n            formats: 'Format',\r\n            fontSize: 'Dimensiune',\r\n            bold: 'Îngroșat',\r\n            underline: 'Subliniat',\r\n            italic: 'Înclinat',\r\n            strike: 'Tăiat',\r\n            subscript: 'Subscript',\r\n            superscript: 'Superscript',\r\n            removeFormat: 'Șterge formatare',\r\n            fontColor: 'Culoare font',\r\n            hiliteColor: 'Culoare de evidențiere',\r\n            indent: 'Indentează',\r\n            outdent: 'Fără indentare',\r\n            align: 'Aliniere',\r\n            alignLeft: 'Aliniere la stânga',\r\n            alignRight: 'Aliniere la dreapta',\r\n            alignCenter: 'Aliniere la centru',\r\n            alignJustify: 'Aliniere stânga - dreapta',\r\n            list: 'Listă',\r\n            orderList: 'Listă ordonată',\r\n            unorderList: 'Listă neordonată',\r\n            horizontalRule: 'Linie orizontală',\r\n            hr_solid: 'Solid',\r\n            hr_dotted: 'Punctat',\r\n            hr_dashed: 'Punctate',\r\n            table: 'Tabel',\r\n            link: 'Link',\r\n            math: 'Matematică',\r\n            image: 'Imagine',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Tot ecranul',\r\n            showBlocks: 'Arată blocuri',\r\n            codeView: 'Vizualizare cod',\r\n            undo: 'Anulează',\r\n            redo: 'Refă',\r\n            preview: 'Previzualizare',\r\n            print: 'printează',\r\n            tag_p: 'Paragraf',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Antet',\r\n            tag_blockquote: 'Quote',\r\n            tag_pre: 'Citat',\r\n            template: 'Template',\r\n            lineHeight: 'Înălțime linie',\r\n            paragraphStyle: 'Stil paragraf',\r\n            textStyle: 'Stil text',\r\n            imageGallery: 'Galerie de imagini',\r\n            dir_ltr: 'De la stânga la dreapta',\r\n            dir_rtl: 'De la dreapta la stanga',\r\n            mention: 'Mentiune'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Inserează Link',\r\n                url: 'Adresă link',\r\n                text: 'Text de afișat',\r\n                newWindowCheck: 'Deschide în fereastră nouă',\r\n                downloadLinkCheck: 'Link de descărcare',\r\n                bookmark: 'Marcaj'\r\n            },\r\n            mathBox: {\r\n                title: 'Matematică',\r\n                inputLabel: 'Notație matematică',\r\n                fontSizeLabel: 'Dimensiune font',\r\n                previewLabel: 'Previzualizare'\r\n            },\r\n            imageBox: {\r\n                title: 'Inserează imagine',\r\n                file: 'Selectează',\r\n                url: 'URL imagine',\r\n                altText: 'text alternativ'\r\n            },\r\n            videoBox: {\r\n                title: 'Inserează video',\r\n                file: 'Selectează',\r\n                url: 'Include URL, youtube/vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Inserează Audio',\r\n                file: 'Selectează',\r\n                url: 'URL Audio'\r\n            },\r\n            browser: {\r\n                tags: 'Etichete',\r\n                search: 'Căutareim',\r\n            },\r\n            caption: 'Inserează descriere',\r\n            close: 'Închide',\r\n            submitButton: 'Salvează',\r\n            revertButton: 'Revenire',\r\n            proportion: 'Constrânge proporțiile',\r\n            basic: 'De bază',\r\n            left: 'Stânga',\r\n            right: 'Dreapta',\r\n            center: 'Centru',\r\n            width: 'Lățime',\r\n            height: 'Înălțime',\r\n            size: 'Dimensiune',\r\n            ratio: 'Ratie'\r\n        },\r\n        controller: {\r\n            edit: 'Editează',\r\n            unlink: 'Scoate link',\r\n            remove: 'Elimină',\r\n            insertRowAbove: 'Inserează rând deasupra',\r\n            insertRowBelow: 'Inserează rând dedesupt',\r\n            deleteRow: 'Șterge linie',\r\n            insertColumnBefore: 'Inserează coloană înainte',\r\n            insertColumnAfter: 'Inserează coloană după',\r\n            deleteColumn: 'Șterge coloană',\r\n            fixedColumnWidth: 'Lățime fixă coloană',\r\n            resize100: 'Redimensionare 100%',\r\n            resize75: 'Redimensionare 75%',\r\n            resize50: 'Redimensionare 50%',\r\n            resize25: 'Redimensionare 25%',\r\n            autoSize: 'Dimensiune automată',\r\n            mirrorHorizontal: 'Oglindă, orizontal',\r\n            mirrorVertical: 'Oglindă, vertical',\r\n            rotateLeft: 'Rotește la stânga',\r\n            rotateRight: 'Rotește la dreapta',\r\n            maxSize: 'Dimensiune maximă',\r\n            minSize: 'Dimensiune minimă',\r\n            tableHeader: 'Antet tabel',\r\n            mergeCells: 'Îmbină celule',\r\n            splitCells: 'Divizează celule',\r\n            HorizontalSplit: 'Despicare orizontală',\r\n            VerticalSplit: 'Despicare verticală'\r\n        },\r\n        menu: {\r\n            spaced: 'Spațiat',\r\n            bordered: 'Mărginit',\r\n            neon: 'Neon',\r\n            translucent: 'Translucent',\r\n            shadow: 'Umbră',\r\n            code: 'Citat'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ro', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'he',\r\n        toolbar: {\r\n            default: 'ברירת מחדל',\r\n            save: 'שמור',\r\n            font: 'גופן',\r\n            formats: 'עיצוב',\r\n            fontSize: 'גודל',\r\n            bold: 'מודגש',\r\n            underline: 'קו תחתון',\r\n            italic: 'נטוי',\r\n            strike: 'קו חוצה',\r\n            subscript: 'עילי',\r\n            superscript: 'תחתי',\r\n            removeFormat: 'הסר עיצוב',\r\n            fontColor: 'צבע גופן',\r\n            hiliteColor: 'צבע קו תחתון',\r\n            indent: 'הגדל כניסה',\r\n            outdent: 'הקטן כניסה',\r\n            align: 'יישור',\r\n            alignLeft: 'יישר לשמאל',\r\n            alignRight: 'יישר לימין',\r\n            alignCenter: 'מרכז',\r\n            alignJustify: 'יישר לשני הצדדים',\r\n            list: 'רשימה',\r\n            orderList: 'מספור',\r\n            unorderList: 'תבליטים',\r\n            horizontalRule: 'קו אופקי',\r\n            hr_solid: 'קו',\r\n            hr_dotted: 'נקודות',\r\n            hr_dashed: 'מקפים',\r\n            table: 'טבלה',\r\n            link: 'קישור',\r\n            math: 'מתמטיקה',\r\n            image: 'תמונה',\r\n            video: 'חוזי',\r\n            audio: 'שמע',\r\n            fullScreen: 'מסך מלא',\r\n            showBlocks: 'הצג גושים',\r\n            codeView: 'הצג קוד',\r\n            undo: 'בטל',\r\n            redo: 'חזור',\r\n            preview: 'תצוגה מקדימה',\r\n            print: 'הדפס',\r\n            tag_p: 'פסקה',\r\n            tag_div: 'רגילה (DIV)',\r\n            tag_h: 'כותרת',\r\n            tag_blockquote: 'ציטוט',\r\n            tag_pre: 'קוד',\r\n            template: 'תבנית',\r\n            lineHeight: 'גובה השורה',\r\n            paragraphStyle: 'סגנון פסקה',\r\n            textStyle: 'סגנון גופן',\r\n            imageGallery: 'גלרית תמונות',\r\n            dir_ltr: 'משמאל לימין',\r\n            dir_rtl: 'מימין לשמאל',\r\n            mention: 'הזכר'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'הכנס קשור',\r\n                url: 'כתובת קשור',\r\n                text: 'תיאור',\r\n                newWindowCheck: 'פתח בחלון חדש',\r\n                downloadLinkCheck: 'קישור להורדה',\r\n                bookmark: 'סמניה'\r\n            },\r\n            mathBox: {\r\n                title: 'נוסחה',\r\n                inputLabel: 'סימנים מתמטים',\r\n                fontSizeLabel: 'גודל גופן',\r\n                previewLabel: 'תצוגה מקדימה'\r\n            },\r\n            imageBox: {\r\n                title: 'הכנס תמונה',\r\n                file: 'בחר מקובץ',\r\n                url: 'כתובת URL תמונה',\r\n                altText: 'תיאור (תגית alt)'\r\n            },\r\n            videoBox: {\r\n                title: 'הכנס סרטון',\r\n                file: 'בחר מקובץ',\r\n                url: 'כתובת הטמעה YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'הכנס שמע',\r\n                file: 'בחר מקובץ',\r\n                url: 'כתובת URL שמע'\r\n            },\r\n            browser: {\r\n                tags: 'תג',\r\n                search: 'חפש',\r\n            },\r\n            caption: 'הכנס תיאור',\r\n            close: 'סגור',\r\n            submitButton: 'שלח',\r\n            revertButton: 'בטל',\r\n            proportion: 'שמר יחס',\r\n            basic: 'בסיסי',\r\n            left: 'שמאל',\r\n            right: 'ימין',\r\n            center: 'מרכז',\r\n            width: 'רוחב',\r\n            height: 'גובה',\r\n            size: 'גודל',\r\n            ratio: 'יחס'\r\n        },\r\n        controller: {\r\n            edit: 'ערוך',\r\n            unlink: 'הסר קישורים',\r\n            remove: 'הסר',\r\n            insertRowAbove: 'הכנס שורה מעל',\r\n            insertRowBelow: 'הכנס שורה מתחת',\r\n            deleteRow: 'מחק שורה',\r\n            insertColumnBefore: 'הכנס עמודה לפני',\r\n            insertColumnAfter: 'הכנס עמודה אחרי',\r\n            deleteColumn: 'מחק עמודה',\r\n            fixedColumnWidth: 'קבע רוחב עמודות',\r\n            resize100: 'ללא הקטנה',\r\n            resize75: 'הקטן 75%',\r\n            resize50: 'הקטן 50%',\r\n            resize25: 'הקטן 25%',\r\n            autoSize: 'הקטן אוטומטית',\r\n            mirrorHorizontal: 'הפוך לרוחב',\r\n            mirrorVertical: 'הפוך לגובה',\r\n            rotateLeft: 'סובב שמאלה',\r\n            rotateRight: 'סובב ימינה',\r\n            maxSize: 'גודל מרבי',\r\n            minSize: 'גודל מזערי',\r\n            tableHeader: 'כותרת טבלה',\r\n            mergeCells: 'מזג תאים',\r\n            splitCells: 'פצל תא',\r\n            HorizontalSplit: 'פצל לגובה',\r\n            VerticalSplit: 'פצל לרוחב'\r\n        },\r\n        menu: {\r\n            spaced: 'מרווח',\r\n            bordered: 'בעל מיתאר',\r\n            neon: 'זוהר',\r\n            translucent: 'שקוף למחצה',\r\n            shadow: 'צל',\r\n            code: 'קוד'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'he', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ckb',\r\n        toolbar: {\r\n            default: 'بنه‌ڕه‌ت',\r\n            save: 'پاشه‌كه‌وتكردن',\r\n            font: 'فۆنت',\r\n            formats: 'Formats',\r\n            fontSize: 'قه‌باره‌',\r\n            bold: 'تۆخكردن',\r\n            underline: 'هێڵ به‌ژێردا بێنه‌',\r\n            italic: 'لار',\r\n            strike: 'هێڵ به‌ناودا بێنه‌',\r\n            subscript: 'ژێرسکریپت',\r\n            superscript: 'سەرنووس',\r\n            removeFormat: 'لابردنی فۆرمات',\r\n            fontColor: 'ره‌نگی فۆنت',\r\n            hiliteColor: 'ره‌نگی دیاركراو',\r\n            indent: 'بۆشایی بەجێهێشتن',\r\n            outdent: 'لابردنی بۆشایی',\r\n            align: 'ئاراسته‌',\r\n            alignLeft: 'لای چه‌پ',\r\n            alignRight: 'لای راست',\r\n            alignCenter: 'ناوه‌ند',\r\n            alignJustify: 'به‌رێكی دابه‌ش بكه‌',\r\n            list: 'لیست',\r\n            orderList: 'لیستی ریزكراو',\r\n            unorderList: 'لیستی ریزنه‌كراو',\r\n            horizontalRule: 'هێڵی ئاسۆیی',\r\n            hr_solid: 'پته‌و',\r\n            hr_dotted: 'نوكته‌ نوكته‌',\r\n            hr_dashed: 'داش داش',\r\n            table: 'خشته‌',\r\n            link: 'به‌سته‌ر',\r\n            math: 'بیركاری',\r\n            image: 'وێنه‌',\r\n            video: 'ڤیدیۆ',\r\n            audio: 'ده‌نگ',\r\n            fullScreen: 'پڕ به‌ شاشه‌',\r\n            showBlocks: 'بڵۆك نیشانبده',\r\n            codeView: 'بینینی كۆده‌كان',\r\n            undo: 'وەک خۆی لێ بکەوە',\r\n            redo: 'هەڵگەڕاندنەوە',\r\n            preview: 'پێشبینین',\r\n            print: 'پرینت',\r\n            tag_p: 'په‌ره‌گراف',\r\n            tag_div: 'ی ئاسایی (DIV)',\r\n            tag_h: 'سەرپەڕە',\r\n            tag_blockquote: 'ده‌ق',\r\n            tag_pre: 'كۆد',\r\n            template: 'قاڵب',\r\n            lineHeight: 'بڵندی دێر',\r\n            paragraphStyle: 'ستایلی په‌ره‌گراف',\r\n            textStyle: 'ستایلی نوسین',\r\n            imageGallery: 'گاله‌ری وێنه‌كان',\r\n            dir_ltr: 'من اليسار إلى اليمين',\r\n            dir_rtl: 'من اليمين الى اليسار',\r\n            mention: 'تنويه ب'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'به‌سته‌ر دابنێ',\r\n                url: 'به‌سته‌ر',\r\n                text: 'تێكستی به‌سته‌ر',\r\n                newWindowCheck: 'له‌ په‌نجه‌ره‌یه‌كی نوێ بكه‌ره‌وه‌',\r\n                downloadLinkCheck: 'رابط التحميل',\r\n                bookmark: 'المرجعية'\r\n            },\r\n            mathBox: {\r\n                title: 'بیركاری',\r\n                inputLabel: 'نیشانه‌كانی بیركاری',\r\n                fontSizeLabel: 'قه‌باره‌ی فۆنت',\r\n                previewLabel: 'پێشبینین'\r\n            },\r\n            imageBox: {\r\n                title: 'وێنه‌یه‌ك دابنێ',\r\n                file: 'فایلێك هه‌ڵبژێره‌',\r\n                url: 'به‌سته‌ری وێنه‌',\r\n                altText: 'نوسینی جێگره‌وه‌'\r\n            },\r\n            videoBox: {\r\n                title: 'ڤیدیۆیه‌ك دابنێ',\r\n                file: 'فایلێك هه‌ڵبژێره‌',\r\n                url: 'YouTube/Vimeo به‌سته‌ری له‌ناودانان وه‌ك '\r\n            },\r\n            audioBox: {\r\n                title: 'ده‌نگێك دابنێ',\r\n                file: 'فایلێك هه‌ڵبژێره‌',\r\n                url: 'به‌سته‌ری ده‌نگ'\r\n            },\r\n            browser: {\r\n                tags: 'تاگه‌كان',\r\n                search: 'گه‌ران',\r\n            },\r\n            caption: 'پێناسه‌یه‌ك دابنێ',\r\n            close: 'داخستن',\r\n            submitButton: 'ناردن',\r\n            revertButton: 'بیگەڕێنەوە سەر باری سەرەتایی',\r\n            proportion: 'رێژه‌كان وه‌ك خۆی بهێڵه‌وه‌',\r\n            basic: 'سه‌ره‌تایی',\r\n            left: 'چه‌پ',\r\n            right: 'راست',\r\n            center: 'ناوەڕاست',\r\n            width: 'پانی',\r\n            height: 'به‌رزی',\r\n            size: 'قه‌باره‌',\r\n            ratio: 'رێژه‌'\r\n        },\r\n        controller: {\r\n            edit: 'دەسکاریکردن',\r\n            unlink: 'سڕینەوەی بەستەر',\r\n            remove: 'سڕینه‌وه‌',\r\n            insertRowAbove: 'ریزك له‌ سه‌ره‌وه‌ زیادبكه‌',\r\n            insertRowBelow: 'ریزێك له‌ خواره‌وه‌ زیادبكه‌',\r\n            deleteRow: 'ریز بسره‌وه‌',\r\n            insertColumnBefore: 'ستونێك له‌ پێشه‌وه‌ زیادبكه‌',\r\n            insertColumnAfter: 'ستونێك له‌ دواوه‌ زیادبكه‌',\r\n            deleteColumn: 'ستونێك بسره‌وه‌',\r\n            fixedColumnWidth: 'پانی ستون نه‌گۆربكه‌',\r\n            resize100: 'قه‌باره‌ بگۆره‌ بۆ ١٠٠%',\r\n            resize75: 'قه‌باره‌ بگۆره‌ بۆ ٧٥%',\r\n            resize50: 'قه‌باره‌ بگۆره‌ بۆ ٥٠%',\r\n            resize25: 'قه‌باره‌ بگۆره‌ بۆ ٢٥%',\r\n            autoSize: 'قه‌باره‌ی خۆكارانه‌',\r\n            mirrorHorizontal: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ئاسۆیی',\r\n            mirrorVertical: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ستونی',\r\n            rotateLeft: 'بسوڕێنه‌ به‌لای چه‌پدا',\r\n            rotateRight: 'بسورێنه‌ به‌لای راستدا',\r\n            maxSize: 'گه‌وره‌ترین قه‌باره‌',\r\n            minSize: 'بچوكترین قه‌باره‌',\r\n            tableHeader: 'سه‌ردێری خشته‌ك',\r\n            mergeCells: 'خانه‌كان تێكه‌ڵبكه‌',\r\n            splitCells: 'خانه‌كان لێك جیابكه‌وه‌',\r\n            HorizontalSplit: 'جیاكردنه‌وه‌ی ئاسۆیی',\r\n            VerticalSplit: 'جیاكردنه‌وه‌ی ستونی'\r\n        },\r\n        menu: {\r\n            spaced: 'بۆشای هه‌بێت',\r\n            bordered: 'لێواری هه‌بێت',\r\n            neon: 'نیۆن',\r\n            translucent: 'كه‌مێك وه‌ك شووشه‌',\r\n            shadow: 'سێبه‌ر',\r\n            code: 'كۆد'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ckb', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'hu',\r\n        toolbar: {\r\n            default: 'Alapértelmezett',\r\n            save: 'Mentés',\r\n            font: 'Betűtípus',\r\n            formats: 'Formázás',\r\n            fontSize: 'Betűméret',\r\n            bold: 'Félkövér',\r\n            underline: 'Aláhúzott',\r\n            italic: 'Dőlt',\r\n            strike: 'Áthúzott',\r\n            subscript: 'Alsó index',\r\n            superscript: 'Felső index',\r\n            removeFormat: 'Formázás törlése',\r\n            fontColor: 'Betűszín',\r\n            hiliteColor: 'Háttérszín',\r\n            indent: 'Behúzás növelése',\r\n            outdent: 'Behúzás csökkentése',\r\n            align: 'Igazítás',\r\n            alignLeft: 'Balra igazítás',\r\n            alignRight: 'Jobbra igazítás',\r\n            alignCenter: 'Középre igazítás',\r\n            alignJustify: 'Sorkizárt',\r\n            list: 'Lista',\r\n            orderList: 'Számozott lista',\r\n            unorderList: 'Számozatlan lista',\r\n            horizontalRule: 'Elválasztó',\r\n            hr_solid: 'Folytonos',\r\n            hr_dotted: 'Pontozott',\r\n            hr_dashed: 'Szaggatott',\r\n            table: 'Táblázat',\r\n            link: 'Hivatkozás',\r\n            math: 'Matematika',\r\n            image: 'Kép',\r\n            video: 'Videó',\r\n            audio: 'Hang',\r\n            fullScreen: 'Teljes képernyő',\r\n            showBlocks: 'Blokkok megjelenítése',\r\n            codeView: 'Forráskód nézet',\r\n            undo: 'Visszavonás',\r\n            redo: 'Visszavonás visszavonása',\r\n            preview: 'Előnézet',\r\n            print: 'Nyomtatás',\r\n            tag_p: 'Bekezdés',\r\n            tag_div: 'Normál (DIV)',\r\n            tag_h: 'Fejléc',\r\n            tag_blockquote: 'Idézet',\r\n            tag_pre: 'Kód',\r\n            template: 'Minta',\r\n            lineHeight: 'Sormagasság',\r\n            paragraphStyle: 'Bekezdésstílus',\r\n            textStyle: 'Karakterstílus',\r\n            imageGallery: 'Képgalléria',\r\n            dir_ltr: 'Balról jobbra',\r\n            dir_rtl: 'Jobbról balra',\r\n            mention: 'Említés'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Link beszúrása',\r\n                url: 'URL',\r\n                text: 'Megjelenített szöveg',\r\n                newWindowCheck: 'Megnyitás új ablakban',\r\n                downloadLinkCheck: 'Letöltési hivatkozás',\r\n                bookmark: 'Könyvjelző'\r\n            },\r\n            mathBox: {\r\n                title: 'Matematika',\r\n                inputLabel: 'Matematikai jelölések',\r\n                fontSizeLabel: 'Betűméret',\r\n                previewLabel: 'Előnézet'\r\n            },\r\n            imageBox: {\r\n                title: 'Kép beszúrása',\r\n                file: 'Fájlfeltöltés',\r\n                url: 'Képhivatkozás',\r\n                altText: 'Alternatív szöveg'\r\n            },\r\n            videoBox: {\r\n                title: 'Videó beszúrása',\r\n                file: 'Fájlfeltöltés',\r\n                url: 'Beágyazható URL, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Hang beszúrása',\r\n                file: 'Fájlfeltöltés',\r\n                url: 'Hang URL'\r\n            },\r\n            browser: {\r\n                tags: 'Címkék',\r\n                search: 'Keresés',\r\n            },\r\n            caption: 'Képaláírás',\r\n            close: 'Bezárás',\r\n            submitButton: 'Küldés',\r\n            revertButton: 'Mégse',\r\n            proportion: 'Méretkorlátok',\r\n            basic: 'Alapszintű',\r\n            left: 'Balra',\r\n            right: 'Jobbra',\r\n            center: 'Középre',\r\n            width: 'Szélesség',\r\n            height: 'Magasság',\r\n            size: 'Méret',\r\n            ratio: 'Képarány'\r\n        },\r\n        controller: {\r\n            edit: 'Szerkesztés',\r\n            unlink: 'Link eltávolítása',\r\n            remove: 'Törlés',\r\n            insertRowAbove: 'Új sor fölötte',\r\n            insertRowBelow: 'Új sor alatta',\r\n            deleteRow: 'Sor törlése',\r\n            insertColumnBefore: 'Új oszlop balra',\r\n            insertColumnAfter: 'Új oszlop jobbra',\r\n            deleteColumn: 'Oszlop törlése',\r\n            fixedColumnWidth: 'Rögzített oszlopszélesség',\r\n            resize100: 'Átméretezés: 100%',\r\n            resize75: 'Átméretezés: 75%',\r\n            resize50: 'Átméretezés: 50%',\r\n            resize25: 'Átméretezés: 25%',\r\n            autoSize: 'Automatikus méret',\r\n            mirrorHorizontal: 'Vízszintes tükrözés',\r\n            mirrorVertical: 'Függőleges tükrözés',\r\n            rotateLeft: 'Forgatás balra',\r\n            rotateRight: 'Forgatás jobbra',\r\n            maxSize: 'Maximális méret',\r\n            minSize: 'Minimális méret',\r\n            tableHeader: 'Táblázatfejléc',\r\n            mergeCells: 'Cellák egyesítése',\r\n            splitCells: 'Cellák szétválasztása',\r\n            HorizontalSplit: 'Szétválasztás vízszintesen',\r\n            VerticalSplit: 'Szétválasztás függőlegesen'\r\n        },\r\n        menu: {\r\n            spaced: 'Ritkított',\r\n            bordered: 'Keretezett',\r\n            neon: 'Neon',\r\n            translucent: 'Áttetsző',\r\n            shadow: 'Árnyék',\r\n            code: 'Kód'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'hu', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","import type { HandlerManager, MonitorEventEmitter } from '../types/index.js'\nimport { useCollector } from './useCollector.js'\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js'\n\nexport function useMonitorOutput<Monitor extends HandlerManager, Collected>(\n\tmonitor: Monitor & MonitorEventEmitter,\n\tcollect: (monitor: Monitor) => Collected,\n\tonCollect?: () => void,\n): Collected {\n\tconst [collected, updateCollected] = useCollector(monitor, collect, onCollect)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction subscribeToMonitorStateChange() {\n\t\t\tconst handlerId = monitor.getHandlerId()\n\t\t\tif (handlerId == null) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn monitor.subscribeToStateChange(updateCollected, {\n\t\t\t\thandlerIds: [handlerId],\n\t\t\t})\n\t\t},\n\t\t[monitor, updateCollected],\n\t)\n\n\treturn collected\n}\n","import equal from 'fast-deep-equal'\nimport { useCallback, useState } from 'react'\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js'\n\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\nexport function useCollector<T, S>(\n\tmonitor: T,\n\tcollect: (monitor: T) => S,\n\tonUpdate?: () => void,\n): [S, () => void] {\n\tconst [collected, setCollected] = useState(() => collect(monitor))\n\n\tconst updateCollected = useCallback(() => {\n\t\tconst nextValue = collect(monitor)\n\t\t// This needs to be a deep-equality check because some monitor-collected values\n\t\t// include XYCoord objects that may be equivalent, but do not have instance equality.\n\t\tif (!equal(collected, nextValue)) {\n\t\t\tsetCollected(nextValue)\n\t\t\tif (onUpdate) {\n\t\t\t\tonUpdate()\n\t\t\t}\n\t\t}\n\t}, [collected, monitor, onUpdate])\n\n\t// update the collected properties after react renders.\n\t// Note that the \"Dustbin Stress Test\" fails if this is not\n\t// done when the component updates\n\tuseIsomorphicLayoutEffect(updateCollected)\n\n\treturn [collected, updateCollected]\n}\n","import type { Connector } from '../internals/index.js'\nimport type { HandlerManager, MonitorEventEmitter } from '../types/index.js'\nimport { useMonitorOutput } from './useMonitorOutput.js'\n\nexport function useCollectedProps<Collected, Monitor extends HandlerManager>(\n\tcollector: ((monitor: Monitor) => Collected) | undefined,\n\tmonitor: Monitor & MonitorEventEmitter,\n\tconnector: Connector,\n) {\n\treturn useMonitorOutput(monitor, collector || (() => ({} as Collected)), () =>\n\t\tconnector.reconnect(),\n\t)\n}\n","export function shallowEqual<T>(\n\tobjA: T,\n\tobjB: T,\n\tcompare?: (a: T, b: T, key?: string) => boolean | void,\n\tcompareContext?: any,\n) {\n\tlet compareResult = compare\n\t\t? compare.call(compareContext, objA, objB)\n\t\t: void 0\n\tif (compareResult !== void 0) {\n\t\treturn !!compareResult\n\t}\n\n\tif (objA === objB) {\n\t\treturn true\n\t}\n\n\tif (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n\t\treturn false\n\t}\n\n\tconst keysA = Object.keys(objA)\n\tconst keysB = Object.keys(objB)\n\n\tif (keysA.length !== keysB.length) {\n\t\treturn false\n\t}\n\n\tconst bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB)\n\n\t// Test for A's keys different from B.\n\tfor (let idx = 0; idx < keysA.length; idx++) {\n\t\tconst key = keysA[idx] as string\n\n\t\tif (!bHasOwnProperty(key)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst valueA = (objA as any)[key]\n\t\tconst valueB = (objB as any)[key]\n\n\t\tcompareResult = compare\n\t\t\t? compare.call(compareContext, valueA, valueB, key)\n\t\t\t: void 0\n\n\t\tif (\n\t\t\tcompareResult === false ||\n\t\t\t(compareResult === void 0 && valueA !== valueB)\n\t\t) {\n\t\t\treturn false\n\t\t}\n\t}\n\n\treturn true\n}\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ru',\r\n        toolbar: {\r\n            default: 'По умолчанию',\r\n            save: 'Сохранить',\r\n            font: 'Шрифт',\r\n            formats: 'Стиль абзаца',\r\n            fontSize: 'Размер шрифта',\r\n            bold: 'Полужирный',\r\n            underline: 'Подчёркнутый',\r\n            italic: 'Курсив',\r\n            strike: 'Зачеркнутый',\r\n            subscript: 'Нижний индекс',\r\n            superscript: 'Верхний индекс',\r\n            removeFormat: 'Очистить форматирование',\r\n            fontColor: 'Цвет текста',\r\n            hiliteColor: 'Цвет фона',\r\n            indent: 'Увеличить отступ',\r\n            outdent: 'Уменьшить отступ',\r\n            align: 'Выравнивание',\r\n            alignLeft: 'Слева',\r\n            alignRight: 'Справа',\r\n            alignCenter: 'По центру',\r\n            alignJustify: 'По ширине',\r\n            list: 'Списки',\r\n            orderList: 'Нумерованный',\r\n            unorderList: 'Маркированный',\r\n            horizontalRule: 'Горизонтальная линия',\r\n            hr_solid: 'Сплошная',\r\n            hr_dotted: 'Пунктир',\r\n            hr_dashed: 'Штриховая',\r\n            table: 'Таблица',\r\n            link: 'Ссылка',\r\n            math: 'математический',\r\n            image: 'Изображение',\r\n            video: 'Видео',\r\n            audio: 'Аудио',\r\n            fullScreen: 'Полный экран',\r\n            showBlocks: 'Блочный вид',\r\n            codeView: 'Редактировать HTML',\r\n            undo: 'Отменить',\r\n            redo: 'Вернуть',\r\n            preview: 'Предварительный просмотр',\r\n            print: 'Печать',\r\n            tag_p: 'Текст',\r\n            tag_div: 'Базовый',\r\n            tag_h: 'Заголовок',\r\n            tag_blockquote: 'Цитата',\r\n            tag_pre: 'Код',\r\n            template: 'Шаблон',\r\n            lineHeight: 'Высота линии',\r\n            paragraphStyle: 'Стиль абзаца',\r\n            textStyle: 'Стиль текста',\r\n            imageGallery: 'Галерея',\r\n            dir_ltr: 'Слева направо',\r\n            dir_rtl: 'Справа налево',\r\n            mention: 'Упоминание'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Вставить ссылку',\r\n                url: 'Ссылка',\r\n                text: 'Текст',\r\n                newWindowCheck: 'Открывать в новом окне',\r\n                downloadLinkCheck: 'Ссылка для скачивания',\r\n                bookmark: 'Закладка'\r\n            },\r\n            mathBox: {\r\n                title: 'математический',\r\n                inputLabel: 'Математическая запись',\r\n                fontSizeLabel: 'Кегль',\r\n                previewLabel: 'Предварительный просмотр'\r\n            },\r\n            imageBox: {\r\n                title: 'Вставить изображение',\r\n                file: 'Выберите файл',\r\n                url: 'Адрес изображения',\r\n                altText: 'Текстовое описание изображения'\r\n            },\r\n            videoBox: {\r\n                title: 'Вставить видео',\r\n                file: 'Выберите файл',\r\n                url: 'Ссылка на видео, Youtube,Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Вставить аудио',\r\n                file: 'Выберите файл',\r\n                url: 'Адрес аудио'\r\n            },\r\n            browser: {\r\n                tags: 'Теги',\r\n                search: 'Поиск',\r\n            },\r\n            caption: 'Добавить подпись',\r\n            close: 'Закрыть',\r\n            submitButton: 'Подтвердить',\r\n            revertButton: 'Сбросить',\r\n            proportion: 'Сохранить пропорции',\r\n            basic: 'Без обтекания',\r\n            left: 'Слева',\r\n            right: 'Справа',\r\n            center: 'По центру',\r\n            width: 'Ширина',\r\n            height: 'Высота',\r\n            size: 'Размер',\r\n            ratio: 'Соотношение'\r\n        },\r\n        controller: {\r\n            edit: 'Изменить',\r\n            unlink: 'Убрать ссылку',\r\n            remove: 'Удалить',\r\n            insertRowAbove: 'Вставить строку выше',\r\n            insertRowBelow: 'Вставить строку ниже',\r\n            deleteRow: 'Удалить строку',\r\n            insertColumnBefore: 'Вставить столбец слева',\r\n            insertColumnAfter: 'Вставить столбец справа',\r\n            deleteColumn: 'Удалить столбец',\r\n            fixedColumnWidth: 'Фиксированная ширина столбца',\r\n            resize100: 'Размер 100%',\r\n            resize75: 'Размер 75%',\r\n            resize50: 'Размер 50%',\r\n            resize25: 'Размер 25%',\r\n            autoSize: 'Авто размер',\r\n            mirrorHorizontal: 'Отразить по горизонтали',\r\n            mirrorVertical: 'Отразить по вертикали',\r\n            rotateLeft: 'Повернуть против часовой стрелки',\r\n            rotateRight: 'Повернуть по часовой стрелке',\r\n            maxSize: 'Ширина по размеру страницы',\r\n            minSize: 'Ширина по содержимому',\r\n            tableHeader: 'Строка заголовков',\r\n            mergeCells: 'Объединить ячейки',\r\n            splitCells: 'Разделить ячейку',\r\n            HorizontalSplit: 'Разделить горизонтально',\r\n            VerticalSplit: 'Разделить вертикально'\r\n        },\r\n        menu: {\r\n            spaced: 'интервал',\r\n            bordered: 'Граничная Линия',\r\n            neon: 'неон',\r\n            translucent: 'полупрозрачный',\r\n            shadow: 'Тень',\r\n            code: 'Код'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ru', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ur',\r\n        toolbar: {\r\n            default: 'طے شدہ',\r\n            save: 'محفوظ کریں',\r\n            font: 'فونٹ',\r\n            formats: 'فارمیٹس',\r\n            fontSize: 'سائز',\r\n            bold: 'بولڈ',\r\n            underline: 'انڈر لائن',\r\n            italic: 'ترچھا',\r\n            strike: 'لکیرہ کردہ',\r\n            subscript: 'ذیلی',\r\n            superscript: 'انتہائی',\r\n            removeFormat: 'فارمیٹ کو حذف دیں',\r\n            fontColor: 'لکھائی کا رنگ',\r\n            hiliteColor: 'نمایاں رنگ',\r\n            indent: 'حاشیہ',\r\n            outdent: 'ہاشیہ واپس',\r\n            align: 'رخ',\r\n            alignLeft: 'بائیں طرف',\r\n            alignRight: 'دائیں طرف',\r\n            alignCenter: 'مرکز میں طرف',\r\n            alignJustify: 'ہر طرف برابر',\r\n            list: 'فہرست',\r\n            orderList: 'ترتیب شدہ فہرست',\r\n            unorderList: 'غیر ترتیب شدہ فہرست',\r\n            horizontalRule: 'لکیر',\r\n            hr_solid: 'ٹھوس',\r\n            hr_dotted: 'نقطے دار',\r\n            hr_dashed: 'ڈیشڈ',\r\n            table: 'میز',\r\n            link: 'لنک',\r\n            math: 'ریاضی',\r\n            image: 'تصویر',\r\n            video: 'ویڈیو',\r\n            audio: 'آواز',\r\n            fullScreen: 'پوری اسکرین',\r\n            showBlocks: 'ڈبے دکھائیں',\r\n            codeView: 'کوڈ کا نظارہ',\r\n            undo: 'واپس کریں',\r\n            redo: 'دوبارہ کریں',\r\n            preview: 'پیشنظر',\r\n            print: 'پرنٹ کریں',\r\n            tag_p: 'پیراگراف',\r\n            tag_div: 'عام (div)',\r\n            tag_h: 'ہیڈر',\r\n            tag_blockquote: 'اقتباس',\r\n            tag_pre: 'کوڈ',\r\n            template: 'سانچہ',\r\n            lineHeight: 'لکیر کی اونچائی',\r\n            paragraphStyle: 'عبارت کا انداز',\r\n            textStyle: 'متن کا انداز',\r\n            imageGallery: 'تصویری نگارخانہ',\r\n            dir_ltr: 'بائیں سے دائیں',\r\n            dir_rtl: 'دائیں سے بائیں',\r\n            mention: 'تذکرہ'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'لنک داخل کریں',\r\n                url: 'لنک کرنے کے لیے URL',\r\n                text: 'ظاہر کرنے کے لیے متن',\r\n                newWindowCheck: 'نئی ونڈو میں کھولیں',\r\n                downloadLinkCheck: 'ڈاؤن لوڈ لنک',\r\n                bookmark: 'بک مارک'\r\n            },\r\n            mathBox: {\r\n                title: 'ریاضی',\r\n                inputLabel: 'ریاضیاتی اشارے',\r\n                fontSizeLabel: 'حرف کا سائز',\r\n                previewLabel: 'پیش نظارہ'\r\n            },\r\n            imageBox: {\r\n                title: 'تصویر داخل کریں',\r\n                file: 'فائلوں سے منتخب کریں',\r\n                url: 'تصویری URL',\r\n                altText: 'متبادل متن'\r\n            },\r\n            videoBox: {\r\n                title: 'ویڈیو داخل کریں',\r\n                file: 'فائلوں سے منتخب کریں',\r\n                url: 'ذرائع ابلاغ کا یو آر ایل، یوٹیوب/ویمیو'\r\n            },\r\n            audioBox: {\r\n                title: 'آواز داخل کریں',\r\n                file: 'فائلوں سے منتخب کریں',\r\n                url: 'آواز URL'\r\n            },\r\n            browser: {\r\n                tags: 'ٹیگز',\r\n                search: 'تلاش کریں',\r\n            },\r\n            caption: 'عنوان',\r\n            close: 'بند کریں',\r\n            submitButton: 'بھیجیں',\r\n            revertButton: 'واپس',\r\n            proportion: 'تناسب کو محدود کریں',\r\n            basic: 'بنیادی',\r\n            left: 'بائیں',\r\n            right: 'دائیں',\r\n            center: 'مرکز',\r\n            width: 'چوڑائی',\r\n            height: 'اونچائی',\r\n            size: 'حجم',\r\n            ratio: 'تناسب'\r\n        },\r\n        controller: {\r\n            edit: 'ترمیم',\r\n            unlink: 'لنک ختم کریں',\r\n            remove: 'حذف',\r\n            insertRowAbove: 'اوپر قطار شامل کریں',\r\n            insertRowBelow: 'نیچے قطار شامل کریں',\r\n            deleteRow: 'قطار کو حذف کریں',\r\n            insertColumnBefore: 'پہلے ستون شامل کریں',\r\n            insertColumnAfter: 'اس کے بعد ستون شامل کریں',\r\n            deleteColumn: 'ستون حذف کریں',\r\n            fixedColumnWidth: 'مقررہ ستون کی چوڑائی',\r\n            resize100: '100% کا حجم تبدیل کریں',\r\n            resize75: '75% کا حجم تبدیل کریں',\r\n            resize50: '50% کا حجم تبدیل کریں',\r\n            resize25: '25% کا حجم تبدیل کریں',\r\n            autoSize: 'ازخود حجم',\r\n            mirrorHorizontal: 'آئینہ، افقی',\r\n            mirrorVertical: 'آئینہ، عمودی',\r\n            rotateLeft: 'بائیں گھومو',\r\n            rotateRight: 'دائیں گھمائیں',\r\n            maxSize: 'زیادہ سے زیادہ سائز',\r\n            minSize: 'کم از کم سائز',\r\n            tableHeader: 'میز کی سرخی',\r\n            mergeCells: 'حجروں کو ضم کریں',\r\n            splitCells: 'حجروں کو علیدہ کرو',\r\n            HorizontalSplit: 'افقی تقسیم',\r\n            VerticalSplit: 'عمودی تقسیم'\r\n        },\r\n        menu: {\r\n            spaced: 'فاصلہ',\r\n            bordered: 'سرحدی',\r\n            neon: 'نیین',\r\n            translucent: 'پارباسی',\r\n            shadow: 'سایہ',\r\n            code: 'کوڈ'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ur', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG una finestra con un documento');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'it',\r\n        toolbar: {\r\n            default: 'Predefinita',\r\n            save: 'Salva',\r\n            font: 'Font',\r\n            formats: 'Formato',\r\n            fontSize: 'Grandezza',\r\n            bold: 'Grassetto',\r\n            underline: 'Sottolineato',\r\n            italic: 'Corsivo',\r\n            strike: 'Barrato',\r\n            subscript: 'Apice',\r\n            superscript: 'Pedice',\r\n            removeFormat: 'Rimuovi formattazione',\r\n            fontColor: 'Colore testo',\r\n            hiliteColor: 'Colore sottolineatura',\r\n            indent: 'Aumenta rientro',\r\n            outdent: 'Riduci rientro',\r\n            align: 'Allinea',\r\n            alignLeft: 'Allinea a sinistra',\r\n            alignRight: 'Allinea a destra',\r\n            alignCenter: 'Allinea al centro',\r\n            alignJustify: 'Giustifica testo',\r\n            list: 'Elenco',\r\n            orderList: 'Elenco numerato',\r\n            unorderList: 'Elenco puntato',\r\n            horizontalRule: 'Linea orizzontale',\r\n            hr_solid: 'Linea continua',\r\n            hr_dotted: 'Puntini',\r\n            hr_dashed: 'Trattini',\r\n            table: 'Tabella',\r\n            link: 'Collegamento ipertestuale',\r\n            math: 'Formula matematica',\r\n            image: 'Immagine',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'A tutto schermo',\r\n            showBlocks: 'Visualizza blocchi',\r\n            codeView: 'Visualizza codice',\r\n            undo: 'Annulla',\r\n            redo: 'Ripristina',\r\n            preview: 'Anteprima',\r\n            print: 'Stampa',\r\n            tag_p: 'Paragrafo',\r\n            tag_div: 'Normale (DIV)',\r\n            tag_h: 'Titolo',\r\n            tag_blockquote: 'Citazione',\r\n            tag_pre: 'Codice',\r\n            template: 'Modello',\r\n            lineHeight: 'Interlinea',\r\n            paragraphStyle: 'Stile paragrafo',\r\n            textStyle: 'Stile testo',\r\n            imageGallery: 'Galleria di immagini',\r\n            dir_ltr: 'Da sinistra a destra',\r\n            dir_rtl: 'Da destra a sinistra',\r\n            mention: 'Menzione'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Inserisci un link',\r\n                url: 'Indirizzo',\r\n                text: 'Testo da visualizzare',\r\n                newWindowCheck: 'Apri in una nuova finestra',\r\n                downloadLinkCheck: 'Link per scaricare',\r\n                bookmark: 'Segnalibro'\r\n            },\r\n            mathBox: {\r\n                title: 'Matematica',\r\n                inputLabel: 'Notazione matematica',\r\n                fontSizeLabel: 'Grandezza testo',\r\n                previewLabel: 'Anteprima'\r\n            },\r\n            imageBox: {\r\n                title: 'Inserisci immagine',\r\n                file: 'Seleziona da file',\r\n                url: 'Indirizzo immagine',\r\n                altText: 'Testo alternativo (ALT)'\r\n            },\r\n            videoBox: {\r\n                title: 'Inserisci video',\r\n                file: 'Seleziona da file',\r\n                url: 'Indirizzo video di embed, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Inserisci audio',\r\n                file: 'Seleziona da file',\r\n                url: 'Indirizzo audio'\r\n            },\r\n            browser: {\r\n                tags: 'tag',\r\n                search: 'Ricerca',\r\n            },\r\n            caption: 'Inserisci didascalia',\r\n            close: 'Chiudi',\r\n            submitButton: 'Invia',\r\n            revertButton: 'Annulla',\r\n            proportion: 'Proporzionale',\r\n            basic: 'Da impostazione',\r\n            left: 'Sinistra',\r\n            right: 'Destra',\r\n            center: 'Centrato',\r\n            width: 'Larghezza',\r\n            height: 'Altezza',\r\n            size: 'Dimensioni',\r\n            ratio: 'Rapporto'\r\n        },\r\n        controller: {\r\n            edit: 'Modifica',\r\n            unlink: 'Elimina link',\r\n            remove: 'Rimuovi',\r\n            insertRowAbove: 'Inserisci riga sopra',\r\n            insertRowBelow: 'Inserisci riga sotto',\r\n            deleteRow: 'Cancella riga',\r\n            insertColumnBefore: 'Inserisci colonna prima',\r\n            insertColumnAfter: 'Inserisci colonna dopo',\r\n            deleteColumn: 'Cancella colonna',\r\n            fixedColumnWidth: 'Larghezza delle colonne fissa',\r\n            resize100: 'Ridimensiona 100%',\r\n            resize75: 'Ridimensiona 75%',\r\n            resize50: 'Ridimensiona 50%',\r\n            resize25: 'Ridimensiona 25%',\r\n            autoSize: 'Ridimensione automatica',\r\n            mirrorHorizontal: 'Capovolgi orizzontalmente',\r\n            mirrorVertical: 'Capovolgi verticalmente',\r\n            rotateLeft: 'Ruota a sinistra',\r\n            rotateRight: 'Ruota a destra',\r\n            maxSize: 'Dimensione massima',\r\n            minSize: 'Dimensione minima',\r\n            tableHeader: 'Intestazione tabella',\r\n            mergeCells: 'Unisci celle',\r\n            splitCells: 'Dividi celle',\r\n            HorizontalSplit: 'Separa orizontalmente',\r\n            VerticalSplit: 'Separa verticalmente'\r\n        },\r\n        menu: {\r\n            spaced: 'Spaziato',\r\n            bordered: 'Bordato',\r\n            neon: 'Luminoso',\r\n            translucent: 'Traslucido',\r\n            shadow: 'Ombra',\r\n            code: 'Codice'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'it', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","import type {\n\tDragDropManager,\n\tDragSource,\n\tDropTarget,\n\tIdentifier,\n\tSourceType,\n\tTargetType,\n\tUnsubscribe,\n} from 'dnd-core'\n\nexport function registerTarget(\n\ttype: TargetType,\n\ttarget: DropTarget,\n\tmanager: DragDropManager,\n): [Identifier, Unsubscribe] {\n\tconst registry = manager.getRegistry()\n\tconst targetId = registry.addTarget(type, target)\n\n\treturn [targetId, () => registry.removeTarget(targetId)]\n}\n\nexport function registerSource(\n\ttype: SourceType,\n\tsource: DragSource,\n\tmanager: DragDropManager,\n): [Identifier, Unsubscribe] {\n\tconst registry = manager.getRegistry()\n\tconst sourceId = registry.addSource(type, source)\n\n\treturn [sourceId, () => registry.removeSource(sourceId)]\n}\n","import { useMemo } from 'react'\n\nimport type { FactoryOrInstance } from './types.js'\n\nexport function useOptionalFactory<T>(\n\targ: FactoryOrInstance<T>,\n\tdeps?: unknown[],\n): T {\n\tconst memoDeps = [...(deps || [])]\n\tif (deps == null && typeof arg !== 'function') {\n\t\tmemoDeps.push(arg)\n\t}\n\treturn useMemo<T>(() => {\n\t\treturn typeof arg === 'function' ? (arg as () => T)() : (arg as T)\n\t}, memoDeps)\n}\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * \r\n * Swedish translation by olehrb at github or gmail\r\n *\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'se',\r\n        toolbar: {\r\n            default: 'Default',\r\n            save: 'Spara',\r\n            font: 'Typsnitt',\r\n            formats: 'Format',\r\n            fontSize: 'Textstorlek',\r\n            bold: 'Fet',\r\n            underline: 'Understruket',\r\n            italic: 'Kursiv',\r\n            strike: 'Överstruket',\r\n            subscript: 'Sänkt skrift',\r\n            superscript: 'Höjd skrift',\r\n            removeFormat: 'Ta bort formattering',\r\n            fontColor: 'Textfärg',\r\n            hiliteColor: 'Bakgrundsfärg',\r\n            indent: 'Minska indrag',\r\n            outdent: 'Öka indrag',\r\n            align: 'Justering',\r\n            alignLeft: 'Vänsterjustering',\r\n            alignRight: 'Högerjustering',\r\n            alignCenter: 'Mittenjusteirng',\r\n            alignJustify: 'Justera indrag',\r\n            list: 'Listor',\r\n            orderList: 'Numrerad lista',\r\n            unorderList: 'Oordnad lista',\r\n            horizontalRule: 'Horisontell linje',\r\n            hr_solid: 'Solid',\r\n            hr_dotted: 'Punkter',\r\n            hr_dashed: 'Prickad',\r\n            table: 'Tabell',\r\n            link: 'Länk',\r\n            math: 'Math',\r\n            image: 'Bild',\r\n            video: 'Video',\r\n            audio: 'Ljud',\r\n            fullScreen: 'Helskärm',\r\n            showBlocks: 'Visa block',\r\n            codeView: 'Visa koder',\r\n            undo: 'Ångra',\r\n            redo: 'Gör om',\r\n            preview: 'Preview',\r\n            print: 'Print',\r\n            tag_p: 'Paragraf',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Rubrik',\r\n            tag_blockquote: 'Citer',\r\n            tag_pre: 'Kod',\r\n            template: 'Mall',\r\n            lineHeight: 'Linjehöjd',\r\n            paragraphStyle: 'Stil på stycke',\r\n            textStyle: 'Textstil',\r\n            imageGallery: 'Bildgalleri',\r\n            dir_ltr: 'Vänster till höger',\r\n            dir_rtl: 'Höger till vänster',\r\n            mention: 'Namn'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Lägg till länk',\r\n                url: 'URL till länk',\r\n                text: 'Länktext',\r\n                newWindowCheck: 'Öppna i nytt fönster',\r\n                downloadLinkCheck: 'Nedladdningslänk',\r\n                bookmark: 'Bokmärke'\r\n            },\r\n            mathBox: {\r\n                title: 'Math',\r\n                inputLabel: 'Matematisk notation',\r\n                fontSizeLabel: 'Textstorlek',\r\n                previewLabel: 'Preview'\r\n            },\r\n            imageBox: {\r\n                title: 'Lägg till bild',\r\n                file: 'Lägg till från fil',\r\n                url: 'Lägg till från URL',\r\n                altText: 'Alternativ text'\r\n            },\r\n            videoBox: {\r\n                title: 'Lägg till video',\r\n                file: 'Lägg till från fil',\r\n                url: 'Bädda in video / YouTube,Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Lägg till ljud',\r\n                file: 'Lägg till från fil',\r\n                url: 'Lägg till från URL'\r\n            },\r\n            browser: {\r\n                tags: 'Tags',\r\n                search: 'Sök',\r\n            },\r\n            caption: 'Lägg till beskrivning',\r\n            close: 'Stäng',\r\n            submitButton: 'Skicka',\r\n            revertButton: 'Återgå',\r\n            proportion: 'Spara proportioner',\r\n            basic: 'Basic',\r\n            left: 'Vänster',\r\n            right: 'Höger',\r\n            center: 'Center',\r\n            width: 'Bredd',\r\n            height: 'Höjd',\r\n            size: 'Storlek',\r\n            ratio: 'Förhållande'\r\n        },\r\n        controller: {\r\n            edit: 'Redigera',\r\n            unlink: 'Ta bort länk',\r\n            remove: 'Ta bort',\r\n            insertRowAbove: 'Lägg till rad över',\r\n            insertRowBelow: 'Lägg till rad under',\r\n            deleteRow: 'Ta bort rad',\r\n            insertColumnBefore: 'Lägg till kolumn före',\r\n            insertColumnAfter: 'Lägg till kolumn efter',\r\n            deleteColumn: 'Ta bort kolumner',\r\n            fixedColumnWidth: 'Fast kolumnbredd',\r\n            resize100: 'Förstora 100%',\r\n            resize75: 'Förstora 75%',\r\n            resize50: 'Förstora 50%',\r\n            resize25: 'Förstora 25%',\r\n            autoSize: 'Autostorlek',\r\n            mirrorHorizontal: 'Spegling, horisontell',\r\n            mirrorVertical: 'Spegling, vertikal',\r\n            rotateLeft: 'Rotera till vänster',\r\n            rotateRight: 'Rotera till höger',\r\n            maxSize: 'Maxstorlek',\r\n            minSize: 'Minsta storlek',\r\n            tableHeader: 'Rubrik tabell',\r\n            mergeCells: 'Sammanfoga celler (merge)',\r\n            splitCells: 'Separera celler',\r\n            HorizontalSplit: 'Separera horisontalt',\r\n            VerticalSplit: 'Separera vertikalt'\r\n        },\r\n        menu: {\r\n            spaced: 'Avstånd',\r\n            bordered: 'Avgränsningslinje',\r\n            neon: 'Neon',\r\n            translucent: 'Genomskinlig',\r\n            shadow: 'Skugga',\r\n            code: 'Kod'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'se', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'zh_cn',\r\n        toolbar: {\r\n            default: '默认',\r\n            save: '保存',\r\n            font: '字体',\r\n            formats: '格式',\r\n            fontSize: '字号',\r\n            bold: '粗体',\r\n            underline: '下划线',\r\n            italic: '斜体',\r\n            strike: '删除线',\r\n            subscript: '下标',\r\n            superscript: '上标',\r\n            removeFormat: '清除格式',\r\n            fontColor: '字体颜色',\r\n            hiliteColor: '背景颜色',\r\n            indent: '增加缩进',\r\n            outdent: '减少缩进',\r\n            align: '对齐方式',\r\n            alignLeft: '左对齐',\r\n            alignRight: '右对齐',\r\n            alignCenter: '居中',\r\n            alignJustify: '两端对齐',\r\n            list: '列表',\r\n            orderList: '有序列表',\r\n            unorderList: '无序列表',\r\n            horizontalRule: '水平线',\r\n            hr_solid: '实线',\r\n            hr_dotted: '点线',\r\n            hr_dashed: '虚线',\r\n            table: '表格',\r\n            link: '超链接',\r\n            math: '数学',\r\n            image: '图片',\r\n            video: '视频',\r\n            audio: '音讯',\r\n            fullScreen: '全屏',\r\n            showBlocks: '显示块区域',\r\n            codeView: '代码视图',\r\n            undo: '撤消',\r\n            redo: '恢复',\r\n            preview: '预览',\r\n            print: '打印',\r\n            tag_p: '段落',\r\n            tag_div: '正文 (DIV)',\r\n            tag_h: '标题',\r\n            tag_blockquote: '引用',\r\n            tag_pre: '代码',\r\n            template: '模板',\r\n            lineHeight: '行高',\r\n            paragraphStyle: '段落样式',\r\n            textStyle: '文字样式',\r\n            imageGallery: '图片库',\r\n            dir_ltr: '左到右',\r\n            dir_rtl: '右到左',\r\n            mention: '提到'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: '插入超链接',\r\n                url: '网址',\r\n                text: '要显示的文字',\r\n                newWindowCheck: '在新标签页中打开',\r\n                downloadLinkCheck: '下载链接',\r\n                bookmark: '书签'\r\n            },\r\n            mathBox: {\r\n                title: '数学',\r\n                inputLabel: '数学符号',\r\n                fontSizeLabel: '字号',\r\n                previewLabel: '预览'\r\n            },\r\n            imageBox: {\r\n                title: '插入图片',\r\n                file: '上传图片',\r\n                url: '图片网址',\r\n                altText: '替换文字'\r\n            },\r\n            videoBox: {\r\n                title: '插入视频',\r\n                file: '上传图片',\r\n                url: '嵌入网址, Youtube,Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: '插入音频',\r\n                file: '上传图片',\r\n                url: '音频网址'\r\n            },\r\n            browser: {\r\n                tags: '标签',\r\n                search: '搜索',\r\n            },\r\n            caption: '标题',\r\n            close: '取消',\r\n            submitButton: '确定',\r\n            revertButton: '恢复',\r\n            proportion: '比例',\r\n            basic: '基本',\r\n            left: '左',\r\n            right: '右',\r\n            center: '居中',\r\n            width: '宽度',\r\n            height: '高度',\r\n            size: '尺寸',\r\n            ratio: '比'\r\n        },\r\n        controller: {\r\n            edit: '编辑',\r\n            unlink: '去除链接',\r\n            remove: '删除',\r\n            insertRowAbove: '在上方插入',\r\n            insertRowBelow: '在下方插入',\r\n            deleteRow: '删除行',\r\n            insertColumnBefore: '在左侧插入',\r\n            insertColumnAfter: '在右侧插入',\r\n            deleteColumn: '删除列',\r\n            fixedColumnWidth: '固定列宽',\r\n            resize100: '放大 100%',\r\n            resize75: '放大 75%',\r\n            resize50: '放大 50%',\r\n            resize25: '放大 25%',\r\n            mirrorHorizontal: '翻转左右',\r\n            mirrorVertical: '翻转上下',\r\n            rotateLeft: '向左旋转',\r\n            rotateRight: '向右旋转',\r\n            maxSize: '最大尺寸',\r\n            minSize: '最小尺寸',\r\n            tableHeader: '表格标题',\r\n            mergeCells: '合并单元格',\r\n            splitCells: '分割单元格',\r\n            HorizontalSplit: '水平分割',\r\n            VerticalSplit: '垂直分割'\r\n        },\r\n        menu: {\r\n            spaced: '间隔开',\r\n            bordered: '边界线',\r\n            neon: '霓虹灯',\r\n            translucent: '半透明',\r\n            shadow: '阴影',\r\n            code: '代码'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'zh_cn', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","import type { DragDropManager } from 'dnd-core'\nimport { createContext } from 'react'\n\n/**\n * The React context type\n */\nexport interface DndContextType {\n\tdragDropManager: DragDropManager | undefined\n}\n\n/**\n * Create the React Context\n */\nexport const DndContext = createContext<DndContextType>({\n\tdragDropManager: undefined,\n})\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'en',\r\n        toolbar: {\r\n            default: 'Default',\r\n            save: 'Save',\r\n            font: 'Font',\r\n            formats: 'Formats',\r\n            fontSize: 'Size',\r\n            bold: 'Bold',\r\n            underline: 'Underline',\r\n            italic: 'Italic',\r\n            strike: 'Strike',\r\n            subscript: 'Subscript',\r\n            superscript: 'Superscript',\r\n            removeFormat: 'Remove Format',\r\n            fontColor: 'Font Color',\r\n            hiliteColor: 'Highlight Color',\r\n            indent: 'Indent',\r\n            outdent: 'Outdent',\r\n            align: 'Align',\r\n            alignLeft: 'Align left',\r\n            alignRight: 'Align right',\r\n            alignCenter: 'Align center',\r\n            alignJustify: 'Align justify',\r\n            list: 'List',\r\n            orderList: 'Ordered list',\r\n            unorderList: 'Unordered list',\r\n            horizontalRule: 'Horizontal line',\r\n            hr_solid: 'Solid',\r\n            hr_dotted: 'Dotted',\r\n            hr_dashed: 'Dashed',\r\n            table: 'Table',\r\n            link: 'Link',\r\n            math: 'Math',\r\n            image: 'Image',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Full screen',\r\n            showBlocks: 'Show blocks',\r\n            codeView: 'Code view',\r\n            undo: 'Undo',\r\n            redo: 'Redo',\r\n            preview: 'Preview',\r\n            print: 'print',\r\n            tag_p: 'Paragraph',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Header',\r\n            tag_blockquote: 'Quote',\r\n            tag_pre: 'Code',\r\n            template: 'Template',\r\n            lineHeight: 'Line height',\r\n            paragraphStyle: 'Paragraph style',\r\n            textStyle: 'Text style',\r\n            imageGallery: 'Image gallery',\r\n            dir_ltr: 'Left to right',\r\n            dir_rtl: 'Right to left',\r\n            mention: 'Mention'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Insert Link',\r\n                url: 'URL to link',\r\n                text: 'Text to display',\r\n                newWindowCheck: 'Open in new window',\r\n                downloadLinkCheck: 'Download link',\r\n                bookmark: 'Bookmark'\r\n            },\r\n            mathBox: {\r\n                title: 'Math',\r\n                inputLabel: 'Mathematical Notation',\r\n                fontSizeLabel: 'Font Size',\r\n                previewLabel: 'Preview'\r\n            },\r\n            imageBox: {\r\n                title: 'Insert image',\r\n                file: 'Select from files',\r\n                url: 'Image URL',\r\n                altText: 'Alternative text'\r\n            },\r\n            videoBox: {\r\n                title: 'Insert Video',\r\n                file: 'Select from files',\r\n                url: 'Media embed URL, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Insert Audio',\r\n                file: 'Select from files',\r\n                url: 'Audio URL'\r\n            },\r\n            browser: {\r\n                tags: 'Tags',\r\n                search: 'Search',\r\n            },\r\n            caption: 'Insert description',\r\n            close: 'Close',\r\n            submitButton: 'Submit',\r\n            revertButton: 'Revert',\r\n            proportion: 'Constrain proportions',\r\n            basic: 'Basic',\r\n            left: 'Left',\r\n            right: 'Right',\r\n            center: 'Center',\r\n            width: 'Width',\r\n            height: 'Height',\r\n            size: 'Size',\r\n            ratio: 'Ratio'\r\n        },\r\n        controller: {\r\n            edit: 'Edit',\r\n            unlink: 'Unlink',\r\n            remove: 'Remove',\r\n            insertRowAbove: 'Insert row above',\r\n            insertRowBelow: 'Insert row below',\r\n            deleteRow: 'Delete row',\r\n            insertColumnBefore: 'Insert column before',\r\n            insertColumnAfter: 'Insert column after',\r\n            deleteColumn: 'Delete column',\r\n            fixedColumnWidth: 'Fixed column width',\r\n            resize100: 'Resize 100%',\r\n            resize75: 'Resize 75%',\r\n            resize50: 'Resize 50%',\r\n            resize25: 'Resize 25%',\r\n            autoSize: 'Auto size',\r\n            mirrorHorizontal: 'Mirror, Horizontal',\r\n            mirrorVertical: 'Mirror, Vertical',\r\n            rotateLeft: 'Rotate left',\r\n            rotateRight: 'Rotate right',\r\n            maxSize: 'Max size',\r\n            minSize: 'Min size',\r\n            tableHeader: 'Table header',\r\n            mergeCells: 'Merge cells',\r\n            splitCells: 'Split Cells',\r\n            HorizontalSplit: 'Horizontal split',\r\n            VerticalSplit: 'Vertical split'\r\n        },\r\n        menu: {\r\n            spaced: 'Spaced',\r\n            bordered: 'Bordered',\r\n            neon: 'Neon',\r\n            translucent: 'Translucent',\r\n            shadow: 'Shadow',\r\n            code: 'Code'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'en', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","import { useMemo } from 'react'\n\nimport type { TargetConnector } from '../../internals/index.js'\n\nexport function useConnectDropTarget(connector: TargetConnector) {\n\treturn useMemo(() => connector.hooks.dropTarget(), [connector])\n}\n","import { shallowEqual } from '@react-dnd/shallowequal'\nimport type { Backend, Identifier, Unsubscribe } from 'dnd-core'\nimport type { RefObject } from 'react'\n\nimport type { DropTargetOptions } from '../types/index.js'\nimport { isRef } from './isRef.js'\nimport type { Connector } from './SourceConnector.js'\nimport { wrapConnectorHooks } from './wrapConnectorHooks.js'\n\nexport class TargetConnector implements Connector {\n\tpublic hooks = wrapConnectorHooks({\n\t\tdropTarget: (node: any, options: DropTargetOptions) => {\n\t\t\tthis.clearDropTarget()\n\t\t\tthis.dropTargetOptions = options\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dropTargetRef = node\n\t\t\t} else {\n\t\t\t\tthis.dropTargetNode = node\n\t\t\t}\n\t\t\tthis.reconnect()\n\t\t},\n\t})\n\n\tprivate handlerId: Identifier | null = null\n\t// The drop target may either be attached via ref or connect function\n\tprivate dropTargetRef: RefObject<any> | null = null\n\tprivate dropTargetNode: any\n\tprivate dropTargetOptionsInternal: DropTargetOptions | null = null\n\tprivate unsubscribeDropTarget: Unsubscribe | undefined\n\n\tprivate lastConnectedHandlerId: Identifier | null = null\n\tprivate lastConnectedDropTarget: any = null\n\tprivate lastConnectedDropTargetOptions: DropTargetOptions | null = null\n\tprivate readonly backend: Backend\n\n\tpublic constructor(backend: Backend) {\n\t\tthis.backend = backend\n\t}\n\n\tpublic get connectTarget(): any {\n\t\treturn this.dropTarget\n\t}\n\n\tpublic reconnect(): void {\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didDropTargetChange() ||\n\t\t\tthis.didOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDropTarget()\n\t\t}\n\n\t\tconst dropTarget = this.dropTarget\n\t\tif (!this.handlerId) {\n\t\t\treturn\n\t\t}\n\t\tif (!dropTarget) {\n\t\t\tthis.lastConnectedDropTarget = dropTarget\n\t\t\treturn\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDropTarget = dropTarget\n\t\t\tthis.lastConnectedDropTargetOptions = this.dropTargetOptions\n\n\t\t\tthis.unsubscribeDropTarget = this.backend.connectDropTarget(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdropTarget,\n\t\t\t\tthis.dropTargetOptions,\n\t\t\t)\n\t\t}\n\t}\n\n\tpublic receiveHandlerId(newHandlerId: Identifier | null): void {\n\t\tif (newHandlerId === this.handlerId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.handlerId = newHandlerId\n\t\tthis.reconnect()\n\t}\n\n\tpublic get dropTargetOptions(): DropTargetOptions {\n\t\treturn this.dropTargetOptionsInternal\n\t}\n\tpublic set dropTargetOptions(options: DropTargetOptions) {\n\t\tthis.dropTargetOptionsInternal = options\n\t}\n\n\tprivate didHandlerIdChange(): boolean {\n\t\treturn this.lastConnectedHandlerId !== this.handlerId\n\t}\n\n\tprivate didDropTargetChange(): boolean {\n\t\treturn this.lastConnectedDropTarget !== this.dropTarget\n\t}\n\n\tprivate didOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDropTargetOptions,\n\t\t\tthis.dropTargetOptions,\n\t\t)\n\t}\n\n\tpublic disconnectDropTarget() {\n\t\tif (this.unsubscribeDropTarget) {\n\t\t\tthis.unsubscribeDropTarget()\n\t\t\tthis.unsubscribeDropTarget = undefined\n\t\t}\n\t}\n\n\tprivate get dropTarget() {\n\t\treturn (\n\t\t\tthis.dropTargetNode || (this.dropTargetRef && this.dropTargetRef.current)\n\t\t)\n\t}\n\n\tprivate clearDropTarget() {\n\t\tthis.dropTargetRef = null\n\t\tthis.dropTargetNode = null\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type { DropTargetMonitor } from '../types/index.js'\n\nlet isCallingCanDrop = false\n\nexport class DropTargetMonitorImpl implements DropTargetMonitor {\n\tprivate internalMonitor: DragDropMonitor\n\tprivate targetId: Identifier | null = null\n\n\tpublic constructor(manager: DragDropManager) {\n\t\tthis.internalMonitor = manager.getMonitor()\n\t}\n\n\tpublic receiveHandlerId(targetId: Identifier | null): void {\n\t\tthis.targetId = targetId\n\t}\n\n\tpublic getHandlerId(): Identifier | null {\n\t\treturn this.targetId\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: { handlerIds?: Identifier[] },\n\t): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToStateChange(listener, options)\n\t}\n\n\tpublic canDrop(): boolean {\n\t\t// Cut out early if the target id has not been set. This should prevent errors\n\t\t// where the user has an older version of dnd-core like in\n\t\t// https://github.com/react-dnd/react-dnd/issues/1310\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\tinvariant(\n\t\t\t!isCallingCanDrop,\n\t\t\t'You may not call monitor.canDrop() inside your canDrop() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingCanDrop = true\n\t\t\treturn this.internalMonitor.canDropOnTarget(this.targetId)\n\t\t} finally {\n\t\t\tisCallingCanDrop = false\n\t\t}\n\t}\n\n\tpublic isOver(options?: { shallow?: boolean }): boolean {\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\treturn this.internalMonitor.isOverTarget(this.targetId, options)\n\t}\n\n\tpublic getItemType(): Identifier | null {\n\t\treturn this.internalMonitor.getItemType()\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.internalMonitor.getItem()\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.internalMonitor.getDropResult()\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.internalMonitor.didDrop()\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialClientOffset()\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialSourceClientOffset()\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getSourceClientOffset()\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getClientOffset()\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getDifferenceFromInitialOffset()\n\t}\n}\n","import type { DropTarget } from 'dnd-core'\n\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\n\nexport class DropTargetImpl<O, R, P> implements DropTarget {\n\tpublic constructor(\n\t\tpublic spec: DropTargetHookSpec<O, R, P>,\n\t\tprivate monitor: DropTargetMonitor<O, R>,\n\t) {}\n\n\tpublic canDrop() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\treturn spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true\n\t}\n\n\tpublic hover() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (spec.hover) {\n\t\t\tspec.hover(monitor.getItem(), monitor)\n\t\t}\n\t}\n\n\tpublic drop() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (spec.drop) {\n\t\t\treturn spec.drop(monitor.getItem(), monitor)\n\t\t}\n\t\treturn\n\t}\n}\n","import type { TargetConnector } from '../../internals/index.js'\nimport { registerTarget } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useAccept } from './useAccept.js'\nimport { useDropTarget } from './useDropTarget.js'\n\nexport function useRegisteredDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n\tconnector: TargetConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst dropTarget = useDropTarget(spec, monitor)\n\tconst accept = useAccept(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDropTarget() {\n\t\t\tconst [handlerId, unregister] = registerTarget(\n\t\t\t\taccept,\n\t\t\t\tdropTarget,\n\t\t\t\tmanager,\n\t\t\t)\n\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\treturn unregister\n\t\t},\n\t\t[\n\t\t\tmanager,\n\t\t\tmonitor,\n\t\t\tdropTarget,\n\t\t\tconnector,\n\t\t\taccept.map((a) => a.toString()).join('|'),\n\t\t],\n\t)\n}\n","import { useEffect, useMemo } from 'react'\n\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { DropTargetImpl } from './DropTargetImpl.js'\n\nexport function useDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n) {\n\tconst dropTarget = useMemo(() => new DropTargetImpl(spec, monitor), [monitor])\n\tuseEffect(() => {\n\t\tdropTarget.spec = spec\n\t}, [spec])\n\treturn dropTarget\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { Identifier } from 'dnd-core'\nimport { useMemo } from 'react'\n\nimport type { DropTargetHookSpec } from '../types.js'\n\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\nexport function useAccept<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n): Identifier[] {\n\tconst { accept } = spec\n\treturn useMemo(() => {\n\t\tinvariant(spec.accept != null, 'accept must be defined')\n\t\treturn Array.isArray(accept) ? accept : [accept]\n\t}, [accept])\n}\n","import type { ConnectDropTarget } from '../../types/index.js'\nimport type { DropTargetHookSpec, FactoryOrInstance } from '../types.js'\nimport { useCollectedProps } from '../useCollectedProps.js'\nimport { useOptionalFactory } from '../useOptionalFactory.js'\nimport { useConnectDropTarget } from './connectors.js'\nimport { useDropTargetConnector } from './useDropTargetConnector.js'\nimport { useDropTargetMonitor } from './useDropTargetMonitor.js'\nimport { useRegisteredDropTarget } from './useRegisteredDropTarget.js'\n\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\nexport function useDrop<\n\tDragObject = unknown,\n\tDropResult = unknown,\n\tCollectedProps = unknown,\n>(\n\tspecArg: FactoryOrInstance<\n\t\tDropTargetHookSpec<DragObject, DropResult, CollectedProps>\n\t>,\n\tdeps?: unknown[],\n): [CollectedProps, ConnectDropTarget] {\n\tconst spec = useOptionalFactory(specArg, deps)\n\tconst monitor = useDropTargetMonitor<DragObject, DropResult>()\n\tconst connector = useDropTargetConnector(spec.options)\n\tuseRegisteredDropTarget(spec, monitor, connector)\n\n\treturn [\n\t\tuseCollectedProps(spec.collect, monitor, connector),\n\t\tuseConnectDropTarget(connector),\n\t]\n}\n","import { useMemo } from 'react'\n\nimport { DropTargetMonitorImpl } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\n\nexport function useDropTargetMonitor<O, R>(): DropTargetMonitor<O, R> {\n\tconst manager = useDragDropManager()\n\treturn useMemo(() => new DropTargetMonitorImpl(manager), [manager])\n}\n","import { useMemo } from 'react'\n\nimport { TargetConnector } from '../../internals/index.js'\nimport type { DropTargetOptions } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDropTargetConnector(\n\toptions: DropTargetOptions,\n): TargetConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new TargetConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dropTargetOptions = options || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDropTarget()\n\t}, [options])\n\treturn connector\n}\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'blockquote',\r\n    display: 'command',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.blockquote = {\r\n            targetButton: targetElement,\r\n            tag: core.util.createElement('BLOCKQUOTE')\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        if (!element) {\r\n            this.util.removeClass(this.context.blockquote.targetButton, 'active');\r\n        } else if (/blockquote/i.test(element.nodeName)) {\r\n            this.util.addClass(this.context.blockquote.targetButton, 'active');\r\n            return true;\r\n        }\r\n        \r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override core\r\n     */\r\n    action: function () {\r\n        const currentBlockquote = this.util.getParentElement(this.getSelectionNode(), 'blockquote');\r\n\r\n        if (currentBlockquote) {\r\n            this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\r\n        } else {\r\n            this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\r\n        }\r\n    }\r\n};","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'align',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const icons = core.icons;\r\n        const context = core.context;\r\n        context.align = {\r\n            targetButton: targetElement,\r\n            _itemMenu: null,\r\n            _alignList: null,\r\n            currentAlign: '',\r\n            defaultDir: core.options.rtl ? 'right' : 'left',\r\n            icons: {\r\n                justify: icons.align_justify,\r\n                left: icons.align_left,\r\n                right: icons.align_right,\r\n                center: icons.align_center\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        let listUl = context.align._itemMenu = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n        context.align._alignList = listUl.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const lang = core.lang;\r\n        const icons = core.icons;\r\n        const listDiv = core.util.createElement('DIV');\r\n        const alignItems = core.options.alignItems;\r\n\r\n        let html = '';\r\n        for (let i = 0, item, text; i < alignItems.length; i++) {\r\n            item = alignItems[i];\r\n            text = lang.toolbar['align' + item.charAt(0).toUpperCase() + item.slice(1)];\r\n            html += '<li>' +\r\n                '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-value=\"' + item + '\" title=\"' + text + '\" aria-label=\"' + text + '\">' +\r\n                    '<span class=\"se-list-icon\">' + icons['align_' + item] + '</span>' + text +\r\n                '</button>' +\r\n            '</li>';\r\n        }\r\n\r\n        listDiv.className = 'se-submenu se-list-layer se-list-align';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    html +\r\n                '</ul>' +\r\n            '</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        const alignContext = this.context.align;\r\n        const targetButton = alignContext.targetButton;\r\n        const target = targetButton.firstElementChild;\r\n\r\n        if (!element) {\r\n            this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\r\n            targetButton.removeAttribute('data-focus');\r\n        } else if (this.util.isFormatElement(element)) {\r\n            const textAlign = element.style.textAlign;\r\n            if (textAlign) {\r\n                this.util.changeElement(target, alignContext.icons[textAlign] || alignContext.icons[alignContext.defaultDir]);\r\n                targetButton.setAttribute('data-focus', textAlign);\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const alignContext = this.context.align;\r\n        const alignList = alignContext._alignList;\r\n        const currentAlign = alignContext.targetButton.getAttribute('data-focus') || alignContext.defaultDir;\r\n\r\n        if (currentAlign !== alignContext.currentAlign) {\r\n            for (let i = 0, len = alignList.length; i < len; i++) {\r\n                if (currentAlign === alignList[i].getAttribute('data-value')) {\r\n                    this.util.addClass(alignList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(alignList[i], 'active');\r\n                }\r\n            }\r\n\r\n            alignContext.currentAlign = currentAlign;\r\n        }\r\n    },\r\n\r\n    exchangeDir: function () {\r\n        const dir = this.options.rtl ? 'right' : 'left';\r\n        if (!this.context.align || this.context.align.defaultDir === dir) return;\r\n\r\n        this.context.align.defaultDir = dir;\r\n        let menu = this.context.align._itemMenu;\r\n        let leftBtn = menu.querySelector('[data-value=\"left\"]');\r\n        let rightBtn = menu.querySelector('[data-value=\"right\"]');\r\n        if (leftBtn && rightBtn) {\r\n            const lp = leftBtn.parentElement;\r\n            const rp = rightBtn.parentElement;\r\n            lp.appendChild(rightBtn);\r\n            rp.appendChild(leftBtn);\r\n        }\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let value = null;\r\n\r\n        while (!value && !/UL/i.test(target.tagName)) {\r\n            value = target.getAttribute('data-value');\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!value) return;\r\n\r\n        const defaultDir = this.context.align.defaultDir;\r\n        const selectedFormsts = this.getSelectedElements();\r\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\r\n            this.util.setStyle(selectedFormsts[i], 'textAlign', (value === defaultDir ? '' : value));\r\n        }\r\n\r\n        this.effectNode = null;\r\n        this.submenuOff();\r\n        this.focus();\r\n        \r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'font',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.font = {\r\n            targetText: targetElement.querySelector('.txt'),\r\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\r\n            _fontList: null,\r\n            currentFont: ''\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n\r\n        /** add event listeners */\r\n        listDiv.querySelector('.se-list-inner').addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.font._fontList = listDiv.querySelectorAll('ul li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const lang = core.lang;\r\n        const listDiv = core.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer se-list-font-family';\r\n\r\n        let font, text, i, len;\r\n        let fontList = core.options.font;\r\n\r\n        let list = '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\" aria-label=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\r\n        for (i = 0, len = fontList.length; i < len; i++) {\r\n            font = fontList[i];\r\n            text = font.split(',')[0];\r\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" aria-label=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        const target = this.context.font.targetText;\r\n        const tooltip = this.context.font.targetTooltip;\r\n\r\n        if (!element) {\r\n            const font = this.hasFocus ? this.wwComputedStyle.fontFamily : this.lang.toolbar.font;\r\n            this.util.changeTxt(target, font);\r\n            this.util.changeTxt(tooltip, this.hasFocus ? this.lang.toolbar.font + (font ? ' (' + font + ')' : '') : font);\r\n        } else if (element.style && element.style.fontFamily.length > 0) {\r\n            const selectFont = element.style.fontFamily.replace(/[\"']/g,'');\r\n            this.util.changeTxt(target, selectFont);\r\n            this.util.changeTxt(tooltip, this.lang.toolbar.font + ' (' + selectFont + ')');\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const fontContext = this.context.font;\r\n        const fontList = fontContext._fontList;\r\n        const currentFont = fontContext.targetText.textContent;\r\n\r\n        if (currentFont !== fontContext.currentFont) {\r\n            for (let i = 0, len = fontList.length; i < len; i++) {\r\n                if (currentFont === (fontList[i].getAttribute('data-value') || '').replace(/'|\"/g, '')) {\r\n                    this.util.addClass(fontList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(fontList[i], 'active');\r\n                }\r\n            }\r\n\r\n            fontContext.currentFont = currentFont;\r\n        }\r\n    },\r\n\r\n    pickup: function (e) {\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let value = e.target.getAttribute('data-value');\r\n\r\n        if (value) {\r\n            const newNode = this.util.createElement('SPAN');\r\n            if (/[\\s\\d\\W]/.test(value) && !/^['\"].*['\"]$/.test(value)) {\r\n                value = '\"' + value + '\"';\r\n            }\r\n            newNode.style.fontFamily = value;\r\n            this.nodeChange(newNode, ['font-family'], null, null);\r\n        } else {\r\n            this.nodeChange(null, ['font-family'], ['span'], true);\r\n        }\r\n        \r\n        this.submenuOff();\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'fontSize',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.fontSize = {\r\n            targetText: targetElement.querySelector('.txt'),\r\n            _sizeList: null,\r\n            currentSize: ''\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n        context.fontSize._sizeList = listUl.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const option = core.options;\r\n        const lang = core.lang;\r\n        const listDiv = core.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer se-list-font-size';\r\n\r\n        const sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\r\n\r\n        let list = '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\" aria-label=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\r\n        for (let i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\r\n            size = sizeList[i];\r\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" aria-label=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        if (!element) {\r\n            this.util.changeTxt(this.context.fontSize.targetText, this.hasFocus ? this._convertFontSize.call(this, this.options.fontSizeUnit, this.wwComputedStyle.fontSize) : this.lang.toolbar.fontSize);\r\n        } else if (element.style && element.style.fontSize.length > 0) {\r\n            this.util.changeTxt(this.context.fontSize.targetText, this._convertFontSize.call(this, this.options.fontSizeUnit, element.style.fontSize));\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const fontSizeContext = this.context.fontSize;\r\n        const sizeList = fontSizeContext._sizeList;\r\n        const currentSize = fontSizeContext.targetText.textContent;\r\n\r\n        if (currentSize !== fontSizeContext.currentSize) {\r\n            for (let i = 0, len = sizeList.length; i < len; i++) {\r\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\r\n                    this.util.addClass(sizeList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(sizeList[i], 'active');\r\n                }\r\n            }\r\n\r\n            fontSizeContext.currentSize = currentSize;\r\n        }\r\n    },\r\n\r\n    pickup: function (e) {\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\r\n        \r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const value = e.target.getAttribute('data-value');\r\n\r\n        if (value) {\r\n            const newNode = this.util.createElement('SPAN');\r\n            newNode.style.fontSize = value;\r\n            this.nodeChange(newNode, ['font-size'], null, null);\r\n        } else {\r\n            this.nodeChange(null, ['font-size'], ['span'], true);\r\n        }\r\n\r\n        this.submenuOff();\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2018 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'colorPicker',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        const context = core.context;\r\n        context.colorPicker = {\r\n            colorListHTML: '',\r\n            _colorInput: '',\r\n            _defaultColor: '#000',\r\n            _styleProperty: 'color',\r\n            _currentColor: '',\r\n            _colorList: []\r\n        };\r\n\r\n        /** set submenu */\r\n        context.colorPicker.colorListHTML = this.createColorList(core, this._makeColorList);\r\n    },\r\n\r\n    /**\r\n     * @description Create color list\r\n     * @param {Object} core Core object \r\n     * @param {Function} makeColor this._makeColorList\r\n     * @returns {String} HTML string\r\n     */\r\n    createColorList: function (core, makeColor) {\r\n        const option = core.options;\r\n        const lang = core.lang;\r\n        const colorList = !option.colorList || option.colorList.length === 0 ?\r\n            [\r\n                '#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000',\r\n                '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#f1f1f1',\r\n                '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd',\r\n                '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c',\r\n                '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535',\r\n                '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'\r\n            ] : option.colorList;\r\n\r\n        let colorArr = [];\r\n        let list = '<div class=\"se-list-inner\">';\r\n            for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n                color = colorList[i];\r\n                if (!color) continue;\r\n                \r\n                if (typeof color === 'string') {\r\n                    colorArr.push(color);\r\n                    if (i < len - 1) continue;\r\n                }\r\n                if (colorArr.length > 0) {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(colorArr) + '</div>';\r\n                    colorArr = [];\r\n                }\r\n                if (typeof color === 'object') {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(color) + '</div>';\r\n                }\r\n            }\r\n            list += '' +\r\n            '<form class=\"se-form-group\">' +\r\n                '<input type=\"text\" maxlength=\"9\" class=\"_se_color_picker_input se-color-input\"/>' +\r\n                '<button type=\"submit\" class=\"se-btn-primary _se_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\">' +\r\n                    core.icons.checked +\r\n                '</button>' +\r\n                '<button type=\"button\" class=\"se-btn _se_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\" aria-label=\"' + lang.toolbar.removeFormat + '\">' +\r\n                    core.icons.erase +\r\n                '</button>' +\r\n            '</form>' +\r\n            '</div>';\r\n\r\n        return list;\r\n    },\r\n\r\n    /**\r\n     * @description Internal function used by this.createColorList\r\n     * @param {Array} colorList Color list\r\n     * @private\r\n     */\r\n    _makeColorList: function (colorList) {\r\n        let list = '';\r\n\r\n        list += '<ul class=\"se-color-pallet\">';\r\n        for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n            color = colorList[i];\r\n            if (typeof color === 'string') {\r\n                list += '<li>' +\r\n                            '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" aria-label=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' +\r\n                        '</li>';\r\n            }\r\n        }\r\n        list += '</ul>';\r\n\r\n        return list;\r\n    },\r\n    \r\n    /**\r\n     * @description Displays or resets the currently selected color at color list.\r\n     * @param {Node} node Current Selected node\r\n     * @param {String|null} color Color value\r\n     */\r\n    init: function (node, color) {\r\n        const colorPicker = this.plugins.colorPicker;\r\n        let fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\r\n        fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\r\n\r\n        const colorList = this.context.colorPicker._colorList;\r\n        if (colorList) {\r\n            for (let i = 0, len = colorList.length; i < len; i++) {\r\n                if (fillColor.toLowerCase() === colorList[i].getAttribute('data-value').toLowerCase()) {\r\n                    this.util.addClass(colorList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(colorList[i], 'active');\r\n                }\r\n            }\r\n        }\r\n\r\n        colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\r\n    },\r\n\r\n    /**\r\n     * @description Store color values\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setCurrentColor: function (hexColorStr) {\r\n        this.context.colorPicker._currentColor = hexColorStr;\r\n        this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\r\n    },\r\n\r\n    /**\r\n     * @description Set color at input element\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setInputText: function (hexColorStr) {\r\n        hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : '#' + hexColorStr;\r\n        this.context.colorPicker._colorInput.value = hexColorStr;\r\n        this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\r\n    },\r\n\r\n    /**\r\n     * @description Gets color value at color property of node\r\n     * @param {Node} node Selected node \r\n     * @returns {String}\r\n     */\r\n    getColorInNode: function (node) {\r\n        let findColor = '';\r\n        const styleProperty = this.context.colorPicker._styleProperty;\r\n\r\n        while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\r\n            if (node.nodeType === 1 && node.style[styleProperty]) findColor = node.style[styleProperty];\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return findColor;\r\n    },\r\n\r\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str Color value\r\n     */\r\n    isHexColor: function (str) {\r\n        return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\r\n    },\r\n\r\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb RGB color format\r\n     * @returns {String}\r\n     */\r\n    rgb2hex: function (rgb) {\r\n        const rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\r\n        return (rgbMatch && rgbMatch.length === 4) ? \"#\" +\r\n            (\"0\" + parseInt(rgbMatch[1],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[2],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[3],10).toString(16)).slice(-2) : '';\r\n    },\r\n\r\n    /**\r\n     * @description Converts color values of other formats to hex color values and returns.\r\n     * @param {String} colorName Color value\r\n     * @returns {String}\r\n     */\r\n    colorName2hex: function (colorName) {\r\n        if (/^#/.test(colorName)) return colorName;\r\n        var temp = this.util.createElement('div');\r\n        temp.style.display = 'none';\r\n        temp.style.color = colorName;\r\n        var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) { return parseInt(a,10); });\r\n        this.util.removeItem(temp);\r\n        return (colors.length >= 3) ? '#' + (((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1)) : false;\r\n    }\r\n};","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport colorPicker from '../modules/_colorPicker';\r\n\r\nexport default {\r\n    name: 'fontColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([colorPicker]);\r\n\r\n        const context = core.context;\r\n        context.fontColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n        context.fontColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const colorArea = core.context.colorPicker.colorListHTML;\r\n        const listDiv = core.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextFontColor = this.context.fontColor;\r\n\r\n        contextPicker._colorInput = contextFontColor.colorInput;\r\n        const color = this.wwComputedStyle.color;\r\n        contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#333333\";\r\n        contextPicker._styleProperty = 'color';\r\n        contextPicker._colorList = contextFontColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @Override _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n\r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.color = color;\r\n        this.nodeChange(newNode, ['color'], null, null);\r\n\r\n        this.submenuOff();\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport colorPicker from '../modules/_colorPicker';\r\n\r\nexport default {\r\n    name: 'hiliteColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([colorPicker]);\r\n\r\n        const context = core.context;\r\n        context.hiliteColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        context.hiliteColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.hiliteColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const colorArea = core.context.colorPicker.colorListHTML;\r\n        const listDiv = core.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextHiliteColor = this.context.hiliteColor;\r\n\r\n        contextPicker._colorInput = contextHiliteColor.colorInput;\r\n        const color = this.wwComputedStyle.backgroundColor;\r\n        contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#ffffff\";\r\n        contextPicker._styleProperty = 'backgroundColor';\r\n        contextPicker._colorList = contextHiliteColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @Override _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['background-color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n        \r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.backgroundColor = color;\r\n        this.nodeChange(newNode, ['background-color'], null, null);\r\n        \r\n        this.submenuOff();\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'horizontalRule',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.context.horizontalRule = {\r\n            currentHR: null,\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n\r\n        /** add event listeners */\r\n        listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const lang = core.lang;\r\n        const listDiv = core.util.createElement('DIV');\r\n        const items = core.options.hrItems || [{name: lang.toolbar.hr_solid, class: '__se__solid'}, {name: lang.toolbar.hr_dashed, class: '__se__dashed'}, {name: lang.toolbar.hr_dotted, class: '__se__dotted'}];\r\n        \r\n        let list = '';\r\n        for (let i = 0, len = items.length; i < len; i++) {\r\n            list += '<li>' +\r\n                '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"' + items[i].class + '\" title=\"' + items[i].name + '\" aria-label=\"' + items[i].name + '\">' +\r\n                    '<hr' + (items[i].class ? ' class=\"' + items[i].class + '\"' : '') + (items[i].style ? ' style=\"' + items[i].style + '\"' : '') + '/>' +\r\n                '</button>' +\r\n            '</li>';\r\n        }\r\n        \r\n        listDiv.className = 'se-submenu se-list-layer se-list-line';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    list +\r\n                '</ul>' +\r\n            '</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    active: function (element) {\r\n        if (!element) {\r\n            if (this.util.hasClass(this.context.horizontalRule.currentHR, 'on')) {\r\n                this.controllersOff();\r\n            }\r\n        } else if (/HR/i.test(element.nodeName)) {\r\n            this.context.horizontalRule.currentHR = element;\r\n            if (!this.util.hasClass(element, 'on')) {\r\n                this.util.addClass(element, 'on');\r\n                this.controllersOn('hr', this.util.removeClass.bind(this.util, element, 'on'));\r\n            }\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    appendHr: function (hrTemp) {\r\n        this.focus();\r\n        return this.insertComponent(hrTemp.cloneNode(false), false, true, false);\r\n    },\r\n\r\n    horizontalRulePick: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let command = target.getAttribute('data-command');\r\n        \r\n        while (!command && !/UL/i.test(target.tagName)) {\r\n            target = target.parentNode;\r\n            command = target.getAttribute('data-command');\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        const oNode = this.plugins.horizontalRule.appendHr.call(this, target.firstElementChild);\r\n        if (oNode) {\r\n            this.setRange(oNode, 0, oNode, 0);\r\n            this.submenuOff();\r\n        }\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'list',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.list = {\r\n            targetButton: targetElement,\r\n            _list: null,\r\n            currentList: '',\r\n            icons: {\r\n                bullets: core.icons.list_bullets,\r\n                number: core.icons.list_number\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n        context.list._list = listUl.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const lang = core.lang;\r\n        const listDiv = core.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\" aria-label=\"' + lang.toolbar.orderList + '\">' +\r\n                        core.icons.list_number +\r\n                    '</button></li>' +\r\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\" aria-label=\"' + lang.toolbar.unorderList + '\">' +\r\n                        core.icons.list_bullets +\r\n                    '</button></li>' +\r\n                '</ul>' +\r\n            '</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        const button = this.context.list.targetButton;\r\n        const icon = button.firstElementChild;\r\n        const util = this.util;\r\n\r\n        if (util.isList(element)) {\r\n            const nodeName = element.nodeName;\r\n            button.setAttribute('data-focus', nodeName);\r\n            util.addClass(button, 'active');\r\n            if (/UL/i.test(nodeName)) {\r\n                util.changeElement(icon, this.context.list.icons.bullets);\r\n            } else {\r\n                util.changeElement(icon, this.context.list.icons.number);\r\n            }\r\n            \r\n            return true;\r\n        } else {\r\n            button.removeAttribute('data-focus');\r\n            util.changeElement(icon, this.context.list.icons.number);\r\n            util.removeClass(button, 'active');\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const listContext = this.context.list;\r\n        const list = listContext._list;\r\n        const currentList = listContext.targetButton.getAttribute('data-focus') || '';\r\n\r\n        if (currentList !== listContext.currentList) {\r\n            for (let i = 0, len = list.length; i < len; i++) {\r\n                if (currentList === list[i].getAttribute('data-command')) {\r\n                    this.util.addClass(list[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(list[i], 'active');\r\n                }\r\n            }\r\n\r\n            listContext.currentList = currentList;\r\n        }\r\n    },\r\n\r\n    editList: function (command, selectedCells, detach) {\r\n        let range = this.getRange();\r\n        let selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\r\n\r\n        if (selectedFormats.length === 0) {\r\n            if (selectedCells) return;\r\n            range = this.getRange_addLine(range, null);\r\n            selectedFormats = this.getSelectedElementsAndComponents(false);\r\n            if (selectedFormats.length === 0) return;\r\n        }\r\n        \r\n        const util = this.util;\r\n        util.sortByDepth(selectedFormats, true);\r\n\r\n        // merge\r\n        let firstSel = selectedFormats[0];\r\n        let lastSel = selectedFormats[selectedFormats.length - 1];\r\n        let topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\r\n        let bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\r\n\r\n        const isCollapsed = range.collapsed;\r\n        const originRange = {\r\n            sc: range.startContainer,\r\n            so: (range.startContainer === range.endContainer && util.onlyZeroWidthSpace(range.startContainer) && range.startOffset === 0 && range.endOffset === 1) ? range.endOffset : range.startOffset,\r\n            ec: range.endContainer,\r\n            eo: range.endOffset\r\n        };\r\n        let afterRange = null;\r\n        let isRemove = true;\r\n\r\n        for (let i = 0, len = selectedFormats.length; i < len; i++) {\r\n            if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\r\n                return this.getRangeFormatElement(current) && current !== selectedFormats[i];\r\n            }.bind(util)))) {\r\n                isRemove = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (isRemove && (!topEl || (firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase())) && (!bottomEl || (lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase()))) {\r\n            if (detach) {\r\n                for (let i = 0, len = selectedFormats.length; i < len; i++) {\r\n                    for (let j = i - 1; j >= 0; j--) {\r\n                        if (selectedFormats[j].contains(selectedFormats[i])) {\r\n                            selectedFormats.splice(i, 1);\r\n                            i--; len--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const currentFormat = util.getRangeFormatElement(firstSel);\r\n            const cancel = currentFormat && currentFormat.tagName === command;\r\n            let rangeArr, tempList;\r\n            const passComponent = function (current) {\r\n                return !this.isComponent(current);\r\n            }.bind(util);\r\n            \r\n            if (!cancel) tempList = util.createElement(command);\r\n\r\n            for (let i = 0, len = selectedFormats.length, r, o; i < len; i++) {\r\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\r\n                if (!o || !util.isList(o)) continue;\r\n\r\n                if (!r) {\r\n                    r = o;\r\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                } else {\r\n                    if (r !== o) {\r\n                        if (detach && util.isListCell(o.parentNode)) {\r\n                            this.plugins.list._detachNested.call(this, rangeArr.f);\r\n                        } else {\r\n                            afterRange = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\r\n                        }\r\n                        \r\n                        o = selectedFormats[i].parentNode;\r\n                        if (!cancel) tempList = util.createElement(command);\r\n                        \r\n                        r = o;\r\n                        rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                    } else {\r\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\r\n                    }\r\n                }\r\n                \r\n                if (i === len - 1) {\r\n                    if (detach && util.isListCell(o.parentNode)) {\r\n                        this.plugins.list._detachNested.call(this, rangeArr.f);\r\n                    } else {\r\n                        afterRange = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            const topElParent = topEl ? topEl.parentNode : topEl;\r\n            const bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\r\n            topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\r\n            bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\r\n\r\n            const mergeTop = topEl && topEl.tagName === command;\r\n            const mergeBottom = bottomEl && bottomEl.tagName === command;\r\n            \r\n            let list = mergeTop ? topEl : util.createElement(command);\r\n            let firstList = null;\r\n            let lastList = null;\r\n            let topNumber = null;\r\n            let bottomNumber = null;\r\n\r\n            const passComponent = function (current) {\r\n                return !this.isComponent(current) && !this.isList(current);\r\n            }.bind(util);\r\n            \r\n            for (let i = 0, len = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; i < len; i++) {\r\n                fTag = selectedFormats[i];\r\n                if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\r\n                    util.removeItem(fTag);\r\n                    continue;\r\n                }\r\n                next = selectedFormats[i + 1];\r\n                originParent = fTag.parentNode;\r\n                nextParent = next ? next.parentNode : null;\r\n                isCell = util.isListCell(fTag);\r\n                rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\r\n                parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\r\n                siblingTag = isCell && !util.isWysiwygDiv(originParent) ? (!next || util.isListCell(parentTag)) ? originParent : originParent.nextSibling : fTag.nextSibling;\r\n\r\n                newCell = util.createElement('LI');\r\n                util.copyFormatAttributes(newCell, fTag);\r\n\r\n                if (i ===  0 && originRange.sc === fTag) {\r\n                    originRange.sc = newCell;\r\n                }\r\n                if (i === len - 1 && originRange.ec === fTag) {\r\n                    originRange.ec = newCell;\r\n                }\r\n\r\n                if (util.isComponent(fTag)) {\r\n                    const isHR = /^HR$/i.test(fTag.nodeName);\r\n                    if (!isHR) newCell.innerHTML = '<br>';\r\n                    newCell.innerHTML += fTag.outerHTML;\r\n                    if (isHR) newCell.innerHTML += '<br>';\r\n                } else {\r\n                    const fChildren = fTag.childNodes;\r\n                    while (fChildren[0]) {\r\n                        newCell.appendChild(fChildren[0]);\r\n                    }\r\n                }\r\n                list.appendChild(newCell);\r\n\r\n                if (!next) lastList = list;\r\n                if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\r\n                    if (!firstList) firstList = list;\r\n                    if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\r\n                        if (list.parentNode !== parentTag) parentTag.insertBefore(list, siblingTag);\r\n                    }\r\n                }\r\n\r\n                util.removeItem(fTag);\r\n                if (mergeTop && topNumber === null) topNumber = list.children.length - 1;\r\n                if (next && (util.getRangeFormatElement(nextParent, passComponent) !== util.getRangeFormatElement(originParent, passComponent) || (util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent)))) {\r\n                    list = util.createElement(command);\r\n                }\r\n\r\n                if (rangeTag && rangeTag.children.length === 0) util.removeItem(rangeTag);\r\n            }\r\n\r\n            if (topNumber) {\r\n                firstList = firstList.children[topNumber];\r\n            }\r\n\r\n            if (mergeBottom) {\r\n                bottomNumber = list.children.length - 1;\r\n                list.innerHTML += bottomEl.innerHTML;\r\n                lastList = list.children[bottomNumber];\r\n                util.removeItem(bottomEl);\r\n            }\r\n        }\r\n        \r\n        this.effectNode = null;\r\n        return !isCollapsed ? originRange : afterRange || originRange;\r\n    },\r\n\r\n    _detachNested: function (cells) {\r\n        const first = cells[0];\r\n        const last = cells[cells.length - 1];\r\n        const next = last.nextElementSibling;\r\n        const originList = first.parentNode;\r\n        const sibling = originList.parentNode.nextElementSibling;\r\n        const parentNode = originList.parentNode.parentNode;\r\n\r\n        for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n            parentNode.insertBefore(cells[c], sibling);\r\n        }\r\n\r\n        if (next && originList.children.length > 0) {\r\n            const newList = originList.cloneNode(false);\r\n            const children = originList.childNodes;\r\n            const index = this.util.getPositionIndex(next);\r\n            while (children[index]) {\r\n                newList.appendChild(children[index]);\r\n            }\r\n            last.appendChild(newList);\r\n        }\r\n\r\n        if (originList.children.length === 0) this.util.removeItem(originList);\r\n        this.util.mergeSameTags(parentNode);\r\n\r\n        const edge = this.util.getEdgeChildNodes(first, last);\r\n\r\n        return {\r\n            cc: first.parentNode,\r\n            sc: edge.sc,\r\n            ec: edge.ec\r\n        };\r\n    },\r\n\r\n    editInsideList: function (remove, selectedCells) {\r\n        selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) { return this.isListCell(el); }.bind(this.util)) : selectedCells;\r\n        const cellsLen = selectedCells.length;\r\n        if (cellsLen === 0 || (!remove && (!this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)))) {\r\n            return {\r\n                sc: selectedCells[0],\r\n                so: 0,\r\n                ec: selectedCells[cellsLen - 1],\r\n                eo: 1\r\n            };\r\n        }\r\n\r\n        let originList = selectedCells[0].parentNode;\r\n        let lastCell = selectedCells[cellsLen - 1];\r\n        let range = null;\r\n\r\n        if (remove) {\r\n            if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\r\n                lastCell = lastCell.nextElementSibling;\r\n                while (lastCell) {\r\n                    selectedCells.push(lastCell);\r\n                    lastCell = lastCell.nextElementSibling;\r\n                }\r\n            }\r\n            range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\r\n        } else {\r\n            let innerList = this.util.createElement(originList.nodeName);\r\n            let prev = selectedCells[0].previousElementSibling;\r\n            let next = lastCell.nextElementSibling;\r\n            const nodePath = { s: null, e: null, sl: originList, el: originList };\r\n\r\n            for (let i = 0, len = cellsLen, c; i < len; i++) {\r\n                c = selectedCells[i];\r\n                if (c.parentNode !== originList) {\r\n                    this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\r\n                    originList = c.parentNode;\r\n                    innerList = this.util.createElement(originList.nodeName);\r\n                }\r\n                \r\n                prev = c.previousElementSibling;\r\n                next = c.nextElementSibling;\r\n                innerList.appendChild(c);\r\n            }\r\n            \r\n            this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\r\n\r\n            const sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\r\n            const ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\r\n            range = {\r\n                sc: sc,\r\n                so: 0,\r\n                ec: ec,\r\n                eo: ec.textContent.length\r\n            };\r\n        }\r\n\r\n        return range;\r\n    },\r\n\r\n    _insiedList: function (originList, innerList, prev, next, nodePath) {\r\n        let insertPrev = false;\r\n\r\n        if (prev && innerList.tagName === prev.tagName) {\r\n            const children = innerList.children;\r\n            while (children[0]) {\r\n                prev.appendChild(children[0]);\r\n            }\r\n\r\n            innerList = prev;\r\n            insertPrev = true;\r\n        }\r\n\r\n        if (next && innerList.tagName === next.tagName) {\r\n            const children = next.children;\r\n            while (children[0]) {\r\n                innerList.appendChild(children[0]);\r\n            }\r\n\r\n            const temp = next.nextElementSibling;\r\n            next.parentNode.removeChild(next);\r\n            next = temp;\r\n        }\r\n\r\n        if (!insertPrev) {\r\n            if (this.util.isListCell(prev)) {\r\n                originList = prev;\r\n                next = null;\r\n            }\r\n\r\n            originList.insertBefore(innerList, next);\r\n\r\n            if (!nodePath.s) {\r\n                nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\r\n                nodePath.sl = originList;\r\n            }\r\n\r\n            const slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\r\n            nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\r\n            nodePath.el = originList;\r\n\r\n            this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\r\n            this.util.mergeNestedTags(originList);\r\n            if (slPath) nodePath.sl = this.util.getNodeFromPath(slPath, originList);\r\n        }\r\n\r\n        return innerList;\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let command = '';\r\n\r\n        while (!command && !/^UL$/i.test(target.tagName)) {\r\n            command = target.getAttribute('data-command');\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        const range = this.plugins.list.editList.call(this, command, null, false);\r\n        if (range) this.setRange(range.sc, range.so, range.ec, range.eo);\r\n\r\n        this.submenuOff();\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'table',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        let contextTable = context.table = {\r\n            _element: null,\r\n            _tdElement: null,\r\n            _trElement: null,\r\n            _trElements: null,\r\n            _tableXY: [],\r\n            _maxWidth: true,\r\n            _fixedColumn: false,\r\n            _rtl: core.options.rtl,\r\n            cellControllerTop: core.options.tableCellControllerPosition === 'top',\r\n            resizeText: null,\r\n            headerButton: null,\r\n            mergeButton: null,\r\n            splitButton: null,\r\n            splitMenu: null,\r\n            maxText: core.lang.controller.maxSize,\r\n            minText: core.lang.controller.minSize,\r\n            _physical_cellCnt: 0,\r\n            _logical_cellCnt: 0,\r\n            _rowCnt: 0,\r\n            _rowIndex: 0,\r\n            _physical_cellIndex: 0,\r\n            _logical_cellIndex: 0,\r\n            _current_colSpan: 0,\r\n            _current_rowSpan: 0,\r\n            icons: {\r\n                expansion: core.icons.expansion,\r\n                reduction: core.icons.reduction\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        let tablePicker = listDiv.querySelector('.se-controller-table-picker');\r\n\r\n        contextTable.tableHighlight = listDiv.querySelector('.se-table-size-highlighted');\r\n        contextTable.tableUnHighlight = listDiv.querySelector('.se-table-size-unhighlighted');\r\n        contextTable.tableDisplay = listDiv.querySelector('.se-table-size-display');\r\n        if (core.options.rtl) contextTable.tableHighlight.style.left = (10 * 18 - 13) + 'px';\r\n\r\n        /** set table controller */\r\n        let tableController = this.setController_table(core);\r\n        contextTable.tableController = tableController;\r\n        contextTable.resizeButton = tableController.querySelector('._se_table_resize');\r\n        contextTable.resizeText = tableController.querySelector('._se_table_resize > span > span');\r\n        contextTable.columnFixedButton = tableController.querySelector('._se_table_fixed_column');\r\n        contextTable.headerButton = tableController.querySelector('._se_table_header');\r\n\r\n        /** set resizing */\r\n        let resizeDiv = this.setController_tableEditor(core, contextTable.cellControllerTop);\r\n        contextTable.resizeDiv = resizeDiv;\r\n        contextTable.splitMenu = resizeDiv.querySelector('.se-btn-group-sub');\r\n        contextTable.mergeButton = resizeDiv.querySelector('._se_table_merge_button');\r\n        contextTable.splitButton = resizeDiv.querySelector('._se_table_split_button');\r\n        contextTable.insertRowAboveButton = resizeDiv.querySelector('._se_table_insert_row_a');\r\n        contextTable.insertRowBelowButton = resizeDiv.querySelector('._se_table_insert_row_b');\r\n        \r\n        /** add event listeners */\r\n        tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core, contextTable));\r\n        tablePicker.addEventListener('click', this.appendTable.bind(core));\r\n        resizeDiv.addEventListener('click', this.onClick_tableController.bind(core));\r\n        tableController.addEventListener('click', this.onClick_tableController.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** append controller */\r\n        context.element.relative.appendChild(resizeDiv);\r\n        context.element.relative.appendChild(tableController);\r\n\r\n        /** empty memory */\r\n        listDiv = null, tablePicker = null, resizeDiv = null, tableController = null, contextTable = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const listDiv = core.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-selector-table';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-table-size\">' +\r\n                '<div class=\"se-table-size-picker se-controller-table-picker\"></div>' +\r\n                '<div class=\"se-table-size-highlighted\"></div>' +\r\n                '<div class=\"se-table-size-unhighlighted\"></div>' +\r\n            '</div>' +\r\n            '<div class=\"se-table-size-display\">1 x 1</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    setController_table: function (core) {\r\n        const lang = core.lang;\r\n        const icons = core.icons;\r\n        const tableResize = core.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table';\r\n        tableResize.innerHTML = '' +\r\n            '<div>' +\r\n                '<div class=\"se-btn-group\">' +\r\n                    '<button type=\"button\" data-command=\"resize\" class=\"se-btn se-tooltip _se_table_resize\">' +\r\n                        icons.expansion +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.maxSize + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"layout\" class=\"se-btn se-tooltip _se_table_fixed_column\">' +\r\n                        icons.fixed_column_width +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.fixedColumnWidth + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"header\" class=\"se-btn se-tooltip _se_table_header\">' +\r\n                        icons.table_header +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.tableHeader + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"remove\" class=\"se-btn se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    setController_tableEditor: function (core, cellControllerTop) {\r\n        const lang = core.lang;\r\n        const icons = core.icons;\r\n        const tableResize = core.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table-cell';\r\n        tableResize.innerHTML = (cellControllerTop ? '' : '<div class=\"se-arrow se-arrow-up\"></div>') +\r\n            '<div class=\"se-btn-group\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"se-btn se-tooltip _se_table_insert_row_a\">' +\r\n                    icons.insert_row_above +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowAbove + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"se-btn se-tooltip _se_table_insert_row_b\">' +\r\n                    icons.insert_row_below +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowBelow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_row +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteRow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"merge\" class=\"_se_table_merge_button se-btn se-tooltip\" disabled>' +\r\n                    icons.merge_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mergeCells + '</span></span>' +\r\n                '</button>' +\r\n            '</div>' +\r\n            '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_left +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnBefore + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_right +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnAfter + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_column +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteColumn + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"onsplit\" class=\"_se_table_split_button se-btn se-tooltip\">' +\r\n                    icons.split_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.splitCells + '</span></span>' +\r\n                '</button>' +\r\n                '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-table-split\">' +\r\n                    '<div class=\"se-list-inner\">' +\r\n                        '<ul class=\"se-list-basic\">' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\" aria-label=\"' + lang.controller.VerticalSplit + '\">' + \r\n                                lang.controller.VerticalSplit + '</li>' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\" aria-label=\"' + lang.controller.HorizontalSplit + '\">' + \r\n                                lang.controller.HorizontalSplit + '</li>' +\r\n                        '</ul>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    appendTable: function () {\r\n        const oTable = this.util.createElement('TABLE');\r\n        const createCells = this.plugins.table.createCells;\r\n\r\n        const x = this.context.table._tableXY[0];\r\n        let y = this.context.table._tableXY[1];\r\n        let tableHTML = '<tbody>';\r\n        while (y > 0) {\r\n            tableHTML += '<tr>' + createCells.call(this, 'td', x) + '</tr>';\r\n            --y;\r\n        }\r\n        tableHTML += '</tbody>';\r\n        oTable.innerHTML = tableHTML;\r\n\r\n        const changed = this.insertComponent(oTable, false, true, false);\r\n        \r\n        if (changed) {\r\n            const firstTd = oTable.querySelector('td div');\r\n            this.setRange(firstTd, 0, firstTd, 0);\r\n            this.plugins.table.reset_table_picker.call(this);\r\n        }\r\n    },\r\n\r\n    createCells: function (nodeName, cnt, returnElement) {\r\n        nodeName = nodeName.toLowerCase();\r\n\r\n        if (!returnElement) {\r\n            let cellsHTML = '';\r\n            while (cnt > 0) {\r\n                cellsHTML += '<' +nodeName + '><div><br></div></' + nodeName + '>';\r\n                cnt--;\r\n            }\r\n            return cellsHTML;\r\n        } else {\r\n            const cell = this.util.createElement(nodeName);\r\n            cell.innerHTML = '<div><br></div>';\r\n            return cell;\r\n        }\r\n    },\r\n\r\n    onMouseMove_tablePicker: function (contextTable, e) {\r\n        e.stopPropagation();\r\n\r\n        let x = this._w.Math.ceil(e.offsetX / 18);\r\n        let y = this._w.Math.ceil(e.offsetY / 18);\r\n        x = x < 1 ? 1 : x;\r\n        y = y < 1 ? 1 : y;\r\n        \r\n        if (contextTable._rtl) {\r\n            contextTable.tableHighlight.style.left = (x * 18 - 13) + 'px';\r\n            x = 11 - x;\r\n        }\r\n        \r\n        contextTable.tableHighlight.style.width = x + 'em';\r\n        contextTable.tableHighlight.style.height = y + 'em';\r\n\r\n        // let x_u = x < 5 ? 5 : (x > 9 ? 10 : x + 1);\r\n        // let y_u = y < 5 ? 5 : (y > 9 ? 10 : y + 1);\r\n        // contextTable.tableUnHighlight.style.width = x_u + 'em';\r\n        // contextTable.tableUnHighlight.style.height = y_u + 'em';\r\n\r\n        this.util.changeTxt(contextTable.tableDisplay, x + ' x ' + y);\r\n        contextTable._tableXY = [x, y];\r\n    },\r\n\r\n    reset_table_picker: function () {\r\n        if (!this.context.table.tableHighlight) return;\r\n\r\n        const highlight = this.context.table.tableHighlight.style;\r\n        const unHighlight = this.context.table.tableUnHighlight.style;\r\n\r\n        highlight.width = '1em';\r\n        highlight.height = '1em';\r\n        unHighlight.width = '10em';\r\n        unHighlight.height = '10em';\r\n\r\n        this.util.changeTxt(this.context.table.tableDisplay, '1 x 1');\r\n        this.submenuOff();\r\n    },\r\n\r\n    init: function () {\r\n        const contextTable = this.context.table;\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n\r\n        if (tablePlugin._selectedTable) {\r\n            const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n            for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n                this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n            }\r\n        }\r\n\r\n        tablePlugin._toggleEditor.call(this, true);\r\n\r\n        contextTable._element = null;\r\n        contextTable._tdElement = null;\r\n        contextTable._trElement = null;\r\n        contextTable._trElements = null;\r\n        contextTable._tableXY = [];\r\n        contextTable._maxWidth = true;\r\n        contextTable._fixedColumn = false;\r\n        contextTable._physical_cellCnt = 0;\r\n        contextTable._logical_cellCnt = 0;\r\n        contextTable._rowCnt = 0;\r\n        contextTable._rowIndex = 0;\r\n        contextTable._physical_cellIndex = 0;\r\n        contextTable._logical_cellIndex = 0;\r\n        contextTable._current_colSpan = 0;\r\n        contextTable._current_rowSpan = 0;\r\n\r\n        tablePlugin._shift = false;\r\n        tablePlugin._selectedCells = null;\r\n        tablePlugin._selectedTable = null;\r\n        tablePlugin._ref = null;\r\n\r\n        tablePlugin._fixedCell = null;\r\n        tablePlugin._selectedCell = null;\r\n        tablePlugin._fixedCellName = null;\r\n    },\r\n\r\n    /** table edit controller */\r\n    call_controller_tableEdit: function (tdElement) {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n\r\n        if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\r\n            this.controllersOff();\r\n            this.util.removeClass(tdElement, 'se-table-selected-cell');\r\n            return;\r\n        }\r\n\r\n        const tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\r\n        contextTable._maxWidth = this.util.hasClass(tableElement, 'se-table-size-100') || tableElement.style.width === '100%' || (!tableElement.style.width && !this.util.hasClass(tableElement, 'se-table-size-auto'));\r\n        contextTable._fixedColumn = this.util.hasClass(tableElement, 'se-table-layout-fixed') || tableElement.style.tableLayout === 'fixed';\r\n        tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? 'width|column' : 'width');\r\n        \r\n        tablePlugin.setPositionControllerTop.call(this, tableElement);\r\n        tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\r\n        \r\n        if (!tablePlugin._shift) this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, 'table');\r\n    },\r\n\r\n    setPositionControllerTop: function (tableElement) {\r\n        this.setControllerPosition(this.context.table.tableController, tableElement, 'top', {left: 0, top: 0});\r\n    },\r\n\r\n    setPositionControllerDiv: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const resizeDiv = contextTable.resizeDiv;\r\n        \r\n        this.plugins.table.setCellInfo.call(this, tdElement, reset);\r\n        \r\n        if (contextTable.cellControllerTop) {\r\n            this.setControllerPosition(resizeDiv, contextTable._element, 'top', {left: contextTable.tableController.offsetWidth, top: 0});\r\n        } else {\r\n            this.setControllerPosition(resizeDiv, tdElement, 'bottom', {left: 0, top: 0});\r\n        }\r\n    },\r\n\r\n    setCellInfo: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        if (/THEAD/i.test(table.firstElementChild.nodeName)) {\r\n            this.util.addClass(contextTable.headerButton, 'active');\r\n        } else {\r\n            this.util.removeClass(contextTable.headerButton, 'active');\r\n        }\r\n\r\n        if (reset || contextTable._physical_cellCnt === 0) {\r\n            if (contextTable._tdElement !== tdElement) {\r\n                contextTable._tdElement = tdElement;\r\n                contextTable._trElement = tdElement.parentNode;\r\n            }\r\n\r\n            const rows = contextTable._trElements = table.rows;\r\n            const cellIndex = tdElement.cellIndex;\r\n\r\n            let cellCnt = 0;\r\n            for (let i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\r\n                cellCnt += cells[i].colSpan;\r\n            }\r\n\r\n            // row cnt, row index\r\n            const rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\r\n            contextTable._rowCnt = rows.length;\r\n\r\n            // cell cnt, physical cell index\r\n            contextTable._physical_cellCnt = contextTable._trElement.cells.length;\r\n            contextTable._logical_cellCnt = cellCnt;\r\n            contextTable._physical_cellIndex = cellIndex;\r\n\r\n            // span\r\n            contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\r\n            contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1;\r\n\r\n            // find logcal cell index\r\n            let rowSpanArr = [];\r\n            let spanIndex = [];\r\n            for (let i = 0, cells, colSpan; i <= rowIndex; i++) {\r\n                cells = rows[i].cells;\r\n                colSpan = 0;\r\n                for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    rs = cell.rowSpan - 1;\r\n                    logcalIndex = c + colSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n                            if (logcalIndex >= arr.index) {\r\n                                colSpan += arr.cs;\r\n                                logcalIndex += arr.cs;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (c === cLen - 1) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // logcal cell index\r\n                    if (i === rowIndex && c === cellIndex) {\r\n                        contextTable._logical_cellIndex = logcalIndex;\r\n                        break;\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            index: logcalIndex,\r\n                            cs: cs + 1,\r\n                            rs: rs,\r\n                            row: -1\r\n                        });\r\n                    }\r\n                    \r\n                    colSpan += cs;\r\n                }\r\n\r\n                spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                rowSpanArr = [];\r\n            }\r\n\r\n            rowSpanArr = null;\r\n            spanIndex = null;\r\n        }\r\n    },\r\n\r\n    editTable: function (type, option) {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element;\r\n        const isRow = type === 'row';\r\n\r\n        if (isRow) {\r\n            const tableAttr = contextTable._trElement.parentNode;\r\n            if (/^THEAD$/i.test(tableAttr.nodeName)) {\r\n                if (option === 'up') {\r\n                    return;\r\n                } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\r\n                    table.innerHTML += '<tbody><tr>' + tablePlugin.createCells.call(this, 'td', contextTable._logical_cellCnt, false) + '</tr></tbody>';\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // multi\r\n        if (tablePlugin._ref) {\r\n            const positionCell = contextTable._tdElement;\r\n            const selectedCells = tablePlugin._selectedCells;\r\n            // multi - row\r\n            if (isRow) {\r\n                // remove row\r\n                if (!option) {\r\n                    let row = selectedCells[0].parentNode;\r\n                    const removeCells = [selectedCells[0]];\r\n\r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (row !== cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                            row = cell.parentNode;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editRow.call(this, option);\r\n                    }\r\n                } else { // edit row\r\n                    tablePlugin.setCellInfo.call(this, option === 'up' ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\r\n                    tablePlugin.editRow.call(this, option, positionCell);\r\n                }\r\n            } else { // multi - cell\r\n                const firstRow = selectedCells[0].parentNode;\r\n                // remove cell\r\n                if (!option) {\r\n                    const removeCells = [selectedCells[0]];\r\n                    \r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (firstRow === cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                        } else {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editCell.call(this, option);\r\n                    }\r\n                } else { // edit cell\r\n                    let rightCell = null;\r\n\r\n                    for (let i = 0, len = selectedCells.length - 1; i < len; i++) {\r\n                        if (firstRow !== selectedCells[i + 1].parentNode) {\r\n                            rightCell = selectedCells[i];\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    tablePlugin.setCellInfo.call(this, option === 'left' ? selectedCells[0] : rightCell || selectedCells[0], true);\r\n                    tablePlugin.editCell.call(this, option, positionCell);\r\n                }\r\n            }\r\n\r\n            if (!option) tablePlugin.init.call(this);\r\n        } // one\r\n        else {\r\n            tablePlugin[isRow ? 'editRow' : 'editCell'].call(this, option);\r\n        }\r\n\r\n        // after remove\r\n        if (!option) {\r\n            const children = table.children;\r\n            for (let i = 0; i < children.length; i++) {\r\n                if (children[i].children.length === 0) {\r\n                    this.util.removeItem(children[i]);\r\n                    i--;\r\n                }\r\n            }\r\n\r\n            if (table.children.length === 0) this.util.removeItem(table);\r\n        }\r\n    },\r\n\r\n    editRow: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const remove = !option;\r\n\r\n        const up = option === 'up';\r\n        const originRowIndex = contextTable._rowIndex;\r\n        const rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\r\n        const sign = remove ? -1 : 1;\r\n        \r\n        const rows = contextTable._trElements;\r\n        let cellCnt = contextTable._logical_cellCnt;\r\n\r\n        for (let i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\r\n            cell = rows[i].cells;\r\n            if (cell.length === 0) return;\r\n            \r\n            for (let c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\r\n                rs = cell[c].rowSpan;\r\n                cs = cell[c].colSpan;\r\n                if (rs < 2 && cs < 2) continue;\r\n\r\n                if (rs + i > rowIndex && rowIndex > i) {\r\n                    cell[c].rowSpan = rs + sign;\r\n                    cellCnt -= cs;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            const next = rows[originRowIndex + 1];\r\n            if (next) {\r\n                const spanCells = [];\r\n                let cells = rows[originRowIndex].cells;\r\n                let colSpan = 0;\r\n\r\n                for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                    cell = cells[i];\r\n                    logcalIndex = i + colSpan;\r\n                    colSpan += cell.colSpan - 1;\r\n\r\n                    if (cell.rowSpan > 1) {\r\n                        cell.rowSpan -= 1;\r\n                        spanCells.push({cell: cell.cloneNode(false), index: logcalIndex});\r\n                    }\r\n                }\r\n\r\n                if (spanCells.length > 0) {\r\n                    let spanCell = spanCells.shift();\r\n                    cells = next.cells;\r\n                    colSpan = 0;\r\n\r\n                    for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                        cell = cells[i];\r\n                        logcalIndex = i + colSpan;\r\n                        colSpan += cell.colSpan - 1;\r\n    \r\n                        if (logcalIndex >= spanCell.index) {\r\n                            i--, colSpan--;\r\n                            colSpan += spanCell.cell.colSpan - 1;\r\n                            next.insertBefore(spanCell.cell, cell);\r\n                            spanCell = spanCells.shift();\r\n                            if (!spanCell) break;\r\n                        }\r\n                    }\r\n\r\n                    if (spanCell) {\r\n                        next.appendChild(spanCell.cell);\r\n                        for (let i = 0, len = spanCells.length; i < len; i++) {\r\n                            next.appendChild(spanCells[i].cell);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            contextTable._element.deleteRow(rowIndex);\r\n        } else {\r\n            const newRow = contextTable._element.insertRow(rowIndex);\r\n            newRow.innerHTML = this.plugins.table.createCells.call(this, 'td', cellCnt, false);\r\n        }\r\n\r\n        if (!remove) {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        } else {\r\n            this.controllersOff();\r\n        }\r\n    },\r\n\r\n    editCell: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n        const remove = !option;\r\n\r\n        const left = option === 'left';\r\n        const colSpan = contextTable._current_colSpan;\r\n        const cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\r\n\r\n        const rows = contextTable._trElements;\r\n        let rowSpanArr = [];\r\n        let spanIndex = [];\r\n        let passCell = 0;\r\n        const removeCell = [];\r\n        const removeSpanArr = [];\r\n\r\n        for (let i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\r\n            row = rows[i];\r\n            insertIndex = cellIndex;\r\n            applySpan = false;\r\n            cells = row.cells;\r\n            cellColSpan = 0;\r\n\r\n            for (let c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\r\n                cell = cells[c];\r\n                if (!cell) break;\r\n\r\n                rs = cell.rowSpan - 1;\r\n                cs = cell.colSpan - 1;\r\n\r\n                if (!remove) {\r\n                    if (c >= insertIndex) break;\r\n                    if (cs > 0) {\r\n                        if (passCell < 1 && cs + c >= insertIndex) {\r\n                            cell.colSpan += 1;\r\n                            insertIndex = null;\r\n                            passCell = rs + 1;\r\n                            break;\r\n                        }\r\n\r\n                        insertIndex -= cs;\r\n                    }\r\n\r\n                    if (!applySpan) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            insertIndex -= arr.cs;\r\n                            arr.rs -= 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }  \r\n                        }\r\n                        applySpan = true;\r\n                    }\r\n                } else {\r\n                    removeIndex = c + cellColSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        const lastCell = !cells[c + 1];\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n\r\n                            if (removeIndex >= arr.index) {\r\n                                cellColSpan += arr.cs;\r\n                                removeIndex = c + cellColSpan;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (lastCell) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            rs: rs,\r\n                            cs: cs + 1,\r\n                            index: removeIndex,\r\n                            row: -1\r\n                        });\r\n                    }\r\n\r\n                    if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\r\n                        removeCell.push(cell);\r\n                    } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\r\n                        cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs); \r\n                    } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\r\n                        removeSpanArr.push({\r\n                            cell: cell,\r\n                            i: i,\r\n                            rs: i + rs\r\n                        });\r\n                    }\r\n\r\n                    cellColSpan += cs;\r\n                }\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n\r\n            if (!remove) {\r\n                if (passCell > 0) {\r\n                    passCell -= 1;\r\n                    continue;\r\n                }\r\n\r\n                if (insertIndex !== null && cells.length > 0) {\r\n                    newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\r\n                    newCell = row.insertBefore(newCell, cells[insertIndex]);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            let removeFirst, removeEnd;\r\n            for (let r = 0, rLen = removeCell.length, row; r < rLen; r++) {\r\n                row = removeCell[r].parentNode;\r\n                util.removeItem(removeCell[r]);\r\n                if (row.cells.length === 0) {\r\n                    if (!removeFirst) removeFirst = util.getArrayIndex(rows, row);\r\n                    removeEnd = util.getArrayIndex(rows, row);\r\n                    util.removeItem(row);\r\n                }\r\n            }\r\n\r\n            for (let c = 0, cLen = removeSpanArr.length, rowSpanCell; c < cLen; c++) {\r\n                rowSpanCell = removeSpanArr[c];\r\n                rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\r\n            }\r\n\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        }\r\n    },\r\n\r\n    _closeSplitMenu: null,\r\n    openSplitMenu: function () {\r\n        this.util.addClass(this.context.table.splitButton, 'on');\r\n        this.context.table.splitMenu.style.display = 'inline-table';\r\n\r\n        this.plugins.table._closeSplitMenu = function () {\r\n            this.util.removeClass(this.context.table.splitButton, 'on');\r\n            this.context.table.splitMenu.style.display = 'none';\r\n            this.removeDocEvent('click', this.plugins.table._closeSplitMenu);\r\n            this.plugins.table._closeSplitMenu = null;\r\n        }.bind(this);\r\n\r\n        this.addDocEvent('click', this.plugins.table._closeSplitMenu);\r\n    },\r\n\r\n    splitCells: function (direction) {\r\n        const util = this.util;\r\n        const vertical = direction === 'vertical';\r\n        const contextTable = this.context.table;\r\n        const currentCell = contextTable._tdElement;\r\n        const rows = contextTable._trElements;\r\n        const currentRow = contextTable._trElement;\r\n        const index = contextTable._logical_cellIndex;\r\n        const rowIndex = contextTable._rowIndex;\r\n        const newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true);\r\n\r\n        // vertical\r\n        if (vertical) {\r\n            const currentColSpan = currentCell.colSpan;\r\n            newCell.rowSpan = currentCell.rowSpan;\r\n\r\n            // colspan > 1\r\n            if (currentColSpan > 1) {\r\n                newCell.colSpan = this._w.Math.floor(currentColSpan/2);\r\n                currentCell.colSpan = currentColSpan - newCell.colSpan;\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            } else { // colspan - 1\r\n                let rowSpanArr = [];\r\n                let spanIndex = [];\r\n\r\n                for (let i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                        cell = cells[c];\r\n                        cs = cell.colSpan - 1;\r\n                        rs = cell.rowSpan - 1;\r\n                        logcalIndex = c + colSpan;\r\n\r\n                        if (spanIndex.length > 0) {\r\n                            for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                                arr = spanIndex[r];\r\n                                if (arr.row > i) continue;\r\n                                if (logcalIndex >= arr.index) {\r\n                                    colSpan += arr.cs;\r\n                                    logcalIndex += arr.cs;\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }  \r\n                                } else if (c === cLen - 1) {\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (logcalIndex <= index && rs > 0) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cs + 1,\r\n                                rs: rs,\r\n                                row: -1\r\n                            });\r\n                        }\r\n\r\n                        if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\r\n                            cell.colSpan += 1;\r\n                            break;\r\n                        }\r\n\r\n                        if (logcalIndex > index) break;\r\n                        \r\n                        colSpan += cs;\r\n                    }\r\n\r\n                    spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                    rowSpanArr = [];\r\n                }\r\n\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            }\r\n        } else { // horizontal\r\n            const currentRowSpan = currentCell.rowSpan;\r\n            newCell.colSpan = currentCell.colSpan;\r\n\r\n            // rowspan > 1\r\n            if (currentRowSpan > 1) {\r\n                newCell.rowSpan = this._w.Math.floor(currentRowSpan/2);\r\n                const newRowSpan = currentRowSpan - newCell.rowSpan;\r\n\r\n                const rowSpanArr = [];\r\n                const nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\r\n\r\n                for (let i = 0, cells, colSpan; i < nextRowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, logcalIndex; c < cLen; c++) {\r\n                        logcalIndex = c + colSpan;\r\n                        if (logcalIndex >= index) break;\r\n\r\n                        cell = cells[c];\r\n                        cs = cell.rowSpan - 1;\r\n                        if (cs > 0 && cs + i >= nextRowIndex && logcalIndex < index) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cell.colSpan\r\n                            });\r\n                        }\r\n                        colSpan += cell.colSpan - 1;\r\n                    }\r\n                }\r\n\r\n                const nextRow = rows[nextRowIndex];\r\n                const nextCells = nextRow.cells;\r\n                let rs = rowSpanArr.shift();\r\n\r\n                for (let c = 0, cLen = nextCells.length, colSpan = 0, cell, cs, logcalIndex, insertIndex; c < cLen; c++) {\r\n                    logcalIndex = c + colSpan;\r\n                    cell = nextCells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    insertIndex = logcalIndex + cs + 1;\r\n\r\n                    if (rs && insertIndex >= rs.index) {\r\n                        colSpan += rs.cs;\r\n                        insertIndex += rs.cs;\r\n                        rs = rowSpanArr.shift();\r\n                    }\r\n                    \r\n                    if (insertIndex >= index || c === cLen - 1) {\r\n                        nextRow.insertBefore(newCell, cell.nextElementSibling);\r\n                        break;\r\n                    }\r\n\r\n                    colSpan += cs;\r\n                }\r\n\r\n                currentCell.rowSpan = newRowSpan;\r\n            } else { // rowspan - 1\r\n                newCell.rowSpan = currentCell.rowSpan;\r\n                const newRow = util.createElement('TR');\r\n                newRow.appendChild(newCell);\r\n\r\n                for (let i = 0, cells; i < rowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    if (cells.length === 0) return;\r\n\r\n                    for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                        if (i + cells[c].rowSpan - 1 >= rowIndex) {\r\n                            cells[c].rowSpan += 1;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const physicalIndex = contextTable._physical_cellIndex;\r\n                const cells = currentRow.cells;\r\n\r\n                for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                    if (c === physicalIndex) continue;       \r\n                    cells[c].rowSpan += 1;                    \r\n                }\r\n\r\n                currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\r\n            }\r\n        }\r\n\r\n        this.focusEdge(currentCell);\r\n        this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\r\n    },\r\n\r\n    mergeCells: function () {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n\r\n        const ref = tablePlugin._ref;\r\n        const selectedCells = tablePlugin._selectedCells;\r\n        const mergeCell = selectedCells[0];\r\n        \r\n        let emptyRowFirst = null;\r\n        let emptyRowLast = null;\r\n        let cs = (ref.ce - ref.cs) + 1;\r\n        let rs = (ref.re - ref.rs) + 1;\r\n        let mergeHTML = '';\r\n        let row = null;\r\n\r\n        for (let i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\r\n            cell = selectedCells[i];\r\n            if (row !== cell.parentNode) row = cell.parentNode;\r\n\r\n            ch = cell.children;\r\n            for (let c = 0, cLen = ch.length; c < cLen; c++) {\r\n                if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\r\n                    util.removeItem(ch[c]);\r\n                }  \r\n            }\r\n\r\n            mergeHTML += cell.innerHTML;\r\n            util.removeItem(cell);\r\n\r\n            if (row.cells.length === 0) {\r\n                if (!emptyRowFirst) emptyRowFirst = row;\r\n                else emptyRowLast = row;\r\n                rs -= 1;\r\n            }\r\n        }\r\n\r\n        if (emptyRowFirst) {\r\n            const rows = contextTable._trElements;\r\n            const rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\r\n            const rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\r\n            const removeRows = [];\r\n    \r\n            for (let i = 0, cells; i <= rowIndexLast; i++) {\r\n                cells = rows[i].cells;\r\n                if (cells.length === 0) {\r\n                    removeRows.push(rows[i]);\r\n                    continue;\r\n                }\r\n    \r\n                for (let c = 0, cLen = cells.length, cell, rs; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    rs = cell.rowSpan - 1;\r\n                    if (rs > 0 && i + rs >= rowIndexFirst) {\r\n                        cell.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, i, i + rs);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = removeRows.length; i < len; i++) {\r\n                util.removeItem(removeRows[i]);\r\n            }\r\n        }\r\n\r\n        mergeCell.innerHTML += mergeHTML;\r\n        mergeCell.colSpan = cs;\r\n        mergeCell.rowSpan = rs;\r\n\r\n        this.controllersOff();\r\n        tablePlugin.setActiveButton.call(this, true, false);\r\n        tablePlugin.call_controller_tableEdit.call(this, mergeCell);\r\n\r\n        util.addClass(mergeCell, 'se-table-selected-cell');\r\n        this.focusEdge(mergeCell);\r\n    },\r\n\r\n    toggleHeader: function () {\r\n        const util = this.util;\r\n        const headerButton = this.context.table.headerButton;\r\n        const active = util.hasClass(headerButton, 'active');\r\n        const table = this.context.table._element;\r\n\r\n        if (!active) {\r\n            const header = util.createElement('THEAD');\r\n            header.innerHTML = '<tr>' + this.plugins.table.createCells.call(this, 'th', this.context.table._logical_cellCnt, false) + '</tr>';\r\n            table.insertBefore(header, table.firstElementChild);\r\n        } else {\r\n            util.removeItem(table.querySelector('thead'));\r\n        }\r\n\r\n        util.toggleClass(headerButton, 'active');\r\n\r\n        if (/TH/i.test(this.context.table._tdElement.nodeName)) {\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\r\n        }\r\n    },\r\n\r\n    setTableStyle: function (styles) {\r\n        const contextTable = this.context.table;\r\n        const tableElement = contextTable._element;\r\n        let icon, span, sizeIcon, text;\r\n\r\n        if (styles.indexOf('width') > -1) {\r\n            icon =  contextTable.resizeButton.firstElementChild;\r\n            span = contextTable.resizeText;\r\n\r\n            if (!contextTable._maxWidth) {\r\n                sizeIcon = contextTable.icons.expansion;\r\n                text = contextTable.maxText;\r\n                contextTable.columnFixedButton.style.display = 'none';\r\n                this.util.removeClass(tableElement, 'se-table-size-100');\r\n                this.util.addClass(tableElement, 'se-table-size-auto');\r\n            } else {\r\n                sizeIcon = contextTable.icons.reduction;\r\n                text = contextTable.minText;\r\n                contextTable.columnFixedButton.style.display = 'block';\r\n                this.util.removeClass(tableElement, 'se-table-size-auto');\r\n                this.util.addClass(tableElement, 'se-table-size-100');\r\n            }\r\n            \r\n            this.util.changeElement(icon, sizeIcon);\r\n            this.util.changeTxt(span, text);\r\n        }\r\n\r\n        if (styles.indexOf('column') > -1) {\r\n            if (!contextTable._fixedColumn) {\r\n                this.util.removeClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(tableElement, 'se-table-layout-auto');\r\n                this.util.removeClass(contextTable.columnFixedButton, 'active');\r\n            } else {\r\n                this.util.removeClass(tableElement, 'se-table-layout-auto');\r\n                this.util.addClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(contextTable.columnFixedButton, 'active');\r\n            }\r\n            \r\n        }\r\n    },\r\n\r\n    setActiveButton: function (fixedCell, selectedCell) {\r\n        const contextTable = this.context.table;\r\n\r\n        if (/^TH$/i.test(fixedCell.nodeName)) {\r\n            contextTable.insertRowAboveButton.setAttribute('disabled', true);\r\n            contextTable.insertRowBelowButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.insertRowAboveButton.removeAttribute('disabled');\r\n            contextTable.insertRowBelowButton.removeAttribute('disabled');\r\n        }\r\n\r\n        if (!selectedCell || fixedCell === selectedCell) {\r\n            contextTable.splitButton.removeAttribute('disabled');\r\n            contextTable.mergeButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.splitButton.setAttribute('disabled', true);\r\n            contextTable.mergeButton.removeAttribute('disabled');\r\n        }\r\n    },\r\n\r\n    // multi selecte\r\n    _bindOnSelect: null,\r\n    _bindOffSelect: null,\r\n    _bindOffShift: null,\r\n    _selectedCells: null,\r\n    _shift: false,\r\n    _fixedCell: null,\r\n    _fixedCellName: null,\r\n    _selectedCell: null,\r\n    _selectedTable: null,\r\n    _ref: null,\r\n    _toggleEditor: function (enabled) {\r\n        this.context.element.wysiwyg.setAttribute('contenteditable', enabled);\r\n        if (enabled) this.util.removeClass(this.context.element.wysiwyg, 'se-disabled');\r\n        else this.util.addClass(this.context.element.wysiwyg, 'se-disabled');\r\n    },\r\n\r\n    _offCellMultiSelect: function (e) {\r\n        e.stopPropagation();\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._removeEvents.call(this);\r\n            tablePlugin._toggleEditor.call(this, true);\r\n        } else if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) return;\r\n        \r\n        tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\r\n        tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\r\n\r\n        tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        if (tablePlugin._selectedCell && tablePlugin._fixedCell) this.focusEdge(tablePlugin._selectedCell);\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._fixedCell = null;\r\n            tablePlugin._selectedCell = null;\r\n            tablePlugin._fixedCellName = null;\r\n        }\r\n    },\r\n\r\n    _onCellMultiSelect: function (e) {\r\n        this._antiBlur = true;\r\n        const tablePlugin = this.plugins.table;\r\n        const target = this.util.getParentElement(e.target, this.util.isCell);\r\n\r\n        if (tablePlugin._shift) {\r\n            if (target === tablePlugin._fixedCell) tablePlugin._toggleEditor.call(this, true);\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        } else if (!tablePlugin._ref) {\r\n            if (target === tablePlugin._fixedCell) return;\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        }\r\n\r\n        if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || \r\n            tablePlugin._selectedTable !== this.util.getParentElement(target, 'TABLE')) {\r\n            return;\r\n        }\r\n\r\n        tablePlugin._selectedCell = target;\r\n        tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\r\n    },\r\n\r\n    _setMultiCells: function (startCell, endCell) {\r\n        const tablePlugin = this.plugins.table;\r\n        const rows = tablePlugin._selectedTable.rows;\r\n        const util = this.util;\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        if (startCell === endCell) {\r\n            util.addClass(startCell, 'se-table-selected-cell');\r\n            if (!tablePlugin._shift) return;\r\n        }\r\n\r\n        let findSelectedCell = true;\r\n        let spanIndex = [];\r\n        let rowSpanArr = [];\r\n        const ref = tablePlugin._ref = {_i: 0, cs: null, ce: null, rs: null, re: null};\r\n\r\n        for (let i = 0, len = rows.length, cells, colSpan; i < len; i++) {\r\n            cells = rows[i].cells;\r\n            colSpan = 0;\r\n\r\n            for (let c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\r\n                cell = cells[c];\r\n                cs = cell.colSpan - 1;\r\n                rs = cell.rowSpan - 1;\r\n                logcalIndex = c + colSpan;\r\n\r\n                if (spanIndex.length > 0) {\r\n                    for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                        arr = spanIndex[r];\r\n                        if (arr.row > i) continue;\r\n                        if (logcalIndex >= arr.index) {\r\n                            colSpan += arr.cs;\r\n                            logcalIndex += arr.cs;\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        } else if (c === cLen - 1) {\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (findSelectedCell) {\r\n                    if (cell === startCell || cell === endCell) {\r\n                        ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                        ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                        ref.rs = ref.rs !== null && ref.rs < i ? ref.rs : i;\r\n                        ref.re = ref.re !== null && ref.re > i + rs ? ref.re : i + rs;\r\n                        ref._i += 1;\r\n                    }\r\n                    \r\n                    if (ref._i === 2) {\r\n                        findSelectedCell = false;\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        i = -1;\r\n                        break;\r\n                    }\r\n                } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, i, i + rs)) {\r\n                    const newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                    const newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                    const newRs = ref.rs < i ? ref.rs : i;\r\n                    const newRe = ref.re > i + rs ? ref.re : i + rs;\r\n\r\n                    if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\r\n                        ref.cs = newCs;\r\n                        ref.ce = newCe;\r\n                        ref.rs = newRs;\r\n                        ref.re = newRe;\r\n                        i = -1;\r\n\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        break;\r\n                    }\r\n\r\n                    util.addClass(cell, 'se-table-selected-cell');\r\n                }\r\n\r\n                if (rs > 0) {\r\n                    rowSpanArr.push({\r\n                        index: logcalIndex,\r\n                        cs: cs + 1,\r\n                        rs: rs,\r\n                        row: -1\r\n                    });\r\n                }\r\n\r\n                colSpan += cell.colSpan - 1;\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n        }\r\n    },\r\n\r\n    _removeEvents: function () {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOnSelect) {\r\n            this._wd.removeEventListener('mousedown', tablePlugin._bindOnSelect);\r\n            this._wd.removeEventListener('mousemove', tablePlugin._bindOnSelect);\r\n            tablePlugin._bindOnSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffSelect) {\r\n            this._wd.removeEventListener('mouseup', tablePlugin._bindOffSelect);\r\n            tablePlugin._bindOffSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffShift) {\r\n            this._wd.removeEventListener('keyup', tablePlugin._bindOffShift);\r\n            tablePlugin._bindOffShift = null;\r\n        }\r\n    },\r\n\r\n    _initBind: null,\r\n    onTableCellMultiSelect: function (tdElement, shift) {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n        this.controllersOff();\r\n\r\n        tablePlugin._shift = shift;\r\n        tablePlugin._fixedCell = tdElement;\r\n        tablePlugin._fixedCellName = tdElement.nodeName;\r\n        tablePlugin._selectedTable = this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        this.util.addClass(tdElement, 'se-table-selected-cell');\r\n        \r\n        tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\r\n        tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\r\n\r\n        if (!shift) {\r\n            this._wd.addEventListener('mousemove', tablePlugin._bindOnSelect, false);\r\n        } else {\r\n            tablePlugin._bindOffShift = function () {\r\n                this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, 'table');\r\n                if (!tablePlugin._ref) this.controllersOff();\r\n            }.bind(this);\r\n\r\n            this._wd.addEventListener('keyup', tablePlugin._bindOffShift, false);\r\n            this._wd.addEventListener('mousedown', tablePlugin._bindOnSelect, false);\r\n        }\r\n\r\n        this._wd.addEventListener('mouseup', tablePlugin._bindOffSelect, false);\r\n        tablePlugin._initBind = tablePlugin.init.bind(this);\r\n        this._wd.addEventListener('touchmove', tablePlugin._initBind, false);\r\n    },\r\n\r\n    onClick_tableController: function (e) {\r\n        e.stopPropagation();\r\n        const target = e.target.getAttribute('data-command') ? e.target : e.target.parentNode;\r\n\r\n        if (target.getAttribute('disabled')) return;\r\n\r\n        const command = target.getAttribute('data-command');\r\n        const value = target.getAttribute('data-value');\r\n        const option = target.getAttribute('data-option');\r\n        const tablePlugin = this.plugins.table;\r\n        \r\n        if (typeof tablePlugin._closeSplitMenu === 'function') {\r\n            tablePlugin._closeSplitMenu();\r\n            if (command === 'onsplit') return;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n        const contextTable = this.context.table;\r\n\r\n        switch (command) {\r\n            case 'insert':\r\n            case 'delete':\r\n                tablePlugin.editTable.call(this, value, option);\r\n                break;\r\n            case 'header':\r\n                tablePlugin.toggleHeader.call(this);\r\n                break;\r\n            case 'onsplit':\r\n                tablePlugin.openSplitMenu.call(this);\r\n                break;\r\n            case 'split':\r\n                tablePlugin.splitCells.call(this, value);\r\n                break;\r\n            case 'merge':\r\n                tablePlugin.mergeCells.call(this);\r\n                break;\r\n            case 'resize':\r\n                contextTable._maxWidth = !contextTable._maxWidth;\r\n                tablePlugin.setTableStyle.call(this, 'width');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'layout':\r\n                contextTable._fixedColumn = !contextTable._fixedColumn;\r\n                tablePlugin.setTableStyle.call(this, 'column');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'remove':\r\n                const emptyDiv = contextTable._element.parentNode;\r\n                this.util.removeItem(contextTable._element);\r\n                this.controllersOff();\r\n\r\n                if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n                this.focus();\r\n        }\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'formatBlock',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.formatBlock = {\r\n            targetText: targetElement.querySelector('.txt'),\r\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\r\n            _formatList: null,\r\n            currentFormat: ''\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n\r\n        /** add event listeners */\r\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\r\n        context.formatBlock._formatList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const option = core.options;\r\n        const lang_toolbar = core.lang.toolbar;\r\n        const listDiv = core.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\r\n\r\n        const defaultFormats = ['p', 'div', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\r\n        const formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\r\n\r\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\r\n        for (let i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\r\n            format = formatList[i];\r\n            \r\n            if (typeof format === 'string' && defaultFormats.indexOf(format) > -1) {\r\n                tagName = format.toLowerCase();\r\n                command = tagName === 'blockquote' ? 'range' : tagName === 'pre' ? 'free' : 'replace';\r\n                h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : '';\r\n                name = lang_toolbar['tag_' + (h ? 'h' : tagName)] + h;\r\n                className = '';\r\n                attrs = '';\r\n            } else {\r\n                tagName = format.tag.toLowerCase();\r\n                command = format.command;\r\n                name = format.name || tagName;\r\n                className = format.class;\r\n                attrs = className ? ' class=\"' + className + '\"' : '';\r\n            }\r\n\r\n            list += '<li>' +\r\n                '<button type=\"button\" class=\"se-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\" aria-label=\"' + name + '\">' +\r\n                    '<' + tagName + attrs + '>' + name + '</' + tagName + '>' +\r\n                '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        let formatTitle = this.lang.toolbar.formats;\r\n        const target = this.context.formatBlock.targetText;\r\n\r\n        if (!element) {\r\n            this.util.changeTxt(target, formatTitle);\r\n        } else if (this.util.isFormatElement(element)) {\r\n            const formatContext = this.context.formatBlock;\r\n            const formatList = formatContext._formatList;\r\n            const nodeName = element.nodeName.toLowerCase();\r\n            const className = (element.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim();\r\n\r\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\r\n                f = formatList[i];\r\n                if (nodeName === f.getAttribute('data-value') && className === f.getAttribute('data-class')) {\r\n                    formatTitle = f.title;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this.util.changeTxt(target, formatTitle);\r\n            target.setAttribute('data-value', nodeName);\r\n            target.setAttribute('data-class', className);\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const formatContext = this.context.formatBlock;\r\n        const formatList = formatContext._formatList;\r\n        const target = formatContext.targetText;\r\n        const currentFormat = (target.getAttribute('data-value') || '') + (target.getAttribute('data-class') || '');\r\n\r\n        if (currentFormat !== formatContext.currentFormat) {\r\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\r\n                f = formatList[i];\r\n                if (currentFormat === f.getAttribute('data-value') + f.getAttribute('data-class')) {\r\n                    this.util.addClass(f, 'active');\r\n                } else {\r\n                    this.util.removeClass(f, 'active');\r\n                }\r\n            }\r\n\r\n            formatContext.currentFormat = currentFormat;\r\n        }\r\n    },\r\n\r\n    pickUp: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let command = null, value = null, tag = null, className = '';\r\n        \r\n        while (!command && !/UL/i.test(target.tagName)) {\r\n            command = target.getAttribute('data-command');\r\n            value = target.getAttribute('data-value');\r\n            className = target.getAttribute('data-class');\r\n            if (command) {\r\n                tag = target.firstChild;\r\n                break;\r\n            }\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        // blockquote\r\n        if (command === 'range') {\r\n            const rangeElement = tag.cloneNode(false);\r\n            this.applyRangeFormatElement(rangeElement);\r\n        }\r\n        // free, replace\r\n        else {\r\n            let range = this.getRange();\r\n            let selectedFormsts = this.getSelectedElementsAndComponents(false);\r\n\r\n            if (selectedFormsts.length === 0) {\r\n                range = this.getRange_addLine(range, null);\r\n                selectedFormsts = this.getSelectedElementsAndComponents(false);\r\n                if (selectedFormsts.length === 0) return;\r\n            }\r\n\r\n            const startOffset = range.startOffset;\r\n            const endOffset = range.endOffset;\r\n\r\n            const util = this.util;\r\n            let first = selectedFormsts[0];\r\n            let last = selectedFormsts[selectedFormsts.length - 1];\r\n            const firstPath = util.getNodePath(range.startContainer, first, null, null);\r\n            const lastPath = util.getNodePath(range.endContainer, last, null, null);\r\n            \r\n            // remove selected list\r\n            const rlist = this.detachList(selectedFormsts, false);\r\n            if (rlist.sc) first = rlist.sc;\r\n            if (rlist.ec) last = rlist.ec;\r\n\r\n            // change format tag\r\n            this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\r\n            const modifiedFormsts = this.getSelectedElementsAndComponents(false);\r\n\r\n            // free format\r\n            if (command === 'free') {\r\n                const len = modifiedFormsts.length - 1;\r\n                let parentNode = modifiedFormsts[len].parentNode;\r\n                let freeElement = tag.cloneNode(false);\r\n                const focusElement = freeElement;\r\n    \r\n                for (let i = len, f, html, before, next, inner, isComp, first = true; i >= 0; i--) {\r\n                    f = modifiedFormsts[i];\r\n                    if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) continue;\r\n    \r\n                    isComp = util.isComponent(f);\r\n                    html = isComp ? '' : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, ' ');\r\n                    before = util.getParentElement(f, function (current) {\r\n                        return current.parentNode === parentNode;\r\n                    });\r\n    \r\n                    if (parentNode !== f.parentNode || isComp) {\r\n                        if (util.isFormatElement(parentNode)) {\r\n                            parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\r\n                            parentNode = parentNode.parentNode;\r\n                        } else {\r\n                            parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\r\n                            parentNode = f.parentNode;\r\n                        }\r\n\r\n                        next = freeElement.nextSibling;\r\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\r\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\r\n                            util.removeItem(next);\r\n                        }\r\n\r\n                        freeElement = tag.cloneNode(false);\r\n                        first = true;\r\n                    }\r\n    \r\n                    inner = freeElement.innerHTML;\r\n                    freeElement.innerHTML = ((first || !html || !inner || /<br>$/i.test(html)) ? html : html + '<BR>') + inner;\r\n\r\n                    if (i === 0) {\r\n                        parentNode.insertBefore(freeElement, f);\r\n                        next = f.nextSibling;\r\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\r\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\r\n                            util.removeItem(next);\r\n                        }\r\n\r\n                        const prev = freeElement.previousSibling;\r\n                        if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\r\n                            prev.innerHTML += '<BR>' + freeElement.innerHTML;\r\n                            util.removeItem(freeElement);\r\n                        }\r\n                    }\r\n\r\n                    if (!isComp) util.removeItem(f);\r\n                    if (!!html) first = false;\r\n                }\r\n    \r\n                this.setRange(focusElement, 0, focusElement, 0);\r\n            }\r\n            // replace format\r\n            else {\r\n                for (let i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\r\n                    node = modifiedFormsts[i];\r\n                    \r\n                    if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim() !== className) && !util.isComponent(node)) {\r\n                        newFormat = tag.cloneNode(false);\r\n                        util.copyFormatAttributes(newFormat, node);\r\n                        newFormat.innerHTML = node.innerHTML;\r\n    \r\n                        node.parentNode.replaceChild(newFormat, node);\r\n                    }\r\n    \r\n                    if (i === 0) first = newFormat || node;\r\n                    if (i === len - 1) last = newFormat || node;\r\n                    newFormat = null;\r\n                }\r\n    \r\n                this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        }\r\n\r\n        this.submenuOff();\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 20197 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'lineHeight',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.lineHeight = {\r\n            _sizeList: null,\r\n            currentSize: -1\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.lineHeight._sizeList = listUl.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const option = core.options;\r\n        const lang = core.lang;\r\n        const listDiv = core.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n\r\n        const sizeList = !option.lineHeights ? [\r\n            {text: '1', value: 1},\r\n            {text: '1.15', value: 1.15},\r\n            {text: '1.5', value: 1.5},\r\n            {text: '2', value: 2}\r\n        ] : option.lineHeights;\r\n\r\n        let list = '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\" aria-label=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\r\n        for (let i = 0, len = sizeList.length, size; i < len; i++) {\r\n            size = sizeList[i];\r\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\" aria-label=\"' + size.text + '\">' + size.text + '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const lineHeightContext = this.context.lineHeight;\r\n        const sizeList = lineHeightContext._sizeList;\r\n        const format = this.util.getFormatElement(this.getSelectionNode());\r\n        const currentSize = !format ? '' : format.style.lineHeight + '';\r\n\r\n        if (currentSize !== lineHeightContext.currentSize) {\r\n            for (let i = 0, len = sizeList.length; i < len; i++) {\r\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\r\n                    this.util.addClass(sizeList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(sizeList[i], 'active');\r\n                }\r\n            }\r\n\r\n            lineHeightContext.currentSize = currentSize;\r\n        }\r\n    },\r\n\r\n    pickup: function (e) {\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\r\n        \r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const value = e.target.getAttribute('data-value') || '';\r\n        const formats = this.getSelectedElements();\r\n\r\n        for (let i = 0, len = formats.length; i < len; i++) {\r\n            formats[i].style.lineHeight = value;\r\n        }\r\n\r\n        this.submenuOff();\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'template',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.template = {\r\n            selectedIndex: -1\r\n        };\r\n\r\n        /** set submenu */\r\n        let templateDiv = this.setSubmenu(core);\r\n\r\n        /** add event listeners */\r\n        templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, templateDiv);\r\n\r\n        /** empty memory */\r\n        templateDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const templateList = core.options.templates;\r\n        if (!templateList || templateList.length === 0) {\r\n            throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\r\n        }\r\n\r\n        const listDiv = core.util.createElement('DIV');\r\n        listDiv.className = 'se-list-layer';\r\n\r\n        let list = '<div class=\"se-submenu se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">';\r\n        for (let i = 0, len = templateList.length, t; i < len; i++) {\r\n            t = templateList[i];\r\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\" aria-label=\"' + t.name + '\">' + t.name + '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    pickup: function (e) {\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.context.template.selectedIndex = e.target.getAttribute('data-value') * 1;\r\n        const temp = this.options.templates[this.context.template.selectedIndex];\r\n\r\n        if (temp.html) {\r\n            this.setContents(temp.html);\r\n        } else {\r\n            this.submenuOff();\r\n            throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\r\n        }\r\n        \r\n        this.submenuOff();\r\n    }\r\n};","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'paragraphStyle',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.paragraphStyle = {\r\n            _classList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n\r\n        /** add event listeners */\r\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\r\n\r\n        context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const option = core.options;\r\n        const listDiv = core.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\r\n\r\n        const menuLang = core.lang.menu;\r\n        const defaultList = {\r\n            spaced: {\r\n                name: menuLang.spaced,\r\n                class: '__se__p-spaced',\r\n                _class: ''\r\n            },\r\n            bordered: {\r\n                name: menuLang.bordered,\r\n                class: '__se__p-bordered',\r\n                _class: ''\r\n            },\r\n            neon: {\r\n                name: menuLang.neon,\r\n                class: '__se__p-neon',\r\n                _class: ''\r\n            }\r\n        };\r\n        const paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\r\n\r\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\r\n        for (let i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\r\n            p = paragraphStyles[i];\r\n\r\n            if (typeof p === 'string') {\r\n                const defaultStyle = defaultList[p.toLowerCase()];\r\n                if (!defaultStyle) continue;\r\n                p = defaultStyle;\r\n            }\r\n\r\n            name = p.name;\r\n            attrs = p.class ? ' class=\"' + p.class + '\"' : '';\r\n            _class = p._class;\r\n\r\n            list += '<li>' +\r\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\" aria-label=\"' + name + '\">' +\r\n                    '<div' + attrs + '>' + name + '</div>' +\r\n                '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const paragraphContext = this.context.paragraphStyle;\r\n        const paragraphList = paragraphContext._classList;\r\n        const currentFormat = this.util.getFormatElement(this.getSelectionNode());\r\n\r\n        for (let i = 0, len = paragraphList.length; i < len; i++) {\r\n            if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\r\n                this.util.addClass(paragraphList[i], 'active');\r\n            } else {\r\n                this.util.removeClass(paragraphList[i], 'active');\r\n            }\r\n        }\r\n    },\r\n\r\n    pickUp: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let value = null;\r\n        \r\n        while (!/^UL$/i.test(target.tagName)) {\r\n            value = target.getAttribute('data-value');\r\n            if (value) break;\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!value) return;\r\n\r\n        let selectedFormsts = this.getSelectedElements();\r\n        if (selectedFormsts.length === 0) {\r\n            this.getRange_addLine(this.getRange(), null);\r\n            selectedFormsts = this.getSelectedElements();\r\n            if (selectedFormsts.length === 0) return;\r\n        }\r\n\r\n        // change format class\r\n        const toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\r\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\r\n            toggleClass(selectedFormsts[i], value);\r\n        }\r\n\r\n        this.submenuOff();\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'textStyle',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.textStyle = {\r\n            _styleList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.textStyle._styleList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const option = core.options;\r\n        const listDiv = core.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\r\n\r\n        const defaultList = {\r\n            code: {\r\n                name: core.lang.menu.code,\r\n                class: '__se__t-code',\r\n                tag: 'code',\r\n            },\r\n            translucent: {\r\n                name: core.lang.menu.translucent,\r\n                style: 'opacity: 0.5;',\r\n                tag: 'span',\r\n            },\r\n            shadow: {\r\n                name: core.lang.menu.shadow,\r\n                class: '__se__t-shadow',\r\n                tag: 'span',\r\n            }\r\n        };\r\n        const styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\r\n\r\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\r\n        for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\r\n            t = styleList[i];\r\n            attrs = '', value = '', command = [];\r\n\r\n            if (typeof t === 'string') {\r\n                const defaultStyle = defaultList[t.toLowerCase()];\r\n                if (!defaultStyle) continue;\r\n                t = defaultStyle;\r\n            }\r\n\r\n            name = t.name;\r\n            tag = t.tag || 'span';\r\n            _class = t._class;\r\n\r\n            if (t.style) {\r\n                attrs += ' style=\"' + t.style + '\"';\r\n                value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\r\n                command.push('style');\r\n            }\r\n            if (t.class) {\r\n                attrs += ' class=\"' + t.class + '\"';\r\n                value += '.' + t.class.trim().replace(/\\s+/g, ',.');\r\n                command.push('class');\r\n            }\r\n\r\n            value = value.replace(/,$/, '');\r\n\r\n            list += '<li>' +\r\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\" aria-label=\"' + name + '\">' +\r\n                    '<' + tag + attrs + '>' + name +  '</' + tag + '>' +\r\n                '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const util = this.util;\r\n        const textStyleContext = this.context.textStyle;\r\n        const styleButtonList = textStyleContext._styleList;\r\n        const selectionNode = this.getSelectionNode();\r\n\r\n        for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\r\n            btn = styleButtonList[i];\r\n            data = btn.getAttribute('data-value').split(',');\r\n            \r\n            for (let v = 0, node, value; v < data.length; v++) {\r\n                node = selectionNode;\r\n                active = false;\r\n                \r\n                while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\r\n                    if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\r\n                        value = data[v];\r\n                        if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\r\n                            active = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    node = node.parentNode;\r\n                }\r\n\r\n                if (!active) break;\r\n            }\r\n\r\n            active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\r\n        }\r\n\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let command = null, tag = null;\r\n        \r\n        while (!command && !/UL/i.test(target.tagName)) {\r\n            command = target.getAttribute('data-command');\r\n            if (command) {\r\n                tag = target.firstChild;\r\n                break;\r\n            }\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\r\n        checkStyles.pop();\r\n\r\n        const classes = tag.classList;\r\n        for (let i = 0, len = classes.length; i < len; i++) {\r\n            checkStyles.push('.' + classes[i]);\r\n        }\r\n\r\n        const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\r\n        const removeNodes = newNode ? null : [tag.nodeName];\r\n        this.nodeChange(newNode, checkStyles, removeNodes, true);\r\n\r\n        this.submenuOff();\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2018 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'selectMenu',\r\n    add: function (core) {\r\n        core.context.selectMenu = {\r\n            caller: {},\r\n            callerContext: null\r\n        };\r\n    },\r\n\r\n    setForm: function () {\r\n        return '<div class=\"se-select-list\"></div>';\r\n    },\r\n\r\n    createList: function (listContext, items, html) {\r\n        listContext.form.innerHTML = '<ul>' + html + '</ul>';\r\n        listContext.items = items;\r\n        listContext.menus = listContext.form.querySelectorAll('li');\r\n    },\r\n\r\n    initEvent: function (pluginName, forms) {\r\n        const form = forms.querySelector('.se-select-list');\r\n        const context = this.context.selectMenu.caller[pluginName] = {\r\n            form: form,\r\n            items: [],\r\n            menus: [],\r\n            index: -1,\r\n            item: null,\r\n            clickMethod: null,\r\n            callerName: pluginName\r\n        };\r\n\r\n        form.addEventListener('mousedown', this.plugins.selectMenu.onMousedown_list);\r\n        form.addEventListener('mousemove', this.plugins.selectMenu.onMouseMove_list.bind(this, context));\r\n        form.addEventListener('click', this.plugins.selectMenu.onClick_list.bind(this, context));\r\n    },\r\n\r\n    onMousedown_list: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    },\r\n\r\n    onMouseMove_list: function (context, e) {\r\n        this.util.addClass(context.form, '__se_select-menu-mouse-move');\r\n        const index = e.target.getAttribute('data-index');\r\n        if (!index) return;\r\n        context.index = index * 1;\r\n    },\r\n\r\n    onClick_list: function (context, e) {\r\n        const index = e.target.getAttribute('data-index');\r\n        if (!index) return;\r\n        context.clickMethod.call(this, context.items[index]);\r\n    },\r\n\r\n    moveItem: function (listContext, num) {\r\n        this.util.removeClass(listContext.form, '__se_select-menu-mouse-move');\r\n        num = listContext.index + num;\r\n        const menus = listContext.menus;\r\n        const len = menus.length;\r\n        const selectIndex = listContext.index = num >= len ? 0 : num < 0 ? len - 1 : num;\r\n        \r\n        for (let i = 0; i < len; i++) {\r\n            if (i === selectIndex) {\r\n                this.util.addClass(menus[i], 'active');\r\n            } else {\r\n                this.util.removeClass(menus[i], 'active');\r\n            }\r\n        }\r\n\r\n        listContext.item = listContext.items[selectIndex];\r\n    },\r\n\r\n    getItem: function (listContext, index) {\r\n        index = (!index || index < 0) ? listContext.index : index;\r\n        return listContext.items[index];\r\n    },\r\n\r\n    on: function (callerName, clickMethod) {\r\n        const listContext = this.context.selectMenu.caller[callerName];\r\n        this.context.selectMenu.callerContext = listContext;\r\n        listContext.clickMethod = clickMethod;\r\n        listContext.callerName = callerName;\r\n    },\r\n\r\n    open: function (listContext, positionHandler) {\r\n        const form = listContext.form;\r\n        form.style.visibility = 'hidden';\r\n        form.style.display = 'block';\r\n        positionHandler(form);\r\n        form.style.visibility = '';\r\n    },\r\n\r\n    close: function (listContext) {\r\n        listContext.form.style.display = 'none';\r\n        listContext.items = [];\r\n        listContext.menus = [];\r\n        listContext.index = -1;\r\n        listContext.item = null;\r\n    },\r\n\r\n    init: function (listContext) {\r\n        if (!listContext) return;\r\n        listContext.items = [];\r\n        listContext.menus = [];\r\n        listContext.index = -1;\r\n        listContext.item = null;\r\n        listContext.callerName = '';\r\n        this.context.selectMenu.callerContext = null;\r\n    }\r\n};","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport selectMenu from './_selectMenu';\r\n\r\nexport default {\r\n    name: 'anchor',\r\n    add: function (core) {\r\n        core.addModule([selectMenu]);\r\n        \r\n        core.context.anchor = {\r\n            caller: {},\r\n            forms: this.setDialogForm(core),\r\n            host: (core._w.location.origin + core._w.location.pathname).replace(/\\/$/, ''),\r\n            callerContext: null\r\n        };\r\n    },\r\n\r\n    /** dialog */\r\n    setDialogForm: function (core) {\r\n        const lang = core.lang;\r\n        const relList = core.options.linkRel;\r\n        const defaultRel = (core.options.linkRelDefault.default || '').split(' ');\r\n        const icons = core.icons;\r\n        const forms = core.util.createElement('DIV');\r\n\r\n        let html = '<div class=\"se-dialog-body\">' +\r\n            '<div class=\"se-dialog-form\">' +\r\n                '<label>' + lang.dialogBox.linkBox.url + '</label>' +\r\n                '<div class=\"se-dialog-form-files\">' +\r\n                    '<input class=\"se-input-form se-input-url\" type=\"text\" placeholder=\"' + (core.options.protocol || '') + '\" />' +\r\n                    '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button _se_bookmark_button\" title=\"' + lang.dialogBox.linkBox.bookmark + '\" aria-label=\"' + lang.dialogBox.linkBox.bookmark + '\">' + icons.bookmark + '</button>' +\r\n                    core.plugins.selectMenu.setForm() +\r\n                '</div>' +\r\n                '<div class=\"se-anchor-preview-form\">' +\r\n                    '<span class=\"se-svg se-anchor-preview-icon _se_anchor_bookmark_icon\">' + icons.bookmark + '</span>' +\r\n                    '<span class=\"se-svg se-anchor-preview-icon _se_anchor_download_icon\">' + icons.download + '</span>' +\r\n                    '<pre class=\"se-link-preview\"></pre>' +\r\n                '</div>' +\r\n            '</div>' +\r\n            '<div class=\"se-dialog-form\">' +\r\n                '<label>' + lang.dialogBox.linkBox.text + '</label><input class=\"se-input-form _se_anchor_text\" type=\"text\" />' +\r\n            '</div>' +\r\n            '<div class=\"se-dialog-form-footer\">' +\r\n                '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_anchor_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\r\n                '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_anchor_download\" />&nbsp;' + lang.dialogBox.linkBox.downloadLinkCheck + '</label>';\r\n            if (relList.length > 0) {\r\n                html += '<div class=\"se-anchor-rel\"><button type=\"button\" class=\"se-btn se-btn-select se-anchor-rel-btn\">&lt;rel&gt;</button>' +\r\n                    '<div class=\"se-anchor-rel-wrapper\"><pre class=\"se-link-preview se-anchor-rel-preview\"></pre></div>' +\r\n                    '<div class=\"se-list-layer\">' +\r\n                        '<div class=\"se-list-inner\">' +\r\n                            '<ul class=\"se-list-basic se-list-checked\">';\r\n                for (let i = 0, len = relList.length, rel; i < len; i++) {\r\n                    rel = relList[i];\r\n                    html += '<li><button type=\"button\" class=\"se-btn-list' + (defaultRel.indexOf(rel) > -1 ? ' se-checked' : '') + '\" data-command=\"' + rel + '\" title=\"' + rel + '\" aria-label=\"' + rel + '\"><span class=\"se-svg\">' + icons.checked + '</span>' + rel + '</button></li>';\r\n                }\r\n                html += '</ul></div></div></div>';\r\n            }\r\n\r\n        html += '</div></div>';\r\n\r\n        forms.innerHTML = html;\r\n        return forms;\r\n    },\r\n\r\n    initEvent: function (pluginName, forms) {\r\n        const anchorPlugin = this.plugins.anchor;\r\n        const context = this.context.anchor.caller[pluginName] = {\r\n            modal: forms,\r\n            urlInput: null,\r\n            linkDefaultRel: this.options.linkRelDefault,\r\n            defaultRel: this.options.linkRelDefault.default || '',\r\n            currentRel: [],\r\n            linkAnchor: null,\r\n            linkValue: '',\r\n            _change: false,\r\n            callerName: pluginName\r\n        };\r\n\r\n        if (typeof context.linkDefaultRel.default === 'string') context.linkDefaultRel.default = context.linkDefaultRel.default.trim();\r\n        if (typeof context.linkDefaultRel.check_new_window === 'string') context.linkDefaultRel.check_new_window = context.linkDefaultRel.check_new_window.trim();\r\n        if (typeof context.linkDefaultRel.check_bookmark === 'string') context.linkDefaultRel.check_bookmark = context.linkDefaultRel.check_bookmark.trim();\r\n\r\n        context.urlInput = forms.querySelector('.se-input-url');\r\n        context.anchorText = forms.querySelector('._se_anchor_text');\r\n        context.newWindowCheck = forms.querySelector('._se_anchor_check');\r\n        context.downloadCheck = forms.querySelector('._se_anchor_download');\r\n        context.download = forms.querySelector('._se_anchor_download_icon');\r\n        context.preview = forms.querySelector('.se-link-preview');\r\n        context.bookmark = forms.querySelector('._se_anchor_bookmark_icon');\r\n        context.bookmarkButton = forms.querySelector('._se_bookmark_button');\r\n\r\n        this.plugins.selectMenu.initEvent.call(this, pluginName, forms);\r\n        const listContext = this.context.selectMenu.caller[pluginName];\r\n        \r\n        /** rel */\r\n        if (this.options.linkRel.length > 0) {\r\n            context.relButton = forms.querySelector('.se-anchor-rel-btn');\r\n            context.relList = forms.querySelector('.se-list-layer');\r\n            context.relPreview = forms.querySelector('.se-anchor-rel-preview');\r\n            context.relButton.addEventListener('click', anchorPlugin.onClick_relButton.bind(this, context));\r\n            context.relList.addEventListener('click', anchorPlugin.onClick_relList.bind(this, context));\r\n        }\r\n\r\n        context.newWindowCheck.addEventListener('change', anchorPlugin.onChange_newWindowCheck.bind(this, context));\r\n        context.downloadCheck.addEventListener('change', anchorPlugin.onChange_downloadCheck.bind(this, context));\r\n        context.anchorText.addEventListener('input', anchorPlugin.onChangeAnchorText.bind(this, context));\r\n        context.urlInput.addEventListener('input', anchorPlugin.onChangeUrlInput.bind(this, context));\r\n        context.urlInput.addEventListener('keydown', anchorPlugin.onKeyDownUrlInput.bind(this, listContext));\r\n        context.urlInput.addEventListener('focus', anchorPlugin.onFocusUrlInput.bind(this, context, listContext));\r\n        context.urlInput.addEventListener('blur', anchorPlugin.onBlurUrlInput.bind(this, listContext));\r\n        context.bookmarkButton.addEventListener('click', anchorPlugin.onClick_bookmarkButton.bind(this, context));\r\n    },\r\n\r\n    on: function (contextAnchor, update) {\r\n        const anchorPlugin = this.plugins.anchor;\r\n\r\n        if (!update) {\r\n            anchorPlugin.init.call(this, contextAnchor);\r\n            contextAnchor.anchorText.value = this.getSelection().toString().trim();\r\n            contextAnchor.newWindowCheck.checked = this.options.linkTargetNewWindow;\r\n        } else if (contextAnchor.linkAnchor) {\r\n            this.context.dialog.updateModal = true;\r\n            const href = contextAnchor.linkAnchor.getAttribute('href');\r\n            contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = anchorPlugin.selfPathBookmark.call(this, href) ? href.substr(href.lastIndexOf('#')) : href;\r\n            contextAnchor.anchorText.value = contextAnchor.linkAnchor.textContent;\r\n            contextAnchor.newWindowCheck.checked = (/_blank/i.test(contextAnchor.linkAnchor.target) ? true : false);\r\n            contextAnchor.downloadCheck.checked = contextAnchor.linkAnchor.download;\r\n        }\r\n\r\n        this.context.anchor.callerContext = contextAnchor;\r\n        anchorPlugin.setRel.call(this, contextAnchor, (update && contextAnchor.linkAnchor) ? contextAnchor.linkAnchor.rel : contextAnchor.defaultRel);\r\n        anchorPlugin.setLinkPreview.call(this, contextAnchor, contextAnchor.linkValue);\r\n        this.plugins.selectMenu.on.call(this, contextAnchor.callerName, this.plugins.anchor.setHeaderBookmark);\r\n    },\r\n\r\n    selfPathBookmark: function(path) {\r\n        const href = this._w.location.href.replace(/\\/$/, '');\r\n        return path.indexOf('#') === 0 || (path.indexOf(href) === 0 && path.indexOf('#') === (href.indexOf(\"#\") === -1 ? href.length : href.substr(0, href.indexOf(\"#\")).length));\r\n    },\r\n\r\n    _closeRelMenu: null,\r\n    toggleRelList: function (contextAnchor, show) {\r\n        if (!show) {\r\n            if (this.plugins.anchor._closeRelMenu) this.plugins.anchor._closeRelMenu();\r\n        } else {\r\n            const target = contextAnchor.relButton;\r\n            const relList = contextAnchor.relList;\r\n            this.util.addClass(target, 'active');\r\n            relList.style.visibility = 'hidden';\r\n            relList.style.display = 'block';\r\n            if (!this.options.rtl) relList.style.left = (target.offsetLeft + target.offsetWidth + 1) + 'px';\r\n            else relList.style.left = (target.offsetLeft - relList.offsetWidth - 1) + 'px';\r\n            relList.style.top = (target.offsetTop + (target.offsetHeight / 2) - (relList.offsetHeight / 2)) + 'px';\r\n            relList.style.visibility = '';\r\n\r\n            this.plugins.anchor._closeRelMenu = function (context, target, e) {\r\n                if (e && (context.relButton.contains(e.target) || context.relList.contains(e.target))) return;\r\n                this.util.removeClass(target, 'active');\r\n                context.relList.style.display = 'none';\r\n                this.modalForm.removeEventListener('click', this.plugins.anchor._closeRelMenu);\r\n                this.plugins.anchor._closeRelMenu = null;\r\n            }.bind(this, contextAnchor, target);\r\n    \r\n            this.modalForm.addEventListener('click', this.plugins.anchor._closeRelMenu);\r\n        }\r\n    },\r\n\r\n    onClick_relButton: function (contextAnchor, e) {\r\n        this.plugins.anchor.toggleRelList.call(this, contextAnchor, !this.util.hasClass(e.target, 'active'));\r\n    },\r\n\r\n    onClick_relList: function (contextAnchor, e) {\r\n        const target = e.target;\r\n        const cmd = target.getAttribute('data-command');\r\n        if (!cmd) return;\r\n        \r\n        const current = contextAnchor.currentRel;\r\n        const checked = this.util.toggleClass(target, 'se-checked');\r\n        const index = current.indexOf(cmd);\r\n        if (checked) {\r\n            if (index === -1) current.push(cmd);\r\n        } else {\r\n            if (index > -1) current.splice(index, 1);\r\n        }\r\n\r\n        contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = current.join(' ');\r\n    },\r\n\r\n    setRel: function (contextAnchor, relAttr) {\r\n        const relListEl = contextAnchor.relList;\r\n        const rels = contextAnchor.currentRel = !relAttr ? [] : relAttr.split(' ');\r\n        if (!relListEl) return;\r\n\r\n        const checkedRel = relListEl.querySelectorAll('button');\r\n        for (let i = 0, len = checkedRel.length, cmd; i < len; i++) {\r\n            cmd = checkedRel[i].getAttribute('data-command');\r\n            if (rels.indexOf(cmd) > -1) {\r\n                this.util.addClass(checkedRel[i], 'se-checked');\r\n            } else {\r\n                this.util.removeClass(checkedRel[i], 'se-checked');\r\n            }\r\n        }\r\n\r\n        contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = rels.join(' ');\r\n    },\r\n\r\n    createHeaderList: function (contextAnchor, contextList, urlValue) {\r\n        const headers = this.util.getListChildren(this.context.element.wysiwyg, function(current) {\r\n            return /h[1-6]/i.test(current.nodeName);\r\n        });\r\n        if (headers.length === 0) return;\r\n\r\n        const valueRegExp = new this._w.RegExp('^' + urlValue.replace(/^#/, ''), 'i');\r\n        const list = [];\r\n        let html = '';\r\n        for(let i = 0, len = headers.length, h; i < len; i++) {\r\n            h = headers[i];\r\n            if (!valueRegExp.test(h.textContent)) continue;\r\n            list.push(h);\r\n            html += '<li class=\"se-select-item\" data-index=\"' + i + '\">' + h.textContent + '</li>';\r\n        }\r\n\r\n        if (list.length === 0) {\r\n            this.plugins.selectMenu.close.call(this, contextList);\r\n        } else {\r\n            this.plugins.selectMenu.createList(contextList, list, html);\r\n            this.plugins.selectMenu.open.call(this, contextList, this.plugins.anchor._setMenuListPosition.bind(this, contextAnchor));\r\n        }\r\n    },\r\n\r\n    _setMenuListPosition: function (contextAnchor, list) {\r\n        list.style.top = (contextAnchor.urlInput.offsetHeight + 1) + 'px';\r\n    },\r\n\r\n    onKeyDownUrlInput: function (contextList, e) {\r\n        const keyCode = e.keyCode;\r\n        switch (keyCode) {\r\n            case 38: // up\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.plugins.selectMenu.moveItem.call(this, contextList, -1);\r\n                break;\r\n            case 40: // down\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.plugins.selectMenu.moveItem.call(this, contextList, 1);\r\n                break;\r\n            case 13: // enter\r\n                if (contextList.index > -1) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    this.plugins.anchor.setHeaderBookmark.call(this, this.plugins.selectMenu.getItem(contextList, null));\r\n                }\r\n                break;\r\n        }\r\n    },\r\n\r\n    setHeaderBookmark: function (header) {\r\n        const contextAnchor = this.context.anchor.callerContext;\r\n        const id = header.id || 'h_' + this._w.Math.random().toString().replace(/.+\\./, '');\r\n        header.id = id;\r\n        contextAnchor.urlInput.value = '#' + id;\r\n\r\n        if (!contextAnchor.anchorText.value.trim() || !contextAnchor._change) {\r\n            contextAnchor.anchorText.value = header.textContent;\r\n        }\r\n        \r\n        this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.urlInput.value);\r\n        this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\r\n        this.context.anchor.callerContext.urlInput.focus();\r\n    },\r\n\r\n    onChangeAnchorText: function (contextAnchor, e) {\r\n        contextAnchor._change = !!e.target.value.trim();\r\n    },\r\n\r\n    onChangeUrlInput: function (contextAnchor, e) {\r\n        const value = e.target.value.trim();\r\n        this.plugins.anchor.setLinkPreview.call(this, contextAnchor, value);\r\n\r\n        if (this.plugins.anchor.selfPathBookmark.call(this, value)) this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, value);\r\n        else this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\r\n    },\r\n\r\n    onFocusUrlInput: function (contextAnchor, contextLink) {\r\n        const value = contextAnchor.urlInput.value;\r\n        if (this.plugins.anchor.selfPathBookmark.call(this, value)) this.plugins.anchor.createHeaderList.call(this, contextAnchor, contextLink, value);\r\n    },\r\n\r\n    onBlurUrlInput: function (contextList) {\r\n        this.plugins.selectMenu.close.call(this, contextList);\r\n    },\r\n\r\n    setLinkPreview: function (context, value) {\r\n        const preview = context.preview;\r\n        const protocol = this.options.linkProtocol;\r\n        const noPrefix = this.options.linkNoPrefix;\r\n        const reservedProtocol  = /^(mailto\\:|tel\\:|sms\\:|https*\\:\\/\\/|#)/.test(value) || value.indexOf(protocol) === 0;\r\n        const sameProtocol = !protocol ? false : this._w.RegExp('^' + this.util.escapeStringRegexp(value.substr(0, protocol.length))).test(protocol);\r\n        value = context.linkValue = preview.textContent = !value ? '' : noPrefix ? value : (protocol && !reservedProtocol && !sameProtocol) ? protocol + value : reservedProtocol ? value : /^www\\./.test(value) ? 'http://' + value : this.context.anchor.host + (/^\\//.test(value) ? '' : '/') + value;\r\n\r\n        if (this.plugins.anchor.selfPathBookmark.call(this, value)) {\r\n            context.bookmark.style.display = 'block';\r\n            this.util.addClass(context.bookmarkButton, 'active');\r\n        } else {\r\n            context.bookmark.style.display = 'none';\r\n            this.util.removeClass(context.bookmarkButton, 'active');\r\n        }\r\n\r\n        if (!this.plugins.anchor.selfPathBookmark.call(this, value) && context.downloadCheck.checked) {\r\n            context.download.style.display = 'block';\r\n        } else {\r\n            context.download.style.display = 'none';\r\n        }\r\n    },\r\n\r\n    setCtx: function (anchor, contextAnchor) {\r\n        if (!anchor) return;\r\n        contextAnchor.linkAnchor = anchor;\r\n        contextAnchor.linkValue = anchor.href;\r\n        contextAnchor.currentRel = anchor.rel.split(\" \");\r\n    },\r\n\r\n    updateAnchor: function (anchor, url, displayText, contextAnchor, notText) {\r\n        // download\r\n        if (!this.plugins.anchor.selfPathBookmark.call(this, url) && contextAnchor.downloadCheck.checked) {\r\n            anchor.setAttribute('download', displayText || url);\r\n        } else {\r\n            anchor.removeAttribute('download');\r\n        }\r\n\r\n        // new window\r\n        if (contextAnchor.newWindowCheck.checked) anchor.target = '_blank';\r\n        else anchor.removeAttribute('target');\r\n        \r\n        // rel\r\n        const rel = contextAnchor.currentRel.join(' ');\r\n        if (!rel) anchor.removeAttribute('rel');\r\n        else anchor.rel = rel;\r\n\r\n        // set url\r\n        anchor.href = url;\r\n        if (notText) {\r\n            if (anchor.children.length === 0) anchor.textContent = '';\r\n        } else {\r\n            anchor.textContent = displayText;\r\n        }\r\n    },\r\n\r\n    createAnchor: function (contextAnchor, notText) {\r\n        if (contextAnchor.linkValue.length === 0) return null;\r\n        \r\n        const url = contextAnchor.linkValue;\r\n        const anchor = contextAnchor.anchorText;\r\n        const displayText = anchor.value.length === 0 ? url : anchor.value;\r\n\r\n        const oA = contextAnchor.linkAnchor || this.util.createElement('A');\r\n        this.plugins.anchor.updateAnchor.call(this, oA, url, displayText, contextAnchor, notText);\r\n\r\n        contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.anchorText.value = '';\r\n\r\n        return oA;\r\n    },\r\n\r\n    onClick_bookmarkButton: function (contextAnchor) {\r\n        let url = contextAnchor.urlInput.value;\r\n        if (this.plugins.anchor.selfPathBookmark.call(this, url)) {\r\n            url = url.substr(1);\r\n            contextAnchor.bookmark.style.display = 'none';\r\n            this.util.removeClass(contextAnchor.bookmarkButton, 'active');\r\n            this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\r\n        } else {\r\n            url = '#' + url;\r\n            contextAnchor.bookmark.style.display = 'block';\r\n            this.util.addClass(contextAnchor.bookmarkButton, 'active');\r\n            contextAnchor.downloadCheck.checked = false;\r\n            contextAnchor.download.style.display = 'none';\r\n            this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, url);\r\n        }\r\n\r\n        contextAnchor.urlInput.value = url;\r\n        this.plugins.anchor.setLinkPreview.call(this, contextAnchor, url);\r\n        contextAnchor.urlInput.focus();\r\n    },\r\n\r\n    onChange_newWindowCheck: function (contextAnchor, e) {\r\n        if (typeof contextAnchor.linkDefaultRel.check_new_window !== 'string') return;\r\n        if (e.target.checked) {\r\n            this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\r\n        } else {\r\n            this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\r\n        }\r\n    },\r\n\r\n    onChange_downloadCheck: function (contextAnchor, e) {\r\n        if (e.target.checked) {\r\n            contextAnchor.download.style.display = 'block';\r\n            contextAnchor.bookmark.style.display = 'none';\r\n            this.util.removeClass(contextAnchor.bookmarkButton, 'active');\r\n            contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.urlInput.value.replace(/^\\#+/, '');\r\n            if (typeof contextAnchor.linkDefaultRel.check_bookmark === 'string') {\r\n                this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\r\n            }\r\n        } else {\r\n            contextAnchor.download.style.display = 'none';\r\n            if (typeof contextAnchor.linkDefaultRel.check_bookmark === 'string') {\r\n                this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\r\n            }\r\n        }\r\n    },\r\n\r\n    _relMerge: function (contextAnchor, relAttr) {\r\n        const current = contextAnchor.currentRel;\r\n        if (!relAttr) return current.join(' ');\r\n        \r\n        if (/^only\\:/.test(relAttr)) {\r\n            relAttr = relAttr.replace(/^only\\:/, '').trim();\r\n            contextAnchor.currentRel = relAttr.split(' ');\r\n            return relAttr;\r\n        }\r\n\r\n        const rels = relAttr.split(' ');\r\n        for (let i = 0, len = rels.length, index; i < len; i++) {\r\n            index = current.indexOf(rels[i]);\r\n            if (index === -1) current.push(rels[i]);\r\n        }\r\n\r\n        return current.join(' ');\r\n    },\r\n\r\n    _relDelete: function (contextAnchor, relAttr) {\r\n        if (!relAttr) return contextAnchor.currentRel.join(' ');\r\n        if (/^only\\:/.test(relAttr)) relAttr = relAttr.replace(/^only\\:/, '').trim();\r\n\r\n        const rels = contextAnchor.currentRel.join(' ').replace(this._w.RegExp(relAttr + '\\\\s*'), '');\r\n        contextAnchor.currentRel = rels.split(' ');\r\n        return rels;\r\n    },\r\n\r\n    init: function (contextAnchor) {\r\n        contextAnchor.linkAnchor = null;\r\n        contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = '';\r\n        contextAnchor.anchorText.value = '';\r\n        contextAnchor.newWindowCheck.checked = false;\r\n        contextAnchor.downloadCheck.checked = false;\r\n        contextAnchor._change = false;\r\n        this.plugins.anchor.setRel.call(this, contextAnchor, contextAnchor.defaultRel);\r\n        if (contextAnchor.relList) {\r\n            this.plugins.anchor.toggleRelList.call(this, contextAnchor, false);\r\n        }\r\n        this.context.anchor.callerContext = null;\r\n        this.plugins.selectMenu.init.call(this, this.context.selectMenu.callerContext);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport dialog from '../modules/dialog';\r\nimport anchor from '../modules/_anchor';\r\n\r\nexport default {\r\n    name: 'link',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([dialog, anchor]);\r\n\r\n        const context = core.context;\r\n        const contextLink = context.link = {\r\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\r\n            _linkAnchor: null,\r\n            anchorCtx: null\r\n        };\r\n\r\n        /** link dialog */\r\n        let link_dialog = this.setDialog(core);\r\n        contextLink.modal = link_dialog;\r\n        \r\n        /** link controller */\r\n        let link_controller = this.setController_LinkButton(core);\r\n        contextLink.linkController = link_controller;\r\n\r\n        link_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\r\n        link_controller.addEventListener('click', this.onClick_linkController.bind(core));\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(link_dialog);\r\n\r\n        /** append controller */\r\n        context.element.relative.appendChild(link_controller);\r\n\r\n        /** link event */\r\n        core.plugins.anchor.initEvent.call(core, 'link', link_dialog);\r\n        contextLink.focusElement = context.anchor.caller.link.urlInput;\r\n\r\n        /** empty memory */\r\n        link_dialog = null, link_controller = null;\r\n    },\r\n\r\n    /** dialog */\r\n    setDialog: function (core) {\r\n        const lang = core.lang;\r\n        const dialog = core.util.createElement('DIV');\r\n        const icons = core.icons;\r\n\r\n        dialog.className = 'se-dialog-content';\r\n        dialog.style.display = 'none';\r\n        let html = '' +\r\n            '<form>' +\r\n                '<div class=\"se-dialog-header\">' +\r\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' +\r\n                        icons.cancel +\r\n                    '</button>' +\r\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' +\r\n                '</div>' +\r\n                core.context.anchor.forms.innerHTML +\r\n                '<div class=\"se-dialog-footer\">' +\r\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n                '</div>' +\r\n            '</form>';\r\n\r\n        dialog.innerHTML = html;\r\n        return dialog;\r\n    },\r\n\r\n    /** modify controller button */\r\n    setController_LinkButton: function (core) {\r\n        const lang = core.lang;\r\n        const icons = core.icons;\r\n        const link_btn = core.util.createElement('DIV');\r\n\r\n        link_btn.className = 'se-controller se-controller-link';\r\n        link_btn.innerHTML = '' +\r\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\r\n            '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' +\r\n                '<div class=\"se-btn-group\">' +\r\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                        icons.edit +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                        icons.unlink +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return link_btn;\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\r\n    },\r\n\r\n    submit: function (e) {\r\n        this.showLoading();\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        try {\r\n            const oA = this.plugins.anchor.createAnchor.call(this, this.context.anchor.caller.link, false);\r\n            if (oA === null) return;\r\n    \r\n            if (!this.context.dialog.updateModal) {\r\n                const selectedFormats = this.getSelectedElements();\r\n                if (selectedFormats.length > 1) {\r\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\r\n                    oFormat.appendChild(oA);\r\n                    if (!this.insertNode(oFormat, null, true)) return;\r\n                } else {\r\n                    if (!this.insertNode(oA, null, true)) return;\r\n                }\r\n    \r\n                this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\r\n            } else {\r\n                // set range\r\n                const textNode = this.context.link._linkAnchor.childNodes[0];\r\n                this.setRange(textNode, 0, textNode, textNode.textContent.length);\r\n            }\r\n        } finally {\r\n            this.plugins.dialog.close.call(this);\r\n            this.closeLoading();\r\n            // history stack\r\n            this.history.push(false);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        if (!element) {\r\n            if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\r\n                this.controllersOff();\r\n            }\r\n        } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\r\n            if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\r\n                this.plugins.link.call_controller.call(this, element);\r\n            }\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    on: function (update) {\r\n        this.plugins.anchor.on.call(this, this.context.anchor.caller.link, update);\r\n    },\r\n\r\n    call_controller: function (selectionATag) {\r\n        this.editLink = this.context.link._linkAnchor = this.context.anchor.caller.link.linkAnchor = selectionATag;\r\n        const linkBtn = this.context.link.linkController;\r\n        const link = linkBtn.querySelector('a');\r\n\r\n        link.href = selectionATag.href;\r\n        link.title = selectionATag.textContent;\r\n        link.textContent = selectionATag.textContent;\r\n\r\n        this.util.addClass(selectionATag, 'on');\r\n        this.setControllerPosition(linkBtn, selectionATag, 'bottom', {left: 0, top: 0});\r\n        this.controllersOn(linkBtn, selectionATag, 'link', this.util.removeClass.bind(this.util, this.context.link._linkAnchor, 'on'));\r\n    },\r\n\r\n    onClick_linkController: function (e) {\r\n        e.stopPropagation();\r\n\r\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n\r\n        if (/update/.test(command)) {\r\n            this.plugins.dialog.open.call(this, 'link', true);\r\n        } else if (/unlink/.test(command)) {\r\n            const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\r\n            const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\r\n            this.setRange(sc, 0, ec, ec.textContent.length);\r\n            this.nodeChange(null, null, ['A'], false);\r\n        } else {\r\n            /** delete */\r\n            this.util.removeItem(this.context.link._linkAnchor);\r\n            this.context.anchor.caller.link.linkAnchor = null;\r\n            this.focus();\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        }\r\n\r\n        this.controllersOff();\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    init: function () {\r\n        this.context.link.linkController.style.display = 'none';\r\n        this.plugins.anchor.init.call(this, this.context.anchor.caller.link);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport dialog from '../modules/dialog';\r\nimport anchor from '../modules/_anchor';\r\nimport component from '../modules/component';\r\nimport resizing from '../modules/resizing';\r\nimport fileManager from '../modules/fileManager';\r\n\r\nexport default {\r\n    name: 'image',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([dialog, anchor, component, resizing, fileManager]);\r\n        \r\n        const options = core.options;\r\n        const context = core.context;\r\n        const contextImage = context.image = {\r\n            _infoList: [], // @Override fileManager\r\n            _infoIndex: 0, // @Override fileManager\r\n            _uploadFileLength: 0, // @Override fileManager\r\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\r\n            sizeUnit: options._imageSizeUnit,\r\n            _linkElement: '',\r\n            _altText: '',\r\n            _align: 'none',\r\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\r\n            _v_src: {_linkValue: ''},\r\n            svgDefaultSize: '30%',\r\n            base64RenderIndex: 0,\r\n            // @require @Override component\r\n            _element: null,\r\n            _cover: null,\r\n            _container: null,\r\n            // @Override resizing properties\r\n            inputX: null,\r\n            inputY: null,\r\n            _element_w: 1,\r\n            _element_h: 1,\r\n            _element_l: 0,\r\n            _element_t: 0,\r\n            _defaultSizeX: 'auto',\r\n            _defaultSizeY: 'auto',\r\n            _origin_w: options.imageWidth === 'auto' ? '' : options.imageWidth,\r\n            _origin_h: options.imageHeight === 'auto' ? '' : options.imageHeight,\r\n            _proportionChecked: true,\r\n            _resizing: options.imageResizing,\r\n            _resizeDotHide: !options.imageHeightShow,\r\n            _rotation: options.imageRotation,\r\n            _alignHide: !options.imageAlignShow,\r\n            _onlyPercentage: options.imageSizeOnlyPercentage,\r\n            _ratio: false,\r\n            _ratioX: 1,\r\n            _ratioY: 1,\r\n            _captionShow: true,\r\n            _captionChecked: false,\r\n            _caption: null,\r\n            captionCheckEl: null\r\n        };\r\n\r\n        /** image dialog */\r\n        let image_dialog = this.setDialog(core);\r\n        contextImage.modal = image_dialog;\r\n        contextImage.imgInputFile = image_dialog.querySelector('._se_image_file');\r\n        contextImage.imgUrlFile = image_dialog.querySelector('._se_image_url');\r\n        contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\r\n        contextImage.altText = image_dialog.querySelector('._se_image_alt');\r\n        contextImage.captionCheckEl = image_dialog.querySelector('._se_image_check_caption');\r\n        contextImage.previewSrc = image_dialog.querySelector('._se_tab_content_image .se-link-preview');\r\n\r\n        /** add event listeners */\r\n        image_dialog.querySelector('.se-dialog-tabs').addEventListener('click', this.openTab.bind(core));\r\n        image_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\r\n        if (contextImage.imgInputFile) image_dialog.querySelector('.se-file-remove').addEventListener('click', this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\r\n        if (contextImage.imgUrlFile) contextImage.imgUrlFile.addEventListener('input', this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, options.linkProtocol));\r\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgInputFile.addEventListener('change', this._fileInputChange.bind(contextImage));\r\n\r\n        const imageGalleryButton = image_dialog.querySelector('.__se__gallery');\r\n        if (imageGalleryButton) imageGalleryButton.addEventListener('click', this._openGallery.bind(core));\r\n        \r\n        contextImage.proportion = {};\r\n        contextImage.inputX = {};\r\n        contextImage.inputY = {};\r\n        if (options.imageResizing) {\r\n            contextImage.proportion = image_dialog.querySelector('._se_image_check_proportion');\r\n            contextImage.inputX = image_dialog.querySelector('._se_image_size_x');\r\n            contextImage.inputY = image_dialog.querySelector('._se_image_size_y');\r\n            contextImage.inputX.value = options.imageWidth;\r\n            contextImage.inputY.value = options.imageHeight;\r\n            \r\n            contextImage.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\r\n            contextImage.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\r\n\r\n            contextImage.inputX.addEventListener('change', this.setRatio.bind(core));\r\n            contextImage.inputY.addEventListener('change', this.setRatio.bind(core));\r\n            contextImage.proportion.addEventListener('change', this.setRatio.bind(core));\r\n            \r\n            image_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\r\n        }\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(image_dialog);\r\n\r\n        /** link event */\r\n        core.plugins.anchor.initEvent.call(core, 'image', image_dialog.querySelector('._se_tab_content_url'));\r\n        contextImage.anchorCtx = core.context.anchor.caller.image;\r\n\r\n        /** empty memory */\r\n        image_dialog = null;\r\n    },\r\n\r\n    /** dialog */\r\n    setDialog: function (core) {\r\n        const option = core.options;\r\n        const lang = core.lang;\r\n        const dialog = core.util.createElement('DIV');\r\n\r\n        dialog.className = 'se-dialog-content se-dialog-image';\r\n        dialog.style.display = 'none';\r\n\r\n        let html = '' +\r\n            '<div class=\"se-dialog-header\">' +\r\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" class=\"close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' +\r\n                    core.icons.cancel +\r\n                '</button>' +\r\n                '<span class=\"se-modal-title\">' + lang.dialogBox.imageBox.title + '</span>' +\r\n            '</div>' +\r\n            '<div class=\"se-dialog-tabs\">' +\r\n                '<button type=\"button\" class=\"_se_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' +\r\n                '<button type=\"button\" class=\"_se_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' +\r\n            '</div>' +\r\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\r\n                '<div class=\"_se_tab_content _se_tab_content_image\">' +\r\n                    '<div class=\"se-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\r\n                    \r\n                    if (option.imageFileInput) {\r\n                        html += '' +\r\n                            '<div class=\"se-dialog-form\">' +\r\n                                '<label>' + lang.dialogBox.imageBox.file + '</label>' +\r\n                                '<div class=\"se-dialog-form-files\">' +\r\n                                    '<input class=\"se-input-form _se_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\r\n                                    '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\" aria-label=\"' + lang.controller.remove + '\">' + core.icons.cancel + '</button>' +\r\n                                '</div>' +\r\n                            '</div>' ;\r\n                    }\r\n        \r\n                    if (option.imageUrlInput) {\r\n                        html += '' +\r\n                            '<div class=\"se-dialog-form\">' +\r\n                                '<label>' + lang.dialogBox.imageBox.url + '</label>' +\r\n                                '<div class=\"se-dialog-form-files\">' +\r\n                                    '<input class=\"se-input-form se-input-url _se_image_url\" type=\"text\" />' +\r\n                                    ((option.imageGalleryUrl && core.plugins.imageGallery) ? '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button __se__gallery\" title=\"' + lang.toolbar.imageGallery + '\" aria-label=\"' + lang.toolbar.imageGallery + '\">' + core.icons.image_gallery + '</button>' : '') +\r\n                                '</div>' +\r\n                                '<pre class=\"se-link-preview\"></pre>' +\r\n                            '</div>';\r\n                    }\r\n        \r\n                    html += '</div>' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"se-input-form _se_image_alt\" type=\"text\" />' +\r\n                        '</div>';\r\n\r\n            if (option.imageResizing) {\r\n                const onlyPercentage = option.imageSizeOnlyPercentage;\r\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\r\n                const heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : '';\r\n                html += '<div class=\"se-dialog-form\">';\r\n                        if (onlyPercentage || !option.imageHeightShow) {\r\n                            html += '' +\r\n                            '<div class=\"se-dialog-size-text\">' +\r\n                                '<label class=\"size-w\">' + lang.dialogBox.size + '</label>' +\r\n                            '</div>';\r\n                        } else {\r\n                            html += '' +\r\n                            '<div class=\"se-dialog-size-text\">' +\r\n                                '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\r\n                                '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\r\n                                '<label class=\"size-h\">' + lang.dialogBox.height + '</label>' +\r\n                            '</div>';\r\n                        }\r\n                        html += '' +\r\n                            '<input class=\"se-input-control _se_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + ' />' +\r\n                            '<label class=\"se-dialog-size-x\"' + heightDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\r\n                            '<input type=\"text\" class=\"se-input-control _se_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\r\n                            '<label' + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\r\n                            '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" aria-label=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + '</button>' +\r\n                        '</div>' ;\r\n            }\r\n\r\n            html += '' +\r\n                        '<div class=\"se-dialog-form se-dialog-form-footer\">' +\r\n                            '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n                '<div class=\"_se_tab_content _se_tab_content_url\" style=\"display: none\">' +\r\n                    core.context.anchor.forms.innerHTML +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-footer\">' +\r\n                    '<div' + (option.imageAlignShow ? '' : ' style=\"display: none\"') + '>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\r\n                    '</div>' +\r\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n                '</div>' +\r\n            '</form>';\r\n\r\n        dialog.innerHTML = html;\r\n\r\n        return dialog;\r\n    },\r\n\r\n    _fileInputChange: function () {\r\n        if (!this.imgInputFile.value) {\r\n            this.imgUrlFile.removeAttribute('disabled');\r\n            this.previewSrc.style.textDecoration = '';\r\n        } else {\r\n            this.imgUrlFile.setAttribute('disabled', true);\r\n            this.previewSrc.style.textDecoration = 'line-through';\r\n        }\r\n    },\r\n\r\n    _removeSelectedFiles: function (urlInput, previewSrc) {\r\n        this.value = '';\r\n        if (urlInput) {\r\n            urlInput.removeAttribute('disabled');\r\n            previewSrc.style.textDecoration = '';\r\n        }\r\n    },\r\n\r\n    _openGallery: function () {\r\n        this.callPlugin('imageGallery', this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\r\n    },\r\n\r\n    _setUrlInput: function (target) {\r\n        this.altText.value = target.alt;\r\n        this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.getAttribute('data-value') || target.src;\r\n        this.imgUrlFile.focus();\r\n    },\r\n\r\n    _onLinkPreview: function (context, protocol, e) {\r\n        const value = e.target.value.trim();\r\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\r\n    },\r\n\r\n    /**\r\n     * @Override @Required fileManager\r\n     */\r\n    fileTags: ['img'],\r\n\r\n    /**\r\n     * @Override core, fileManager, resizing\r\n     * @description It is called from core.selectComponent.\r\n     * @param {Element} element Target element\r\n     */\r\n    select: function (element) {\r\n        this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'image'));\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager, resizing\r\n     */\r\n    destroy: function (element) {\r\n        const imageEl = element || this.context.image._element;\r\n        const imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\r\n        const dataIndex = imageEl.getAttribute('data-index') * 1;\r\n\r\n        // event\r\n        if (typeof this.functions.onImageDeleteBefore === 'function' && (this.functions.onImageDeleteBefore(imageEl, imageContainer, dataIndex, this) === false)) return;\r\n\r\n        let focusEl = (imageContainer.previousElementSibling || imageContainer.nextElementSibling);\r\n        \r\n        const emptyDiv = imageContainer.parentNode;\r\n        this.util.removeItem(imageContainer);\r\n        this.plugins.image.init.call(this);\r\n        this.controllersOff();\r\n\r\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n\r\n        // focus\r\n        this.focusEdge(focusEl);\r\n        \r\n        // event\r\n        this.plugins.fileManager.deleteInfo.call(this, 'image', dataIndex, this.functions.onImageUpload);\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    on: function (update) {\r\n        const contextImage = this.context.image;\r\n        \r\n        if (!update) {\r\n            contextImage.inputX.value = contextImage._origin_w = this.options.imageWidth === contextImage._defaultSizeX ? '' : this.options.imageWidth;\r\n            contextImage.inputY.value = contextImage._origin_h = this.options.imageHeight === contextImage._defaultSizeY ? '' : this.options.imageHeight;\r\n            if (contextImage.imgInputFile && this.options.imageMultipleFile) contextImage.imgInputFile.setAttribute('multiple', 'multiple');\r\n        } else {\r\n            if (contextImage.imgInputFile && this.options.imageMultipleFile) contextImage.imgInputFile.removeAttribute('multiple');\r\n        }\r\n        this.plugins.anchor.on.call(this, contextImage.anchorCtx, update);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'image', 'image' === this.currentControllerName);\r\n    },\r\n\r\n    openTab: function (e) {\r\n        const modal = this.context.image.modal;\r\n        const targetElement = (e === 'init' ? modal.querySelector('._se_tab_link') : e.target);\r\n\r\n        if (!/^BUTTON$/i.test(targetElement.tagName)) {\r\n            return false;\r\n        }\r\n\r\n        // Declare all variables\r\n        const tabName = targetElement.getAttribute('data-tab-link');\r\n        const contentClassName = '_se_tab_content';\r\n        let i, tabContent, tabLinks;\r\n\r\n        // Get all elements with class=\"tabcontent\" and hide them\r\n        tabContent = modal.getElementsByClassName(contentClassName);\r\n        for (i = 0; i < tabContent.length; i++) {\r\n            tabContent[i].style.display = 'none';\r\n        }\r\n\r\n        // Get all elements with class=\"tablinks\" and remove the class \"active\"\r\n        tabLinks = modal.getElementsByClassName('_se_tab_link');\r\n        for (i = 0; i < tabLinks.length; i++) {\r\n            this.util.removeClass(tabLinks[i], 'active');\r\n        }\r\n\r\n        // Show the current tab, and add an \"active\" class to the button that opened the tab\r\n        modal.querySelector('.' + contentClassName + '_' + tabName).style.display = 'block';\r\n        this.util.addClass(targetElement, 'active');\r\n\r\n        // focus\r\n        if (tabName === 'image' && this.context.image.focusElement) {\r\n            this.context.image.focusElement.focus();\r\n        } else if (tabName === 'url') {\r\n            this.context.anchor.caller.image.urlInput.focus();\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    submit: function (e) {\r\n        const contextImage = this.context.image;\r\n        const imagePlugin = this.plugins.image;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        contextImage._altText = contextImage.altText.value;\r\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\r\n        contextImage._captionChecked = contextImage.captionCheckEl.checked;\r\n        if (contextImage._resizing) contextImage._proportionChecked = contextImage.proportion.checked;\r\n\r\n        try {\r\n            if (this.context.dialog.updateModal) {\r\n                imagePlugin.update_image.call(this, false, true, false);\r\n            }\r\n            \r\n            if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\r\n                this.showLoading();\r\n                imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\r\n            } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\r\n                this.showLoading();\r\n                imagePlugin.onRender_imgUrl.call(this, contextImage._v_src._linkValue);\r\n            }\r\n        } catch (error) {\r\n            this.closeLoading();\r\n            throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.plugins.dialog.close.call(this);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    submitAction: function (fileList) {\r\n        if (fileList.length === 0) return;\r\n\r\n        let fileSize = 0;\r\n        let files = [];\r\n        for (let i = 0, len = fileList.length; i < len; i++) {\r\n            if (/image/i.test(fileList[i].type)) {\r\n                files.push(fileList[i]);\r\n                fileSize += fileList[i].size;\r\n            }\r\n        }\r\n\r\n        const limitSize = this.options.imageUploadSizeLimit;\r\n        if (limitSize > 0) {\r\n            let infoSize = 0;\r\n            const imagesInfo = this.context.image._infoList;\r\n            for (let i = 0, len = imagesInfo.length; i < len; i++) {\r\n                infoSize += imagesInfo[i].size * 1;\r\n            }\r\n\r\n            if ((fileSize + infoSize) > limitSize) {\r\n                this.closeLoading();\r\n                const err = '[SUNEDITOR.imageUpload.fail] Size of uploadable total images: ' + (limitSize/1000) + 'KB';\r\n                if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\r\n                    this.functions.noticeOpen(err);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        const contextImage = this.context.image;\r\n        contextImage._uploadFileLength = files.length;\r\n        \r\n        const anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\r\n        const info = {\r\n            anchor: anchor,\r\n            inputWidth: contextImage.inputX.value,\r\n            inputHeight: contextImage.inputY.value,\r\n            align: contextImage._align,\r\n            isUpdate: this.context.dialog.updateModal,\r\n            alt: contextImage._altText,\r\n            element: contextImage._element\r\n        };\r\n\r\n        if (typeof this.functions.onImageUploadBefore === 'function') {\r\n            const result = this.functions.onImageUploadBefore(files, info, this, function (data) {\r\n                if (data && this._w.Array.isArray(data.result)) {\r\n                    this.plugins.image.register.call(this, info, data);\r\n                } else {\r\n                    this.plugins.image.upload.call(this, info, data);\r\n                }\r\n            }.bind(this));\r\n            \r\n            if (typeof result === 'undefined') return;\r\n            if (!result) {\r\n                this.closeLoading();\r\n                return;\r\n            }\r\n            if (this._w.Array.isArray(result) && result.length > 0) files = result;\r\n        }\r\n\r\n        this.plugins.image.upload.call(this, info, files);\r\n    },\r\n\r\n    error: function (message, response) {\r\n        this.closeLoading();\r\n        if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(message, response, this)) {\r\n            this.functions.noticeOpen(message);\r\n            throw Error('[SUNEDITOR.plugin.image.error] response: ' + message);\r\n        }\r\n    },\r\n\r\n    upload: function (info, files) {\r\n        if (!files) {\r\n            this.closeLoading();\r\n            return;\r\n        }\r\n        if (typeof files === 'string') {\r\n            this.plugins.image.error.call(this, files, null);\r\n            return;\r\n        }\r\n\r\n        const imageUploadUrl = this.options.imageUploadUrl;\r\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\r\n\r\n        // server upload\r\n        if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\r\n            const formData = new FormData();\r\n            for (let i = 0; i < filesLen; i++) {\r\n                formData.append('file-' + i, files[i]);\r\n            }\r\n            this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\r\n        } else { // base64\r\n            this.plugins.image.setup_reader.call(this, files, info.anchor, info.inputWidth, info.inputHeight, info.align, info.alt, filesLen, info.isUpdate);\r\n        }\r\n    },\r\n\r\n    callBack_imgUpload: function (info, xmlHttp) {\r\n        if (typeof this.functions.imageUploadHandler === 'function') {\r\n            this.functions.imageUploadHandler(xmlHttp, info, this);\r\n        } else {\r\n            const response = JSON.parse(xmlHttp.responseText);\r\n            if (response.errorMessage) {\r\n                this.plugins.image.error.call(this, response.errorMessage, response);\r\n            } else {\r\n                this.plugins.image.register.call(this, info, response);\r\n            }\r\n        }\r\n    },\r\n\r\n    register: function (info, response) {\r\n        const fileList = response.result;\r\n\r\n        for (let i = 0, len = fileList.length, file; i < len; i++) {\r\n            file = { name: fileList[i].name, size: fileList[i].size };\r\n            if (info.isUpdate) {\r\n                this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\r\n                break;\r\n            } else {\r\n                this.plugins.image.create_image.call(this, fileList[i].url, info.anchor, info.inputWidth, info.inputHeight, info.align, file, info.alt);\r\n            }\r\n        }\r\n        \r\n        this.closeLoading();\r\n    },\r\n\r\n    setup_reader: function (files, anchor, width, height, align, alt, filesLen, isUpdate) {\r\n        try {\r\n            if (filesLen === 0) {\r\n                this.closeLoading();\r\n                console.warn('[SUNEDITOR.image.base64.fail] cause : No applicable files');\r\n                return;\r\n            }\r\n\r\n            this.context.image.base64RenderIndex = filesLen;\r\n            const wFileReader = this._w.FileReader;\r\n            const filesStack = [filesLen];\r\n            this.context.image.inputX.value = width;\r\n            this.context.image.inputY.value = height;\r\n    \r\n            for (let i = 0, reader, file; i < filesLen; i++) {\r\n                reader = new wFileReader();\r\n                file = files[i];\r\n    \r\n                reader.onload = function (reader, update, updateElement, file, index) {\r\n                    filesStack[index] = { result: reader.result, file: file };\r\n\r\n                    if (--this.context.image.base64RenderIndex === 0) {\r\n                        this.plugins.image.onRender_imgBase64.call(this, update, filesStack, updateElement, anchor, width, height, align, alt);\r\n                        this.closeLoading();\r\n                    }\r\n                }.bind(this, reader, isUpdate, this.context.image._element, file, i);\r\n\r\n                reader.readAsDataURL(file);\r\n            }\r\n        } catch (e) {\r\n            this.closeLoading();\r\n            throw Error('[SUNEDITOR.image.setup_reader.fail] cause : \"' + e.message + '\"');\r\n        }\r\n    },\r\n\r\n    onRender_imgBase64: function (update, filesStack, updateElement, anchor, width, height, align, alt) {\r\n        const updateMethod = this.plugins.image.update_src;\r\n        const createMethod = this.plugins.image.create_image;\r\n        \r\n        for (let i = 0, len = filesStack.length; i < len; i++) {\r\n            if (update) {\r\n                this.context.image._element.setAttribute('data-file-name', filesStack[i].file.name);\r\n                this.context.image._element.setAttribute('data-file-size', filesStack[i].file.size);\r\n                updateMethod.call(this, filesStack[i].result, updateElement, filesStack[i].file);\r\n            } else {\r\n                createMethod.call(this, filesStack[i].result, anchor, width, height, align, filesStack[i].file, alt);\r\n            }\r\n        }\r\n    },\r\n\r\n    onRender_imgUrl: function (url) {\r\n        if (!url) url = this.context.image._v_src._linkValue;\r\n        if (!url) return false;\r\n        const contextImage = this.context.image;\r\n\r\n        try {\r\n            const file = {name: url.split('/').pop(), size: 0};\r\n            if (this.context.dialog.updateModal) this.plugins.image.update_src.call(this, url, contextImage._element, file);\r\n            else this.plugins.image.create_image.call(this, url, this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true), contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file, contextImage._altText);\r\n        } catch (e) {\r\n            throw Error('[SUNEDITOR.image.URLRendering.fail] cause : \"' + e.message + '\"');\r\n        } finally {\r\n            this.closeLoading();\r\n        }\r\n    },\r\n\r\n    onRender_link: function (imgTag, anchor) {\r\n        if (anchor) {\r\n            anchor.setAttribute('data-image-link', 'image');\r\n            imgTag.setAttribute('data-image-link', anchor.href);\r\n            anchor.appendChild(imgTag);\r\n            return anchor;\r\n        }\r\n\r\n        return imgTag;\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     * @param {String} xy 'x': width, 'y': height\r\n     * @param {KeyboardEvent} e Event object\r\n     */\r\n    setInputSize: function (xy, e) {\r\n        if (e && e.keyCode === 32) {\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n\r\n        this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setRatio: function () {\r\n        this.plugins.resizing._module_setRatio.call(this, this.context.image);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    checkFileInfo: function () {\r\n        const imagePlugin = this.plugins.image;\r\n        const contextImage = this.context.image;\r\n\r\n        const modifyHandler = function (tag) {\r\n            imagePlugin.onModifyMode.call(this, tag, null);\r\n            imagePlugin.openModify.call(this, true);\r\n            // get size\r\n            contextImage.inputX.value = contextImage._origin_w;\r\n            contextImage.inputY.value = contextImage._origin_h;\r\n            // get align\r\n            const format = this.util.getFormatElement(tag);\r\n            if (format) contextImage._align = format.style.textAlign || format.style.float;\r\n            // link\r\n            if (this.util.isAnchor(tag.parentNode) && !contextImage.anchorCtx.linkValue) contextImage.anchorCtx.linkValue = ' ';\r\n            \r\n            imagePlugin.update_image.call(this, true, false, true);\r\n            imagePlugin.init.call(this);\r\n        }.bind(this);\r\n\r\n        this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    resetFileInfo: function () {\r\n        this.plugins.fileManager.resetInfo.call(this, 'image', this.functions.onImageUpload);\r\n    },\r\n\r\n    create_image: function (src, anchor, width, height, align, file, alt) {\r\n        const imagePlugin = this.plugins.image;\r\n        const contextImage = this.context.image;\r\n        this.context.resizing._resize_plugin = 'image';\r\n\r\n        let oImg = this.util.createElement('IMG');\r\n        oImg.src = src;\r\n        oImg.alt = alt;\r\n        oImg.setAttribute('data-rotate', '0');\r\n        anchor = imagePlugin.onRender_link.call(this, oImg, anchor ?  anchor.cloneNode(false) : null);\r\n\r\n        if (contextImage._resizing) {\r\n            oImg.setAttribute('data-proportion', contextImage._proportionChecked);\r\n        }\r\n\r\n        const cover = this.plugins.component.set_cover.call(this, anchor);\r\n        const container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\r\n\r\n        // caption\r\n        if (contextImage._captionChecked) {\r\n            contextImage._caption = this.plugins.component.create_caption.call(this);\r\n            cover.appendChild(contextImage._caption);\r\n        }\r\n\r\n        contextImage._element = oImg;\r\n        contextImage._cover = cover;\r\n        contextImage._container = container;\r\n\r\n        // set size\r\n        imagePlugin.applySize.call(this, width, height);\r\n\r\n        // align\r\n        imagePlugin.setAlign.call(this, align, oImg, cover, container);\r\n\r\n        oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize, container);\r\n        if (this.insertComponent(container, true, true, !this.options.mediaAutoSelect)) this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\r\n        this.context.resizing._resize_plugin = '';\r\n    },\r\n\r\n    _image_create_onload: function (oImg, svgDefaultSize, container) {\r\n        // svg exception handling\r\n        if (oImg.offsetWidth === 0) this.plugins.image.applySize.call(this, svgDefaultSize, '');\r\n        if (this.options.mediaAutoSelect) {\r\n            this.selectComponent(oImg, 'image');\r\n        } else {\r\n            const line = this.appendFormatTag(container, null);\r\n            if (line) this.setRange(line, 0, line, 0);\r\n        }\r\n        this.history.push(false);\r\n    },\r\n\r\n    update_image: function (init, openController, notHistoryPush) {\r\n        const contextImage = this.context.image;\r\n        let imageEl = contextImage._element;\r\n        let cover = contextImage._cover;\r\n        let container = contextImage._container;\r\n        let isNewContainer = false;\r\n\r\n        if (cover === null) {\r\n            isNewContainer = true;\r\n            imageEl = contextImage._element.cloneNode(true);\r\n            cover = this.plugins.component.set_cover.call(this, imageEl);\r\n        }\r\n\r\n        if (container === null) {\r\n            cover = cover.cloneNode(true);\r\n            imageEl = cover.querySelector('img');\r\n            isNewContainer = true;\r\n            container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\r\n        } else if (isNewContainer) {\r\n            container.innerHTML = '';\r\n            container.appendChild(cover);\r\n            contextImage._cover = cover;\r\n            contextImage._element = imageEl;\r\n            isNewContainer = false;\r\n        }\r\n\r\n        // check size\r\n        let changeSize;\r\n        const x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\r\n        const y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\r\n        if (/%$/.test(imageEl.style.width)) {\r\n            changeSize = x !== container.style.width || y !== container.style.height;\r\n        } else {\r\n            changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\r\n        }\r\n\r\n        // alt\r\n        imageEl.alt = contextImage._altText;\r\n        \r\n        // caption\r\n        let modifiedCaption = false;\r\n        if (contextImage._captionChecked) {\r\n            if (!contextImage._caption) {\r\n                contextImage._caption = this.plugins.component.create_caption.call(this);\r\n                cover.appendChild(contextImage._caption);\r\n                modifiedCaption = true;\r\n            }\r\n        } else {\r\n            if (contextImage._caption) {\r\n                this.util.removeItem(contextImage._caption);\r\n                contextImage._caption = null;\r\n                modifiedCaption = true;\r\n            }\r\n        }\r\n\r\n        // link\r\n        let isNewAnchor = null;\r\n        const anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\r\n        if (anchor) {\r\n            if (contextImage._linkElement !== anchor || (isNewContainer && !container.contains(anchor))) {\r\n                contextImage._linkElement = anchor.cloneNode(false);\r\n                cover.insertBefore(this.plugins.image.onRender_link.call(this, imageEl, contextImage._linkElement), contextImage._caption);\r\n                isNewAnchor = contextImage._element;\r\n            } else {\r\n                contextImage._linkElement.setAttribute('data-image-link', 'image');\r\n            }\r\n        } else if (contextImage._linkElement !== null) {\r\n            const imageElement = imageEl;\r\n            imageElement.setAttribute('data-image-link', '');\r\n            if (cover.contains(contextImage._linkElement)) {\r\n                const newEl = imageElement.cloneNode(true);\r\n                cover.removeChild(contextImage._linkElement);\r\n                cover.insertBefore(newEl, contextImage._caption);\r\n                contextImage._element = imageEl = newEl;\r\n            }\r\n        }\r\n\r\n        let existElement = null;\r\n        if (isNewContainer) {\r\n            const imgParent = contextImage._element.parentNode;\r\n            existElement = (this.util.isRangeFormatElement(imgParent) || this.util.isWysiwygDiv(imgParent)) ? contextImage._element : imgParent || contextImage._element;\r\n                \r\n            if (this.util.getParentElement(contextImage._element, this.util.isNotCheckingNode)) {\r\n                existElement = isNewAnchor ? anchor : contextImage._element;\r\n                existElement.parentNode.replaceChild(container, existElement);\r\n            } else if (this.util.isListCell(existElement)) {\r\n                const refer = this.util.getParentElement(contextImage._element, function (current) { return current.parentNode === existElement; });\r\n                existElement.insertBefore(container, refer);\r\n                this.util.removeItem(contextImage._element);\r\n                this.util.removeEmptyNode(refer, null, true);\r\n            } else if (this.util.isFormatElement(existElement)) {\r\n                const refer = this.util.getParentElement(contextImage._element, function (current) { return current.parentNode === existElement; });\r\n                existElement = this.util.splitElement(existElement, refer);\r\n                existElement.parentNode.insertBefore(container, existElement);\r\n                this.util.removeItem(contextImage._element);\r\n                this.util.removeEmptyNode(existElement, null, true);\r\n                if (existElement.children.length === 0) existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\r\n            } else {\r\n                if (this.util.isFormatElement(existElement.parentNode)) {\r\n                    const formats = existElement.parentNode;\r\n                    formats.parentNode.insertBefore(container, existElement.previousSibling ? formats.nextElementSibling : formats);\r\n                    if (contextImage.__updateTags.map(function (current) { return existElement.contains(current); }).length === 0) this.util.removeItem(existElement);\r\n                } else {\r\n                    existElement = this.util.isFigures(existElement.parentNode) ? existElement.parentNode : existElement;\r\n                    existElement.parentNode.replaceChild(container, existElement);\r\n                }\r\n            }\r\n\r\n            imageEl = container.querySelector('img');\r\n\r\n            contextImage._element = imageEl;\r\n            contextImage._cover = cover;\r\n            contextImage._container = container;\r\n        }\r\n\r\n        if (isNewAnchor) {\r\n            if (!isNewContainer) {\r\n                this.util.removeItem(anchor);\r\n            } else {\r\n                this.util.removeItem(isNewAnchor);\r\n                if (this.util.getListChildren(anchor, function (current) { return /IMG/i.test(current.tagName); }).length === 0) {\r\n                    this.util.removeItem(anchor);\r\n                }\r\n            }\r\n        }\r\n\r\n        // transform\r\n        if (modifiedCaption || (!contextImage._onlyPercentage && changeSize)) {\r\n            if (!init && (/\\d+/.test(imageEl.style.height) || (this.context.resizing._rotateVertical && contextImage._captionChecked))) {\r\n                if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\r\n                    this.plugins.resizing.resetTransform.call(this, imageEl);\r\n                } else {\r\n                    this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\r\n                }\r\n            }\r\n        }\r\n\r\n        // size\r\n        if (contextImage._resizing) {\r\n            imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\r\n            if (changeSize) {\r\n                this.plugins.image.applySize.call(this);\r\n            }\r\n        }\r\n\r\n        // align\r\n        this.plugins.image.setAlign.call(this, null, imageEl, null, null);\r\n\r\n        // set imagesInfo\r\n        if (init) {\r\n            this.plugins.fileManager.setInfo.call(this, 'image', imageEl, this.functions.onImageUpload, null, true);\r\n        }\r\n\r\n        if (openController) {\r\n            this.selectComponent(imageEl, 'image');\r\n        }\r\n\r\n        // history stack\r\n        if (!notHistoryPush) this.history.push(false);\r\n    },\r\n\r\n    update_src: function (src, element, file) {\r\n        element.src = src;\r\n        this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, 'image', element, this.functions.onImageUpload, file, true));\r\n        this.selectComponent(element, 'image');\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    onModifyMode: function (element, size) {\r\n        if (!element) return;\r\n        \r\n        const contextImage = this.context.image;\r\n        contextImage._linkElement = contextImage.anchorCtx.linkAnchor = this.util.isAnchor(element.parentNode) ? element.parentNode : null;\r\n        contextImage._element = element;\r\n        contextImage._cover = this.util.getParentElement(element, 'FIGURE');\r\n        contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\r\n        contextImage._caption = this.util.getChildElement(contextImage._cover, 'FIGCAPTION');\r\n        contextImage._align =  element.getAttribute('data-align') || element.style.float || 'none';\r\n        element.style.float = '';\r\n        this.plugins.anchor.setCtx(contextImage._linkElement, contextImage.anchorCtx);\r\n\r\n        if (size) {\r\n            contextImage._element_w = size.w;\r\n            contextImage._element_h = size.h;\r\n            contextImage._element_t = size.t;\r\n            contextImage._element_l = size.l;\r\n        }\r\n\r\n        let userSize = contextImage._element.getAttribute('data-size') || contextImage._element.getAttribute('data-origin');\r\n        let w, h;\r\n        if (userSize) {\r\n            userSize = userSize.split(',');\r\n            w = userSize[0];\r\n            h = userSize[1];\r\n        } else if (size) {\r\n            w = size.w;\r\n            h = size.h;\r\n        }\r\n\r\n        contextImage._origin_w = w || element.style.width || element.width || '';\r\n        contextImage._origin_h = h || element.style.height || element.height || '';\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    openModify: function (notOpen) {\r\n        const contextImage = this.context.image;\r\n        if (contextImage.imgUrlFile) {\r\n            contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\r\n        }\r\n        contextImage._altText = contextImage.altText.value = contextImage._element.alt;\r\n        (contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]') || contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]')).checked = true;\r\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\r\n        contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\r\n        \r\n        if (contextImage._resizing) {\r\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\r\n        }\r\n\r\n        if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    applySize: function (w, h) {\r\n        const contextImage = this.context.image;\r\n\r\n        if (!w) w = contextImage.inputX.value || this.options.imageWidth;\r\n        if (!h) h = contextImage.inputY.value || this.options.imageHeight;\r\n        \r\n        if ((contextImage._onlyPercentage && !!w) || /%$/.test(w)) {\r\n            this.plugins.image.setPercentSize.call(this, w, h);\r\n            return true;\r\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\r\n            this.plugins.image.setAutoSize.call(this);\r\n        } else {\r\n            this.plugins.image.setSize.call(this, w, h, false);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    sizeRevert: function () {\r\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setSize: function (w, h, notResetPercentage, direction) {\r\n        const contextImage = this.context.image;\r\n        const onlyW = /^(rw|lw)$/.test(direction) && /\\d+/.test(contextImage._element.style.height);\r\n        const onlyH = /^(th|bh)$/.test(direction) && /\\d+/.test(contextImage._element.style.width);\r\n\r\n        if (!onlyH) {\r\n            contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\r\n            this.plugins.image.cancelPercentAttr.call(this);\r\n        }\r\n        if (!onlyW) {\r\n            contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? '' : h;\r\n        }\r\n\r\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\r\n        if (!notResetPercentage) contextImage._element.removeAttribute('data-percentage');\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setAutoSize: function () {\r\n        const contextImage = this.context.image;\r\n\r\n        if (contextImage._caption) contextImage._caption.style.marginTop = '';\r\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\r\n        this.plugins.image.cancelPercentAttr.call(this);\r\n\r\n        contextImage._element.style.maxWidth = '';\r\n        contextImage._element.style.width = '';\r\n        contextImage._element.style.height = '';\r\n        contextImage._cover.style.width = '';\r\n        contextImage._cover.style.height = '';\r\n\r\n        this.plugins.image.setAlign.call(this, null, null, null, null);\r\n        contextImage._element.setAttribute('data-percentage', 'auto,auto');\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\r\n    },\r\n    \r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setOriginSize: function () {\r\n        const contextImage = this.context.image;\r\n        contextImage._element.removeAttribute('data-percentage');\r\n\r\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\r\n        this.plugins.image.cancelPercentAttr.call(this);\r\n\r\n        const originSize = (contextImage._element.getAttribute('data-origin') || '').split(',');\r\n        const w = originSize[0];\r\n        const h = originSize[1];\r\n\r\n        if (originSize) {\r\n            if (contextImage._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\r\n                this.plugins.image.setPercentSize.call(this, w, h);\r\n            } else {\r\n                this.plugins.image.setSize.call(this, w, h);\r\n            }\r\n\r\n            // save current size\r\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setPercentSize: function (w, h) {\r\n        const contextImage = this.context.image;\r\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : (h || '');\r\n        const heightPercentage = /%$/.test(h);\r\n\r\n        contextImage._container.style.width = this.util.isNumber(w) ? w + '%' : w;\r\n        contextImage._container.style.height = '';\r\n        contextImage._cover.style.width = '100%';\r\n        contextImage._cover.style.height = !heightPercentage ? '' : h;\r\n        contextImage._element.style.width = '100%';\r\n        contextImage._element.style.height = heightPercentage ? '' : h;\r\n        contextImage._element.style.maxWidth = '';\r\n\r\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\r\n\r\n        contextImage._element.setAttribute('data-percentage', w + ',' + h);\r\n        this.plugins.resizing.setCaptionPosition.call(this, contextImage._element);\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    cancelPercentAttr: function () {\r\n        const contextImage = this.context.image;\r\n        \r\n        contextImage._cover.style.width = '';\r\n        contextImage._cover.style.height = '';\r\n        contextImage._container.style.width = '';\r\n        contextImage._container.style.height = '';\r\n\r\n        this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\r\n        this.util.addClass(contextImage._container, '__se__float-' + contextImage._align);\r\n\r\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setAlign: function (align, element, cover, container) {\r\n        const contextImage = this.context.image;\r\n        \r\n        if (!align) align = contextImage._align;\r\n        if (!element) element = contextImage._element;\r\n        if (!cover) cover = contextImage._cover;\r\n        if (!container) container = contextImage._container;\r\n\r\n        if (/%$/.test(element.style.width) && align === 'center') {\r\n            container.style.minWidth = '100%';\r\n            cover.style.width = container.style.width;\r\n        } else {\r\n            container.style.minWidth = '';\r\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : ((!element.style.width || element.style.width === 'auto') ? '' : element.style.width || '100%');\r\n        }\r\n\r\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\r\n            this.util.removeClass(container, contextImage._floatClassRegExp);\r\n            this.util.addClass(container, '__se__float-' + align);\r\n        }\r\n        \r\n        element.setAttribute('data-align', align);\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    init: function () {\r\n        const contextImage = this.context.image;\r\n        if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\r\n        if (contextImage.imgUrlFile) contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = '';\r\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) {\r\n            contextImage.imgUrlFile.removeAttribute('disabled');\r\n            contextImage.previewSrc.style.textDecoration = '';\r\n        }\r\n\r\n        contextImage.altText.value = '';\r\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\r\n        contextImage.captionCheckEl.checked = false;\r\n        contextImage._element = null;\r\n        this.plugins.image.openTab.call(this, 'init');\r\n\r\n        if (contextImage._resizing) {\r\n            contextImage.inputX.value = this.options.imageWidth === contextImage._defaultSizeX ? '' : this.options.imageWidth;\r\n            contextImage.inputY.value = this.options.imageHeight === contextImage._defaultSizeY ? '' : this.options.imageHeight;\r\n            contextImage.proportion.checked = true;\r\n            contextImage._ratio = false;\r\n            contextImage._ratioX = 1;\r\n            contextImage._ratioY = 1;\r\n        }\r\n\r\n        this.plugins.anchor.init.call(this, contextImage.anchorCtx);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport dialog from '../modules/dialog';\r\nimport component from '../modules/component';\r\nimport resizing from '../modules/resizing';\r\nimport fileManager from '../modules/fileManager';\r\n\r\nexport default {\r\n    name: 'video',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([dialog, component, resizing, fileManager]);\r\n\r\n        const options = core.options;\r\n        const context = core.context;\r\n        const contextVideo = context.video = {\r\n            _infoList: [], // @Override fileManager\r\n            _infoIndex: 0, // @Override fileManager\r\n            _uploadFileLength: 0, // @Override fileManager\r\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\r\n            sizeUnit: options._videoSizeUnit,\r\n            _align: 'none',\r\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\r\n            _youtubeQuery: options.youtubeQuery,\r\n            _vimeoQuery: options.vimeoQuery,\r\n            _videoRatio: (options.videoRatio * 100) + '%',\r\n            _defaultRatio: (options.videoRatio * 100) + '%',\r\n            _linkValue: '',\r\n            // @require @Override component\r\n            _element: null,\r\n            _cover: null,\r\n            _container: null,\r\n            // @Override resizing properties\r\n            inputX: null,\r\n            inputY: null,\r\n            _element_w: 1,\r\n            _element_h: 1,\r\n            _element_l: 0,\r\n            _element_t: 0,\r\n            _defaultSizeX: '100%',\r\n            _defaultSizeY: (options.videoRatio * 100) + '%',\r\n            _origin_w: options.videoWidth === '100%' ? '' : options.videoWidth,\r\n            _origin_h: options.videoHeight === '56.25%' ? '' : options.videoHeight,\r\n            _proportionChecked: true,\r\n            _resizing: options.videoResizing,\r\n            _resizeDotHide: !options.videoHeightShow,\r\n            _rotation: options.videoRotation,\r\n            _alignHide: !options.videoAlignShow,\r\n            _onlyPercentage: options.videoSizeOnlyPercentage,\r\n            _ratio: false,\r\n            _ratioX: 1,\r\n            _ratioY: 1,\r\n            _captionShow: false\r\n        };\r\n\r\n        /** video dialog */\r\n        let video_dialog = this.setDialog(core);\r\n        contextVideo.modal = video_dialog;\r\n        contextVideo.videoInputFile = video_dialog.querySelector('._se_video_file');\r\n        contextVideo.videoUrlFile = video_dialog.querySelector('.se-input-url');\r\n        contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\r\n        contextVideo.preview = video_dialog.querySelector('.se-link-preview');\r\n\r\n        /** add event listeners */\r\n        video_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\r\n        if (contextVideo.videoInputFile) video_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\r\n        if (contextVideo.videoInputFile && contextVideo.videoUrlFile) contextVideo.videoInputFile.addEventListener('change', this._fileInputChange.bind(contextVideo));\r\n        if (contextVideo.videoUrlFile) contextVideo.videoUrlFile.addEventListener('input', this._onLinkPreview.bind(contextVideo.preview, contextVideo, options.linkProtocol));\r\n\r\n        contextVideo.proportion = {};\r\n        contextVideo.videoRatioOption = {};\r\n        contextVideo.inputX = {};\r\n        contextVideo.inputY = {};\r\n        if (options.videoResizing) {\r\n            contextVideo.proportion = video_dialog.querySelector('._se_video_check_proportion');\r\n            contextVideo.videoRatioOption = video_dialog.querySelector('.se-video-ratio');\r\n            contextVideo.inputX = video_dialog.querySelector('._se_video_size_x');\r\n            contextVideo.inputY = video_dialog.querySelector('._se_video_size_y');\r\n            contextVideo.inputX.value = options.videoWidth;\r\n            contextVideo.inputY.value = options.videoHeight;\r\n\r\n            contextVideo.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\r\n            contextVideo.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\r\n\r\n            contextVideo.inputX.addEventListener('change', this.setRatio.bind(core));\r\n            contextVideo.inputY.addEventListener('change', this.setRatio.bind(core));\r\n            contextVideo.proportion.addEventListener('change', this.setRatio.bind(core));\r\n            contextVideo.videoRatioOption.addEventListener('change', this.setVideoRatio.bind(core));\r\n\r\n            video_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\r\n        }\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(video_dialog);\r\n\r\n        /** empty memory */\r\n        video_dialog = null;\r\n    },\r\n\r\n    /** dialog */\r\n    setDialog: function (core) {\r\n        const option = core.options;\r\n        const lang = core.lang;\r\n        const dialog = core.util.createElement('DIV');\r\n\r\n        dialog.className = 'se-dialog-content';\r\n        dialog.style.display = 'none';\r\n        let html = '' +\r\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\r\n                '<div class=\"se-dialog-header\">' +\r\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' +\r\n                        core.icons.cancel +\r\n                    '</button>' +\r\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.videoBox.title + '</span>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-body\">';\r\n\r\n                if (option.videoFileInput) {\r\n                    html += '' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.videoBox.file + '</label>' +\r\n                            '<div class=\"se-dialog-form-files\">' +\r\n                                '<input class=\"se-input-form _se_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\r\n                                '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\" aria-label=\"' + lang.controller.remove + '\">' + core.icons.cancel + '</button>' +\r\n                            '</div>' +\r\n                        '</div>' ;\r\n                }\r\n    \r\n                if (option.videoUrlInput) {\r\n                    html += '' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.videoBox.url + '</label>' +\r\n                            '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\r\n                            '<pre class=\"se-link-preview\"></pre>' +\r\n                        '</div>';\r\n                }\r\n\r\n            if (option.videoResizing) {\r\n                const ratioList = option.videoRatioList || [{name: '16:9', value: 0.5625}, {name: '4:3', value: 0.75}, {name: '21:9', value: 0.4285}];\r\n                const ratio = option.videoRatio;\r\n                const onlyPercentage = option.videoSizeOnlyPercentage;\r\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\r\n                const heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : '';\r\n                const ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\r\n                const onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\r\n                html += '' +\r\n                    '<div class=\"se-dialog-form\">' +\r\n                        '<div class=\"se-dialog-size-text\">' +\r\n                            '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\r\n                            '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\r\n                            '<label class=\"size-h\"' + heightDisplay + '>' + lang.dialogBox.height + '</label>' +\r\n                            '<label class=\"size-h\"' + ratioDisplay + '>(' + lang.dialogBox.ratio + ')</label>' +\r\n                        '</div>' +\r\n                        '<input class=\"se-input-control _se_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + '/>' +\r\n                        '<label class=\"se-dialog-size-x\"' + onlyWidthDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\r\n                        '<input class=\"se-input-control _se_video_size_y\" placeholder=\"' + (option.videoRatio * 100) + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\r\n                        '<select class=\"se-input-select se-video-ratio\" title=\"' + lang.dialogBox.ratio + '\" aria-label=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + '>';\r\n                            if (!heightDisplay) html += '<option value=\"\"> - </option>';\r\n                            for (let i = 0, len = ratioList.length; i < len; i++) {\r\n                                html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? ' selected' : '') + '>' + ratioList[i].name + '</option>';\r\n                            }\r\n                        html += '</select>' +\r\n                        '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" aria-label=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + '</button>' +\r\n                    '</div>' +\r\n                    '<div class=\"se-dialog-form se-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + '>' +\r\n                        '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\r\n                    '</div>';\r\n            }\r\n\r\n            html += '' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-footer\">' +\r\n                    '<div' + (option.videoAlignShow ? '' : ' style=\"display: none\"') + '>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\r\n                    '</div>' +\r\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n                '</div>' +\r\n            '</form>';\r\n\r\n        dialog.innerHTML = html;\r\n\r\n        return dialog;\r\n    },\r\n\r\n    _fileInputChange: function () {\r\n        if (!this.videoInputFile.value) {\r\n            this.videoUrlFile.removeAttribute('disabled');\r\n            this.preview.style.textDecoration = '';\r\n        } else {\r\n            this.videoUrlFile.setAttribute('disabled', true);\r\n            this.preview.style.textDecoration = 'line-through';\r\n        }\r\n    },\r\n\r\n    _removeSelectedFiles: function (urlInput, preview) {\r\n        this.value = '';\r\n        if (urlInput) {\r\n            urlInput.removeAttribute('disabled');\r\n            preview.style.textDecoration = '';\r\n        }\r\n    },\r\n\r\n    _onLinkPreview: function (context, protocol, e) {\r\n        const value = e.target.value.trim();\r\n        if (/^<iframe.*\\/iframe>$/.test(value)) {\r\n            context._linkValue = value;\r\n            this.textContent = '<IFrame :src=\"..\"></IFrame>';\r\n        } else {\r\n            context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\r\n        }\r\n    },\r\n\r\n    _setTagAttrs: function (element) {\r\n        element.setAttribute('controls', true);\r\n\r\n        const attrs = this.options.videoTagAttrs;\r\n        if (!attrs) return;\r\n\r\n        for (let key in attrs) {\r\n            if (!this.util.hasOwn(attrs, key)) continue;\r\n            element.setAttribute(key, attrs[key]);\r\n        }\r\n    },\r\n\r\n    createVideoTag: function () {\r\n        const videoTag = this.util.createElement('VIDEO');\r\n        this.plugins.video._setTagAttrs.call(this, videoTag);\r\n        return videoTag;\r\n    },\r\n\r\n    _setIframeAttrs: function (element) {\r\n        element.frameBorder = '0';\r\n        element.allowFullscreen = true;\r\n\r\n        const attrs = this.options.videoIframeAttrs;\r\n        if (!attrs) return;\r\n\r\n        for (let key in attrs) {\r\n            if (!this.util.hasOwn(attrs, key)) continue;\r\n            element.setAttribute(key, attrs[key]);\r\n        }\r\n    },\r\n\r\n    createIframeTag: function () {\r\n        const iframeTag = this.util.createElement('IFRAME');\r\n        this.plugins.video._setIframeAttrs.call(this, iframeTag);\r\n        return iframeTag;\r\n    },\r\n\r\n    /**\r\n     * @Override @Required fileManager\r\n     */\r\n    fileTags: ['iframe', 'video'],\r\n\r\n    /**\r\n     * @Override core, resizing, fileManager\r\n     * @description It is called from core.selectComponent.\r\n     * @param {Element} element Target element\r\n     */\r\n    select: function (element) {\r\n        this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'video'));\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager, resizing\r\n     */\r\n    destroy: function (element) {\r\n        const frame = element || this.context.video._element;\r\n        const container = this.context.video._container;\r\n        const dataIndex = frame.getAttribute('data-index') * 1;\r\n\r\n        if (typeof this.functions.onVideoDeleteBefore === 'function' && (this.functions.onVideoDeleteBefore(frame, container, dataIndex, this) === false)) return;\r\n\r\n        let focusEl = (container.previousElementSibling || container.nextElementSibling);\r\n        const emptyDiv = container.parentNode;\r\n        this.util.removeItem(container);\r\n        this.plugins.video.init.call(this);\r\n        this.controllersOff();\r\n\r\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n\r\n        // focus\r\n        this.focusEdge(focusEl);\r\n\r\n        // event\r\n        this.plugins.fileManager.deleteInfo.call(this, 'video', dataIndex, this.functions.onVideoUpload);\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    on: function (update) {\r\n        const contextVideo = this.context.video;\r\n\r\n        if (!update) {\r\n            contextVideo.inputX.value = contextVideo._origin_w = this.options.videoWidth === contextVideo._defaultSizeX ? '' : this.options.videoWidth;\r\n            contextVideo.inputY.value = contextVideo._origin_h = this.options.videoHeight === contextVideo._defaultSizeY ? '' : this.options.videoHeight;\r\n            contextVideo.proportion.disabled = true;\r\n            if (contextVideo.videoInputFile && this.options.videoMultipleFile) contextVideo.videoInputFile.setAttribute('multiple', 'multiple');\r\n        } else {\r\n            if (contextVideo.videoInputFile && this.options.videoMultipleFile) contextVideo.videoInputFile.removeAttribute('multiple');\r\n        }\r\n\r\n        if (contextVideo._resizing) {\r\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'video', 'video' === this.currentControllerName);\r\n    },\r\n    \r\n    setVideoRatio: function (e) {\r\n        const contextVideo = this.context.video;\r\n        const value = e.target.options[e.target.selectedIndex].value;\r\n\r\n        contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : (value * 100) + '%';\r\n        contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\r\n        contextVideo.inputY.value = '';\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     * @param {String} xy 'x': width, 'y': height\r\n     * @param {KeyboardEvent} e Event object\r\n     */\r\n    setInputSize: function (xy, e) {\r\n        if (e && e.keyCode === 32) {\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n\r\n        const contextVideo = this.context.video;\r\n        this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\r\n\r\n        if (xy === 'y') {\r\n            this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setRatio: function () {\r\n        this.plugins.resizing._module_setRatio.call(this, this.context.video);\r\n    },\r\n\r\n    submit: function (e) {\r\n        const contextVideo = this.context.video;\r\n        const videoPlugin = this.plugins.video;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\r\n\r\n        try {\r\n            if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\r\n                this.showLoading();\r\n                videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\r\n            } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\r\n                this.showLoading();\r\n                videoPlugin.setup_url.call(this, contextVideo._linkValue);\r\n            }\r\n        } catch (error) {\r\n            this.closeLoading();\r\n            throw Error('[SUNEDITOR.video.submit.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.plugins.dialog.close.call(this);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    submitAction: function (fileList) {\r\n        if (fileList.length === 0) return;\r\n\r\n        let fileSize = 0;\r\n        let files = [];\r\n        for (let i = 0, len = fileList.length; i < len; i++) {\r\n            if (/video/i.test(fileList[i].type)) {\r\n                files.push(fileList[i]);\r\n                fileSize += fileList[i].size;\r\n            }\r\n        }\r\n\r\n        const limitSize = this.options.videoUploadSizeLimit;\r\n        if (limitSize > 0) {\r\n            let infoSize = 0;\r\n            const videosInfo = this.context.video._infoList;\r\n            for (let i = 0, len = videosInfo.length; i < len; i++) {\r\n                infoSize += videosInfo[i].size * 1;\r\n            }\r\n\r\n            if ((fileSize + infoSize) > limitSize) {\r\n                this.closeLoading();\r\n                const err = '[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: ' + (limitSize/1000) + 'KB';\r\n                if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\r\n                    this.functions.noticeOpen(err);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        const contextVideo = this.context.video;\r\n        contextVideo._uploadFileLength = files.length;\r\n\r\n        const info = {\r\n            inputWidth: contextVideo.inputX.value,\r\n            inputHeight: contextVideo.inputY.value,\r\n            align: contextVideo._align,\r\n            isUpdate: this.context.dialog.updateModal,\r\n            element: contextVideo._element\r\n        };\r\n\r\n        if (typeof this.functions.onVideoUploadBefore === 'function') {\r\n            const result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\r\n                if (data && this._w.Array.isArray(data.result)) {\r\n                    this.plugins.video.register.call(this, info, data);\r\n                } else {\r\n                    this.plugins.video.upload.call(this, info, data);\r\n                }\r\n            }.bind(this));\r\n\r\n            if (typeof result === 'undefined') return;\r\n            if (!result) {\r\n                this.closeLoading();\r\n                return;\r\n            }\r\n            if (typeof result === 'object' && result.length > 0) files = result;\r\n        }\r\n\r\n        this.plugins.video.upload.call(this, info, files);\r\n    },\r\n\r\n    error: function (message, response) {\r\n        this.closeLoading();\r\n        if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(message, response, this)) {\r\n            this.functions.noticeOpen(message);\r\n            throw Error('[SUNEDITOR.plugin.video.error] response: ' + message);\r\n        }\r\n    },\r\n\r\n    upload: function (info, files) {\r\n        if (!files) {\r\n            this.closeLoading();\r\n            return;\r\n        }\r\n        if (typeof files === 'string') {\r\n            this.plugins.video.error.call(this, files, null);\r\n            return;\r\n        }\r\n\r\n        const videoUploadUrl = this.options.videoUploadUrl;\r\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\r\n\r\n        // server upload\r\n        if (typeof videoUploadUrl === 'string' && videoUploadUrl.length > 0) {\r\n            const formData = new FormData();\r\n            for (let i = 0; i < filesLen; i++) {\r\n                formData.append('file-' + i, files[i]);\r\n            }\r\n            this.plugins.fileManager.upload.call(this, videoUploadUrl, this.options.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\r\n        } else {\r\n            throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\r\n        }\r\n    },\r\n\r\n    callBack_videoUpload: function (info, xmlHttp) {\r\n        if (typeof this.functions.videoUploadHandler === 'function') {\r\n            this.functions.videoUploadHandler(xmlHttp, info, this);\r\n        } else {\r\n            const response = JSON.parse(xmlHttp.responseText);\r\n            if (response.errorMessage) {\r\n                this.plugins.video.error.call(this, response.errorMessage, response);\r\n            } else {\r\n                this.plugins.video.register.call(this, info, response);\r\n            }\r\n        }\r\n    },\r\n\r\n    register: function (info, response) {\r\n        const fileList = response.result;\r\n        const videoTag = this.plugins.video.createVideoTag.call(this);\r\n\r\n        for (let i = 0, len = fileList.length, file; i < len; i++) {\r\n            file = { name: fileList[i].name, size: fileList[i].size };\r\n            this.plugins.video.create_video.call(this, (info.isUpdate ? info.element : videoTag.cloneNode(false)), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\r\n        }\r\n\r\n        this.closeLoading();\r\n    },\r\n\r\n    setup_url: function (url) {\r\n        try {\r\n            const contextVideo = this.context.video;\r\n            if (!url) url = contextVideo._linkValue;\r\n            if (!url) return false;\r\n\r\n            /** iframe source */\r\n            if (/^<iframe.*\\/iframe>$/.test(url)) {\r\n                const oIframe = (new this._w.DOMParser()).parseFromString(url, 'text/html').querySelector('iframe');\r\n                url = oIframe.src;\r\n                if (url.length === 0) return false;\r\n            }\r\n            \r\n            /** youtube */\r\n            if (/youtu\\.?be/.test(url)) {\r\n                if (!/^http/.test(url)) url = 'https://' + url;\r\n                url = url.replace('watch?v=', '');\r\n                if (!/^\\/\\/.+\\/embed\\//.test(url)) {\r\n                    url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/').replace('&', '?&');\r\n                }\r\n\r\n                if (contextVideo._youtubeQuery.length > 0) {\r\n                    if (/\\?/.test(url)) {\r\n                        const splitUrl = url.split('?');\r\n                        url = splitUrl[0] + '?' + contextVideo._youtubeQuery + '&' + splitUrl[1];\r\n                    } else {\r\n                        url += '?' + contextVideo._youtubeQuery;\r\n                    }\r\n                }\r\n            } else if (/vimeo\\.com/.test(url)) {\r\n                if (url.endsWith('/')) {\r\n                    url = url.slice(0, -1);\r\n                }\r\n                url = 'https://player.vimeo.com/video/' + url.slice(url.lastIndexOf('/') + 1);\r\n\r\n                if (contextVideo._vimeoQuery.length > 0) {\r\n                    if (/\\?/.test(url)) {\r\n                        const splitUrl = url.split('?');\r\n                        url = splitUrl[0] + '?' + contextVideo._vimeoQuery + '&' + splitUrl[1];\r\n                    } else {\r\n                        url += '?' + contextVideo._vimeoQuery;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.plugins.video.create_video.call(this, this.plugins.video[(!/embed|iframe|player|\\/e\\/|\\.php|\\.html?/.test(url) && !/vimeo\\.com/.test(url) ? \"createVideoTag\" : \"createIframeTag\")].call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\r\n        } catch (error) {\r\n            throw Error('[SUNEDITOR.video.upload.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.closeLoading();\r\n        }\r\n    },\r\n\r\n    create_video: function (oFrame, src, width, height, align, file, isUpdate) {\r\n        this.context.resizing._resize_plugin = 'video';\r\n        const contextVideo = this.context.video;\r\n        \r\n        let cover = null;\r\n        let container = null;\r\n        let init = false;\r\n\r\n        /** update */\r\n        if (isUpdate) {\r\n            oFrame = contextVideo._element;\r\n            if (oFrame.src !== src) {\r\n                init = true;\r\n                const isYoutube = /youtu\\.?be/.test(src);\r\n                const isVimeo = /vimeo\\.com/.test(src);\r\n                if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\r\n                    const newTag = this.plugins.video.createIframeTag.call(this);\r\n                    newTag.src = src;\r\n                    oFrame.parentNode.replaceChild(newTag, oFrame);\r\n                    contextVideo._element = oFrame = newTag;\r\n                } else if (!isYoutube && !isVimeo && !/^video$/i.test(oFrame.nodeName)) {\r\n                    const newTag = this.plugins.video.createVideoTag.call(this);\r\n                    newTag.src = src;\r\n                    oFrame.parentNode.replaceChild(newTag, oFrame);\r\n                    contextVideo._element = oFrame = newTag;\r\n                } else {\r\n                    oFrame.src = src;\r\n                }\r\n            }\r\n            container = contextVideo._container;\r\n            cover = this.util.getParentElement(oFrame, 'FIGURE');\r\n        }\r\n        /** create */\r\n        else {\r\n            init = true;\r\n            oFrame.src = src;\r\n            contextVideo._element = oFrame;\r\n            cover = this.plugins.component.set_cover.call(this, oFrame);\r\n            container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\r\n        }\r\n\r\n        /** rendering */\r\n        contextVideo._cover = cover;\r\n        contextVideo._container = container;\r\n\r\n        const inputUpdate = (this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX)) || (this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio));\r\n        const changeSize = !isUpdate || inputUpdate;\r\n\r\n        if (contextVideo._resizing) {\r\n            this.context.video._proportionChecked = contextVideo.proportion.checked;\r\n            oFrame.setAttribute('data-proportion', contextVideo._proportionChecked);\r\n        }\r\n\r\n        // size\r\n        let isPercent = false;\r\n        if (changeSize) {\r\n            isPercent = this.plugins.video.applySize.call(this);\r\n        }\r\n\r\n        // align\r\n        if (!(isPercent && align === 'center')) {\r\n            this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\r\n        }\r\n\r\n        let changed = true;\r\n        if (!isUpdate) {\r\n            changed = this.insertComponent(container, false, true, !this.options.mediaAutoSelect);\r\n            if (!this.options.mediaAutoSelect) {\r\n                const line = this.appendFormatTag(container, null);\r\n                if (line) this.setRange(line, 0, line, 0);\r\n            }\r\n        } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\r\n            this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\r\n        }\r\n\r\n        if (changed) {\r\n            if (init) {\r\n                this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, file, true);\r\n            }\r\n            if (isUpdate) {\r\n                this.selectComponent(oFrame, 'video');\r\n                // history stack\r\n                this.history.push(false);\r\n            }\r\n        }\r\n\r\n        this.context.resizing._resize_plugin = '';\r\n    },\r\n\r\n    _update_videoCover: function (oFrame) {\r\n        if (!oFrame) return;\r\n\r\n        const contextVideo = this.context.video;\r\n        \r\n        if (/^video$/i.test(oFrame.nodeName)) this.plugins.video._setTagAttrs.call(this, oFrame);\r\n        else this.plugins.video._setIframeAttrs.call(this, oFrame);\r\n        \r\n        const frameParent = oFrame.parentNode;\r\n        let existElement = (this.util.isRangeFormatElement(frameParent) || this.util.isWysiwygDiv(frameParent)) ? oFrame : frameParent || oFrame;\r\n\r\n        const prevFrame = oFrame;\r\n        contextVideo._element = oFrame = oFrame.cloneNode(true);\r\n        const cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\r\n        const container = contextVideo._container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\r\n\r\n        try {\r\n            const figcaption = existElement.querySelector('figcaption');\r\n            let caption = null;\r\n            if (!!figcaption) {\r\n                caption = this.util.createElement('DIV');\r\n                caption.innerHTML = figcaption.innerHTML;\r\n                this.util.removeItem(figcaption);\r\n            }\r\n\r\n            // size\r\n            const size = (oFrame.getAttribute('data-size') || oFrame.getAttribute('data-origin') || '').split(',');\r\n            this.plugins.video.applySize.call(this, (size[0] || prevFrame.style.width || prevFrame.width || ''), (size[1] || prevFrame.style.height || prevFrame.height || ''));\r\n\r\n            // align\r\n            const format = this.util.getFormatElement(prevFrame);\r\n            if (format) contextVideo._align = format.style.textAlign || format.style.float;\r\n            this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\r\n\r\n            if (this.util.getParentElement(prevFrame, this.util.isNotCheckingNode)) {\r\n                prevFrame.parentNode.replaceChild(container, prevFrame);\r\n            } else if (this.util.isListCell(existElement)) {\r\n                const refer = this.util.getParentElement(prevFrame, function (current) { return current.parentNode === existElement; });\r\n                existElement.insertBefore(container, refer);\r\n                this.util.removeItem(prevFrame);\r\n                this.util.removeEmptyNode(refer, null, true);\r\n            } else if (this.util.isFormatElement(existElement)) {\r\n                const refer = this.util.getParentElement(prevFrame, function (current) { return current.parentNode === existElement; });\r\n                existElement = this.util.splitElement(existElement, refer);\r\n                existElement.parentNode.insertBefore(container, existElement);\r\n                this.util.removeItem(prevFrame);\r\n                this.util.removeEmptyNode(existElement, null, true);\r\n                if (existElement.children.length === 0) existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\r\n            } else {\r\n                existElement.parentNode.replaceChild(container, existElement);\r\n            }\r\n\r\n            if (!!caption) existElement.parentNode.insertBefore(caption, container.nextElementSibling);\r\n        } catch (error) {\r\n            console.warn('[SUNEDITOR.video.error] Maybe the video tag is nested.', error);\r\n        }\r\n\r\n        this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, null, true);\r\n        this.plugins.video.init.call(this);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    onModifyMode: function (element, size) {\r\n        const contextVideo = this.context.video;\r\n        contextVideo._element = element;\r\n        contextVideo._cover = this.util.getParentElement(element, 'FIGURE');\r\n        contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\r\n        contextVideo._align = element.style.float || element.getAttribute('data-align') || 'none';\r\n        element.style.float = '';\r\n\r\n        if (size) {\r\n            contextVideo._element_w = size.w;\r\n            contextVideo._element_h = size.h;\r\n            contextVideo._element_t = size.t;\r\n            contextVideo._element_l = size.l;\r\n        }\r\n\r\n        let origin = contextVideo._element.getAttribute('data-size') || contextVideo._element.getAttribute('data-origin');\r\n        let w, h;\r\n        if (origin) {\r\n            origin = origin.split(',');\r\n            w = origin[0];\r\n            h = origin[1];\r\n        } else if (size) {\r\n            w = size.w;\r\n            h = size.h;\r\n        }\r\n\r\n        contextVideo._origin_w = w || element.style.width || element.width || '';\r\n        contextVideo._origin_h = h || element.style.height || element.height || '';\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    openModify: function (notOpen) {\r\n        const contextVideo = this.context.video;\r\n\r\n        if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = (contextVideo._element.src || (contextVideo._element.querySelector('source') || '').src || '');\r\n        (contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]') || contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]')).checked = true;\r\n\r\n        if (contextVideo._resizing) {\r\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\r\n            \r\n            const y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\r\n            const ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\r\n            if (!ratioSelected) contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\r\n        }\r\n\r\n        if (!notOpen) this.plugins.dialog.open.call(this, 'video', true);\r\n    },\r\n    \r\n    setVideoRatioSelect: function (value) {\r\n        let ratioSelected = false;\r\n        const contextVideo = this.context.video;\r\n        const ratioOptions = contextVideo.videoRatioOption.options;\r\n\r\n        if (/%$/.test(value) || contextVideo._onlyPercentage) value = (this.util.getNumber(value, 2) / 100) + '';\r\n        else if (!this.util.isNumber(value) || (value * 1) >= 1) value = '';\r\n\r\n        contextVideo.inputY.placeholder = '';\r\n        for (let i = 0, len = ratioOptions.length; i < len; i++) {\r\n            if (ratioOptions[i].value === value) {\r\n                ratioSelected = ratioOptions[i].selected = true;\r\n                contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\r\n            }\r\n            else ratioOptions[i].selected = false;\r\n        }\r\n\r\n        return ratioSelected;\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    checkFileInfo: function () {\r\n        this.plugins.fileManager.checkInfo.call(this, 'video', ['iframe', 'video'], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    resetFileInfo: function () {\r\n        this.plugins.fileManager.resetInfo.call(this, 'video', this.functions.onVideoUpload);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    applySize: function (w, h) {\r\n        const contextVideo = this.context.video;\r\n\r\n        if (!w) w = contextVideo.inputX.value || this.options.videoWidth;\r\n        if (!h) h = contextVideo.inputY.value || this.options.videoHeight;\r\n        \r\n        if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\r\n            this.plugins.video.setPercentSize.call(this, (w || '100%'), (h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio)));\r\n            return true;\r\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\r\n            this.plugins.video.setAutoSize.call(this);\r\n        } else {\r\n            this.plugins.video.setSize.call(this, w, (h || contextVideo._videoRatio || contextVideo._defaultRatio), false);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    sizeRevert: function () {\r\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setSize: function (w, h, notResetPercentage, direction) {\r\n        const contextVideo = this.context.video;\r\n        const onlyW = /^(rw|lw)$/.test(direction);\r\n        const onlyH = /^(th|bh)$/.test(direction);\r\n\r\n        if (!onlyH) w = this.util.getNumber(w, 0);\r\n        if (!onlyW) h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? '' : h;\r\n        w = w ? w + contextVideo.sizeUnit : '';\r\n\r\n        if (!onlyH) contextVideo._element.style.width = w;\r\n        if (!onlyW) contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\r\n\r\n        if (!onlyH && !/%$/.test(w)) {\r\n            contextVideo._cover.style.width = w;\r\n            contextVideo._container.style.width = '';\r\n        }\r\n\r\n        if (!onlyW && !/%$/.test(h)) {\r\n            contextVideo._element.style.height = h;\r\n        } else {\r\n            contextVideo._element.style.height = '';\r\n        }\r\n\r\n        if (!notResetPercentage) contextVideo._element.removeAttribute('data-percentage');\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setAutoSize: function () {\r\n        this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setOriginSize: function (dataSize) {\r\n        const contextVideo = this.context.video;\r\n        contextVideo._element.removeAttribute('data-percentage');\r\n\r\n        this.plugins.resizing.resetTransform.call(this, contextVideo._element);\r\n        this.plugins.video.cancelPercentAttr.call(this);\r\n\r\n        const originSize = ((dataSize ? contextVideo._element.getAttribute('data-size') : '') || contextVideo._element.getAttribute('data-origin') || '').split(',');\r\n        \r\n        if (originSize) {\r\n            const w = originSize[0];\r\n            const h = originSize[1];\r\n\r\n            if (contextVideo._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\r\n                this.plugins.video.setPercentSize.call(this, w, h);\r\n            } else {\r\n                this.plugins.video.setSize.call(this, w, h);\r\n            }\r\n\r\n            // save current size\r\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setPercentSize: function (w, h) {\r\n        const contextVideo = this.context.video;\r\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : (h || contextVideo._defaultRatio);\r\n\r\n        contextVideo._container.style.width = this.util.isNumber(w) ? w + '%' : w;\r\n        contextVideo._container.style.height = '';\r\n        contextVideo._cover.style.width = '100%';\r\n        contextVideo._cover.style.height = h;\r\n        contextVideo._cover.style.paddingBottom = h;\r\n        contextVideo._element.style.width = '100%';\r\n        contextVideo._element.style.height = '100%';\r\n        contextVideo._element.style.maxWidth = '';\r\n\r\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\r\n        contextVideo._element.setAttribute('data-percentage', w + ',' + h);\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    cancelPercentAttr: function () {\r\n        const contextVideo = this.context.video;\r\n        \r\n        contextVideo._cover.style.width = '';\r\n        contextVideo._cover.style.height = '';\r\n        contextVideo._cover.style.paddingBottom = '';\r\n        contextVideo._container.style.width = '';\r\n        contextVideo._container.style.height = '';\r\n\r\n        this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\r\n        this.util.addClass(contextVideo._container, '__se__float-' + contextVideo._align);\r\n\r\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setAlign: function (align, element, cover, container) {\r\n        const contextVideo = this.context.video;\r\n        \r\n        if (!align) align = contextVideo._align;\r\n        if (!element) element = contextVideo._element;\r\n        if (!cover) cover = contextVideo._cover;\r\n        if (!container) container = contextVideo._container;\r\n\r\n        if (/%$/.test(element.style.width) && align === 'center') {\r\n            container.style.minWidth = '100%';\r\n            cover.style.width = container.style.width;\r\n            cover.style.height = cover.style.height;\r\n            cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber((this.util.getNumber(cover.style.height, 2) / 100) * this.util.getNumber(cover.style.width, 2), 2) + '%';\r\n        } else {\r\n            container.style.minWidth = '';\r\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : (element.style.width || '100%');\r\n            cover.style.paddingBottom = cover.style.height;\r\n        }\r\n\r\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\r\n            this.util.removeClass(container, contextVideo._floatClassRegExp);\r\n            this.util.addClass(container, '__se__float-' + align);\r\n        }\r\n        \r\n        element.setAttribute('data-align', align);\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    init: function () {\r\n        const contextVideo = this.context.video;\r\n        if (contextVideo.videoInputFile) contextVideo.videoInputFile.value = '';\r\n        if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = '';\r\n        if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\r\n            contextVideo.videoUrlFile.removeAttribute('disabled');\r\n            contextVideo.preview.style.textDecoration = '';\r\n        }\r\n\r\n        contextVideo._origin_w = this.options.videoWidth;\r\n        contextVideo._origin_h = this.options.videoHeight;\r\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\r\n        \r\n        if (contextVideo._resizing) {\r\n            contextVideo.inputX.value = this.options.videoWidth === contextVideo._defaultSizeX ? '' : this.options.videoWidth;\r\n            contextVideo.inputY.value = this.options.videoHeight === contextVideo._defaultSizeY ? '' : this.options.videoHeight;\r\n            contextVideo.proportion.checked = true;\r\n            contextVideo.proportion.disabled = true;\r\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\r\n        }\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport dialog from '../modules/dialog';\r\nimport component from '../modules/component';\r\nimport fileManager from '../modules/fileManager';\r\n\r\nexport default {\r\n    name: 'audio',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([dialog, component, fileManager]);\r\n\r\n        const context = core.context;\r\n        const contextAudio = context.audio = {\r\n            _infoList: [], // @Override fileManager\r\n            _infoIndex: 0, // @Override fileManager\r\n            _uploadFileLength: 0, // @Override fileManager\r\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\r\n            targetSelect: null,\r\n            _origin_w: core.options.audioWidth,\r\n            _origin_h: core.options.audioHeight,\r\n            _linkValue: '',\r\n            // @require @Override component\r\n            _element: null,\r\n            _cover: null,\r\n            _container: null,\r\n        };\r\n\r\n        /** dialog */\r\n        let audio_dialog = this.setDialog(core);\r\n        contextAudio.modal = audio_dialog;\r\n        contextAudio.audioInputFile = audio_dialog.querySelector('._se_audio_files');\r\n        contextAudio.audioUrlFile = audio_dialog.querySelector('.se-input-url');\r\n        contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\r\n        contextAudio.preview = audio_dialog.querySelector('.se-link-preview');\r\n\r\n        /** controller */\r\n        let audio_controller = this.setController(core);\r\n        contextAudio.controller = audio_controller;\r\n\r\n        /** add event listeners */\r\n        audio_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\r\n        if (contextAudio.audioInputFile) audio_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\r\n        if (contextAudio.audioInputFile && contextAudio.audioUrlFile) contextAudio.audioInputFile.addEventListener('change', this._fileInputChange.bind(contextAudio));\r\n        audio_controller.addEventListener('click', this.onClick_controller.bind(core));\r\n        if (contextAudio.audioUrlFile) contextAudio.audioUrlFile.addEventListener('input', this._onLinkPreview.bind(contextAudio.preview, contextAudio, core.options.linkProtocol));\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(audio_dialog);\r\n\r\n        /** append controller */\r\n        context.element.relative.appendChild(audio_controller);\r\n\r\n        /** empty memory */\r\n        audio_dialog = null, audio_controller = null;\r\n    },\r\n\r\n    /** HTML - dialog */\r\n    setDialog: function (core) {\r\n        const option = core.options;\r\n        const lang = core.lang;\r\n        const dialog = core.util.createElement('DIV');\r\n\r\n        dialog.className = 'se-dialog-content';\r\n        dialog.style.display = 'none';\r\n        let html = '' +\r\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\r\n                '<div class=\"se-dialog-header\">' +\r\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' +\r\n                        core.icons.cancel +\r\n                    '</button>' +\r\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.audioBox.title + '</span>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-body\">';\r\n\r\n                if (option.audioFileInput) {\r\n                    html += '' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.audioBox.file + '</label>' +\r\n                            '<div class=\"se-dialog-form-files\">' +\r\n                                '<input class=\"se-input-form _se_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\r\n                                '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\" aria-label=\"' + lang.controller.remove + '\">' + core.icons.cancel + '</button>' +\r\n                            '</div>' +\r\n                        '</div>';\r\n                }\r\n                 \r\n                if (option.audioUrlInput) {\r\n                    html += '' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.audioBox.url + '</label>' +\r\n                            '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\r\n                            '<pre class=\"se-link-preview\"></pre>' +\r\n                        '</div>';\r\n                }\r\n                    \r\n                html += '' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-footer\">' +\r\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n                '</div>' +\r\n            '</form>';\r\n\r\n        dialog.innerHTML = html;\r\n\r\n        return dialog;\r\n    },\r\n\r\n    /** HTML - controller */\r\n    setController: function (core) {\r\n        const lang = core.lang;\r\n        const icons = core.icons;\r\n        const link_btn = core.util.createElement('DIV');\r\n\r\n        link_btn.className = 'se-controller se-controller-link';\r\n        link_btn.innerHTML = '' +\r\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\r\n            '<div class=\"link-content\">' +\r\n                '<div class=\"se-btn-group\">' +\r\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-tooltip\">' +\r\n                        icons.edit +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return link_btn;\r\n    },\r\n\r\n    // Disable url input when uploading files\r\n    _fileInputChange: function () {\r\n        if (!this.audioInputFile.value) {\r\n            this.audioUrlFile.removeAttribute('disabled');\r\n            this.preview.style.textDecoration = '';\r\n        } else {\r\n            this.audioUrlFile.setAttribute('disabled', true);\r\n            this.preview.style.textDecoration = 'line-through';\r\n        }\r\n    },\r\n\r\n    // Disable url input when uploading files\r\n    _removeSelectedFiles: function (urlInput, preview) {\r\n        this.value = '';\r\n        if (urlInput) {\r\n            urlInput.removeAttribute('disabled');\r\n            preview.style.textDecoration = '';\r\n        }\r\n    },\r\n\r\n    // create new audio tag\r\n    _createAudioTag: function () {\r\n        const oAudio = this.util.createElement('AUDIO');\r\n        this.plugins.audio._setTagAttrs.call(this, oAudio);\r\n\r\n        const w = this.context.audio._origin_w;\r\n        const h = this.context.audio._origin_h;\r\n        oAudio.setAttribute('origin-size', w + ',' + h);\r\n        oAudio.style.cssText = (w ? ('width:' + w + '; ') : '') + (h ? ('height:' + h + ';') : '');\r\n\r\n        return oAudio;\r\n    },\r\n\r\n    _setTagAttrs: function (element) {\r\n        element.setAttribute('controls', true);\r\n\r\n        const attrs = this.options.audioTagAttrs;\r\n        if (!attrs) return;\r\n\r\n        for (let key in attrs) {\r\n            if (!this.util.hasOwn(attrs, key)) continue;\r\n            element.setAttribute(key, attrs[key]);\r\n        }\r\n    },\r\n\r\n    _onLinkPreview: function (context, protocol, e) {\r\n        const value = e.target.value.trim();\r\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager\r\n     */\r\n    fileTags: ['audio'],\r\n\r\n    /**\r\n     * @Override core, fileManager, resizing\r\n     * @description It is called from core.selectComponent.\r\n     * @param {Element} element Target element\r\n     */\r\n    select: function (element) {\r\n        this.plugins.audio.onModifyMode.call(this, element);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager, resizing \r\n     */\r\n    destroy: function (element) {\r\n        element = element || this.context.audio._element;\r\n        const container = this.util.getParentElement(element, this.util.isComponent) || element;\r\n        const dataIndex = element.getAttribute('data-index') * 1;\r\n        \r\n        if (typeof this.functions.onAudioDeleteBefore === 'function' && (this.functions.onAudioDeleteBefore(element, container, dataIndex, this) === false)) return;\r\n        \r\n        const focusEl = (container.previousElementSibling || container.nextElementSibling);\r\n        const emptyDiv = container.parentNode;\r\n        this.util.removeItem(container);\r\n        this.plugins.audio.init.call(this);\r\n        this.controllersOff();\r\n\r\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n\r\n        // focus\r\n        this.focusEdge(focusEl);\r\n\r\n        // fileManager event\r\n        this.plugins.fileManager.deleteInfo.call(this, 'audio', dataIndex, this.functions.onAudioUpload);\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    checkFileInfo: function () {\r\n        this.plugins.fileManager.checkInfo.call(this, 'audio', ['audio'], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    resetFileInfo: function () {\r\n        this.plugins.fileManager.resetInfo.call(this, 'audio', this.functions.onAudioUpload);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    on: function (update) {\r\n        const contextAudio = this.context.audio;\r\n\r\n        if (!update) {\r\n            this.plugins.audio.init.call(this);\r\n            if (contextAudio.audioInputFile && this.options.audioMultipleFile) contextAudio.audioInputFile.setAttribute('multiple', 'multiple');\r\n        } else if (contextAudio._element) {\r\n            this.context.dialog.updateModal = true;\r\n            contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\r\n            if (contextAudio.audioInputFile && this.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\r\n        } else {\r\n            if (contextAudio.audioInputFile && this.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'audio', 'audio' === this.currentControllerName);\r\n    },\r\n\r\n    submit: function (e) {\r\n        const contextAudio = this.context.audio;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        try {\r\n            if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\r\n                this.showLoading();\r\n                this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\r\n            } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\r\n                this.showLoading();\r\n                this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\r\n            }\r\n        } catch (error) {\r\n            this.closeLoading();\r\n            throw Error('[SUNEDITOR.audio.submit.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.plugins.dialog.close.call(this);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    submitAction: function (fileList) {\r\n        if (fileList.length === 0) return;\r\n\r\n        let fileSize = 0;\r\n        let files = [];\r\n        for (let i = 0, len = fileList.length; i < len; i++) {\r\n            if (/audio/i.test(fileList[i].type)) {\r\n                files.push(fileList[i]);\r\n                fileSize += fileList[i].size;\r\n            }\r\n        }\r\n\r\n        const limitSize = this.options.audioUploadSizeLimit;\r\n        if (limitSize > 0) {\r\n            let infoSize = 0;\r\n            const audiosInfo = this.context.audio._infoList;\r\n            for (let i = 0, len = audiosInfo.length; i < len; i++) {\r\n                infoSize += audiosInfo[i].size * 1;\r\n            }\r\n\r\n            if ((fileSize + infoSize) > limitSize) {\r\n                this.closeLoading();\r\n                const err = '[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: ' + (limitSize/1000) + 'KB';\r\n                if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\r\n                    this.functions.noticeOpen(err);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        const contextAudio = this.context.audio;\r\n        contextAudio._uploadFileLength = files.length;\r\n\r\n        const info = {\r\n            isUpdate: this.context.dialog.updateModal,\r\n            element: contextAudio._element\r\n        };\r\n\r\n        if (typeof this.functions.onAudioUploadBefore === 'function') {\r\n            const result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\r\n                if (data && this._w.Array.isArray(data.result)) {\r\n                    this.plugins.audio.register.call(this, info, data);\r\n                } else {\r\n                    this.plugins.audio.upload.call(this, info, data);\r\n                }\r\n            }.bind(this));\r\n\r\n            if (typeof result === 'undefined') return;\r\n            if (!result) {\r\n                this.closeLoading();\r\n                return;\r\n            }\r\n            if (typeof result === 'object' && result.length > 0) files = result;\r\n        }\r\n\r\n        this.plugins.audio.upload.call(this, info, files);\r\n    },\r\n\r\n    error: function (message, response) {\r\n        this.closeLoading();\r\n        if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(message, response, this)) {\r\n            this.functions.noticeOpen(message);\r\n            throw Error('[SUNEDITOR.plugin.audio.exception] response: ' + message);\r\n        }\r\n    },\r\n\r\n    upload: function (info, files) {\r\n        if (!files) {\r\n            this.closeLoading();\r\n            return;\r\n        }\r\n        if (typeof files === 'string') {\r\n            this.plugins.audio.error.call(this, files, null);\r\n            return;\r\n        }\r\n\r\n        const audioUploadUrl = this.options.audioUploadUrl;\r\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\r\n\r\n        // create formData\r\n        const formData = new FormData();\r\n        for (let i = 0; i < filesLen; i++) {\r\n            formData.append('file-' + i, files[i]);\r\n        }\r\n\r\n        // server upload\r\n        this.plugins.fileManager.upload.call(this, audioUploadUrl, this.options.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\r\n    },\r\n\r\n    callBack_upload: function (info, xmlHttp) {\r\n        if (typeof this.functions.audioUploadHandler === 'function') {\r\n            this.functions.audioUploadHandler(xmlHttp, info, this);\r\n        } else {\r\n            const response = JSON.parse(xmlHttp.responseText);\r\n            if (response.errorMessage) {\r\n                this.plugins.audio.error.call(this, response.errorMessage, response);\r\n            } else {\r\n                this.plugins.audio.register.call(this, info, response);\r\n            }\r\n        }\r\n    },\r\n\r\n    register: function (info, response) {\r\n        const fileList = response.result;\r\n\r\n        for (let i = 0, len = fileList.length, file, oAudio; i < len; i++) {\r\n            if (info.isUpdate) oAudio = info.element;\r\n            else oAudio = this.plugins.audio._createAudioTag.call(this);\r\n\r\n            file = { name: fileList[i].name, size: fileList[i].size };\r\n            this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\r\n        }\r\n\r\n        this.closeLoading();\r\n    },\r\n\r\n    setupUrl: function (src) {\r\n        try {\r\n            if (src.length === 0) return false;\r\n            this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\r\n        } catch (error) {\r\n            throw Error('[SUNEDITOR.audio.audio.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.closeLoading();\r\n        }\r\n    },\r\n\r\n    create_audio: function (element, src, file, isUpdate) {\r\n        const contextAudio = this.context.audio;\r\n        \r\n        // create new tag\r\n        if (!isUpdate) {\r\n            element.src = src;\r\n            const cover = this.plugins.component.set_cover.call(this, element);\r\n            const container = this.plugins.component.set_container.call(this, cover, '');\r\n            if (!this.insertComponent(container, false, true, !this.options.mediaAutoSelect)) {\r\n                this.focus();\r\n                return;\r\n            }\r\n            if (!this.options.mediaAutoSelect) {\r\n                const line = this.appendFormatTag(container, null);\r\n                if (line) this.setRange(line, 0, line, 0);\r\n            }\r\n        } // update\r\n        else {\r\n            if (contextAudio._element) element = contextAudio._element;\r\n            if (element && element.src !== src) {\r\n                element.src = src;\r\n                this.selectComponent(element, 'audio');\r\n            } else {\r\n                this.selectComponent(element, 'audio');\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, file, false);\r\n        if (isUpdate) this.history.push(false);\r\n    },\r\n\r\n    updateCover: function (element) {\r\n        const contextAudio = this.context.audio;\r\n        this.plugins.audio._setTagAttrs.call(this, element);\r\n        \r\n        const elementParent = element.parentNode;\r\n        let existElement = (this.util.isRangeFormatElement(elementParent) || this.util.isWysiwygDiv(elementParent)) ? element : elementParent || element;\r\n\r\n        // clone element\r\n        const prevElement = element;\r\n        contextAudio._element = element = element.cloneNode(false);\r\n        const cover = this.plugins.component.set_cover.call(this, element);\r\n        const container = this.plugins.component.set_container.call(this, cover, 'se-audio-container');\r\n\r\n        try {\r\n            if (this.util.getParentElement(prevElement, this.util.isNotCheckingNode)) {\r\n                prevElement.parentNode.replaceChild(container, prevElement);\r\n            } else if (this.util.isListCell(existElement)) {\r\n                const refer = this.util.getParentElement(prevElement, function (current) { return current.parentNode === existElement; });\r\n                existElement.insertBefore(container, refer);\r\n                this.util.removeItem(prevElement);\r\n                this.util.removeEmptyNode(refer, null, true);\r\n            } else if (this.util.isFormatElement(existElement)) {\r\n                const refer = this.util.getParentElement(prevElement, function (current) { return current.parentNode === existElement; });\r\n                existElement = this.util.splitElement(existElement, refer);\r\n                existElement.parentNode.insertBefore(container, existElement);\r\n                this.util.removeItem(prevElement);\r\n                this.util.removeEmptyNode(existElement, null, true);\r\n                if (existElement.children.length === 0) existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\r\n            } else {\r\n                existElement.parentNode.replaceChild(container, existElement);\r\n            }\r\n        } catch (error) {\r\n            console.warn('[SUNEDITOR.audio.error] Maybe the audio tag is nested.', error);\r\n        }\r\n\r\n        this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, null, false);\r\n        this.plugins.audio.init.call(this);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    onModifyMode: function (selectionTag) {\r\n        const contextAudio = this.context.audio;\r\n        \r\n        this.setControllerPosition(contextAudio.controller, selectionTag, 'bottom', {left: 0, top: 0});\r\n        this.controllersOn(contextAudio.controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), 'audio');\r\n\r\n        this.util.addClass(selectionTag, 'active');\r\n        contextAudio._element = selectionTag;\r\n        contextAudio._cover = this.util.getParentElement(selectionTag, 'FIGURE');\r\n        contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    openModify: function (notOpen) {\r\n        if (this.context.audio.audioUrlFile) {\r\n            const contextAudio = this.context.audio;\r\n            contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\r\n        }\r\n        if (!notOpen) this.plugins.dialog.open.call(this, 'audio', true);\r\n    },\r\n\r\n    onClick_controller: function (e) {\r\n        e.stopPropagation();\r\n\r\n        const command = e.target.getAttribute('data-command');\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n\r\n        if (/update/.test(command)) {\r\n            this.plugins.audio.openModify.call(this, false);\r\n        }\r\n        else { /** delete */\r\n            this.plugins.audio.destroy.call(this, this.context.audio._element);\r\n        }\r\n\r\n        this.controllersOff();\r\n    },\r\n\r\n    onControllerOff: function (selectionTag) {\r\n        this.util.removeClass(selectionTag, 'active');\r\n        this.context.audio.controller.style.display = 'none';\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    init: function () {\r\n        if (this.context.dialog.updateModal) return;\r\n        const contextAudio = this.context.audio;\r\n\r\n        if (contextAudio.audioInputFile) contextAudio.audioInputFile.value = '';\r\n        if (contextAudio.audioUrlFile) contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = '';\r\n        if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\r\n            contextAudio.audioUrlFile.removeAttribute('disabled');\r\n            contextAudio.preview.style.textDecoration = '';\r\n        }\r\n\r\n        contextAudio._element = null;\r\n    }\r\n};","'use strict';\r\n\r\nimport dialog from '../modules/dialog';\r\n\r\nconst KATEX_WEBSITE = \"https://katex.org/docs/supported.html\";\r\n\r\nexport default {\r\n    name: 'math',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([dialog]);\r\n\r\n        const context = core.context;\r\n        context.math = {\r\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\r\n            previewElement: null,\r\n            fontSizeElement: null,\r\n            defaultFontSize: '',\r\n            _mathExp: null\r\n        };\r\n\r\n        /** math dialog */\r\n        let math_dialog = this.setDialog(core);\r\n        context.math.modal = math_dialog;\r\n        context.math.focusElement = math_dialog.querySelector('.se-math-exp');\r\n        context.math.previewElement = math_dialog.querySelector('.se-math-preview');\r\n        context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\r\n        context.math.focusElement.addEventListener('paste', function (e) {\r\n            if (typeof core.functions.onPasteMath === 'function') {\r\n                core.functions.onPasteMath(e, core);\r\n            }\r\n        }, false);\r\n        context.math.focusElement.addEventListener(core.util.isIE ? 'textinput' : 'input', this._renderMathExp.bind(core, context.math), false);\r\n        context.math.fontSizeElement.addEventListener('change', function (e) { this.fontSize = e.target.value; }.bind(context.math.previewElement.style), false);\r\n\r\n        /** math controller */\r\n        let math_controller = this.setController_MathButton(core);\r\n        context.math.mathController = math_controller;\r\n        context.math._mathExp = null;\r\n\r\n        /** add event listeners */\r\n        math_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core), false);\r\n        math_controller.addEventListener('click', this.onClick_mathController.bind(core));\r\n        context.math.previewElement.style.fontSize = context.math.defaultFontSize;\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(math_dialog);\r\n        context.element.relative.appendChild(math_controller);\r\n\r\n        /** empty memory */\r\n        math_dialog = null, math_controller = null;\r\n    },\r\n\r\n    /** dialog */\r\n    setDialog: function (core) {\r\n        const lang = core.lang;\r\n        const dialog = core.util.createElement('DIV');\r\n        const fontSize = core.options.mathFontSize;\r\n        let defaultFontSize = fontSize[0].value;\r\n\r\n        dialog.className = 'se-dialog-content';\r\n        dialog.style.display = 'none';\r\n        let html = '' +\r\n        '<form>' +\r\n            '<div class=\"se-dialog-header\">' +\r\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' +\r\n                    core.icons.cancel +\r\n                '</button>' +\r\n                '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' +\r\n            '</div>' +\r\n            '<div class=\"se-dialog-body\">' +\r\n                '<div class=\"se-dialog-form\">' +\r\n                    '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"' + KATEX_WEBSITE + '\" target=\"_blank\">KaTeX</a>)</label>' +\r\n                    '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-form\">' +\r\n                    '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' +\r\n                    '<select class=\"se-input-select se-math-size\">';\r\n                    for (let i = 0, len = fontSize.length, f; i < len; i++) {\r\n                        f = fontSize[i];\r\n                        if (f.default) defaultFontSize = f.value;\r\n                        html += '<option value=\"' + f.value + '\"' + (f.default ? ' selected' : '') + '>' + f.text + '</option>';\r\n                    }\r\n                html += '</select>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-form\">' +\r\n                    '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' +\r\n                    '<p class=\"se-math-preview\"></p>' +\r\n                '</div>' +\r\n            '</div>' +\r\n            '<div class=\"se-dialog-footer\">' +\r\n                '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n            '</div>' +\r\n        '</form>';\r\n\r\n        core.context.math.defaultFontSize = defaultFontSize;\r\n        dialog.innerHTML = html;\r\n        return dialog;\r\n    },\r\n\r\n    /** modify controller button */\r\n    setController_MathButton: function (core) {\r\n        const lang = core.lang;\r\n        const math_btn = core.util.createElement('DIV');\r\n\r\n        math_btn.className = 'se-controller se-controller-link';\r\n        math_btn.innerHTML = '' +\r\n        '<div class=\"se-arrow se-arrow-up\"></div>' +\r\n        '<div class=\"link-content\">' +\r\n            '<div class=\"se-btn-group\">' +\r\n                '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                    core.icons.edit +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                    core.icons.delete +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                '</button>' +\r\n            '</div>' +\r\n        '</div>' +\r\n        '';\r\n\r\n        return math_btn;\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\r\n    },\r\n\r\n    /**\r\n     * @Override core - managedTagsInfo\r\n     */\r\n    managedTags: function () {\r\n        return {\r\n            className: 'katex',\r\n            method: function (element) {\r\n                if (!element.getAttribute('data-exp') || !this.options.katex) return;\r\n                const dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute('data-exp'))));\r\n                element.innerHTML = dom.querySelector('.katex').innerHTML;\r\n                element.setAttribute('contenteditable', false);\r\n            }\r\n        };\r\n    },\r\n\r\n    _renderer: function (exp) {\r\n        let result = '';\r\n        try {\r\n            this.util.removeClass(this.context.math.focusElement, 'se-error');\r\n            result = this.options.katex.src.renderToString(exp, {throwOnError: true, displayMode: true});\r\n        } catch(error) {\r\n            this.util.addClass(this.context.math.focusElement, 'se-error');\r\n            result = '<span class=\"se-math-katex-error\">Katex syntax error. (Refer <a href=\"' + KATEX_WEBSITE + '\" target=\"_blank\">KaTeX</a>)</span>';\r\n            console.warn('[SUNEDITOR.math.Katex.error] ', error);\r\n        }\r\n        return result;\r\n    },\r\n\r\n    _renderMathExp: function (contextMath, e) {\r\n        contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function (e) {\r\n        this.showLoading();\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const submitAction = function () {\r\n            if (this.context.math.focusElement.value.trim().length === 0) return false;\r\n\r\n            const contextMath = this.context.math;\r\n            const mathExp = contextMath.focusElement.value;\r\n            const katexEl = contextMath.previewElement.querySelector('.katex');\r\n\r\n            if (!katexEl) return false;\r\n            katexEl.className = '__se__katex ' + katexEl.className;\r\n            katexEl.setAttribute('contenteditable', false);\r\n            katexEl.setAttribute('data-exp', this.util.HTMLEncoder(mathExp));\r\n            katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\r\n            katexEl.style.fontSize = contextMath.fontSizeElement.value;\r\n\r\n            if (!this.context.dialog.updateModal) {\r\n                const selectedFormats = this.getSelectedElements();\r\n\r\n                if (selectedFormats.length > 1) {\r\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\r\n                    oFormat.appendChild(katexEl);\r\n                    if (!this.insertNode(oFormat, null, true)) return false;\r\n                } else {\r\n                    if (!this.insertNode(katexEl, null, true)) return false;\r\n                }\r\n\r\n                const empty = this.util.createTextNode(this.util.zeroWidthSpace);\r\n                katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\r\n                this.setRange(katexEl, 0, katexEl, 1);\r\n            } else {\r\n                const containerEl = this.util.getParentElement(contextMath._mathExp, '.katex');\r\n                containerEl.parentNode.replaceChild(katexEl, containerEl);\r\n                this.setRange(katexEl, 0, katexEl, 1);\r\n            }\r\n\r\n            contextMath.focusElement.value = '';\r\n            contextMath.fontSizeElement.value = '1em';\r\n            contextMath.previewElement.style.fontSize = '1em';\r\n            contextMath.previewElement.innerHTML = '';\r\n\r\n            return true;\r\n        }.bind(this);\r\n\r\n        try {\r\n            if (submitAction()) {\r\n                this.plugins.dialog.close.call(this);\r\n                // history stack\r\n                this.history.push(false);\r\n            }\r\n        } catch (e) {\r\n            this.plugins.dialog.close.call(this);\r\n        } finally {\r\n            this.closeLoading();\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    active: function (element) {\r\n        if (!element) {\r\n            if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\r\n                this.controllersOff();\r\n            }\r\n        } else if (element.getAttribute('data-exp')) {\r\n            if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\r\n                this.setRange(element, 0, element, 1);\r\n                this.plugins.math.call_controller.call(this, element);\r\n            }\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    on: function (update) {\r\n        if (!update) {\r\n            this.plugins.math.init.call(this);\r\n        } else {\r\n            const contextMath = this.context.math;\r\n            if (contextMath._mathExp) {\r\n                const exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute('data-exp'));\r\n                const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\r\n                this.context.dialog.updateModal = true;\r\n                contextMath.focusElement.value = exp;\r\n                contextMath.fontSizeElement.value = fontSize;\r\n                contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\r\n                contextMath.previewElement.style.fontSize = fontSize;\r\n            }\r\n        }\r\n    },\r\n\r\n    call_controller: function (mathTag) {\r\n        this.context.math._mathExp = mathTag;\r\n        const mathBtn = this.context.math.mathController;\r\n\r\n        this.setControllerPosition(mathBtn, mathTag, 'bottom', {left: 0, top: 0});\r\n        this.controllersOn(mathBtn, mathTag, 'math');\r\n    },\r\n\r\n    onClick_mathController: function (e) {\r\n        e.stopPropagation();\r\n\r\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n\r\n        if (/update/.test(command)) {\r\n            this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute('data-exp'));\r\n            this.plugins.dialog.open.call(this, 'math', true);\r\n        } else {\r\n            /** delete */\r\n            this.util.removeItem(this.context.math._mathExp);\r\n            this.context.math._mathExp = null;\r\n            this.focus();\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        }\r\n\r\n        this.controllersOff();\r\n    },\r\n\r\n    init: function () {\r\n        const contextMath = this.context.math;\r\n        contextMath.mathController.style.display = 'none';\r\n        contextMath._mathExp = null;\r\n        contextMath.focusElement.value = '';\r\n        contextMath.previewElement.innerHTML = '';\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport fileBrowser from '../modules/fileBrowser';\r\n\r\nexport default {\r\n    name: 'imageGallery',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        core.addModule([fileBrowser]);\r\n\r\n        const context = core.context;\r\n        context.imageGallery = {\r\n            title: core.lang.toolbar.imageGallery, // @Required @Override fileBrowser - File browser window title.\r\n            directData: core.options.imageGalleryData, // @option @Override fileBrowser - Direct JSON data without making server requests.\r\n            url: core.options.imageGalleryUrl, // @option @Override fileBrowser - File server url.\r\n            header: core.options.imageGalleryHeader, // @Required @Override fileBrowser - File server http header.\r\n            listClass: 'se-image-list', // @Required @Override fileBrowser - Class name of list div.\r\n            itemTemplateHandler: this.drawItems, // @Required @Override fileBrowser - Function that defines the HTML of an file item.\r\n            selectorHandler: this.setImage.bind(core), // @Required @Override fileBrowser - Function that action when item click.\r\n            columnSize: 4 // @Option @Override fileBrowser - Number of \"div.se-file-item-column\" to be created (default: 4)\r\n        };\r\n    },\r\n    \r\n    /**\r\n     * @Required @Override fileBrowser\r\n     * @description Open a file browser.\r\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n     */\r\n    open: function (selectorHandler) {\r\n        this.plugins.fileBrowser.open.call(this, 'imageGallery', selectorHandler);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileBrowser\r\n     * @description Define the HTML of the item to be put in \"div.se-file-item-column\".\r\n     * Format: [\r\n     *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\r\n     * ]\r\n     * @param {Object} item Item of the response data's array\r\n     */\r\n    drawItems: function (item) {\r\n        const srcName = item.src.split('/').pop();\r\n        return  '<div class=\"se-file-item-img\"><img src=\"' + (item.thumbnail || item.src) + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\" data-value=\"' + (item.src || item.thumbnail) + '\">' +\r\n                    '<div class=\"se-file-img-name se-file-name-back\"></div>' +\r\n                    '<div class=\"se-file-img-name __se__img_name\">' + (item.name || srcName) + '</div>' +\r\n                '</div>';\r\n    },\r\n\r\n    setImage: function (target, fileName) {\r\n        this.callPlugin('image', function () {\r\n            const file = {name: fileName, size: 0};\r\n            this.plugins.image.create_image.call(this, target.getAttribute('data-value'), null, this.context.image._origin_w, this.context.image._origin_h, 'none', file, target.alt);\r\n        }.bind(this), null);\r\n    }\r\n};","'use strict';\r\n\r\n// command\r\nimport blockquote from './command/blockquote';\r\n\r\n// submenu\r\nimport align from './submenu/align';\r\nimport font from './submenu/font';\r\nimport fontSize from './submenu/fontSize';\r\nimport fontColor from './submenu/fontColor';\r\nimport hiliteColor from './submenu/hiliteColor';\r\nimport horizontalRule from './submenu/horizontalRule';\r\nimport list from './submenu/list';\r\nimport table from './submenu/table';\r\nimport formatBlock from './submenu/formatBlock';\r\nimport lineHeight from './submenu/lineHeight';\r\nimport template from './submenu/template';\r\nimport paragraphStyle from './submenu/paragraphStyle';\r\nimport textStyle from './submenu/textStyle';\r\n\r\n// dialog\r\nimport link from './dialog/link';\r\nimport image from './dialog/image';\r\nimport video from './dialog/video';\r\nimport audio from './dialog/audio';\r\nimport math from './dialog/math';\r\n\r\n// file browser\r\nimport imageGallery from './fileBrowser/imageGallery';\r\n\r\nexport { blockquote, align, font, fontSize, fontColor, hiliteColor, horizontalRule, list, table, formatBlock, lineHeight, template, paragraphStyle, textStyle, link, image, video, audio, math, imageGallery };\r\nexport default { blockquote, align, font, fontSize, fontColor, hiliteColor, horizontalRule, list, table, formatBlock, lineHeight, template, paragraphStyle, textStyle, link, image, video, audio, math, imageGallery };\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'fa',\r\n        toolbar: {\r\n            default: 'پیش فرض',\r\n            save: 'ذخیره',\r\n            font: 'فونت',\r\n            formats: 'قالب‌ها',\r\n            fontSize: 'اندازه‌ی فونت',\r\n            bold: 'پررنگ کردن',\r\n            underline: 'زیرخطدار کردن',\r\n            italic: 'کج کردن',\r\n            strike: 'خط میان‌دار کردن',\r\n            subscript: 'نوشتن به صورت زیر متن',\r\n            superscript: 'نوشتن به صورت بالای متن',\r\n            removeFormat: 'حذف قالب',\r\n            fontColor: 'رنگ پیش زمینه',\r\n            hiliteColor: 'رنگ پس‌زمینه',\r\n            indent: 'جلو بردن',\r\n            outdent: 'عقب بردن',\r\n            align: 'چیدمان',\r\n            alignLeft: 'چپ‌چین',\r\n            alignRight: 'راست‌چین',\r\n            alignCenter: 'وسط‌چین',\r\n            alignJustify: 'همتراز از هر دو سمت',\r\n            list: 'لیست',\r\n            orderList: 'لیست شمارشی',\r\n            unorderList: 'لیست گلوله‌ای',\r\n            horizontalRule: 'درج خط افقی',\r\n            hr_solid: 'تو پر',\r\n            hr_dotted: 'نقطه‌چین',\r\n            hr_dashed: 'خط تیره',\r\n            table: 'درج جدول',\r\n            link: 'درج لینک',\r\n            math: 'درج فرمول ریاضی',\r\n            image: 'درج تصویر',\r\n            video: 'درج ویدئو',\r\n            audio: 'درج صوت',\r\n            fullScreen: 'تمام صفحه',\r\n            showBlocks: 'نمایش بلاک‌بندی',\r\n            codeView: 'مشاهده‌ی کُد HTML',\r\n            undo: 'برگرداندن تغییر',\r\n            redo: 'تکرار تغییر',\r\n            preview: 'پیش نمایش',\r\n            print: 'چاپ',\r\n            tag_p: 'پاراگراف',\r\n            tag_div: 'عادی (DIV)',\r\n            tag_h: 'هدر',\r\n            tag_blockquote: 'نقل قول',\r\n            tag_pre: 'کُد',\r\n            template: 'درج محتوا بر اساس الگو',\r\n            lineHeight: 'ارتفاع خط',\r\n            paragraphStyle: 'استایل پاراگراف',\r\n            textStyle: 'استایل متن',\r\n            imageGallery: 'گالری تصاویر',\r\n            dir_ltr: 'چپ به راست',\r\n            dir_rtl: 'راست به چپ',\r\n            mention: 'ذکر کردن'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'درج  لینک',\r\n                url: 'آدرس لینک',\r\n                text: 'عنوان لینک',\r\n                newWindowCheck: 'در پنجره‌ی جدیدی باز شود',\r\n                downloadLinkCheck: 'لینک دانلود',\r\n                bookmark: 'نشان'\r\n            },\r\n            mathBox: {\r\n                title: 'فرمول ریاضی',\r\n                inputLabel: 'تعریف فرمول',\r\n                fontSizeLabel: 'اندازه‌ی فونت',\r\n                previewLabel: 'پیش نمایش'\r\n            },\r\n            imageBox: {\r\n                title: 'درج تصویر',\r\n                file: 'انتخاب فایل',\r\n                url: 'آدرس Url',\r\n                altText: 'متن جایگزین'\r\n            },\r\n            videoBox: {\r\n                title: 'درج ویدئو',\r\n                file: 'انتخاب فایل',\r\n                url: 'آدرس Url ویدئو, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'درج صوت',\r\n                file: 'انتخاب فایل',\r\n                url: 'آدرس Url'\r\n            },\r\n            browser: {\r\n                tags: 'تگ‌ها',\r\n                search: 'جستجو',\r\n            },\r\n            caption: 'توضیح',\r\n            close: 'بستن',\r\n            submitButton: 'درج',\r\n            revertButton: 'برگرداندن تغییرات',\r\n            proportion: 'محدودیت اندازه',\r\n            basic: 'چیدمان پیش فرض',\r\n            left: 'چپ',\r\n            right: 'راست',\r\n            center: 'وسط',\r\n            width: 'پهنا',\r\n            height: 'ارتفاع',\r\n            size: 'اندازه',\r\n            ratio: 'نسبت'\r\n        },\r\n        controller: {\r\n            edit: 'ویرایش',\r\n            unlink: 'حذف لینک',\r\n            remove: 'حذف',\r\n            insertRowAbove: 'درج سطر در بالا',\r\n            insertRowBelow: 'درج سطر در پایین',\r\n            deleteRow: 'حذف سطر',\r\n            insertColumnBefore: 'درج یک ستون به عقب',\r\n            insertColumnAfter: 'درج یک ستون در جلو',\r\n            deleteColumn: 'حذف ستون',\r\n            fixedColumnWidth: 'اندازه ستون ثابت',\r\n            resize100: 'اندازه‌ی 100%',\r\n            resize75: 'اندازه‌ی 75%',\r\n            resize50: 'اندازه‌ی 50%',\r\n            resize25: 'اندازه‌ی 25%',\r\n            autoSize: 'اندازه‌ی خودکار',\r\n            mirrorHorizontal: 'بر عکس کردن در جهت افقی',\r\n            mirrorVertical: 'بر عکس کردن در جهت عمودی',\r\n            rotateLeft: 'دوران به چپ',\r\n            rotateRight: 'دوران به راست',\r\n            maxSize: 'حداکثر اندازه',\r\n            minSize: 'حداقل اندازه',\r\n            tableHeader: 'هدر جدول',\r\n            mergeCells: 'ادغام خانه‌ها',\r\n            splitCells: 'تقسیم خانه به چند خانه',\r\n            HorizontalSplit: 'تقسیم در جهت افقی',\r\n            VerticalSplit: 'تقسیم در جهت عمودی'\r\n        },\r\n        menu: {\r\n            spaced: 'فضادار',\r\n            bordered: 'لبه‌دار',\r\n            neon: 'نئونی',\r\n            translucent: 'نیمه شفاف',\r\n            shadow: 'سایه',\r\n            code: 'کُد'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'fa', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n\tif (typeof module === 'object' && typeof module.exports === 'object') {\r\n\t\tmodule.exports = global.document ?\r\n\t\t\tfactory(global, true) :\r\n\t\t\tfunction (w) {\r\n\t\t\t\tif (!w.document) {\r\n\t\t\t\t\tthrow new Error('SUNEDITOR_LANG a window with a document');\r\n\t\t\t\t}\r\n\t\t\t\treturn factory(w);\r\n\t\t\t};\r\n\t} else {\r\n\t\tfactory(global);\r\n\t}\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n\tconst lang = {\r\n\t\tcode: 'es',\r\n\t\ttoolbar: {\r\n\t\t\tdefault: 'Valor por defecto',\r\n\t\t\tsave: 'Guardar',\r\n\t\t\tfont: 'Fuente',\r\n\t\t\tformats: 'Formato',\r\n\t\t\tfontSize: 'Tamaño de fuente',\r\n\t\t\tbold: 'Negrita',\r\n\t\t\tunderline: 'Subrayado',\r\n\t\t\titalic: 'Cursiva',\r\n\t\t\tstrike: 'Tachado',\r\n\t\t\tsubscript: 'Subíndice',\r\n\t\t\tsuperscript: 'Superíndice',\r\n\t\t\tremoveFormat: 'Eliminar formato',\r\n\t\t\tfontColor: 'Color de fuente',\r\n\t\t\thiliteColor: 'Color de resaltado',\r\n\t\t\tindent: 'Más tabulación',\r\n\t\t\toutdent: 'Menos tabulación',\r\n\t\t\talign: 'Alinear',\r\n\t\t\talignLeft: 'Alinear a la izquierda',\r\n\t\t\talignRight: 'Alinear a la derecha',\r\n\t\t\talignCenter: 'Alinear al centro',\r\n\t\t\talignJustify: 'Justificar',\r\n\t\t\tlist: 'Lista',\r\n\t\t\torderList: 'Lista ordenada',\r\n\t\t\tunorderList: 'Lista desordenada',\r\n\t\t\thorizontalRule: 'Horizontal line',\r\n\t\t\thr_solid: 'Línea horizontal solida',\r\n\t\t\thr_dotted: 'Línea horizontal punteada',\r\n\t\t\thr_dashed: 'Línea horizontal discontinua',\r\n\t\t\ttable: 'Tabla',\r\n\t\t\tlink: 'Link',\r\n\t\t\tmath: 'Matemáticas',\r\n\t\t\timage: 'Imagen',\r\n\t\t\tvideo: 'Video',\r\n\t\t\taudio: 'Audio',\r\n\t\t\tfullScreen: 'Pantalla completa',\r\n\t\t\tshowBlocks: 'Ver bloques',\r\n\t\t\tcodeView: 'Ver código fuente',\r\n\t\t\tundo: 'UndoDeshacer última acción',\r\n\t\t\tredo: 'Rehacer última acción',\r\n\t\t\tpreview: 'Vista previa',\r\n\t\t\tprint: 'Imprimir',\r\n\t\t\ttag_p: 'Párrafo',\r\n\t\t\ttag_div: 'Normal (DIV)',\r\n\t\t\ttag_h: 'Header',\r\n\t\t\ttag_blockquote: 'Cita',\r\n\t\t\ttag_pre: 'Código',\r\n\t\t\ttemplate: 'Plantilla',\r\n\t\t\tlineHeight: 'Altura de la línea',\r\n\t\t\tparagraphStyle: 'Estilo del parrafo',\r\n\t\t\ttextStyle: 'Estilo del texto',\r\n\t\t\timageGallery: 'Galería de imágenes',\r\n\t\t\tdir_ltr: 'De izquierda a derecha',\r\n            dir_rtl: 'De derecha a izquierda',\r\n\t\t\tmention: 'Mencionar'\r\n\t\t},\r\n\t\tdialogBox: {\r\n\t\t\tlinkBox: {\r\n\t\t\t\ttitle: 'Insertar Link',\r\n\t\t\t\turl: '¿Hacia que URL lleva el link?',\r\n\t\t\t\ttext: 'Texto para mostrar',\r\n\t\t\t\tnewWindowCheck: 'Abrir en una nueva ventana',\r\n\t\t\t\tdownloadLinkCheck: 'Enlace de descarga',\r\n                bookmark: 'Marcador'\r\n\t\t\t},\r\n\t\t\tmathBox: {\r\n                title: 'Matemáticas',\r\n                inputLabel: 'Notación Matemática',\r\n                fontSizeLabel: 'Tamaño de fuente',\r\n                previewLabel: 'Vista previa'\r\n            },\r\n\t\t\timageBox: {\r\n\t\t\t\ttitle: 'Insertar imagen',\r\n\t\t\t\tfile: 'Seleccionar desde los archivos',\r\n\t\t\t\turl: 'URL de la imagen',\r\n\t\t\t\taltText: 'Texto alternativo'\r\n\t\t\t},\r\n\t\t\tvideoBox: {\r\n\t\t\t\ttitle: 'Insertar Video',\r\n\t\t\t\tfile: 'Seleccionar desde los archivos',\r\n\t\t\t\turl: '¿URL del vídeo? Youtube/Vimeo'\r\n\t\t\t},\r\n\t\t\taudioBox: {\r\n                title: 'Insertar Audio',\r\n                file: 'Seleccionar desde los archivos',\r\n                url: 'URL de la audio'\r\n            },\r\n            browser: {\r\n                tags: 'Etiquetas',\r\n                search: 'Buscar',\r\n            },\r\n\t\t\tcaption: 'Insertar descripción',\r\n\t\t\tclose: 'Cerrar',\r\n\t\t\tsubmitButton: 'Enviar',\r\n\t\t\trevertButton: 'revertir',\r\n\t\t\tproportion: 'Restringir las proporciones',\r\n\t\t\tbasic: 'Basico',\r\n\t\t\tleft: 'Izquierda',\r\n\t\t\tright: 'derecha',\r\n\t\t\tcenter: 'Centro',\r\n\t\t\twidth: 'Ancho',\r\n\t\t\theight: 'Alto',\r\n\t\t\tsize: 'Tamaño',\r\n\t\t\tratio: 'Proporción'\r\n\t\t},\r\n\t\tcontroller: {\r\n\t\t\tedit: 'Editar',\r\n\t\t\tunlink: 'Desvincular',\r\n\t\t\tremove: 'RemoveQuitar',\r\n\t\t\tinsertRowAbove: 'Insertar fila arriba',\r\n\t\t\tinsertRowBelow: 'Insertar fila debajo',\r\n\t\t\tdeleteRow: 'Eliminar fila',\r\n\t\t\tinsertColumnBefore: 'Insertar columna antes',\r\n\t\t\tinsertColumnAfter: 'Insertar columna después',\r\n\t\t\tdeleteColumn: 'Eliminar columna',\r\n\t\t\tfixedColumnWidth: 'Ancho de columna fijo',\r\n\t\t\tresize100: 'Redimensionar 100%',\r\n\t\t\tresize75: 'Redimensionar 75%',\r\n\t\t\tresize50: 'Redimensionar 50%',\r\n\t\t\tresize25: 'Redimensionar 25%',\r\n\t\t\tautoSize: 'Tamaño automático',\r\n\t\t\tmirrorHorizontal: 'Espejo, Horizontal',\r\n\t\t\tmirrorVertical: 'Espejo, Vertical',\r\n\t\t\trotateLeft: 'Girar a la izquierda',\r\n\t\t\trotateRight: 'Girar a la derecha',\r\n\t\t\tmaxSize: 'Tamaño máximo',\r\n\t\t\tminSize: 'Tamaño minímo',\r\n\t\t\ttableHeader: 'Encabezado de tabla',\r\n\t\t\tmergeCells: 'Combinar celdas',\r\n\t\t\tsplitCells: 'Dividir celdas',\r\n\t\t\tHorizontalSplit: 'División horizontal',\r\n\t\t\tVerticalSplit: 'División vertical'\r\n\t\t},\r\n\t\tmenu: {\r\n\t\t\tspaced: 'Espaciado',\r\n\t\t\tbordered: 'Bordeado',\r\n\t\t\tneon: 'Neón',\r\n\t\t\ttranslucent: 'Translúcido',\r\n\t\t\tshadow: 'Sombreado',\r\n            code: 'Código'\r\n\t\t}\r\n\t};\r\n\r\n\tif (typeof noGlobal === typeof undefined) {\r\n\t\tif (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'es', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n\t}\r\n\r\n\treturn lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'nl',\r\n        toolbar: {\r\n            default: 'Standaard',\r\n            save: 'Opslaan',\r\n            font: 'Lettertype',\r\n            formats: 'Formaten',\r\n            fontSize: 'Lettergrootte',\r\n            bold: 'Vetgedrukt',\r\n            underline: 'Onderstrepen',\r\n            italic: 'Cursief',\r\n            strike: 'Doorstrepen',\r\n            subscript: 'Subscript',\r\n            superscript: 'Superscript',\r\n            removeFormat: 'Opmaak verwijderen',\r\n            fontColor: 'Tekstkleur',\r\n            hiliteColor: 'Tekst markeren',\r\n            indent: 'Inspringen',\r\n            outdent: 'Inspringen ongedaan maken',\r\n            align: 'Uitlijnen',\r\n            alignLeft: 'Links uitlijnen',\r\n            alignRight: 'Rechts uitlijnen',\r\n            alignCenter: 'In het midden uitlijnen',\r\n            alignJustify: 'Uitvullen',\r\n            list: 'Lijst',\r\n            orderList: 'Geordende lijst',\r\n            unorderList: 'Ongeordende lijst',\r\n            horizontalRule: 'Horizontale regel',\r\n            hr_solid: 'Standaard',\r\n            hr_dotted: 'Gestippeld',\r\n            hr_dashed: 'Gestreept',\r\n            table: 'Tabel',\r\n            link: 'Link',\r\n            math: 'Wiskunde',\r\n            image: 'Afbeelding',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Volledig scherm',\r\n            showBlocks: 'Blokken tonen',\r\n            codeView: 'Broncode weergeven',\r\n            undo: 'Ongedaan maken',\r\n            redo: 'Ongedaan maken herstellen',\r\n            preview: 'Voorbeeldweergave',\r\n            print: 'Printen',\r\n            tag_p: 'Alinea',\r\n            tag_div: 'Normaal (div)',\r\n            tag_h: 'Kop',\r\n            tag_blockquote: 'Citaat',\r\n            tag_pre: 'Code',\r\n            template: 'Sjabloon',\r\n            lineHeight: 'Lijnhoogte',\r\n            paragraphStyle: 'Alineastijl',\r\n            textStyle: 'Tekststijl',\r\n            imageGallery: 'Galerij',\r\n            dir_ltr: 'Van links naar rechts',\r\n            dir_rtl: 'Rechts naar links',\r\n            mention: 'Vermelding'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Link invoegen',\r\n                url: 'URL',\r\n                text: 'Tekst van de link',\r\n                newWindowCheck: 'In een nieuw tabblad openen',\r\n                downloadLinkCheck: 'Downloadlink',\r\n                bookmark: 'Bladwijzer'\r\n            },\r\n            mathBox: {\r\n                title: 'Wiskunde',\r\n                inputLabel: 'Wiskundige notatie',\r\n                fontSizeLabel: 'Lettergrootte',\r\n                previewLabel: 'Voorbeeld'\r\n            },\r\n            imageBox: {\r\n                title: 'Afbeelding invoegen',\r\n                file: 'Selecteer een bestand van uw apparaat',\r\n                url: 'URL',\r\n                altText: 'Alt-tekst'\r\n            },\r\n            videoBox: {\r\n                title: 'Video invoegen',\r\n                file: 'Selecteer een bestand van uw apparaat',\r\n                url: 'Embedded URL (YouTube/Vimeo)'\r\n            },\r\n            audioBox: {\r\n                title: 'Audio invoegen',\r\n                file: 'Selecteer een bestand van uw apparaat',\r\n                url: 'URL'\r\n            },\r\n            browser: {\r\n                tags: 'Tags',\r\n                search: 'Zoeken',\r\n            },\r\n            caption: 'Omschrijving toevoegen',\r\n            close: 'Sluiten',\r\n            submitButton: 'Toepassen',\r\n            revertButton: 'Standaardwaarden herstellen',\r\n            proportion: 'Verhouding behouden',\r\n            basic: 'Standaard',\r\n            left: 'Links',\r\n            right: 'Rechts',\r\n            center: 'Midden',\r\n            width: 'Breedte',\r\n            height: 'Hoogte',\r\n            size: 'Grootte',\r\n            ratio: 'Verhouding'\r\n        },\r\n        controller: {\r\n            edit: 'Bewerken',\r\n            unlink: 'Ontkoppelen',\r\n            remove: 'Verwijderen',\r\n            insertRowAbove: 'Rij hierboven invoegen',\r\n            insertRowBelow: 'Rij hieronder invoegen',\r\n            deleteRow: 'Rij verwijderen',\r\n            insertColumnBefore: 'Kolom links invoegen',\r\n            insertColumnAfter: 'Kolom rechts invoegen',\r\n            deleteColumn: 'Kolom verwijderen',\r\n            fixedColumnWidth: 'Vaste kolombreedte',\r\n            resize100: 'Formaat wijzigen: 100%',\r\n            resize75: 'Formaat wijzigen: 75%',\r\n            resize50: 'Formaat wijzigen: 50%',\r\n            resize25: 'Formaat wijzigen: 25%',\r\n            autoSize: 'Automatische grootte',\r\n            mirrorHorizontal: 'Horizontaal spiegelen',\r\n            mirrorVertical: 'Verticaal spiegelen',\r\n            rotateLeft: 'Naar links draaien',\r\n            rotateRight: 'Naar rechts draaien',\r\n            maxSize: 'Maximale grootte',\r\n            minSize: 'Minimale grootte',\r\n            tableHeader: 'Tabelkoppen',\r\n            mergeCells: 'Cellen samenvoegen',\r\n            splitCells: 'Cellen splitsen',\r\n            HorizontalSplit: 'Horizontaal splitsen',\r\n            VerticalSplit: 'Verticaal splitsen'\r\n        },\r\n        menu: {\r\n            spaced: 'Uit elkaar',\r\n            bordered: 'Omlijnd',\r\n            neon: 'Neon',\r\n            translucent: 'Doorschijnend',\r\n            shadow: 'Schaduw',\r\n            code: 'Code'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'nl', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uploadBeforeEvents = exports.events = void 0;\nexports.events = [\n    \"onMouseDown\",\n    \"onScroll\",\n    \"onInput\",\n    \"onClick\",\n    \"onKeyUp\",\n    \"onKeyDown\",\n    \"onFocus\",\n    \"onImageUpload\",\n    \"onAudioUpload\",\n    \"onVideoUpload\",\n    \"onImageUploadError\",\n    \"onVideoUploadError\",\n    \"onAudioUploadError\",\n    \"onSave\",\n    \"onSetToolbarButtons\",\n    \"imageUploadHandler\",\n    \"toggleCodeView\",\n    \"toggleFullScreen\",\n    \"showInline\",\n    \"showController\",\n    \"onCopy\",\n    \"onCut\",\n    \"onDrop\",\n    \"onPaste\",\n];\nexports.uploadBeforeEvents = [\n    \"onImageUploadBefore\",\n    \"onVideoUploadBefore\",\n    \"onAudioUploadBefore\",\n];\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatting = exports.complex = exports.basic = void 0;\nexports.basic = [\n    [\"font\", \"fontSize\"],\n    [\"fontColor\"],\n    [\"horizontalRule\"],\n    [\"link\", \"image\"],\n];\nexports.complex = [\n    [\"undo\", \"redo\"],\n    [\"font\", \"fontSize\", \"formatBlock\"],\n    [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"],\n    [\"removeFormat\"],\n    \"/\",\n    [\"fontColor\", \"hiliteColor\"],\n    [\"outdent\", \"indent\"],\n    [\"align\", \"horizontalRule\", \"list\", \"table\"],\n    [\"link\", \"image\", \"video\"],\n    [\"fullScreen\", \"showBlocks\", \"codeView\"],\n    [\"preview\", \"print\"],\n    [\"save\", \"template\"],\n];\nexports.formatting = [\n    [\"undo\", \"redo\"],\n    [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"],\n    [\"removeFormat\"],\n    [\"outdent\", \"indent\"],\n    [\"fullScreen\", \"showBlocks\", \"codeView\"],\n    [\"preview\", \"print\"],\n];\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2020 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n   // rtl icon\r\n   rtl: {\r\n      italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.5 15.8\" xml:space=\"preserve\"><g><path d=\"M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z\"/></g></svg>',\r\n      indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z\"/></g></svg>',\r\n      outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z\"/></g></svg>',\r\n      list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><path d=\"M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z\"/></g></svg>',\r\n      list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z\"/></g><path d=\"M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z\"/><path d=\"M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z\"/><path d=\"M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z\"/></svg>',\r\n      link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z\"/></g></svg>',\r\n      unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z\"/></g></svg>'\r\n   },\r\n   // common, ltr icon\r\n   redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\r\n   undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\r\n   bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\r\n   underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\r\n   italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\r\n   strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\r\n   subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\r\n   superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\r\n   erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\r\n   indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\r\n   outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\r\n   expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\r\n   preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\r\n   print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\r\n   template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\r\n   line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\r\n   paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\r\n   text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\r\n   save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\r\n   arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\r\n   align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\r\n   highlight_color:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\r\n   list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\r\n   list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\r\n   table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\r\n   show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\r\n   cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\r\n   video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\r\n   link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\r\n   math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\r\n   unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\r\n   edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\r\n   delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\r\n   revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\r\n   auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\r\n   insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\r\n   insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\r\n   insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\r\n   delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\r\n   delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\r\n   fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\r\n   rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\r\n   rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\r\n   mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\r\n   mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\r\n   checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\r\n   line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\r\n   audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\" /></svg>',\r\n   image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\r\n   bookmark: '<svg viewBox=\"0 0 24 24\"><path d=\"M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z\" /></svg>',\r\n   download: '<svg viewBox=\"0 0 24 24\"><path d=\"M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z\" /></svg>',\r\n   dir_ltr: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z\"/></svg>',\r\n   dir_rtl: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z\"/></svg>',\r\n   // Error\r\n   alert_outline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z\" /></svg>',\r\n   // More icons\r\n   more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\r\n   more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\r\n   more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\r\n   more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\r\n   more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\r\n   // Not currently used\r\n   attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\r\n   map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\r\n   magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\r\n   empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n/**\r\n * @description utility function\r\n */\r\nconst util = {\r\n    _d: null,\r\n    _w: null,\r\n    isIE: null,\r\n    isIE_Edge: null,\r\n    isOSX_IOS: null,\r\n    isChromium: null,\r\n    isMobile: null,\r\n    isResizeObserverSupported: null,\r\n    _propertiesInit: function () {\r\n        if (this._d) return;\r\n        this._d =  document;\r\n        this._w = window;\r\n        this.isIE = navigator.userAgent.indexOf('Trident') > -1;\r\n        this.isIE_Edge = (navigator.userAgent.indexOf('Trident') > -1) || (navigator.appVersion.indexOf('Edge') > -1);\r\n        this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\r\n        this.isChromium = !!window.chrome;\r\n        this.isResizeObserverSupported = (typeof ResizeObserver === 'function');\r\n        this.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || ((navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) && 'ontouchstart' in window);\r\n    },\r\n\r\n    _allowedEmptyNodeList: '.se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas',\r\n\r\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\r\n    _HTMLConvertor: function (contents) {\r\n        const ec = {'&': '&amp;', '\\u00A0': '&nbsp;', '\\'': '&apos;', '\"': '&quot;', '<': '&lt;', '>': '&gt;'};\r\n        return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\r\n    zeroWidthSpace: String.fromCharCode(8203),\r\n\r\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\r\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\r\n\r\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\r\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\r\n\r\n    fontValueMap: {\r\n        'xx-small': 1,\r\n        'x-small': 2,\r\n        'small': 3,\r\n        'medium': 4,\r\n        'large': 5,\r\n        'x-large': 6,\r\n        'xx-large': 7\r\n    },\r\n\r\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\r\n    onlyZeroWidthSpace: function (text) {\r\n        if (text === null || text === undefined) return false;\r\n        if (typeof text !== 'string') text = text.textContent;\r\n        return text === '' || this.onlyZeroWidthRegExp.test(text);\r\n    },\r\n\r\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\r\n    getXMLHttpRequest: function () {\r\n        /** IE */\r\n        if (this._w.ActiveXObject) {\r\n            try {\r\n                return new ActiveXObject('Msxml2.XMLHTTP');\r\n            } catch (e) {\r\n                try {\r\n                    return new ActiveXObject('Microsoft.XMLHTTP');\r\n                } catch (e1) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        /** netscape */\r\n        else if (this._w.XMLHttpRequest) {\r\n            return new XMLHttpRequest();\r\n        }\r\n        /** fail */\r\n        else {\r\n            return null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Object.values\r\n     * @param {Object|null} obj Object parameter.\r\n     * @returns {Array}\r\n     */\r\n    getValues: function (obj) {\r\n        return !obj ? [] : this._w.Object.keys(obj).map(function (i) {\r\n            return obj[i];\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description Convert the CamelCase To the KebabCase.\r\n     * @param {String|Array} param [Camel string]\r\n     * @returns {String|Array}\r\n     */\r\n    camelToKebabCase: function (param) {\r\n        if (typeof param === 'string') {\r\n            return param.replace(/[A-Z]/g, function (letter) { return \"-\" + letter.toLowerCase(); });\r\n        } else {\r\n            return param.map(function(str) { return util.camelToKebabCase(str); });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Convert the KebabCase To the CamelCase.\r\n     * @param {String|Array} param [KebabCase string]\r\n     * @returns {String|Array}\r\n     */\r\n    kebabToCamelCase: function (param) {\r\n        if (typeof param === 'string') {\r\n            return param.replace(/-[a-zA-Z]/g, function (letter) { return letter.replace('-', '').toUpperCase(); });\r\n        } else {\r\n            return param.map(function(str) { return util.camelToKebabCase(str); });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\r\n    createElement: function (elementName) {\r\n        return this._d.createElement(elementName);\r\n    },\r\n\r\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\r\n    createTextNode: function (text) {\r\n        return this._d.createTextNode(text || '');\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLEncoder: function (contents) {\r\n        const ec = {'<': '$lt;', '>': '$gt;'};\r\n        return contents.replace(/<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLDecoder: function (contents) {\r\n        const ec = {'$lt;': '<', '$gt;': '>'};\r\n        return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n     * @param {Object} obj Object\r\n     * @param {String} key obj.key\r\n     * @returns {Boolean}\r\n     */\r\n    hasOwn: function (obj, key) {\r\n        return this._hasOwn.call(obj, key);\r\n    },\r\n    _hasOwn: Object.prototype.hasOwnProperty,\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\r\n    getIncludePath: function (nameArray, extension) {\r\n        let path = '';\r\n        const pathList = [];\r\n        const tagName = extension === 'js' ? 'script' : 'link';\r\n        const src = extension === 'js' ? 'src' : 'href';\r\n\r\n        let fileName = '(?:';\r\n        for (let i = 0, len = nameArray.length; i < len; i++) {\r\n            fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\r\n        }\r\n\r\n        const regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n        const extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n\r\n        for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\r\n            if (extRegExp.test(c[i][src])) {\r\n                pathList.push(c[i]);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < pathList.length; i++) {\r\n            let editorTag = pathList[i][src].match(regExp);\r\n            if (editorTag) {\r\n                path = editorTag[0];\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\r\n\r\n        -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\r\n\r\n        if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\r\n\r\n        return path;\r\n    },\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\r\n    getPageStyle: function (doc) {\r\n        let cssText = '';\r\n        const sheets = (doc || this._d).styleSheets;\r\n\r\n        for (let i = 0, len = sheets.length, rules; i < len; i++) {\r\n            try {\r\n                rules = sheets[i].cssRules;\r\n            } catch (e) {\r\n                continue;\r\n            }\r\n\r\n            if (rules) {\r\n                for (let c = 0, cLen = rules.length; c < cLen; c++) {\r\n                    cssText += rules[c].cssText;\r\n                }\r\n            }\r\n        }\r\n\r\n        return cssText;\r\n    },\r\n\r\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\r\n    getIframeDocument: function (iframe) {\r\n        let wDocument = iframe.contentWindow || iframe.contentDocument;\r\n        if (wDocument.document) wDocument = wDocument.document;\r\n        return wDocument;\r\n    },\r\n\r\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\r\n    getAttributesToString: function (element, exceptAttrs) {\r\n        if (!element.attributes) return '';\r\n\r\n        const attrs = element.attributes;\r\n        let attrString = '';\r\n\r\n        for (let i = 0, len = attrs.length; i < len; i++) {\r\n            if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\r\n            attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\r\n        }\r\n\r\n        return attrString;\r\n    },\r\n\r\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\r\n    getByteLength: function(text) {\r\n        if (!text || !text.toString) return 0;\r\n        text = text.toString();\r\n\r\n        const encoder = this._w.encodeURIComponent;\r\n        let cr, cl;\r\n        if (this.isIE_Edge) {\r\n            cl = this._w.unescape(encoder(text)).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        } else {\r\n            cl = (new this._w.TextEncoder('utf-8').encode(text)).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isWysiwygDiv: function (element) {\r\n        return element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the contenteditable property is false.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNonEditable: function (element) {\r\n        return element && element.nodeType === 1 && element.getAttribute('contenteditable') === 'false';\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTextStyleElement: function (element) {\r\n        return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the input element (INPUT, TEXTAREA)\r\n     * @param {Node} element The node to check\r\n     * @returns \r\n     */\r\n    isInputElement: function (element) {\r\n        return element && element.nodeType === 1 && /^(INPUT|TEXTAREA)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__se__format__replace_xxx\")\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__se__format__range_xxx\")\r\n     * Range format element is wrap the \"format element\" and \"component\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__se__format__range__closure_xxx\")\r\n     * Closure range format elements is included in the range format element.\r\n     *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range__closure_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE | class=\"__se__format__free_xxx\")\r\n     * Free format elements is included in the format element.\r\n     * Free format elements's line break is \"BR\" tag.\r\n     * ※ Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure free format element. (class=\"__se__format__free__closure_xxx\")\r\n     * Closure free format elements is included in the free format element.\r\n     *  - Closure free format elements's line break is \"BR\" tag.\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && this.hasClass(element, '(\\\\s|^)__se__format__free__closure_.+(\\\\s|$)');\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component[img, iframe, video, audio, table] cover(class=\"se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isComponent: function (element) {\r\n        return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description Checks for \"__se__uneditable\" in the class list.\r\n     * Components with class \"__se__uneditable\" cannot be modified.\r\n     * @param {Element} element The element to check\r\n     * @returns {Boolean}\r\n     */\r\n    isUneditableComponent: function (element) {\r\n        return element && this.hasClass(element, '__se__uneditable');\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(class=\"se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMediaComponent: function (element) {\r\n        return element && /se-component/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the not checking node. (class=\"katex\", \"__se__tag\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNotCheckingNode: function (element) {\r\n        return element && /katex|__se__tag/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element)) element.firstElementChild;\r\n            if (this.isFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getRangeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getClosureFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     * @param {Array|null} blacklist Blacklist array(LowerCase)\r\n     */\r\n    copyTagAttributes: function (originEl, copyEl, blacklist) {\r\n        if (copyEl.style.cssText) {\r\n            const copyStyles = copyEl.style;\r\n            for (let i = 0, len = copyStyles.length; i < len; i++) {\r\n                originEl.style[copyStyles[i]] = copyStyles[copyStyles[i]];\r\n            }\r\n        }\r\n\r\n        const attrs = copyEl.attributes;\r\n        for (let i = 0, len = attrs.length, name; i < len; i++) {\r\n            name = attrs[i].name.toLowerCase();\r\n            if ((blacklist && blacklist.indexOf(name) > -1) || !attrs[i].value) originEl.removeAttribute(name);\r\n            else if (name !== 'style') originEl.setAttribute(attrs[i].name, attrs[i].value);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyFormatAttributes: function (originEl, copyEl) {\r\n        copyEl = copyEl.cloneNode(false);\r\n        copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\r\n        this.copyTagAttributes(originEl, copyEl);\r\n    },\r\n\r\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Node|null}\r\n     */\r\n    getArrayItem: function (array, validation, multi) {\r\n        if (!array || array.length === 0) return null;\r\n\r\n        validation = validation || function () { return true; };\r\n        const arr = [];\r\n\r\n        for (let i = 0, len = array.length, a; i < len; i++) {\r\n            a = array[i];\r\n            if (validation(a)) {\r\n                if (!multi) return a;\r\n                else arr.push(a);\r\n            }\r\n        }\r\n\r\n        return !multi ? null : arr;\r\n    },\r\n\r\n    /**\r\n     * @description Check if an array contains an element \r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to check for\r\n     * @returns {Boolean}\r\n     */\r\n    arrayIncludes: function(array, element) {\r\n        for (let i = 0; i < array.length; i++) {\r\n            if (array[i] === element) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\r\n    getArrayIndex: function (array, element) {\r\n        let idx = -1;\r\n        for (let i = 0, len = array.length; i < len; i++) {\r\n            if (array[i] === element) {\r\n                idx = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    nextIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    prevIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx - 1;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\r\n    getPositionIndex: function (node) {\r\n        let idx = 0;\r\n        while ((node = node.previousSibling)) {\r\n            idx += 1;\r\n        }\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\r\n    getNodePath: function (node, parentNode, _newOffsets) {\r\n        const path = [];\r\n        let finds = true;\r\n\r\n        this.getParentElement(node, function (el) {\r\n            if (el === parentNode) finds = false;\r\n            if (finds && !this.isWysiwygDiv(el)) {\r\n                // merge text nodes\r\n                if (_newOffsets && el.nodeType === 3) {\r\n                    let temp = null, tempText = null;\r\n                    _newOffsets.s = _newOffsets.e = 0;\r\n\r\n                    let previous = el.previousSibling;\r\n                    while (previous && previous.nodeType === 3) {\r\n                        tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.s += tempText.length;\r\n                        el.textContent = tempText + el.textContent;\r\n                        temp = previous;\r\n                        previous = previous.previousSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n\r\n                    let next = el.nextSibling;\r\n                    while (next && next.nodeType === 3) {\r\n                        tempText = next.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.e += tempText.length;\r\n                        el.textContent += tempText;\r\n                        temp = next;\r\n                        next = next.nextSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n                }\r\n\r\n                // index push\r\n                path.push(el);\r\n            }\r\n            return false;\r\n        }.bind(this));\r\n\r\n        return path.map(this.getPositionIndex).reverse();\r\n    },\r\n\r\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\r\n    getNodeFromPath: function (offsets, parentNode) {\r\n        let current = parentNode;\r\n        let nodes;\r\n\r\n        for (let i = 0, len = offsets.length; i < len; i++) {\r\n            nodes = current.childNodes;\r\n            if (nodes.length === 0) break;\r\n            if (nodes.length <= offsets[i]) {\r\n                current = nodes[nodes.length - 1];\r\n            } else {\r\n                current = nodes[offsets[i]];\r\n            }\r\n        }\r\n\r\n        return current;\r\n    },\r\n\r\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\r\n    isSameAttributes: function (a, b) {\r\n        if (a.nodeType === 3 && b.nodeType === 3) return true;\r\n        if (a.nodeType === 3 || b.nodeType === 3) return false;\r\n\r\n        const style_a = a.style;\r\n        const style_b = b.style;\r\n        let compStyle = 0;\r\n\r\n        for (let i = 0, len = style_a.length; i < len; i++) {\r\n            if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\r\n        }\r\n\r\n        const class_a = a.classList;\r\n        const class_b = b.classList;\r\n        const reg = this._w.RegExp;\r\n        let compClass = 0;\r\n\r\n        for (let i = 0, len = class_a.length; i < len; i++) {\r\n            if (reg('(\\s|^)' + class_a[i] + '(\\s|$)').test(class_b.value)) compClass++;\r\n        }\r\n\r\n        return (compStyle === style_b.length && compStyle === style_a.length) && (compClass === class_b.length && compClass === class_a.length);\r\n    },\r\n\r\n    /**\r\n     * @description Check the line element(util.isFormatElement) is empty.\r\n     * @param {Element} element Format element node\r\n     * @returns {Boolean}\r\n     */\r\n    isEmptyLine: function (element) {\r\n        return !element || !element.parentNode || (!element.querySelector('IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE') && element.children.length === 0 && this.onlyZeroWidthSpace(element.textContent));\r\n    },\r\n\r\n    /**\r\n     * @description Check the span's attributes are empty.\r\n     * @param {Element|null} element Element node\r\n     * @returns {Boolean}\r\n     */\r\n    isSpanWithoutAttr: function (element) {\r\n        return !!element && element.nodeType === 1 && /^SPAN$/i.test(element.nodeName) && !element.className && !element.style.cssText;\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isList: function (node) {\r\n        return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isListCell: function (node) {\r\n        return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTable: function (node) {\r\n        return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isCell: function (node) {\r\n        return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isBreak: function (node) {\r\n        return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n\r\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isAnchor: function (node) {\r\n        return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMedia: function (node) {\r\n        return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a figure tag or util.isMedia()\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFigures: function (node) {\r\n        return node && (this.isMedia(node) || /^(FIGURE)$/i.test(typeof node === 'string' ? node : node.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\r\n    isNumber: function (text) {\r\n        return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\r\n    },\r\n\r\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\r\n    getNumber: function (text, maxDec) {\r\n        if (!text) return 0;\r\n\r\n        let number = (text + '').match(/-?\\d+(\\.\\d+)?/);\r\n        if (!number || !number[0]) return 0;\r\n\r\n        number = number[0];\r\n        return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildren: function (element, validation) {\r\n        const children = [];\r\n        if (!element || !element.children || element.children.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            if (!!current.children) {\r\n                for (let i = 0, len = current.children.length; i < len; i++) {\r\n                    recursionFunc(current.children[i]);\r\n                }\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildNodes: function (element, validation) {\r\n        const children = [];\r\n        if (!element || element.childNodes.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.childNodes.length; i < len; i++) {\r\n                recursionFunc(current.childNodes[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\r\n    getElementDepth: function (element) {\r\n        if (!element || this.isWysiwygDiv(element)) return -1;\r\n\r\n        let depth = 0;\r\n        element = element.parentNode;\r\n\r\n        while (element && !this.isWysiwygDiv(element)) {\r\n            depth += 1;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return depth;\r\n    },\r\n\r\n    /**\r\n     * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n     * @param {Node} a Node to compare.\r\n     * @param {Node} b Node to compare.\r\n     * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n     */\r\n    compareElements: function (a, b) {\r\n        let aNode = a, bNode = b;\r\n        while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\r\n            aNode = aNode.parentNode;\r\n            bNode = bNode.parentNode;\r\n        }\r\n\r\n        if (!aNode || !bNode) return { ancestor: null, a: a, b: b, result: 0 };\r\n\r\n        const children = aNode.parentNode.childNodes;\r\n        const aIndex = this.getArrayIndex(children, aNode);\r\n        const bIndex = this.getArrayIndex(children, bNode);\r\n\r\n        return {\r\n            ancestor: aNode.parentNode,\r\n            a: aNode,\r\n            b: bNode,\r\n            result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getParentElement: function (element, query) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + query + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        while (element && !check(element)) {\r\n            if (this.isWysiwygDiv(element)) {\r\n                return null;\r\n            }\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return element;\r\n    },\r\n\r\n    /**\r\n     * @description Gets the previous sibling last child. If there is no sibling, then it'll take it from the closest ancestor with child\r\n     * Returns null if not found.\r\n     * @param {Node} node Reference element\r\n     * @param {Node|null} ceiling Highest boundary allowed\r\n     * @returns {Node|null}\r\n     */\r\n    getPreviousDeepestNode: function (node, ceiling) {\r\n        let previousNode = node.previousSibling;\r\n        if (!previousNode) {\r\n            for (let parentNode = node.parentNode; parentNode; parentNode = parentNode.parentNode) {\r\n                if (parentNode === ceiling) return null;\r\n                if (parentNode.previousSibling) {\r\n                    previousNode = parentNode.previousSibling;\r\n                    break;\r\n                }\r\n            }\r\n            if (!previousNode) return null;\r\n        }\r\n        while (previousNode.lastChild) previousNode = previousNode.lastChild;\r\n\r\n        return previousNode;\r\n    },\r\n\r\n    /**\r\n     * @description Gets the next sibling first child. If there is no sibling, then it'll take it from the closest ancestor with child\r\n     * Returns null if not found.\r\n     * @param {Node} node Reference element\r\n     * @param {Node|null} ceiling Highest boundary allowed\r\n     * @returns {Node|null}\r\n     */\r\n    getNextDeepestNode: function (node, ceiling) {\r\n        let nextNode = node.nextSibling;\r\n        if (!nextNode) {\r\n            for (let parentNode = node.parentNode; parentNode; parentNode = parentNode.parentNode) {\r\n                if (parentNode === ceiling) return null;\r\n                if (parentNode.nextSibling) {\r\n                    nextNode = parentNode.nextSibling;\r\n                    break;\r\n                }\r\n            }\r\n            if (!nextNode) return null;\r\n        }\r\n        while (nextNode.firstChild) nextNode = nextNode.firstChild;\r\n\r\n        return nextNode;\r\n    },\r\n\r\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getChildElement: function (element, query, last) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + (query === 'text' ? '#' + query : query) + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        const childList = this.getListChildNodes(element, function (current) {\r\n            return check(current);\r\n        });\r\n\r\n        return childList[last ? childList.length - 1 : 0];\r\n    },\r\n\r\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\r\n    getEdgeChildNodes: function (first, last) {\r\n        if (!first) return;\r\n        if (!last) last = first;\r\n\r\n        while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) first = first.firstChild;\r\n        while (last && last.nodeType === 1 && last.childNodes.length > 0 &&  !this.isBreak(last)) last = last.lastChild;\r\n\r\n        return {\r\n            sc: first,\r\n            ec: last || first\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\r\n    getOffset: function (element, wysiwygFrame) {\r\n        let offsetLeft = 0;\r\n        let offsetTop = 0;\r\n        let offsetElement = element.nodeType === 3 ? element.parentElement : element;\r\n        const wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\r\n\r\n        while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\r\n            offsetLeft += offsetElement.offsetLeft;\r\n            offsetTop += offsetElement.offsetTop;\r\n            offsetElement = offsetElement.offsetParent;\r\n        }\r\n\r\n        const iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\r\n\r\n        return {\r\n            left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\r\n            top: (offsetTop - (wysiwyg ? wysiwyg.scrollTop : 0)) + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\r\n    getOverlapRangeAtIndex: function (aStart, aEnd, bStart, bEnd) {\r\n        if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\r\n\r\n        const overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\r\n        return (overlap < 0 ? overlap * -1 : overlap) + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\r\n    changeTxt: function (element, txt) {\r\n        if (!element || !txt) return;\r\n        element.textContent = txt;\r\n    },\r\n\r\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\r\n    changeElement: function (element, newElement) {\r\n        if (typeof newElement === 'string') {\r\n            if (element.outerHTML) {\r\n                element.outerHTML = newElement;\r\n            } else {\r\n                const doc = this.createElement('DIV');\r\n                doc.innerHTML = newElement;\r\n                newElement = doc.firstChild;\r\n                element.parentNode.replaceChild(newElement, element);\r\n            }\r\n        } else if (newElement.nodeType === 1) {\r\n            element.parentNode.replaceChild(newElement, element);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\r\n    setStyle: function (element, styleName, value) {\r\n        element.style[styleName] = value;\r\n\r\n        if (!value && !element.style.cssText) {\r\n            element.removeAttribute('style');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\r\n    hasClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        return (new this._w.RegExp(className)).test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\r\n    addClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) return;\r\n\r\n        element.className += (element.className.length > 0 ? ' ' : '') + className;\r\n    },\r\n\r\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\r\n    removeClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        element.className = element.className.replace(check, ' ').trim();\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     * @returns {Boolean|undefined}\r\n     */\r\n    toggleClass: function (element, className) {\r\n        if (!element) return;\r\n        let result = false;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) {\r\n            element.className = element.className.replace(check, ' ').trim();\r\n        } else {\r\n            element.className += ' ' + className;\r\n            result = true;\r\n        }\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * @description Checks if element can't be easily enabled\r\n     * @param {Element} element Element to check for\r\n     */\r\n    isImportantDisabled: function (element) {\r\n        return element.hasAttribute('data-important-disabled');\r\n    },\r\n\r\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     * @param {Boolean} important If priveleged mode should be used (Necessary to switch importantDisabled buttons)\r\n     */\r\n    setDisabledButtons: function (disabled, buttonList, important) {\r\n        for (let i = 0, len = buttonList.length; i < len; i++) {\r\n            let button = buttonList[i];\r\n            if (important || !this.isImportantDisabled(button)) button.disabled = disabled;\r\n            if (important) {\r\n                if (disabled) {\r\n                    button.setAttribute('data-important-disabled', '');\r\n                } else {\r\n                    button.removeAttribute('data-important-disabled');\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\r\n    removeItem: function (item) {\r\n        if (!item) return;\r\n\r\n        if(typeof item.remove === 'function') item.remove();\r\n        else if (item.parentNode) item.parentNode.removeChild(item);\r\n    },\r\n\r\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\r\n    removeItemAllParents: function (item, validation, stopParent) {\r\n        if (!item) return null;\r\n        let cc = null;\r\n        if (!validation) {\r\n            validation = function (current) {\r\n                if (current === stopParent || this.isComponent(current)) return false;\r\n                const text = current.textContent.trim();\r\n                return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n            }.bind(this);\r\n        }\r\n\r\n        (function recursionFunc (element) {\r\n            if (!util.isWysiwygDiv(element)) {\r\n                const parent = element.parentNode;\r\n                if (parent && validation(element)) {\r\n                    cc = {\r\n                        sc: element.previousElementSibling,\r\n                        ec: element.nextElementSibling\r\n                    };\r\n                    util.removeItem(element);\r\n                    recursionFunc(parent);\r\n                }\r\n            }\r\n        }(item));\r\n\r\n        return cc;\r\n    },\r\n\r\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\r\n    detachNestedList: function (baseNode, all) {\r\n        const rNode = this._deleteNestedList(baseNode);\r\n        let rangeElement, cNodes;\r\n\r\n        if (rNode) {\r\n            rangeElement = rNode.cloneNode(false);\r\n            cNodes = rNode.childNodes;\r\n            const index = this.getPositionIndex(baseNode);\r\n            while (cNodes[index]) {\r\n                rangeElement.appendChild(cNodes[index]);\r\n            }\r\n        } else {\r\n            rangeElement = baseNode;\r\n        }\r\n\r\n        let rChildren;\r\n        if (!all) {\r\n            const depth = this.getElementDepth(baseNode) + 2;\r\n            rChildren = this.getListChildren(baseNode, function (current) { return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth; }.bind(this));\r\n        } else {\r\n            rChildren = this.getListChildren(rangeElement, function (current) { return this.isListCell(current) && !current.previousElementSibling; }.bind(this));\r\n        }\r\n\r\n        for (let i = 0, len = rChildren.length; i < len; i++) {\r\n            this._deleteNestedList(rChildren[i]);\r\n        }\r\n\r\n        if (rNode) {\r\n            rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\r\n            if (cNodes && cNodes.length === 0) this.removeItem(rNode);\r\n        }\r\n\r\n        return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\r\n    },\r\n\r\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\r\n    _deleteNestedList: function (baseNode) {\r\n        const baseParent = baseNode.parentNode;\r\n        let sibling = baseParent;\r\n        let parent = sibling.parentNode;\r\n        let liSibling, liParent, child, index, c;\r\n\r\n        while (this.isListCell(parent)) {\r\n            index = this.getPositionIndex(baseNode);\r\n            liSibling = parent.nextElementSibling;\r\n            liParent = parent.parentNode;\r\n            child = sibling;\r\n            while(child) {\r\n                sibling = sibling.nextSibling;\r\n                if (this.isList(child)) {\r\n                    c = child.childNodes;\r\n                    while (c[index]) {\r\n                        liParent.insertBefore(c[index], liSibling);\r\n                    }\r\n                    if (c.length === 0) this.removeItem(child);\r\n                } else {\r\n                    liParent.appendChild(child);\r\n                }\r\n                child = sibling;\r\n            }\r\n            sibling = liParent;\r\n            parent = liParent.parentNode;\r\n        }\r\n\r\n        if (baseParent.children.length === 0) this.removeItem(baseParent);\r\n\r\n        return liParent;\r\n    },\r\n\r\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|Node|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\r\n    splitElement: function (baseNode, offset, depth) {\r\n        if (this.isWysiwygDiv(baseNode)) return baseNode;\r\n\r\n        if (offset && !this.isNumber(offset)) {\r\n            const children =  baseNode.childNodes;\r\n            let index = this.getPositionIndex(offset);\r\n            const prev = baseNode.cloneNode(false);\r\n            const next = baseNode.cloneNode(false);\r\n            for (let i = 0, len = children.length; i < len; i++) {\r\n                if (i < index) prev.appendChild(children[i]);\r\n                else if (i > index) next.appendChild(children[i]);\r\n                else continue;\r\n                i--;\r\n                len--;\r\n                index--;\r\n            }\r\n\r\n            if (prev.childNodes.length > 0) baseNode.parentNode.insertBefore(prev, baseNode);\r\n            if (next.childNodes.length > 0) baseNode.parentNode.insertBefore(next, baseNode.nextElementSibling);\r\n\r\n            return baseNode;\r\n        }\r\n\r\n        const bp = baseNode.parentNode;\r\n        let index = 0;\r\n        let suffixIndex = 1;\r\n        let next = true;\r\n        let newEl, children, temp;\r\n        if (!depth || depth < 0) depth = 0;\r\n\r\n        if (baseNode.nodeType === 3) {\r\n            index = this.getPositionIndex(baseNode);\r\n            if (offset >= 0 && baseNode.length !== offset) {\r\n                baseNode.splitText(offset);\r\n                const after = this.getNodeFromPath([index + 1], bp);\r\n                if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\r\n            }\r\n        } else if (baseNode.nodeType === 1) {\r\n            if (offset === 0) {\r\n                while (baseNode.firstChild) {\r\n                    baseNode = baseNode.firstChild;\r\n                }\r\n                if (baseNode.nodeType === 3) {\r\n                    const after = this.createTextNode(this.zeroWidthSpace);\r\n                    baseNode.parentNode.insertBefore(after, baseNode);\r\n                    baseNode = after;\r\n                }\r\n            }\r\n            if (!baseNode.previousSibling) {\r\n                if (this.getElementDepth(baseNode) === depth) next = false;\r\n            } else {\r\n                baseNode = baseNode.previousSibling;\r\n            }\r\n        }\r\n\r\n        if (baseNode.nodeType === 1) suffixIndex = 0;\r\n        let depthEl = baseNode;\r\n        while (this.getElementDepth(depthEl) > depth) {\r\n            index = this.getPositionIndex(depthEl) + suffixIndex;\r\n            depthEl = depthEl.parentNode;\r\n\r\n            temp = newEl;\r\n            newEl = depthEl.cloneNode(false);\r\n            children = depthEl.childNodes;\r\n\r\n            if (temp) {\r\n                if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\r\n                    newEl.innerHTML = temp.firstElementChild.innerHTML;\r\n                    util.removeItem(temp.firstElementChild);\r\n                    if (temp.children.length > 0) newEl.appendChild(temp);\r\n                } else {\r\n                    newEl.appendChild(temp);\r\n                }\r\n            }\r\n\r\n            while (children[index]) {\r\n                newEl.appendChild(children[index]);\r\n            }\r\n        }\r\n\r\n        if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\r\n\r\n        const pElement = depthEl.parentNode;\r\n        if (next) depthEl = depthEl.nextSibling;\r\n        if (!newEl) return depthEl;\r\n\r\n        this.mergeSameTags(newEl, null, false);\r\n        this.mergeNestedTags(newEl, function (current) { return this.isList(current); }.bind(this));\r\n\r\n        if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);\r\n        else newEl = depthEl;\r\n\r\n        if (this.isListCell(newEl) && newEl.children && this.isList(newEl.children[0])) {\r\n            newEl.insertBefore(this.createElement('BR'), newEl.children[0]);\r\n        }\r\n\r\n        if (bp.childNodes.length === 0) this.removeItem(bp);\r\n\r\n        return newEl;\r\n    },\r\n\r\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\r\n    mergeSameTags: function (element, nodePathArray, onlyText) {\r\n        const inst = this;\r\n        const nodePathLen = nodePathArray ? nodePathArray.length : 0;\r\n        let offsets = null;\r\n\r\n        if (nodePathLen) {\r\n            offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\r\n        }\r\n\r\n        (function recursionFunc(current, depth, depthIndex) {\r\n            const children = current.childNodes;\r\n\r\n            for (let i = 0, len = children.length, child, next; i < len; i++) {\r\n                child = children[i];\r\n                next = children[i + 1];\r\n                if (!child) break;\r\n                if (inst.isBreak(child) || inst.isMedia(child) || inst.isInputElement(child)) continue;\r\n                if((onlyText && inst._isIgnoreNodeChange(child)) || (!onlyText && (inst.isTable(child) || inst.isListCell(child) || (inst.isFormatElement(child) && !inst.isFreeFormatElement(child))))) {\r\n                    if (inst.isTable(child) || inst.isListCell(child)) {\r\n                        recursionFunc(child, depth + 1, i);\r\n                    }\r\n                    continue;\r\n                }\r\n                if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\r\n                    // update nodePath\r\n                    if (nodePathLen) {\r\n                        let path, c, p, cDepth, spliceDepth;\r\n                        for (let n = 0; n < nodePathLen; n++) {\r\n                            path = nodePathArray[n];\r\n                            if (path && path[depth] === i) {\r\n                                c = child, p = current, cDepth = depth, spliceDepth = true;\r\n                                while (cDepth >= 0) {\r\n                                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\r\n                                        spliceDepth = false;\r\n                                        break;\r\n                                    }\r\n                                    c = child.parentNode;\r\n                                    p = c.parentNode;\r\n                                    cDepth--;\r\n                                }\r\n                                if (spliceDepth) {\r\n                                    path.splice(depth, 1);\r\n                                    path[depth] = i;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // merge tag\r\n                    inst.copyTagAttributes(child, current);\r\n                    current.parentNode.insertBefore(child, current);\r\n                    inst.removeItem(current);\r\n                }\r\n\r\n                if (!next) {\r\n                    if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\r\n                    break;\r\n                }\r\n\r\n                if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\r\n                    const childs = child.childNodes;\r\n                    let childLength = 0;\r\n                    for (let n = 0, nLen = childs.length; n < nLen; n++) {\r\n                        if (childs[n].textContent.length > 0) childLength++;\r\n                    }\r\n\r\n                    const l = child.lastChild;\r\n                    const r = next.firstChild;\r\n                    let addOffset = 0;\r\n                    if (l && r) {\r\n                        const textOffset = l.nodeType === 3 && r.nodeType === 3;\r\n                        addOffset = l.textContent.length;\r\n                        let tempL = l.previousSibling;\r\n                        while(tempL && tempL.nodeType === 3) {\r\n                            addOffset += tempL.textContent.length;\r\n                            tempL = tempL.previousSibling;\r\n                        }\r\n\r\n                        if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\r\n\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n\r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        if (textOffset) {\r\n                                            if (l && l.nodeType === 3 && r && r.nodeType === 3) {\r\n                                                offsets[n] += addOffset;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (child.nodeType === 3) {\r\n                        addOffset = child.textContent.length;\r\n                        child.textContent += next.textContent;\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n\r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        offsets[n] += addOffset;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        child.innerHTML += next.innerHTML;\r\n                    }\r\n\r\n                    inst.removeItem(next);\r\n                    i--;\r\n                } else if (child.nodeType === 1) {\r\n                    recursionFunc(child, depth + 1, i);\r\n                }\r\n            }\r\n        })(element, 0, 0);\r\n\r\n        return offsets;\r\n    },\r\n\r\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\r\n    mergeNestedTags: function (element, validation) {\r\n        if (typeof validation === 'string') {\r\n            validation = function (current) { return this.test(current.tagName); }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\r\n        } else if (typeof validation !== 'function') {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        (function recursionFunc(current) {\r\n            let children = current.children;\r\n            if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\r\n                const temp = children[0];\r\n                children = temp.children;\r\n                while (children[0]) {\r\n                    current.appendChild(children[0]);\r\n                }\r\n                current.removeChild(temp);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n    },\r\n\r\n    /**\r\n     * @description Delete a empty child node of argument element.\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     * @param {boolean} forceDelete When all child nodes are deleted, the parent node is also deleted.\r\n     */\r\n    removeEmptyNode: function (element, notRemoveNode, forceDelete) {\r\n        const inst = this;\r\n\r\n        if (notRemoveNode) {\r\n            notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\r\n                return element === current.parentElement;\r\n            });\r\n        }\r\n\r\n        (function recursionFunc(current) {\r\n            if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\r\n            if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild)) && !current.querySelector(inst._allowedEmptyNodeList)) {\r\n                if (current.parentNode) {\r\n                    current.parentNode.removeChild(current);\r\n                    return -1;\r\n                }\r\n            } else {\r\n                const children = current.children;\r\n                for (let i = 0, len = children.length, r = 0; i < len; i++) {\r\n                    if (!children[i + r] || inst.isComponent(children[i + r])) continue;\r\n                    r += recursionFunc(children[i + r]);\r\n                }\r\n            }\r\n\r\n            return 0;\r\n        })(element);\r\n\r\n        if (element.childNodes.length === 0) {\r\n            if (forceDelete) {\r\n                this.removeItem(element);\r\n            } else {\r\n                element.innerHTML = '<br>';\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\r\n    htmlRemoveWhiteSpace: function (html) {\r\n        if (!html) return '';\r\n        return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\\s+(?=<)/ig, function (m) { return m.replace(/\\n/g, '').replace(/\\s+/, ' '); });\r\n    },\r\n\r\n    /**\r\n     * @description HTML code compression\r\n     * @param {string} html HTML string\r\n     * @returns {string} HTML string\r\n     */\r\n    htmlCompress: function (html) {\r\n        return html.replace(/\\n/g, '').replace(/>\\s+</g, '> <');\r\n    },\r\n\r\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\r\n    sortByDepth: function (array, des) {\r\n        const t = !des ? -1 : 1;\r\n        const f = t * -1;\r\n\r\n        array.sort(function (a, b) {\r\n            if (!this.isListCell(a) || !this.isListCell(b)) return 0;\r\n            a = this.getElementDepth(a);\r\n            b = this.getElementDepth(b);\r\n            return a > b ? t : a < b ? f : 0;\r\n        }.bind(this));\r\n    },\r\n    \r\n    /**\r\n     * @description Escape a string for safe use in regular expressions.\r\n     * @param {String} string String to escape\r\n     * @returns {String}\r\n     */\r\n    escapeStringRegexp: function (string) {\r\n        if (typeof string !== 'string') {\r\n            throw new TypeError('Expected a string');\r\n        }\r\n\r\n        // Escape characters with special meaning either inside or outside character sets.\r\n        // Use a simple backslash escape when it’s always valid, and a `\\xnn` escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.\r\n        return string\r\n            .replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\r\n            .replace(/-/g, '\\\\x2d');\r\n    },\r\n\r\n    _isExcludeSelectionElement: function (element) {\r\n        return !/FIGCAPTION/i.test(element.nodeName) && (this.isComponent(element) || /FIGURE/i.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isIgnoreNodeChange: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes (A, Label, Code, Span:font-size)\r\n     * @param {Node|String} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isMaintainedNode: function (element) {\r\n        return element && element.nodeType !== 3 && /^(a|label|code|summary)$/i.test(typeof element === 'string' ? element : element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Node with font-size style\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isSizeNode: function (element) {\r\n        return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\r\n    },\r\n\r\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _notTextNode: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Check disallowed tags\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _disallowedTags: function (element) {\r\n        return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?\\\\b(?!\" + list + \")\\\\b[^>^<]*+>\", \"gi\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\r\n    createTagsWhitelist: function (list) {\r\n        return new RegExp('<\\\\/?\\\\b(?!\\\\b' + (list || '').replace(/\\|/g, '\\\\b|\\\\b') + '\\\\b)[^>]*>', 'gi');\r\n    },\r\n\r\n    /**\r\n     * @description Create blacklist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?\\\\b(?:\" + list + \")\\\\b[^>^<]*+>\", \"gi\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\r\n    createTagsBlacklist: function (list) {\r\n        return new RegExp('<\\\\/?\\\\b(?:\\\\b' + (list || '^').replace(/\\|/g, '\\\\b|\\\\b') + '\\\\b)[^>]*>', 'gi');\r\n    },\r\n\r\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @param {RegExp} htmlCheckBlacklistRegExp Editor tags blacklist (core._htmlCheckBlacklistRegExp)\r\n     * @param {Function} classNameFilter Class name filter function\r\n     * @param {Function} strictHTMLValidation Enforces strict HTML validation based on the editor`s policy\r\n     * @private\r\n     */\r\n    _consistencyCheckOfHTML: function (documentFragment, htmlCheckWhitelistRegExp, htmlCheckBlacklistRegExp, classNameFilter, strictHTMLValidation) {\r\n        /**\r\n         * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n         * So check the node type and exclude the text no (current.nodeType !== 1)\r\n         */\r\n        const removeTags = [], emptyTags = [], wrongList = [], withoutFormatCells = [];\r\n\r\n        // wrong position\r\n        const wrongTags = this.getListChildNodes(documentFragment, function (current) {\r\n            if (current.nodeType !== 1) {\r\n                if (this.isList(current.parentElement)) removeTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            // white list\r\n            if (htmlCheckBlacklistRegExp.test(current.nodeName) || (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current))) {\r\n                removeTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            // empty tags\r\n            const nrtag = !this.getParentElement(current, this.isNotCheckingNode);\r\n            if ((!this.isTable(current) && !this.isListCell(current) && !this.isAnchor(current)) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\r\n                emptyTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            // wrong list\r\n            if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\r\n                wrongList.push(current);\r\n                return false;\r\n            }\r\n\r\n            // table cells\r\n            if (this.isCell(current)) {\r\n                const fel = current.firstElementChild;\r\n                if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\r\n                    withoutFormatCells.push(current);\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            // class filter\r\n            if (nrtag && current.className) {\r\n                const className = new this._w.Array(current.classList).map(classNameFilter).join(' ').trim();\r\n                if (className) current.className = className;\r\n                else current.removeAttribute('class');\r\n            }\r\n\r\n            const result = strictHTMLValidation && current.parentNode !== documentFragment && nrtag &&\r\n                ((this.isListCell(current) && !this.isList(current.parentNode)) ||\r\n                    ((this.isFormatElement(current) || this.isComponent(current)) && !this.isRangeFormatElement(current.parentNode) && !this.getParentElement(current, this.isComponent)));\r\n\r\n            return result;\r\n        }.bind(this));\r\n\r\n        for (let i = 0, len = removeTags.length; i < len; i++) {\r\n            this.removeItem(removeTags[i]);\r\n        }\r\n\r\n        const checkTags = [];\r\n        for (let i = 0, len = wrongTags.length, t, p; i < len; i++) {\r\n            t = wrongTags[i];\r\n            p = t.parentNode;\r\n            if (!p || !p.parentNode) continue;\r\n\r\n            if (this.getParentElement(t, this.isListCell)) {\r\n                const cellChildren = t.childNodes;\r\n                for (let j = cellChildren.length - 1; len >= 0; j--) {\r\n                    p.insertBefore(t, cellChildren[j]);\r\n                }\r\n                checkTags.push(t);\r\n            } else {\r\n                p.parentNode.insertBefore(t, p);\r\n                checkTags.push(p);\r\n            }\r\n        }\r\n\r\n        for (let i = 0, len = checkTags.length, t; i < len; i++) {\r\n            t = checkTags[i];\r\n            if (this.onlyZeroWidthSpace(t.textContent.trim())) {\r\n                this.removeItem(t);\r\n            }\r\n        }\r\n\r\n        for (let i = 0, len = emptyTags.length; i < len; i++) {\r\n            this.removeItem(emptyTags[i]);\r\n        }\r\n\r\n        for (let i = 0, len = wrongList.length, t, tp, children, p; i < len; i++) {\r\n            t = wrongList[i];\r\n            p = t.parentNode;\r\n            if (!p) continue;\r\n\r\n            tp = this.createElement('LI');\r\n\r\n            if (this.isFormatElement(t)) {\r\n                children = t.childNodes;\r\n                while (children[0]) {\r\n                    tp.appendChild(children[0]);\r\n                }\r\n                p.insertBefore(tp, t);\r\n                this.removeItem(t);\r\n            } else {\r\n                t = t.nextSibling;\r\n                tp.appendChild(wrongList[i]);\r\n                p.insertBefore(tp, t);\r\n            }\r\n        }\r\n\r\n        for (let i = 0, len = withoutFormatCells.length, t, f; i < len; i++) {\r\n            t = withoutFormatCells[i];\r\n            f = this.createElement('DIV');\r\n            f.innerHTML = (t.textContent.trim().length === 0 && t.children.length === 0) ? '<br>' : t.innerHTML;\r\n            t.innerHTML = f.outerHTML;\r\n        }\r\n    },\r\n\r\n    _setDefaultOptionStyle: function (options, defaultStyle) {\r\n        let optionStyle = '';\r\n        if (options.height) optionStyle += 'height:' + options.height + ';';\r\n        if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\r\n        if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\r\n        if (options.position) optionStyle += 'position:' + options.position + ';';\r\n        if (options.width) optionStyle += 'width:' + options.width + ';';\r\n        if (options.minWidth) optionStyle += 'min-width:' + options.minWidth + ';';\r\n        if (options.maxWidth) optionStyle += 'max-width:' + options.maxWidth + ';';\r\n\r\n        let top = '', frame = '', editor = '';\r\n        defaultStyle = optionStyle + defaultStyle;\r\n        const styleArr = defaultStyle.split(';');\r\n        for (let i = 0, len = styleArr.length, s; i < len; i++) {\r\n            s = styleArr[i].trim();\r\n            if (!s) continue;\r\n            if (/^(min-|max-)?width\\s*:/.test(s) || /^(z-index|position)\\s*:/.test(s)) {\r\n                top += s + ';';\r\n                continue;\r\n            }\r\n            if (/^(min-|max-)?height\\s*:/.test(s)) {\r\n                if (/^height/.test(s) && s.split(':')[1].trim() === 'auto') {\r\n                    options.height = 'auto';\r\n                }\r\n                frame += s + ';';\r\n                continue;\r\n            }\r\n            editor += s + ';';\r\n        }\r\n\r\n        return {\r\n            top: top,\r\n            frame: frame,\r\n            editor: editor\r\n        };\r\n    },\r\n\r\n    _setIframeDocument: function (frame, options) {\r\n        frame.setAttribute('scrolling', 'auto');\r\n        frame.contentDocument.head.innerHTML = '' +\r\n            '<meta charset=\"utf-8\" />' +\r\n            '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">' +\r\n            this._setIframeCssTags(options);\r\n        frame.contentDocument.body.className = options._editableClass;\r\n        frame.contentDocument.body.setAttribute('contenteditable', true);\r\n        frame.contentDocument.body.setAttribute('autocorrect', \"off\");\r\n    },\r\n\r\n    _setIframeCssTags: function (options) {\r\n        const linkNames = options.iframeCSSFileName;\r\n        const wRegExp = this._w.RegExp;\r\n        let tagString = '';\r\n\r\n        for (let f = 0, len = linkNames.length, path; f < len; f++) {\r\n            path = [];\r\n\r\n            if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\r\n                path.push(linkNames[f]);\r\n            } else {\r\n                const CSSFileName = new wRegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$', 'i');\r\n                for (let c = document.getElementsByTagName('link'), i = 0, len = c.length, styleTag; i < len; i++) {\r\n                    styleTag = c[i].href.match(CSSFileName);\r\n                    if (styleTag) path.push(styleTag[0]);\r\n                }\r\n            }\r\n\r\n            if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\r\n\r\n            for (let i = 0, len = path.length; i < len; i++) {\r\n                tagString += '<link href=\"' + path[i] + '\" rel=\"stylesheet\">';\r\n            }\r\n        }\r\n\r\n        return tagString + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\r\n    }\r\n};\r\n\r\nexport default util;","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport _icons from '../assets/defaultIcons';\r\nimport _defaultLang from '../lang/en';\r\nimport util from './util';\r\n\r\nexport default {\r\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\r\n    init: function (element, options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        const doc = document;\r\n\r\n        /** --- init options --- */\r\n        this._initOptions(element, options);\r\n    \r\n        // suneditor div\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n    \r\n        // relative div\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'se-container';\r\n    \r\n        // toolbar\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\r\n        const toolbarShadow = tool_bar.element.cloneNode(false);\r\n        toolbarShadow.className += ' se-toolbar-shadow';\r\n        tool_bar.element.style.visibility = 'hidden';\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\r\n        const arrow = doc.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        // sticky toolbar dummy\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'se-toolbar-sticky-dummy';\r\n    \r\n        // inner editor div\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'se-wrapper';\r\n\r\n        /** --- init elements and create bottom bar --- */\r\n        const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwyg_div = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let textarea = initElements.codeView;\r\n\r\n        // resizing bar\r\n        const resizing_bar = bottomBar.resizingBar;\r\n        const navigation = bottomBar.navigation;\r\n        const char_wrapper = bottomBar.charWrapper;\r\n        const char_counter = bottomBar.charCounter;\r\n    \r\n        // loading box\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'se-loading-box sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\r\n\r\n        // enter line\r\n        const line_breaker = doc.createElement('DIV');\r\n        line_breaker.className = 'se-line-breaker';\r\n        line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\r\n        const line_breaker_t = doc.createElement('DIV');\r\n        line_breaker_t.className += 'se-line-breaker-component';\r\n        const line_breaker_b = line_breaker_t.cloneNode(true);\r\n        line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break;\r\n    \r\n        // resize operation background\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'se-resizing-back';\r\n\r\n        /// focus temp\r\n        const focusTemp = doc.createElement('INPUT');\r\n        focusTemp.tabIndex = -1;\r\n        focusTemp.style.cssText = 'position: fixed !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;';\r\n\r\n        // toolbar container\r\n        const toolbarContainer = options.toolbarContainer;\r\n        if (toolbarContainer) {\r\n            toolbarContainer.appendChild(tool_bar.element);\r\n            toolbarContainer.appendChild(toolbarShadow);\r\n        }\r\n\r\n        // resizingbar\r\n        const resizingBarContainer = options.resizingBarContainer;\r\n        if (resizing_bar && resizingBarContainer) resizingBarContainer.appendChild(resizing_bar);\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(textarea);\r\n        if (placeholder_span) editor_div.appendChild(placeholder_span);\r\n        if (!toolbarContainer) {\r\n            relative.appendChild(tool_bar.element);\r\n            relative.appendChild(toolbarShadow);\r\n        }\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n        relative.appendChild(line_breaker);\r\n        relative.appendChild(line_breaker_t);\r\n        relative.appendChild(line_breaker_b);\r\n        relative.appendChild(focusTemp);\r\n        if (resizing_bar && !resizingBarContainer) relative.appendChild(resizing_bar);\r\n        top_div.appendChild(relative);\r\n\r\n        textarea = this._checkCodeMirror(options, textarea);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _toolbarShadow: toolbarShadow,\r\n                _menuTray: tool_bar._menuTray,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _placeholder: placeholder_span,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _charWrapper: char_wrapper,\r\n                _charCounter: char_counter,\r\n                _loading: loading_box,\r\n                _lineBreaker: line_breaker,\r\n                _lineBreaker_t: line_breaker_t,\r\n                _lineBreaker_b: line_breaker_b,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow,\r\n                _focusTemp: focusTemp\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins,\r\n            pluginCallButtons: tool_bar.pluginCallButtons,\r\n            _responsiveButtons: tool_bar.responsiveButtons\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\r\n    _checkCodeMirror: function (options, textarea) {\r\n        if (options.codeMirror) {\r\n            const cmOptions = [{\r\n                mode: 'htmlmixed',\r\n                htmlMode: true,\r\n                lineNumbers: true,\r\n                lineWrapping: true\r\n            }, (options.codeMirror.options || {})].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (util.hasOwn(option, key)) init[key] = option[key];\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            if (options.height === 'auto') {\r\n                cmOptions.viewportMargin = Infinity;\r\n                cmOptions.height = 'auto';\r\n            }\r\n            \r\n            const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\r\n            cm.display.wrapper.style.cssText = textarea.style.cssText;\r\n            \r\n            options.codeMirrorEditor = cm;\r\n            textarea = cm.display.wrapper;\r\n            textarea.className += ' se-wrapper-code-mirror';\r\n        }\r\n\r\n        return textarea;\r\n    },\r\n\r\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\r\n    _checkKatexMath: function (katex) {\r\n        if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\r\n\r\n        const katexOptions = [{\r\n            throwOnError: false,\r\n        }, (katex.options || {})].reduce(function (init, option) {\r\n            for (let key in option) {\r\n                if (util.hasOwn(option, key)) init[key] = option[key];\r\n            }\r\n            return init;\r\n        }, {});\r\n\r\n        katex.options = katexOptions;\r\n    },\r\n\r\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\r\n    _setOptions: function (mergeOptions, context, originOptions) {\r\n        this._initOptions(context.element.originElement, mergeOptions);\r\n\r\n        const el = context.element;\r\n        const relative = el.relative;\r\n        const editorArea = el.editorArea;\r\n        const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\r\n        const isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.buttonList !== originOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\r\n\r\n        const tool_bar = this._createToolBar(document, (isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList), mergeOptions.plugins, mergeOptions);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\r\n        const arrow = document.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        if (isNewToolbar) {\r\n            tool_bar.element.style.visibility = 'hidden';\r\n            // toolbar container\r\n            if (isNewToolbarContainer) {\r\n                mergeOptions.toolbarContainer.appendChild(tool_bar.element);\r\n                el.toolbar.parentElement.removeChild(el.toolbar);\r\n            } else {\r\n                el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\r\n            }\r\n\r\n            el.toolbar = tool_bar.element;\r\n            el._menuTray = tool_bar._menuTray;\r\n            el._arrow = arrow;\r\n        }\r\n        \r\n        const initElements = this._initElements(mergeOptions, el.topArea, (isNewToolbar ? tool_bar.element : el.toolbar), arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwygFrame = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let code = initElements.codeView;\r\n\r\n        if (el.resizingBar) util.removeItem(el.resizingBar);\r\n        if (bottomBar.resizingBar) {\r\n            if (mergeOptions.resizingBarContainer && mergeOptions.resizingBarContainer !== originOptions.resizingBarContainer) {\r\n                mergeOptions.resizingBarContainer.appendChild(bottomBar.resizingBar);\r\n            } else {\r\n                relative.appendChild(bottomBar.resizingBar);\r\n            }\r\n        }\r\n\r\n        editorArea.innerHTML = '';\r\n        editorArea.appendChild(code);\r\n        if (placeholder_span) editorArea.appendChild(placeholder_span);\r\n\r\n        code = this._checkCodeMirror(mergeOptions, code);\r\n        \r\n        el.resizingBar = bottomBar.resizingBar;\r\n        el.navigation = bottomBar.navigation;\r\n        el.charWrapper = bottomBar.charWrapper;\r\n        el.charCounter = bottomBar.charCounter;\r\n        el.wysiwygFrame = wysiwygFrame;\r\n        el.code = code;\r\n        el.placeholder = placeholder_span;\r\n\r\n        if (mergeOptions.rtl) util.addClass(el.topArea, 'se-rtl');\r\n        else util.removeClass(el.topArea, 'se-rtl');\r\n\r\n        return {\r\n            callButtons: tool_bar.pluginCallButtons,\r\n            plugins: tool_bar.plugins,\r\n            toolbar: tool_bar\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\r\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\r\n        /** top div */\r\n        topDiv.style.cssText = options._editorStyles.top;\r\n\r\n        /** toolbar */\r\n        if (/inline/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-inline';\r\n            toolBar.style.width = options.toolbarWidth;\r\n        } else if (/balloon/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-balloon';\r\n            toolBar.style.width = options.toolbarWidth;\r\n            toolBar.appendChild(toolBarArrow);\r\n        }\r\n\r\n        /** editor */\r\n        // wysiwyg div or iframe\r\n        const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\r\n        wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\r\n        \r\n        if (!options.iframe) {\r\n            wysiwygDiv.setAttribute('contenteditable', true);\r\n            wysiwygDiv.setAttribute('autocorrect', \"off\");\r\n            wysiwygDiv.setAttribute('scrolling', 'auto');\r\n            for (let key in options.iframeAttributes) {\r\n                wysiwygDiv.setAttribute(key, options.iframeAttributes[key]);\r\n            }\r\n            wysiwygDiv.className += ' ' + options._editableClass;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\r\n            wysiwygDiv.className += options.className;\r\n        } else {\r\n            wysiwygDiv.allowFullscreen = true;\r\n            wysiwygDiv.frameBorder = 0;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame;\r\n            wysiwygDiv.className += options.className;\r\n        }\r\n\r\n        // textarea for code view\r\n        const textarea = document.createElement('TEXTAREA');\r\n        textarea.className = 'se-wrapper-inner se-wrapper-code' + options.className;\r\n        textarea.style.cssText = options._editorStyles.frame;\r\n        textarea.style.display = 'none';\r\n        if (options.height === 'auto') textarea.style.overflow = 'hidden';\r\n\r\n        /** resize bar */\r\n        let resizingBar = null;\r\n        let navigation = null;\r\n        let charWrapper = null;\r\n        let charCounter = null;\r\n        if (options.resizingBar) {\r\n            resizingBar = document.createElement('DIV');\r\n            resizingBar.className = 'se-resizing-bar sun-editor-common';\r\n\r\n            /** navigation */\r\n            navigation = document.createElement('DIV');\r\n            navigation.className = 'se-navigation sun-editor-common';\r\n            resizingBar.appendChild(navigation);\r\n\r\n            /** char counter */\r\n            if (options.charCounter) {\r\n                charWrapper = document.createElement('DIV');\r\n                charWrapper.className = 'se-char-counter-wrapper';\r\n\r\n                if (options.charCounterLabel) {\r\n                    const charLabel = document.createElement('SPAN');\r\n                    charLabel.className = 'se-char-label';\r\n                    charLabel.textContent = options.charCounterLabel;\r\n                    charWrapper.appendChild(charLabel);\r\n                }\r\n    \r\n                charCounter = document.createElement('SPAN');\r\n                charCounter.className = 'se-char-counter';\r\n                charCounter.textContent = '0';\r\n                charWrapper.appendChild(charCounter);\r\n    \r\n                if (options.maxCharCount > 0) {\r\n                    const char_max = document.createElement('SPAN');\r\n                    char_max.textContent = ' / ' + options.maxCharCount;\r\n                    charWrapper.appendChild(char_max);\r\n                }\r\n\r\n                resizingBar.appendChild(charWrapper);\r\n            }\r\n        }\r\n        \r\n        let placeholder = null;\r\n        if (options.placeholder) {\r\n            placeholder = document.createElement('SPAN');\r\n            placeholder.className = 'se-placeholder';\r\n            placeholder.innerText = options.placeholder;\r\n        }\r\n\r\n        return {\r\n            bottomBar: {\r\n                resizingBar: resizingBar,\r\n                navigation: navigation,\r\n                charWrapper: charWrapper,\r\n                charCounter: charCounter\r\n            },\r\n            wysiwygFrame: wysiwygDiv,\r\n            codeView: textarea,\r\n            placeholder: placeholder\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\r\n    _initOptions: function (element, options) {\r\n        const plugins = {};\r\n        if (options.plugins) {\r\n            const _plugins = options.plugins;\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(name) { return _plugins[name]; });\r\n            for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\r\n                p = pluginsValues[i].default || pluginsValues[i];\r\n                plugins[p.name] = p;\r\n            }\r\n        }\r\n        options.plugins = plugins;\r\n        /** Values */\r\n        options.strictMode = options.strictMode !== false;\r\n        options.strictHTMLValidation = options.strictHTMLValidation !== false;\r\n        options.lang = options.lang || _defaultLang;\r\n        options.value = typeof options.value === 'string' ? options.value : null;\r\n        options.allowedClassNames = new util._w.RegExp((options.allowedClassNames && typeof options.allowedClassNames === 'string' ? options.allowedClassNames + '|' : '') + '^__se__|se-|katex');\r\n        options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\r\n        options.frameAttrbutes = options.frameAttrbutes || {};\r\n        // tag style\r\n        options.defaultTag = typeof options.defaultTag === 'string' && options.defaultTag.length > 0 ? options.defaultTag : 'p';\r\n        const textTags = options.textTags = [{bold: 'STRONG', underline: 'U', italic: 'EM', strike: 'DEL', sub: 'SUB', sup: 'SUP'}, (options.textTags || {})].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        options._textTagsMap = {\r\n            'strong': textTags.bold.toLowerCase(),\r\n            'b': textTags.bold.toLowerCase(),\r\n            'u': textTags.underline.toLowerCase(),\r\n            'ins': textTags.underline.toLowerCase(),\r\n            'em': textTags.italic.toLowerCase(),\r\n            'i': textTags.italic.toLowerCase(),\r\n            'del': textTags.strike.toLowerCase(),\r\n            'strike': textTags.strike.toLowerCase(),\r\n            's': textTags.strike.toLowerCase(),\r\n            'sub': textTags.sub.toLowerCase(),\r\n            'sup': textTags.sup.toLowerCase()\r\n        };\r\n        options._defaultCommand = {\r\n            bold: options.textTags.bold,\r\n            underline: options.textTags.underline,\r\n            italic: options.textTags.italic,\r\n            strike: options.textTags.strike,\r\n            subscript: options.textTags.sub,\r\n            superscript: options.textTags.sup\r\n        };\r\n        /** Whitelist, Blacklist */\r\n        options.__allowedScriptTag = options.__allowedScriptTag === true;\r\n        const whitelist = 'br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary';\r\n        // tags\r\n        options.tagsBlacklist = options.tagsBlacklist || '';\r\n        options._defaultTagsWhitelist = (typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : whitelist) + (options.__allowedScriptTag ? '|script' : '');\r\n        options._editorTagsWhitelist = options.addTagsWhitelist === '*' ? '*' : this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : ''), options.tagsBlacklist);\r\n        // paste tags\r\n        options.pasteTagsBlacklist = options.tagsBlacklist + (options.tagsBlacklist && options.pasteTagsBlacklist ? ('|' + options.pasteTagsBlacklist) : (options.pasteTagsBlacklist || ''));\r\n        options.pasteTagsWhitelist = options.pasteTagsWhitelist === '*' ? '*' : this._setWhitelist(typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\r\n        // tag attributes\r\n        options.attributesWhitelist = (!options.attributesWhitelist || typeof options.attributesWhitelist !== 'object') ? null : options.attributesWhitelist;\r\n        options.attributesBlacklist = (!options.attributesBlacklist || typeof options.attributesBlacklist !== 'object') ? null : options.attributesBlacklist;\r\n        /** Layout */\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\r\n        options.rtl = !!options.rtl;\r\n        options.lineAttrReset = ['id'].concat((options.lineAttrReset && typeof options.lineAttrReset === 'string' ? options.lineAttrReset.toLowerCase().split('|') : []));\r\n        options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\r\n        options._printClass = typeof options._printClass === 'string' ? options._printClass : null;\r\n        options.toolbarWidth = options.toolbarWidth ? (util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'auto';\r\n        options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\r\n        options.stickyToolbar = (/balloon/i.test(options.mode) || !!options.toolbarContainer) ? -1 : options.stickyToolbar === undefined ? 0 : (/^\\d+/.test(options.stickyToolbar) ? util.getNumber(options.stickyToolbar, 0) : -1);\r\n        options.hideToolbar = !!options.hideToolbar;\r\n        options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : (/^\\d+/.test(options.fullScreenOffset) ? util.getNumber(options.fullScreenOffset, 0) : 0);\r\n        options.fullPage = !!options.fullPage;\r\n        options.iframe = options.fullPage || !!options.iframe;\r\n        options.iframeAttributes = options.iframeAttributes || {};\r\n        options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : (options.iframeCSSFileName || ['suneditor']) : null;\r\n        options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\r\n        options.printTemplate = typeof options.printTemplate === 'string' ? options.printTemplate : null;\r\n        /** CodeMirror object */\r\n        options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {src: options.codeMirror} : null;\r\n        /** katex object (Math plugin) */\r\n        options.katex = options.katex ? options.katex.src ? options.katex : {src: options.katex} : null;\r\n        options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [\r\n            {text: '1', value: '1em'},\r\n            {text: '1.5', value: '1.5em'},\r\n            {text: '2', value: '2em'},\r\n            {text: '2.5', value: '2.5em'}\r\n        ];\r\n        /** Display */\r\n        options.position = typeof options.position === 'string' ? options.position : null;\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        /** Bottom resizing bar */\r\n        options.resizingBar = options.resizingBar === undefined ? (/inline|balloon/i.test(options.mode) ? false : true) : options.resizingBar;\r\n        options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        options.resizeEnable = options.resizeEnable === undefined ? true : !!options.resizeEnable;\r\n        options.resizingBarContainer = typeof options.resizingBarContainer === 'string' ? document.querySelector(options.resizingBarContainer) : options.resizingBarContainer;\r\n        /** Character count */\r\n        options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\r\n        options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\r\n        options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\r\n        options.maxCharCount = util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\r\n        /** Width size */\r\n        options.width = options.width ? (util.isNumber(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.minWidth = (util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\r\n        options.maxWidth = (util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\r\n        /** Height size */\r\n        options.height = options.height ? (util.isNumber(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        /** Editing area */\r\n        options.className = (typeof options.className === 'string' && options.className.length > 0) ? ' ' + options.className : '';\r\n        options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\r\n        /** Defining menu items */\r\n        options.font = !options.font ? ['Arial', 'Comic Sans MS', 'Courier New', 'Impact', 'Georgia', 'tahoma', 'Trebuchet MS', 'Verdana'] : options.font;\r\n        options.fontSize = !options.fontSize ? null : options.fontSize;\r\n        options.formats = !options.formats ? null : options.formats;\r\n        options.colorList = !options.colorList ? null : options.colorList;\r\n        options.lineHeights = !options.lineHeights ? null : options.lineHeights;\r\n        options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\r\n        options.textStyles = !options.textStyles ? null : options.textStyles;\r\n        options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? (options.fontSizeUnit.trim().toLowerCase() || 'px') : 'px';\r\n        options.alignItems = typeof options.alignItems === 'object' ? options.alignItems : (options.rtl ? ['right', 'center', 'left', 'justify'] : ['left', 'center', 'right', 'justify']);\r\n        /** Image */\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\r\n        options.imageAlignShow = options.imageAlignShow === undefined ? true : !!options.imageAlignShow;\r\n        options.imageWidth = !options.imageWidth ? 'auto' : util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\r\n        options.imageHeight = !options.imageHeight ? 'auto' : util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\r\n        options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\r\n        options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\r\n        options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadHeader = options.imageUploadHeader || null;\r\n        options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\r\n        options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? util.getNumber(options.imageUploadSizeLimit, 0) : null;\r\n        options.imageMultipleFile = !!options.imageMultipleFile;\r\n        options.imageAccept = (typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\") ? 'image/*' : options.imageAccept.trim() || 'image/*';\r\n        /** Image - image gallery */\r\n        options.imageGalleryData = options.imageGalleryData || null;\r\n        options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\r\n        options.imageGalleryHeader = options.imageGalleryHeader || null;\r\n        /** Video */\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\r\n        options.videoAlignShow = options.videoAlignShow === undefined ? true : !!options.videoAlignShow;\r\n        options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\r\n        options.videoWidth = !options.videoWidth || !util.getNumber(options.videoWidth, 0) ? '' : util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\r\n        options.videoHeight = !options.videoHeight || !util.getNumber(options.videoHeight, 0) ? '' : util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\r\n        options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\r\n        options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\r\n        options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\r\n        options.videoRatio = (util.getNumber(options.videoRatio, 4) || 0.5625);\r\n        options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\r\n        options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\r\n        options.vimeoQuery = (options.vimeoQuery || '').replace('?', '');\r\n        options.videoFileInput = !!options.videoFileInput;\r\n        options.videoUrlInput = (options.videoUrlInput === undefined || !options.videoFileInput) ? true : options.videoUrlInput;\r\n        options.videoUploadHeader = options.videoUploadHeader || null;\r\n        options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\r\n        options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? util.getNumber(options.videoUploadSizeLimit, 0) : null;\r\n        options.videoMultipleFile = !!options.videoMultipleFile;\r\n        options.videoTagAttrs = options.videoTagAttrs || null;\r\n        options.videoIframeAttrs = options.videoIframeAttrs || null;\r\n        options.videoAccept = (typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\") ? 'video/*' : options.videoAccept.trim() || 'video/*';\r\n        /** Audio */\r\n        options.audioWidth = !options.audioWidth ? '' : util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\r\n        options.audioHeight = !options.audioHeight ? '' : util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\r\n        options.audioFileInput = !!options.audioFileInput;\r\n        options.audioUrlInput = (options.audioUrlInput === undefined || !options.audioFileInput) ? true : options.audioUrlInput;\r\n        options.audioUploadHeader = options.audioUploadHeader || null;\r\n        options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\r\n        options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? util.getNumber(options.audioUploadSizeLimit, 0) : null;\r\n        options.audioMultipleFile = !!options.audioMultipleFile;\r\n        options.audioTagAttrs = options.audioTagAttrs || null;\r\n        options.audioAccept = (typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\") ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\r\n        /** Table */\r\n        options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\r\n        /** Link */\r\n        options.linkTargetNewWindow = !!options.linkTargetNewWindow;\r\n        options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\r\n        options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\r\n        options.linkRelDefault = options.linkRelDefault || {};\r\n        /** HR */\r\n        // options.hrItems = options.hrItems;\r\n        /** Key actions */\r\n        options.tabDisable = !!options.tabDisable;\r\n        options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\r\n        options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\r\n        /** Defining save button */\r\n        options.callBackSave = !options.callBackSave ? null : options.callBackSave;\r\n        /** Templates Array */\r\n        options.templates = !options.templates ? null : options.templates;\r\n        /** ETC */\r\n        options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\r\n        options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\r\n        /** Buttons */\r\n        options.buttonList = !!options.buttonList ? options.buttonList : [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['outdent', 'indent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n\r\n        /** RTL - buttons */\r\n        if (options.rtl) {\r\n            options.buttonList = options.buttonList.reverse();\r\n        }\r\n\r\n        /** --- Define icons --- */\r\n        // custom icons\r\n        options.icons = (!options.icons || typeof options.icons !== 'object') ? _icons : [_icons, options.icons].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        // rtl icons\r\n        options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n\r\n        /** Private options */\r\n        options.__listCommonStyle = options.__listCommonStyle || ['fontSize', 'color', 'fontFamily', 'fontWeight', 'fontStyle'];\r\n\r\n        /** _init options */\r\n        options._editorStyles = util._setDefaultOptionStyle(options, options.defaultStyle);\r\n    },\r\n\r\n    _setWhitelist: function (whitelist, blacklist) {\r\n        if (typeof blacklist !== 'string') return whitelist;\r\n        blacklist = blacklist.split('|');\r\n        whitelist = whitelist.split('|');\r\n        for (let i = 0, len = blacklist.length, index; i < len; i++) {\r\n            index = whitelist.indexOf(blacklist[i]);\r\n            if (index > -1) whitelist.splice(index, 1);\r\n        }\r\n        return whitelist.join('|');\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\r\n    _defaultButtons: function (options) {\r\n        const icons = options.icons;\r\n        const lang = options.lang;\r\n        const cmd = util.isOSX_IOS ? '⌘' : 'CTRL';\r\n        const addShift = util.isOSX_IOS ? '⇧' : '+SHIFT';\r\n        const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent', 'save'] : options.shortcutsDisable;\r\n        const indentKey = options.rtl ? ['[',']'] : [']','['];\r\n        const indentIcon = options.rtl ? [icons.outdent, icons.indent] : [icons.indent, icons.outdent];\r\n\r\n        return {\r\n            /** default command */\r\n            bold: ['', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'bold', '', icons.bold],\r\n            underline: ['', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'underline', '', icons.underline],\r\n            italic: ['', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'italic', '', icons.italic],\r\n            strike: ['', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'strike', '', icons.strike],\r\n            subscript: ['', lang.toolbar.subscript, 'SUB', '', icons.subscript],\r\n            superscript: ['', lang.toolbar.superscript, 'SUP', '', icons.superscript],\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\r\n            indent: ['', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', indentIcon[0]],\r\n            outdent: ['', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', indentIcon[1]],\r\n            fullScreen: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\r\n            showBlocks: ['', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\r\n            codeView: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.codeView, 'codeView', '', icons.code_view],\r\n            undo: ['', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\r\n            redo: ['', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\r\n            preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\r\n            print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\r\n            dir: ['', lang.toolbar[options.rtl ? 'dir_ltr' : 'dir_rtl'], 'dir', '',  icons[options.rtl ? 'dir_ltr' : 'dir_rtl']],\r\n            dir_ltr: ['', lang.toolbar.dir_ltr, 'dir_ltr', '',  icons.dir_ltr],\r\n            dir_rtl: ['', lang.toolbar.dir_rtl, 'dir_rtl', '',  icons.dir_rtl],\r\n            save: ['se-resizing-enabled', lang.toolbar.save + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('save') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'save', '', icons.save],\r\n            /** plugins - command */\r\n            blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\r\n            /** plugins - submenu */\r\n            font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\r\n            formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\r\n            fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\r\n            align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', (options.rtl ? icons.align_right : icons.align_left)],\r\n            list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\r\n            table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\r\n            lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\r\n            template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\r\n            paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\r\n            textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\r\n            image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\r\n            video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\r\n            audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\r\n            math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\r\n            /** plugins - fileBrowser */\r\n            imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function () {\r\n        const oDiv = util.createElement('DIV');\r\n        oDiv.className = 'se-btn-module se-btn-module-border';\r\n\r\n        const oUl = util.createElement('UL');\r\n        oUl.className = 'se-menu-list';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\r\n        const oLi = util.createElement('LI');\r\n        const oButton = util.createElement('BUTTON');\r\n        const label = (title || dataCommand);\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        oButton.setAttribute('aria-label', label.replace(/<span .+<\\/span>/, ''));\r\n        oButton.setAttribute('tabindex', '-1');\r\n        \r\n        if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\r\n        if (/^default\\./i.test(innerHTML)) {\r\n            innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\r\n        }\r\n        if (/^text\\./i.test(innerHTML)) {\r\n            innerHTML = innerHTML.replace(/^text\\./i, '');\r\n            oButton.className += ' se-btn-more-text';\r\n        }\r\n\r\n        innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + label + '</span></span>';\r\n\r\n        if (_disabled) oButton.setAttribute('disabled', true);\r\n        \r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Object|null} plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, plugins, options) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'se-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'se-toolbar sun-editor-common';\r\n\r\n        const _buttonTray = doc.createElement('DIV');\r\n        _buttonTray.className = 'se-btn-tray';\r\n        tool_bar.appendChild(_buttonTray);\r\n\r\n        /** create button list */\r\n        buttonList = JSON.parse(JSON.stringify(buttonList));\r\n        const icons = options.icons;\r\n        const defaultButtonList = this._defaultButtons(options);\r\n        const pluginCallButtons = {};\r\n        const responsiveButtons = [];\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const moreLayer = util.createElement('DIV');\r\n        moreLayer.className = 'se-toolbar-more-layer';\r\n\r\n        buttonGroupLoop:\r\n        for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\r\n            more = false;\r\n            align = '';\r\n            buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup();\r\n\r\n            // button object\r\n            if (typeof buttonGroup === 'object') {\r\n                // buttons loop\r\n                for (let j = 0, moreButton; j < buttonGroup.length; j++) {\r\n                    button = buttonGroup[j];\r\n                    moreButton = false;\r\n\r\n                    if (/^\\%\\d+/.test(button) && j === 0) {\r\n                        buttonGroup[0] = button.replace(/[^\\d]/g, '');\r\n                        responsiveButtons.push(buttonGroup);\r\n                        buttonList.splice(i--, 1);\r\n                        continue buttonGroupLoop;\r\n                    }\r\n                    \r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\r\n                        }\r\n                    } else {\r\n                        // align\r\n                        if (/^\\-/.test(button)) {\r\n                            align = button.substr(1);\r\n                            moduleElement.div.className += ' module-float-' + align;\r\n                            continue;\r\n                        }\r\n\r\n                        // rtl fix\r\n                        if (/^\\#/.test(button)) {\r\n                            const option = button.substr(1);\r\n                            if (option === 'fix') moduleElement.ul.className += ' se-menu-dir-fix';\r\n                            continue;\r\n                        }\r\n                        \r\n                        // more button\r\n                        if (/^\\:/.test(button)) {\r\n                            moreButton = true;\r\n                            const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\r\n                            moreCommand = '__se__' + matched[1].trim();\r\n                            const title = matched[2].trim();\r\n                            const innerHTML = matched[3].trim();\r\n                            module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\r\n                        }\r\n                        // buttons\r\n                        else {\r\n                            module = defaultButtonList[button];\r\n                        }\r\n\r\n                        pluginName = button;\r\n                        if (!module) {\r\n                            const custom = plugins[pluginName];\r\n                            if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\r\n                            module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\r\n                        }\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\r\n                    (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        pluginCallButtons[pluginName] = buttonElement.button;\r\n                    }\r\n\r\n                    // more button\r\n                    if (moreButton) {\r\n                        more = true;\r\n                        moreContainer = util.createElement('DIV');\r\n                        moreContainer.className = 'se-more-layer ' + moreCommand;\r\n                        moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\r\n                        moreLayer.appendChild(moreContainer);\r\n                        moreContainer = moreContainer.firstElementChild.firstElementChild;\r\n                    }\r\n                }\r\n\r\n                if (vertical) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n                \r\n                _buttonTray.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'se-btn-module-enter';\r\n                _buttonTray.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        switch (_buttonTray.children.length) {\r\n            case 0:\r\n                _buttonTray.style.display = 'none';\r\n                break;\r\n            case 1:\r\n                util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\r\n                break;\r\n            default:\r\n                if (options.rtl) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    sv.style.float = _buttonTray.lastElementChild.style.float;\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n        }\r\n\r\n        if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\r\n        if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer);\r\n\r\n        // menu tray\r\n        const _menuTray = doc.createElement('DIV');\r\n        _menuTray.className = 'se-menu-tray';\r\n        tool_bar.appendChild(_menuTray);\r\n\r\n        // cover\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'se-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        if (options.hideToolbar) tool_bar.style.display = 'none';\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins,\r\n            'pluginCallButtons': pluginCallButtons,\r\n            'responsiveButtons': responsiveButtons,\r\n            '_menuTray': _menuTray,\r\n            '_buttonTray': _buttonTray\r\n        };\r\n    }\r\n};","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n/**\r\n * @description Elements and variables you should have\r\n * @param {Element} element textarea element\r\n * @param {object} cons Toolbar element you created\r\n * @param {JSON|Object} options Inserted options\r\n * @returns {Object} {Elements, variables of the editor, option}\r\n * @private\r\n */\r\nconst _Context = function (element, cons, options) {\r\n    return {\r\n        element: {\r\n            originElement: element,\r\n            topArea: cons._top,\r\n            relative: cons._relative,\r\n            toolbar: cons._toolBar,\r\n            _toolbarShadow: cons._toolbarShadow,\r\n            _buttonTray: cons._toolBar.querySelector('.se-btn-tray'),\r\n            _menuTray: cons._menuTray,\r\n            resizingBar: cons._resizingBar,\r\n            navigation: cons._navigation,\r\n            charWrapper: cons._charWrapper,\r\n            charCounter: cons._charCounter,\r\n            editorArea: cons._editorArea,\r\n            wysiwygFrame: cons._wysiwygArea,\r\n            wysiwyg: cons._wysiwygArea, // if (options.iframe) cons._wysiwygArea.contentDocument.body\r\n            code: cons._codeArea,\r\n            placeholder: cons._placeholder,\r\n            loading: cons._loading,\r\n            lineBreaker: cons._lineBreaker,\r\n            lineBreaker_t: cons._lineBreaker_t,\r\n            lineBreaker_b: cons._lineBreaker_b,\r\n            resizeBackground: cons._resizeBack,\r\n            _stickyDummy: cons._stickyDummy,\r\n            _arrow: cons._arrow,\r\n            _focusTemp: cons._focusTemp\r\n        },\r\n        tool: {\r\n            cover: cons._toolBar.querySelector('.se-toolbar-cover'),\r\n            bold: cons._toolBar.querySelector('[data-command=\"bold\"]'),\r\n            underline: cons._toolBar.querySelector('[data-command=\"underline\"]'),\r\n            italic: cons._toolBar.querySelector('[data-command=\"italic\"]'),\r\n            strike: cons._toolBar.querySelector('[data-command=\"strike\"]'),\r\n            sub: cons._toolBar.querySelector('[data-command=\"SUB\"]'),\r\n            sup: cons._toolBar.querySelector('[data-command=\"SUP\"]'),\r\n            undo: cons._toolBar.querySelector('[data-command=\"undo\"]'),\r\n            redo: cons._toolBar.querySelector('[data-command=\"redo\"]'),\r\n            save: cons._toolBar.querySelector('[data-command=\"save\"]'),\r\n            outdent: cons._toolBar.querySelector('[data-command=\"outdent\"]'),\r\n            indent: cons._toolBar.querySelector('[data-command=\"indent\"]'),\r\n            fullScreen: cons._toolBar.querySelector('[data-command=\"fullScreen\"]'),\r\n            showBlocks: cons._toolBar.querySelector('[data-command=\"showBlocks\"]'),\r\n            codeView: cons._toolBar.querySelector('[data-command=\"codeView\"]'),\r\n            dir: cons._toolBar.querySelector('[data-command=\"dir\"]'),\r\n            dir_ltr: cons._toolBar.querySelector('[data-command=\"dir_ltr\"]'),\r\n            dir_rtl: cons._toolBar.querySelector('[data-command=\"dir_rtl\"]')\r\n        },\r\n        options: options,\r\n        option: options\r\n    };\r\n};\r\n\r\nexport default _Context;","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'notice',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        const context = core.context;\r\n        context.notice = {};\r\n\r\n        /** dialog */\r\n        let notice_div = core.util.createElement('DIV');\r\n        let notice_span = core.util.createElement('SPAN');\r\n        let notice_button = core.util.createElement('BUTTON');\r\n\r\n        notice_div.className = 'se-notice';\r\n        notice_button.className = 'close';\r\n        notice_button.setAttribute('aria-label', 'Close');\r\n        notice_button.setAttribute('title', core.lang.dialogBox.close);\r\n        notice_button.innerHTML = core.icons.cancel;\r\n        \r\n        notice_div.appendChild(notice_span);\r\n        notice_div.appendChild(notice_button);\r\n\r\n        context.notice.modal = notice_div;\r\n        context.notice.message = notice_span;\r\n\r\n        /** add event listeners */\r\n        notice_button.addEventListener('click', this.onClick_cancel.bind(core));\r\n        \r\n        /** append html */\r\n        context.element.editorArea.appendChild(notice_div);\r\n        \r\n        /** empty memory */\r\n        notice_div = null;\r\n    },\r\n\r\n    /**\r\n     * @description Event when clicking the cancel button\r\n     * @param {MouseEvent} e Event object\r\n     */\r\n    onClick_cancel: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.plugins.notice.close.call(this);\r\n    },\r\n\r\n    /**\r\n     * @description  Open the notice panel\r\n     * @param {String} text Notice message\r\n     */\r\n    open: function (text)  {\r\n        this.context.notice.message.textContent = text;\r\n        this.context.notice.modal.style.display = 'block';\r\n    },\r\n\r\n    /**\r\n     * @description  Open the notice panel\r\n     */\r\n    close: function () {\r\n        this.context.notice.modal.style.display = 'none';\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport core from './lib/core';\r\nimport util from './lib/util';\r\nimport _Constructor from './lib/constructor';\r\nimport _Context from './lib/context';\r\n\r\nexport default {\r\n    /**\r\n     * @description Returns the create function with preset options.\r\n     * If the options overlap, the options of the 'create' function take precedence.\r\n     * @param {Json} options Initialization options\r\n     * @returns {Object}\r\n     */\r\n    init: function (init_options) {\r\n        return {\r\n            create: function (idOrElement, options) {\r\n                return this.create(idOrElement, options, init_options);\r\n            }.bind(this)\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create the suneditor\r\n     * @param {String|Element} idOrElement textarea Id or textarea element\r\n     * @param {JSON|Object} options user options\r\n     * @returns {Object}\r\n     */\r\n    create: function (idOrElement, options, _init_options) {\r\n        util._propertiesInit();\r\n\r\n        if (typeof options !== 'object') options = {};\r\n        if (_init_options) {\r\n            options =  [_init_options, options].reduce(function (init, option) {\r\n                            for (let key in option) {\r\n                                if (!util.hasOwn(option, key)) continue;\r\n                                if (key === 'plugins' && option[key] && init[key]) {\r\n                                    let i = init[key], o = option[key];\r\n                                    i = i.length ? i : Object.keys(i).map(function(name) { return i[name]; });\r\n                                    o = o.length ? o : Object.keys(o).map(function(name) { return o[name]; });\r\n                                    init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\r\n                                } else {\r\n                                    init[key] = option[key];\r\n                                }\r\n                            }\r\n                            return init;\r\n                        }, {});\r\n        }\r\n        \r\n        const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\r\n\r\n        if (!element) {\r\n            if (typeof idOrElement === 'string') {\r\n                throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\r\n            }\r\n\r\n            throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\r\n        }\r\n\r\n        const cons = _Constructor.init(element, options);\r\n\r\n        if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\r\n            throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\r\n        }\r\n\r\n        return core(_Context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport _Constructor from './constructor';\r\nimport _Context from './context';\r\nimport _history from './history';\r\nimport _util from './util';\r\nimport _notice from '../plugins/modules/_notice';\r\n\r\n/**\r\n * @description SunEditor constuctor function.\r\n * create core object and event registration.\r\n * core, event, functions\r\n * @param {Object} context\r\n * @param {Object} pluginCallButtons\r\n * @param {Object} plugins \r\n * @param {Object} lang\r\n * @param {Object} options\r\n * @param {Object} _responsiveButtons\r\n * @returns {Object} functions Object\r\n */\r\nexport default function (context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\r\n    const _d = context.element.originElement.ownerDocument || document;\r\n    const _w = _d.defaultView || window;\r\n    const util = _util;\r\n    const icons = options.icons;\r\n\r\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\r\n    const core = {\r\n        _d: _d,\r\n        _w: _w,\r\n        _parser: new _w.DOMParser(),\r\n        _prevRtl: options.rtl,\r\n        _editorHeight: 0,\r\n        _editorHeightPadding: 0,\r\n        _listCamel: options.__listCommonStyle,\r\n        _listKebab: util.camelToKebabCase(options.__listCommonStyle),\r\n        __focusTemp: context.element._focusTemp,\r\n\r\n        /**\r\n         * @description Document object of the iframe if created as an iframe || _d\r\n         * @private\r\n         */\r\n        _wd: null,\r\n\r\n        /**\r\n         * @description Window object of the iframe if created as an iframe || _w\r\n         * @private\r\n         */\r\n        _ww: null,\r\n\r\n        /**\r\n         * @description Closest ShadowRoot to editor if found\r\n         * @private\r\n         */\r\n        _shadowRoot: null,\r\n\r\n        /**\r\n         * @description Block controller mousedown events in \"shadowRoot\" environment\r\n         * @private\r\n         */\r\n        _shadowRootControllerEventTarget: null,\r\n\r\n        /**\r\n         * @description Util object\r\n         */\r\n        util: util,\r\n\r\n        /**\r\n         * @description Functions object\r\n         */\r\n        functions: null,\r\n\r\n        /**\r\n         * @description Editor options\r\n         */\r\n        options: null,\r\n\r\n        /**\r\n         * @description Computed style of the wysiwyg area (window.getComputedStyle(context.element.wysiwyg))\r\n         */\r\n        wwComputedStyle: null,\r\n\r\n        /**\r\n         * @description Notice object\r\n         */\r\n        notice: _notice,\r\n\r\n        /**\r\n         * @description Default icons object\r\n         */\r\n        icons: icons,\r\n\r\n        /**\r\n         * @description History object for undo, redo\r\n         */\r\n        history: null,\r\n\r\n        /**\r\n         * @description Elements and user options parameters of the suneditor\r\n         */\r\n        context: context,\r\n\r\n        /**\r\n         * @description Plugin buttons\r\n         */\r\n        pluginCallButtons: pluginCallButtons,\r\n\r\n        /**\r\n         * @description Loaded plugins\r\n         */\r\n        plugins: plugins || {},\r\n\r\n        /**\r\n         * @description Whether the plugin is initialized\r\n         */\r\n        initPlugins: {},\r\n\r\n        /**\r\n         * @description Object for managing submenu elements\r\n         * @private\r\n         */\r\n        _targetPlugins: {},\r\n\r\n        /**\r\n         * @description Save rendered submenus and containers\r\n         * @private\r\n         */\r\n        _menuTray: {},\r\n\r\n        /**\r\n         * @description loaded language\r\n         */\r\n        lang: lang,\r\n\r\n        /**\r\n         * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n         */\r\n        effectNode: null,\r\n\r\n        /**\r\n         * @description submenu element\r\n         */\r\n        submenu: null,\r\n\r\n        /**\r\n         * @description container element\r\n         */\r\n        container: null,\r\n\r\n        /**\r\n         * @description current subment name\r\n         * @private\r\n         */\r\n        _submenuName: '',\r\n\r\n        /**\r\n         * @description binded submenuOff method\r\n         * @private\r\n         */\r\n        _bindedSubmenuOff: null,\r\n\r\n        /**\r\n         * @description binded containerOff method\r\n         * @private\r\n         */\r\n        _bindedContainerOff: null,\r\n\r\n        /**\r\n         * @description active button element in submenu\r\n         */\r\n        submenuActiveButton: null,\r\n\r\n        /**\r\n         * @description active button element in container\r\n         */\r\n        containerActiveButton: null,\r\n\r\n        /**\r\n         * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n         */\r\n        controllerArray: [],\r\n\r\n        /**\r\n         * @description The name of the plugin that called the currently active controller\r\n         */\r\n        currentControllerName: '',\r\n\r\n        /**\r\n         * @description The target element of current controller\r\n         */\r\n        currentControllerTarget: null,\r\n\r\n        /**\r\n         * @description The file component object of current selected file tag (getFileComponent)\r\n         */\r\n        currentFileComponentInfo: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n         */\r\n        codeViewDisabledButtons: [],\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n         */\r\n        resizingDisabledButtons: [],\r\n\r\n        /**\r\n         * @description active more layer element in submenu\r\n         * @private\r\n         */\r\n        _moreLayerActiveButton: null,\r\n\r\n        /**\r\n         * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n         * ^(options._editorTagsWhitelist)$\r\n         * @private\r\n         */\r\n        _htmlCheckWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Tag blacklist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n         * @private\r\n         */\r\n        _htmlCheckBlacklistRegExp: null,\r\n\r\n        /**\r\n         * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n         * @private\r\n         */\r\n        _disallowedTextTagsRegExp: null,\r\n\r\n        /**\r\n         * @description Editor tags whitelist (RegExp object)\r\n         * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n         */\r\n        editorTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Editor tags blacklist (RegExp object)\r\n         * util.createTagsBlacklist(options.tagsBlacklist)\r\n         */\r\n        editorTagsBlacklistRegExp: null,\r\n\r\n        /**\r\n         * @description Tag whitelist when pasting (RegExp object)\r\n         * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n         */\r\n        pasteTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Tag blacklist when pasting (RegExp object)\r\n         * util.createTagsBlacklist(options.pasteTagsBlacklist)\r\n         */\r\n        pasteTagsBlacklistRegExp: null,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor has focus\r\n         */\r\n        hasFocus: false,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor is disabled\r\n         */\r\n        isDisabled: false,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor is readOnly\r\n         */\r\n        isReadOnly: false,\r\n\r\n        /**\r\n         * @description Attributes whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesWhitelistRegExp: null,\r\n        _attributesWhitelistRegExp_all_data: null,\r\n\r\n        /**\r\n         * @description Attributes blacklist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesBlacklistRegExp: null,\r\n\r\n        /**\r\n         * @description Attributes of tags whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesTagsWhitelist: null,\r\n\r\n        /**\r\n         * @description Attributes of tags blacklist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesTagsBlacklist: null,\r\n\r\n        /**\r\n         * @description binded controllersOff method\r\n         * @private\r\n         */\r\n        _bindControllersOff: null,\r\n\r\n        /**\r\n         * @description Is inline mode?\r\n         * @private\r\n         */\r\n        _isInline: null,\r\n\r\n        /**\r\n         * @description Is balloon|balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloon: null,\r\n\r\n        /**\r\n         * @description Is balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloonAlways: null,\r\n\r\n        /**\r\n         * @description Required value when using inline mode to sticky toolbar\r\n         * @private\r\n         */\r\n        _inlineToolbarAttr: {top: '', width: '', isShow: false},\r\n\r\n        /**\r\n         * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n         * @private\r\n         */\r\n        _notHideToolbar: false,\r\n\r\n        /**\r\n         * @description Variable value that sticky toolbar mode\r\n         * @private\r\n         */\r\n        _sticky: false,\r\n\r\n        /**\r\n         * @description Variables for controlling focus and blur events\r\n         * @private\r\n         */\r\n        _antiBlur: false,\r\n\r\n        /**\r\n         * @description Component line breaker element\r\n         * @private\r\n         */\r\n        _lineBreaker: null,\r\n        _lineBreakerButton: null,\r\n\r\n        /**\r\n         * @description If true, (initialize, reset) all indexes of image, video information\r\n         * @private\r\n         */\r\n        _componentsInfoInit: true,\r\n        _componentsInfoReset: false,\r\n\r\n        /**\r\n         * @description Plugins array with \"active\" method.\r\n         * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n         */\r\n        activePlugins: null,\r\n\r\n        /**\r\n         * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n         * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n         * Basic Editor Actions:\r\n         * 1. All classes not starting with \"__se__\" or \"se-\" in the editor are removed.\r\n         * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n         * \"managedTagsInfo\" structure ex:\r\n         * managedTagsInfo: {\r\n         *   query: '.__se__xxx, se-xxx'\r\n         *   map: {\r\n         *     '__se__xxx': method.bind(core),\r\n         *     'se-xxx': method.bind(core),\r\n         *   }\r\n         * }\r\n         * @example\r\n         * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n         * managedTagInfo() => {\r\n         *  return {\r\n         *    className: 'string', // Class name to identify the tag. (\"__se__xxx\", \"se-xxx\")\r\n         *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n         *    // \"method\" is executed by binding \"core\".\r\n         *    method: function (element) {\r\n         *      // this === core\r\n         *      element.innerHTML = // (rendered html);\r\n         *    }\r\n         *  }\r\n         * }\r\n         */\r\n        managedTagsInfo: null,\r\n\r\n        /**\r\n         * @description cashing: options.charCounterType === 'byte-html'\r\n         * @private\r\n         */\r\n        _charTypeHTML: false,\r\n\r\n        /**\r\n         * @description Array of \"checkFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n         * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsCheck: null,\r\n\r\n        /**\r\n         * @description Array of \"resetFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsReset: null,\r\n\r\n        /**\r\n         * @description Variables for file component management\r\n         * @private\r\n         */\r\n        _fileManager: {\r\n            tags: null,\r\n            regExp: null,\r\n            queryString: null,\r\n            pluginRegExp: null,\r\n            pluginMap: null\r\n        },\r\n\r\n        /**\r\n         * @description Elements that need to change text or className for each selection change\r\n         * After creating the editor, \"activePlugins\" are added.\r\n         * @property {Element} STRONG bold button\r\n         * @property {Element} U underline button\r\n         * @property {Element} EM italic button\r\n         * @property {Element} DEL strike button\r\n         * @property {Element} SUB subscript button\r\n         * @property {Element} SUP superscript button\r\n         * @property {Element} OUTDENT outdent button\r\n         * @property {Element} INDENT indent button\r\n         */\r\n        commandMap: {},\r\n\r\n        /**\r\n         * @description CSS properties related to style tags \r\n         * @private\r\n         */\r\n        _commandMapStyles: {\r\n            STRONG: ['font-weight'],\r\n            U: ['text-decoration'],\r\n            EM: ['font-style'],\r\n            DEL: ['text-decoration']\r\n        },\r\n\r\n        /**\r\n         * @description Style button related to edit area\r\n         * @property {Element} fullScreen fullScreen button element\r\n         * @property {Element} showBlocks showBlocks button element\r\n         * @property {Element} codeView codeView button element\r\n         * @private\r\n         */\r\n        _styleCommandMap: null,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _cleanStyleRegExp: {\r\n            div: new _w.RegExp('\\\\s*[^-a-zA-Z](.+)\\\\s*:[^;]+(?!;)*', 'ig'),\r\n            span: new _w.RegExp('\\\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\\\s*:[^;]+(?!;)*', 'ig'),\r\n            format: new _w.RegExp('\\\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\\\s*:[^;]+(?!;)*', 'ig'),\r\n            fontSizeUnit: new _w.RegExp('\\\\d+' + options.fontSizeUnit + '$', 'i'),\r\n        },\r\n\r\n        /**\r\n         * @description Variables used internally in editor operation\r\n         * @property {Boolean} isCodeView State of code view\r\n         * @property {Boolean} isFullScreen State of full screen\r\n         * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n         * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n         * @property {Number} tabSize Indent size of tab (4)\r\n         * @property {Number} codeIndent Indent size of Code view mode (2)\r\n         * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n         * @property {Array} currentNodes  An array of the current cursor's node structure\r\n         * @private\r\n         */\r\n        _variable: {\r\n            isChanged: false,\r\n            isCodeView: false,\r\n            isFullScreen: false,\r\n            innerHeight_fullScreen: 0,\r\n            resizeClientY: 0,\r\n            tabSize: 4,\r\n            codeIndent: 2,\r\n            minResizingSize: util.getNumber((context.element.wysiwygFrame.style.minHeight || '65'), 0),\r\n            currentNodes: [],\r\n            currentNodesMap: [],\r\n            _range: null,\r\n            _selectionNode: null,\r\n            _originCssText: context.element.topArea.style.cssText,\r\n            _bodyOverflow: '',\r\n            _editorAreaOriginCssText: '',\r\n            _wysiwygOriginCssText: '',\r\n            _codeOriginCssText: '',\r\n            _fullScreenAttrs: {sticky: false, balloon: false, inline: false},\r\n            _lineBreakComp: null,\r\n            _lineBreakDir: ''\r\n        },\r\n\r\n        /**\r\n         * @description Temp variable for set line attrs\r\n         * @private\r\n         */\r\n        _formatAttrsTemp: null,\r\n\r\n        /**\r\n         * @description Save the current buttons states to \"allCommandButtons\" object\r\n         * @private\r\n         */\r\n        _saveButtonStates: function () {\r\n            if (!this.allCommandButtons) this.allCommandButtons = {};\r\n\r\n            const currentButtons = this.context.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]');\r\n            for (let i = 0, element, command; i < currentButtons.length; i++) {\r\n                element = currentButtons[i];\r\n                command = element.getAttribute('data-command');\r\n\r\n                this.allCommandButtons[command] = element;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Recover the current buttons states from \"allCommandButtons\" object\r\n         * @private\r\n         */\r\n        _recoverButtonStates: function () {\r\n            if (this.allCommandButtons) {\r\n                const currentButtons = this.context.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]');\r\n                for (let i = 0, button, command, oldButton; i < currentButtons.length; i++) {\r\n                    button = currentButtons[i];\r\n                    command = button.getAttribute('data-command');\r\n\r\n                    oldButton = this.allCommandButtons[command];\r\n                    if (oldButton) {\r\n                        button.parentElement.replaceChild(oldButton, button);\r\n                        if (this.context.tool[command]) this.context.tool[command] = oldButton;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n         * If the plugin is added call callBack function.\r\n         * @param {String} pluginName The name of the plugin to call\r\n         * @param {function} callBackFunction Function to be executed immediately after module call\r\n         * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n         */\r\n        callPlugin: function (pluginName, callBackFunction, _target) {\r\n            _target = _target || pluginCallButtons[pluginName];\r\n\r\n            if (!this.plugins[pluginName]) {\r\n                throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\r\n            } else if (!this.initPlugins[pluginName]) {\r\n                this.plugins[pluginName].add(this, _target);\r\n                this.initPlugins[pluginName] = true;\r\n            } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\r\n                this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\r\n            }\r\n\r\n            if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\r\n                this.commandMap[pluginName] = _target;\r\n                this.activePlugins.push(pluginName);\r\n            }\r\n\r\n            if (typeof callBackFunction === 'function') callBackFunction();\r\n        },\r\n\r\n        /**\r\n         * @description If the module is not added, add the module and call the 'add' function\r\n         * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n         */\r\n        addModule: function (moduleArray) {\r\n            for (let i = 0, len = moduleArray.length, moduleName; i < len; i++) {\r\n                moduleName = moduleArray[i].name;\r\n                if (!this.plugins[moduleName]) {\r\n                    this.plugins[moduleName] = moduleArray[i];\r\n                }\r\n                if (!this.initPlugins[moduleName]) {\r\n                    this.initPlugins[moduleName] = true;\r\n                    if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current editor-relative scroll offset.\r\n         * @returns {Object} {top, left}\r\n         */\r\n        getGlobalScrollOffset: function () {\r\n            let t = 0, l = 0;\r\n            let el = context.element.topArea;\r\n            while (el) {\r\n                t += el.scrollTop;\r\n                l += el.scrollLeft;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            el = this._shadowRoot ? this._shadowRoot.host : null;\r\n            while (el) {\r\n                t += el.scrollTop;\r\n                l += el.scrollLeft;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            return {\r\n                top: t,\r\n                left: l\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Method for managing submenu element.\r\n         * You must add the \"submenu\" element using the this method at custom plugin.\r\n         * @param {String} pluginName Plugin name\r\n         * @param {Element|null} target Target button\r\n         * @param {Element} menu Submenu element\r\n         */\r\n        initMenuTarget: function (pluginName, target, menu) {\r\n            if (!target) {\r\n                this._targetPlugins[pluginName] = menu;\r\n            } else {\r\n                context.element._menuTray.appendChild(menu);\r\n                this._targetPlugins[pluginName] = true;\r\n                this._menuTray[target.getAttribute('data-command')] = menu;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enable submenu\r\n         * @param {Element} element Submenu's button element to call\r\n         */\r\n        submenuOn: function (element) {\r\n            if (this._bindedSubmenuOff) this._bindedSubmenuOff();\r\n            if (this._bindControllersOff) this.controllersOff();\r\n\r\n            const submenuName = this._submenuName = element.getAttribute('data-command');\r\n            const menu = this.submenu = this._menuTray[submenuName];\r\n            this.submenuActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n\r\n            this._bindedSubmenuOff = this.submenuOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\r\n\r\n            if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable submenu\r\n         */\r\n        submenuOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedSubmenuOff);\r\n            this._bindedSubmenuOff = null;\r\n\r\n            if (this.submenu) {\r\n                this._submenuName = '';\r\n                this.submenu.style.display = 'none';\r\n                this.submenu = null;\r\n                util.removeClass(this.submenuActiveButton, 'on');\r\n                this.submenuActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Disable more layer\r\n         */\r\n        moreLayerOff: function() {\r\n            if (this._moreLayerActiveButton) {\r\n                const layer = context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'));\r\n                layer.style.display = 'none';\r\n                util.removeClass(this._moreLayerActiveButton, 'on');\r\n                this._moreLayerActiveButton = null;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enable container\r\n         * @param {Element} element Container's button element to call\r\n         */\r\n        containerOn: function (element) {\r\n            if (this._bindedContainerOff) this._bindedContainerOff();\r\n\r\n            const containerName = this._containerName = element.getAttribute('data-command');\r\n            const menu = this.container = this._menuTray[containerName];\r\n            this.containerActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n\r\n            this._bindedContainerOff = this.containerOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedContainerOff, false);\r\n\r\n            if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable container\r\n         */\r\n        containerOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedContainerOff);\r\n            this._bindedContainerOff = null;\r\n\r\n            if (this.container) {\r\n                this._containerName = '';\r\n                this.container.style.display = 'none';\r\n                this.container = null;\r\n                util.removeClass(this.containerActiveButton, 'on');\r\n                this.containerActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Set the menu position. (submenu, container)\r\n         * @param {*} element Button element\r\n         * @param {*} menu Menu element\r\n         * @private\r\n         */\r\n        _setMenuPosition: function (element, menu) {\r\n            menu.style.visibility = 'hidden';\r\n            menu.style.display = 'block';\r\n            menu.style.height = '';\r\n            util.addClass(element, 'on');\r\n\r\n            const toolbar = this.context.element.toolbar;\r\n            const toolbarW = toolbar.offsetWidth;\r\n            const toolbarOffset = event._getEditorOffsets(context.element.toolbar);\r\n            const menuW = menu.offsetWidth;\r\n            const l = element.parentElement.offsetLeft + 3;\r\n\r\n            // rtl\r\n            if (options.rtl) {\r\n                const elementW = element.offsetWidth;\r\n                const rtlW = menuW > elementW ? menuW - elementW : 0;\r\n                const rtlL = rtlW > 0 ? 0 : elementW - menuW;\r\n                menu.style.left = (l - rtlW + rtlL) + 'px';\r\n                if (toolbarOffset.left > event._getEditorOffsets(menu).left) {\r\n                    menu.style.left = '0px';\r\n                }\r\n            } else {\r\n                const overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\r\n                if (overLeft < 0) menu.style.left = (l + overLeft) + 'px';\r\n                else menu.style.left = l + 'px';\r\n            }\r\n\r\n            // get element top\r\n            let t = 0;\r\n            let offsetEl = element;\r\n            while (offsetEl && offsetEl !== toolbar) {\r\n                t += offsetEl.offsetTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            const bt = t;\r\n            if (this._isBalloon) {\r\n                t += toolbar.offsetTop + element.offsetHeight;\r\n            } else {\r\n                t -= element.offsetHeight;\r\n            }\r\n\r\n            // set menu position\r\n            const toolbarTop = toolbarOffset.top;\r\n            const menuHeight = menu.offsetHeight;\r\n            const scrollTop = this.getGlobalScrollOffset().top;\r\n\r\n            const menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\r\n            if (menuHeight_bottom < menuHeight) {\r\n                let menuTop = -1 * (menuHeight - bt + 3);\r\n                const insTop = toolbarTop - scrollTop + menuTop;\r\n                const menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\r\n\r\n                if (menuHeight_top > menuHeight_bottom) {\r\n                    menu.style.height = menuHeight_top + 'px';\r\n                    menuTop = -1 * (menuHeight_top - bt + 3);\r\n                } else {\r\n                    menu.style.height = menuHeight_bottom + 'px';\r\n                    menuTop = bt + element.parentElement.offsetHeight;\r\n                }\r\n\r\n                menu.style.top = menuTop + 'px';\r\n            } else {\r\n                menu.style.top = (bt + element.parentElement.offsetHeight) + 'px';\r\n            }\r\n\r\n            menu.style.visibility = '';\r\n        },\r\n\r\n        /**\r\n         * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n         * @param {*} arguments controller elements, functions..\r\n         */\r\n        controllersOn: function () {\r\n            if (this._bindControllersOff) this._bindControllersOff();\r\n            this.controllerArray = [];\r\n\r\n            for (let i = 0, arg; i < arguments.length; i++) {\r\n                arg = arguments[i];\r\n                if (!arg) continue;\r\n\r\n                if (typeof arg === 'string') {\r\n                    this.currentControllerName = arg;\r\n                    continue;\r\n                }\r\n                if (typeof arg === 'function') {\r\n                    this.controllerArray.push(arg);\r\n                    continue;\r\n                }\r\n                if (!util.hasClass(arg, 'se-controller')) {\r\n                    this.currentControllerTarget = arg;\r\n                    this.currentFileComponentInfo = this.getFileComponent(arg);\r\n                    continue;\r\n                }\r\n                if (arg.style) {\r\n                    arg.style.display = 'block';\r\n                    if (this._shadowRoot && this._shadowRootControllerEventTarget.indexOf(arg) === -1) {\r\n                        arg.addEventListener('mousedown', function (e) { e.preventDefault(); e.stopPropagation(); });\r\n                        this._shadowRootControllerEventTarget.push(arg);\r\n                    }\r\n                }\r\n                this.controllerArray.push(arg);\r\n            }\r\n\r\n            this._bindControllersOff = this.controllersOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindControllersOff, false);\r\n            this.addDocEvent('keydown', this._bindControllersOff, false);\r\n            this._antiBlur = true;\r\n\r\n            if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\r\n        },\r\n\r\n        /**\r\n         * @description Hide controller at editor area (link button, image resize button..)\r\n         * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n         */\r\n        controllersOff: function (e) {\r\n            this._lineBreaker.style.display = 'none';\r\n            const len = this.controllerArray.length;\r\n\r\n            if (e && e.target && len > 0) {\r\n                for (let i = 0; i < len; i++) {\r\n                    if (typeof this.controllerArray[i].contains === 'function' && this.controllerArray[i].contains(e.target)) return;\r\n                }\r\n            }\r\n\r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === 'keydown' && e.keyCode !== 27) return;\r\n            context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = 'none';\r\n            this._variable._lineBreakComp = null;\r\n\r\n            this.currentControllerName = '';\r\n            this.currentControllerTarget = null;\r\n            this.currentFileComponentInfo = null;\r\n            this.effectNode = null;\r\n            if (!this._bindControllersOff) return;\r\n\r\n            this.removeDocEvent('mousedown', this._bindControllersOff);\r\n            this.removeDocEvent('keydown', this._bindControllersOff);\r\n            this._bindControllersOff = null;\r\n\r\n            if (len > 0) {\r\n                for (let i = 0; i < len; i++) {\r\n                    if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();\r\n                    else this.controllerArray[i].style.display = 'none';\r\n                }\r\n\r\n                this.controllerArray = [];\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Specify the position of the controller.\r\n         * @param {Element} controller Controller element.\r\n         * @param {Element} referEl Element that is the basis of the controller's position.\r\n         * @param {String} position Type of position (\"top\" | \"bottom\")\r\n         * When using the \"top\" position, there should not be an arrow on the controller.\r\n         * When using the \"bottom\" position there should be an arrow on the controller.\r\n         * @param {Object} addOffset These are the left and top values that need to be added specially. \r\n         * This argument is required. - {left: 0, top: 0}\r\n         * Please enter the value based on ltr mode.\r\n         * Calculated automatically in rtl mode.\r\n         */\r\n        setControllerPosition: function (controller, referEl, position, addOffset) {\r\n            if (options.rtl) addOffset.left *= -1;\r\n\r\n            const offset = util.getOffset(referEl, context.element.wysiwygFrame);\r\n            controller.style.visibility = 'hidden';\r\n            controller.style.display = 'block';\r\n\r\n            // Height value of the arrow element is 11px\r\n            const topMargin = position === 'top' ? -(controller.offsetHeight + 2) : (referEl.offsetHeight + 12);\r\n            controller.style.top = (offset.top + topMargin + addOffset.top) + 'px';\r\n\r\n            const l = offset.left - context.element.wysiwygFrame.scrollLeft + addOffset.left;\r\n            const controllerW = controller.offsetWidth;\r\n            const referElW = referEl.offsetWidth;\r\n\r\n            const allow = util.hasClass(controller.firstElementChild, 'se-arrow') ? controller.firstElementChild : null;\r\n\r\n            // rtl (Width value of the arrow element is 22px)\r\n            if (options.rtl) {\r\n                const rtlW = (controllerW > referElW) ? controllerW - referElW : 0;\r\n                const rtlL = rtlW > 0 ? 0 : referElW - controllerW;\r\n                controller.style.left = (l - rtlW + rtlL) + 'px';\r\n\r\n                if (rtlW > 0) {\r\n                    if (allow) allow.style.left = ((controllerW - 14 < 10 + rtlW) ? (controllerW - 14) : (10 + rtlW)) + 'px';\r\n                }\r\n\r\n                const overSize = context.element.wysiwygFrame.offsetLeft - controller.offsetLeft;\r\n                if (overSize > 0) {\r\n                    controller.style.left = '0px';\r\n                    if (allow) allow.style.left = overSize + 'px';\r\n                }\r\n            } else {\r\n                controller.style.left = l + 'px';\r\n\r\n                const overSize = context.element.wysiwygFrame.offsetWidth - (controller.offsetLeft + controllerW);\r\n                if (overSize < 0) {\r\n                    controller.style.left = (controller.offsetLeft + overSize) + 'px';\r\n                    if (allow) allow.style.left = (20 - overSize) + 'px';\r\n                } else {\r\n                    if (allow) allow.style.left = '20px';\r\n                }\r\n            }\r\n\r\n            controller.style.visibility = '';\r\n        },\r\n\r\n        /**\r\n         * @description javascript execCommand\r\n         * @param {String} command javascript execCommand function property\r\n         * @param {Boolean|undefined} showDefaultUI javascript execCommand function property\r\n         * @param {String|undefined} value javascript execCommand function property\r\n         */\r\n        execCommand: function (command, showDefaultUI, value) {\r\n            this._wd.execCommand(command, showDefaultUI, (command === 'formatBlock' ? '<' + value + '>' : value));\r\n            // history stack\r\n            this.history.push(true);\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area using \"native focus function\"\r\n         */\r\n        nativeFocus: function () {\r\n            this.__focus();\r\n            this._editorRange();\r\n        },\r\n\r\n        /**\r\n         * @description Focus method\r\n         * @private\r\n         */\r\n        __focus: function () {\r\n            const caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\r\n            if (caption) {\r\n                caption.focus();\r\n            } else {\r\n                context.element.wysiwyg.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area\r\n         */\r\n        focus: function () {\r\n            if (context.element.wysiwygFrame.style.display === 'none') return;\r\n\r\n            if (options.iframe) {\r\n                this.nativeFocus();\r\n            } else {\r\n                try {\r\n                    const range = this.getRange();\r\n                    if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\r\n                        const currentNode = range.commonAncestorContainer.children[range.startOffset];\r\n                        if (!util.isFormatElement(currentNode) && !util.isComponent(currentNode)) {\r\n                            const format = util.createElement(options.defaultTag);\r\n                            const br = util.createElement('BR');\r\n                            format.appendChild(br);\r\n                            context.element.wysiwyg.insertBefore(format, currentNode);\r\n                            this.setRange(br, 0, br, 0);\r\n                            return;\r\n                        }\r\n                    }\r\n                    this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\r\n                } catch (e) {\r\n                    this.nativeFocus();\r\n                }\r\n            }\r\n\r\n            event._applyTagEffects();\r\n            if (this._isBalloon) event._toggleToolbarBalloon();\r\n        },\r\n\r\n        /**\r\n         * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n         * If \"focusEdge\" is null, then selected last element\r\n         * @param {Element|null} focusEl Focus element\r\n         */\r\n        focusEdge: function (focusEl) {\r\n            if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\r\n\r\n            const fileComponentInfo = this.getFileComponent(focusEl);\r\n            if (fileComponentInfo) {\r\n                this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n            } else if (focusEl) {\r\n                focusEl = util.getChildElement(focusEl, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\r\n                if (!focusEl) this.nativeFocus();\r\n                else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\r\n            } else {\r\n                this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Focusout to wysiwyg area (.blur())\r\n         */\r\n        blur: function () {\r\n            if (options.iframe) {\r\n                context.element.wysiwygFrame.blur();\r\n            } else {\r\n                context.element.wysiwyg.blur();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set current editor's range object and return.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @returns {Object} Range object.\r\n         */\r\n        setRange: function (startCon, startOff, endCon, endOff) {\r\n            if (!startCon || !endCon) return;\r\n            if ((util.isBreak(startCon) || startCon.nodeType === 3) && startOff > startCon.textContent.length) startOff = startCon.textContent.length;\r\n\t\t    if ((util.isBreak(endCon) || endCon.nodeType === 3) && endOff > endCon.textContent.length) endOff = endCon.textContent.length;\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff > 0 ? startCon.childNodes.length - 1 : 0] || startCon;\r\n                startOff = startOff > 0 ? (startCon.nodeType === 1 && !util.isBreak(startCon) ? 1 : startCon.textContent ? startCon.textContent.length : 0) : 0;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff > 0 ? endCon.childNodes.length - 1 : 0] || endCon;\r\n                endOff = endOff > 0 ? (endCon.nodeType === 1 && !util.isBreak(endCon) ? 1 : endCon.textContent ? endCon.textContent.length : 0) : 0;\r\n            }\r\n\r\n            const range = this._wd.createRange();\r\n\r\n            try {\r\n                if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\r\n                if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\r\n                range.setStart(startCon, startOff);\r\n                range.setEnd(endCon, endOff);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.core.focus.error] ' + error);\r\n                this.nativeFocus();\r\n                return;\r\n            }\r\n\r\n            const selection = this.getSelection();\r\n\r\n            if (selection.removeAllRanges) {\r\n                selection.removeAllRanges();\r\n            }\r\n\r\n            selection.addRange(range);\r\n            this._rangeInfo(range, this.getSelection());\r\n            if (options.iframe) this.__focus();\r\n\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Remove range object and button effect\r\n         */\r\n        removeRange: function () {\r\n            this._variable._range = null;\r\n            this._variable._selectionNode = null;\r\n            if (this.hasFocus) this.getSelection().removeAllRanges();\r\n            this._setKeyEffect([]);\r\n        },\r\n\r\n        /**\r\n         * @description Get current editor's range object\r\n         * @returns {Object}\r\n         */\r\n        getRange: function () {\r\n            const range = this._variable._range || this._createDefaultRange();\r\n            const selection = this.getSelection();\r\n            if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\r\n\r\n            if (selection.rangeCount > 0) {\r\n                this._variable._range = selection.getRangeAt(0);\r\n                return this._variable._range;\r\n            } else {\r\n                const sc = selection.anchorNode, ec = selection.focusNode, so = selection.anchorOffset, eo = selection.focusOffset;\r\n                const compareValue = util.compareElements(sc, ec);\r\n                const rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\r\n                return this.setRange(\r\n                    rightDir ? sc : ec,\r\n                    rightDir ? so : eo,\r\n                    rightDir ? ec : sc,\r\n                    rightDir ? eo : so\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n         * Returns a new \"range\" or argument \"range\".\r\n         * @param {Object} range core.getRange()\r\n         * @param {Element|null} container If there is \"container\" argument, it creates a line in front of the container.\r\n         * @returns {Object} range\r\n         */\r\n        getRange_addLine: function (range, container) {\r\n            if (this._selectionVoid(range)) {\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const op = util.createElement(options.defaultTag);\r\n                op.innerHTML = '<br>';\r\n                wysiwyg.insertBefore(op, container && container !== wysiwyg ? container.nextElementSibling : wysiwyg.firstElementChild);\r\n                this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\r\n                range = this._variable._range;\r\n            }\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Get window selection obejct\r\n         * @returns {Object}\r\n         */\r\n        getSelection: function () {\r\n            const selection = this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\r\n            if (!this._variable._range && !context.element.wysiwyg.contains(selection.focusNode)) {\r\n                selection.removeAllRanges();\r\n                selection.addRange(this._createDefaultRange());\r\n            }\r\n            return selection;\r\n        },\r\n\r\n        /**\r\n         * @description Get current select node\r\n         * @returns {Node}\r\n         */\r\n        getSelectionNode: function () {\r\n            if (!context.element.wysiwyg.contains(this._variable._selectionNode)) this._editorRange();\r\n            if (!this._variable._selectionNode) {\r\n                const selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\r\n                if (!selectionNode) {\r\n                    this._editorRange();\r\n                } else {\r\n                    this._variable._selectionNode = selectionNode;\r\n                    return selectionNode;\r\n                }\r\n            }\r\n            return this._variable._selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Saving the range object and the currently selected node of editor\r\n         * @private\r\n         */\r\n        _editorRange: function () {\r\n            const activeEl = this._wd.activeElement;\r\n            if (util.isInputElement(activeEl)) {\r\n                this._variable._selectionNode = activeEl;\r\n                return activeEl;\r\n            }\r\n\r\n            const selection = this.getSelection();\r\n            if (!selection) return null;\r\n            let range = null;\r\n\r\n            if (selection.rangeCount > 0) {\r\n                range = selection.getRangeAt(0);\r\n            } else {\r\n                range = this._createDefaultRange();\r\n            }\r\n\r\n            this._rangeInfo(range, selection);\r\n        },\r\n\r\n        /**\r\n         * @description Set \"range\" and \"selection\" info.\r\n         * @param {Object} range range object.\r\n         * @param {Object} selection selection object.\r\n         */\r\n        _rangeInfo: function (range, selection) {\r\n            let selectionNode = null;\r\n            this._variable._range = range;\r\n\r\n            if (range.collapsed) {\r\n                if (util.isWysiwygDiv(range.commonAncestorContainer)) selectionNode = range.commonAncestorContainer.children[range.startOffset] || range.commonAncestorContainer;\r\n                else selectionNode = range.commonAncestorContainer;\r\n            } else {\r\n                // extentNode - Firefox legacy\r\n                selectionNode = selection.extentNode || selection.anchorNode;\r\n            }\r\n\r\n            this._variable._selectionNode = selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Return the range object of editor's first child node\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _createDefaultRange: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            const range = this._wd.createRange();\r\n\r\n            let firstFormat = wysiwyg.firstElementChild;\r\n            let focusEl = null;\r\n            if (!firstFormat) {\r\n                firstFormat = util.createElement(options.defaultTag);\r\n                focusEl = util.createElement('BR');\r\n                firstFormat.appendChild(focusEl);\r\n                wysiwyg.appendChild(firstFormat);\r\n            } else {\r\n                focusEl = firstFormat.firstChild;\r\n                if (!focusEl) {\r\n                    focusEl = util.createElement('BR');\r\n                    firstFormat.appendChild(focusEl);\r\n                }\r\n            }\r\n\r\n            range.setStart(focusEl, 0);\r\n            range.setEnd(focusEl, 0);\r\n\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Returns true if there is no valid \"selection\".\r\n         * @param {Object} range core.getRange()\r\n         * @returns {Object} range\r\n         * @private\r\n         */\r\n        _selectionVoid: function (range) {\r\n            const comm = range.commonAncestorContainer;\r\n            return (util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer)) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\r\n        },\r\n\r\n        /**\r\n         * @description Reset range object to text node selected status.\r\n         * @returns {Boolean} Returns false if there is no valid selection.\r\n         * @private\r\n         */\r\n        _resetRangeToTextNode: function () {\r\n            const range = this.getRange();\r\n            if (this._selectionVoid(range)) return false;\r\n\r\n            const collapsed = range.collapsed;\r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n            let tempCon, tempOffset, tempChild;\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                if (!startCon.childNodes[startOff]) {\r\n                    startCon = startCon.lastChild || startCon;\r\n                    startOff = startCon.textContent.length;\r\n                } else {\r\n                    startCon = startCon.childNodes[startOff] || startCon;\r\n                    startOff = 0;\r\n                }\r\n                while (startCon && startCon.nodeType === 1 && startCon.firstChild) {\r\n                    startCon = startCon.firstChild || startCon;\r\n                    startOff = 0;\r\n                }\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild || endCon;\r\n                while (endCon && endCon.nodeType === 1 && endCon.lastChild) {\r\n                    endCon = endCon.lastChild;\r\n                }\r\n                endOff = collapsed ? 0 : endCon.textContent.length;\r\n            }\r\n\r\n            // startContainer\r\n            tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\r\n            tempOffset = startOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\r\n                        tempOffset = 0;\r\n                    }\r\n\r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : options.defaultTag);\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    if (onlyBreak) {\r\n                        if (startCon === endCon) {\r\n                            endCon = tempCon;\r\n                            endOff = 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set startContainer\r\n            startCon = tempCon;\r\n            startOff = tempOffset;\r\n\r\n            // endContainer\r\n            tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\r\n            tempOffset = endOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempChild = tempCon.childNodes;\r\n                        if (tempChild.length === 0) break;\r\n                        tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : (tempCon.previousElementSibling || tempCon.previousSibling || startCon);\r\n                        tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\r\n                    }\r\n\r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.isCell(format) ? 'DIV' : options.defaultTag);\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    tempOffset = 1;\r\n                    if (onlyBreak && !tempCon.previousSibling) {\r\n                        util.removeItem(endCon);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set endContainer\r\n            endCon = tempCon;\r\n            endOff = tempOffset;\r\n\r\n            // set Range\r\n            this.setRange(startCon, startOff, endCon, endOff);\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n         * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElements: function (validation) {\r\n            if (!this._resetRangeToTextNode()) return [];\r\n            let range = this.getRange();\r\n\r\n            if (util.isWysiwygDiv(range.startContainer)) {\r\n                const children = context.element.wysiwyg.children;\r\n                if (children.length === 0) return [];\r\n                this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\r\n                range = this.getRange();\r\n            }\r\n\r\n            const startCon = range.startContainer;\r\n            const endCon = range.endContainer;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            // get line nodes\r\n            const lineNodes = util.getListChildren(commonCon, function (current) {\r\n                return validation ? validation(current) : util.isFormatElement(current);\r\n            });\r\n\r\n            if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\r\n            if (startCon === endCon || lineNodes.length === 1) return lineNodes;\r\n\r\n            let startLine = util.getFormatElement(startCon, null);\r\n            let endLine = util.getFormatElement(endCon, null);\r\n            let startIdx = null;\r\n            let endIdx = null;\r\n\r\n            const onlyTable = function (current) {\r\n                return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\r\n            };\r\n\r\n            let startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\r\n            let endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\r\n            if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\r\n            if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\r\n\r\n            const sameRange = startRangeEl === endRangeEl;\r\n            for (let i = 0, len = lineNodes.length, line; i < len; i++) {\r\n                line = lineNodes[i];\r\n\r\n                if (startLine === line || (!sameRange && line === startRangeEl)) {\r\n                    startIdx = i;\r\n                    continue;\r\n                }\r\n\r\n                if (endLine === line || (!sameRange && line === endRangeEl)) {\r\n                    endIdx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (startIdx === null) startIdx = 0;\r\n            if (endIdx === null) endIdx = lineNodes.length - 1;\r\n\r\n            return lineNodes.slice(startIdx, endIdx + 1);\r\n        },\r\n\r\n        /**\r\n         * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n         * If some of the component are included in the selection, get the entire that component.\r\n         * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElementsAndComponents: function (removeDuplicate) {\r\n            const commonCon = this.getRange().commonAncestorContainer;\r\n            const myComponent = util.getParentElement(commonCon, util.isComponent);\r\n            const selectedLines = util.isTable(commonCon) ?\r\n                this.getSelectedElements(null) :\r\n                this.getSelectedElements(function (current) {\r\n                    const component = this.getParentElement(current, this.isComponent);\r\n                    return (this.isFormatElement(current) && (!component || component === myComponent)) || (this.isComponent(current) && !this.getFormatElement(current));\r\n                }.bind(util));\r\n\r\n            if (removeDuplicate) {\r\n                for (let i = 0, len = selectedLines.length; i < len; i++) {\r\n                    for (let j = i - 1; j >= 0; j--) {\r\n                        if (selectedLines[j].contains(selectedLines[i])) {\r\n                            selectedLines.splice(i, 1);\r\n                            i--; len--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return selectedLines;\r\n        },\r\n\r\n        /**\r\n         * @description Determine if this offset is the edge offset of container\r\n         * @param {Node} container The node of the selection object. (range.startContainer..)\r\n         * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n         * @param {String|undefined} dir Select check point - Both edge, Front edge or End edge. (\"start\": Front edge, \"end\": End edge, undefined: Both edge)\r\n         * @returns {Boolean}\r\n         */\r\n        isEdgePoint: function (container, offset, dir) {\r\n            if (container.nodeType === 1 && !container.textContent.length) return true;\r\n            return (dir !== 'end' && offset === 0) || ((!dir || dir !== 'start') && !container.nodeValue && offset === 1) || ((!dir || dir === 'end') && !!container.nodeValue && offset === container.nodeValue.length);\r\n        },\r\n\r\n        /**\r\n         * @description Check if the container and offset values are the edges of the format tag\r\n         * @param {Node} container The node of the selection object. (range.startContainer..)\r\n         * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n         * @param {String} dir Select check point - \"start\": Front edge, \"end\": End edge, undefined: Both edge.\r\n         * @returns {Array|null}\r\n         * @private\r\n         */\r\n        _isEdgeFormat: function (node, offset, dir) {\r\n            if (!this.isEdgePoint(node, offset, dir)) return false;\r\n\r\n            const result = [];\r\n            dir = dir === 'start' ? 'previousSibling' : 'nextSibling';\r\n            while (node && !util.isFormatElement(node) && !util.isWysiwygDiv(node)) {\r\n                if (!node[dir] || (util.isBreak(node[dir]) && !node[dir][dir])) {\r\n                    if (node.nodeType === 1) result.push(node.cloneNode(false));\r\n                    node = node.parentNode;\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * @description Show loading box\r\n         */\r\n        showLoading: function () {\r\n            context.element.loading.style.display = 'block';\r\n        },\r\n\r\n        /**\r\n         * @description Close loading box\r\n         */\r\n        closeLoading: function () {\r\n            context.element.loading.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Append format element to sibling node of argument element.\r\n         * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n         * If not, the currently selected format tag is inserted.\r\n         * @param {Element} element Insert as siblings of that element\r\n         * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n         * @returns {Element}\r\n         */\r\n        appendFormatTag: function (element, formatNode) {\r\n            if (!element || !element.parentNode) return null;\r\n\r\n            const currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\r\n            let oFormat = null;\r\n            if (!util.isFormatElement(element) && util.isFreeFormatElement(currentFormatEl || element.parentNode)) {\r\n                oFormat = util.createElement('BR');\r\n            } else {\r\n                const oFormatName = formatNode ? (typeof formatNode === 'string' ? formatNode : formatNode.nodeName) : (util.isFormatElement(currentFormatEl) && !util.isRangeFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl)) ? currentFormatEl.nodeName : options.defaultTag;\r\n                oFormat = util.createElement(oFormatName);\r\n                oFormat.innerHTML = '<br>';\r\n                if ((formatNode && typeof formatNode !== 'string') || (!formatNode && util.isFormatElement(currentFormatEl))) {\r\n                    util.copyTagAttributes(oFormat, formatNode || currentFormatEl, ['id']);\r\n                }\r\n            }\r\n\r\n            if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);\r\n            else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\r\n\r\n            return oFormat;\r\n        },\r\n\r\n        /**\r\n         * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n         * If \"element\" is \"HR\", insert and return the new line.\r\n         * @param {Element} element Element to be inserted\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n         * @returns {Element}\r\n         */\r\n        insertComponent: function (element, notHistoryPush, checkCharCount, notSelect) {\r\n            if (this.isReadOnly || (checkCharCount && !this.checkCharCount(element, null))) {\r\n                return null;\r\n            }\r\n\r\n            const r = this.removeNode();\r\n            this.getRange_addLine(this.getRange(), r.container);\r\n            let oNode = null;\r\n            let selectionNode = this.getSelectionNode();\r\n            let formatEl = util.getFormatElement(selectionNode, null);\r\n\r\n            if (util.isListCell(formatEl)) {\r\n                this.insertNode(element, selectionNode === formatEl ? null : (selectionNode || r.container).nextSibling, false);\r\n                if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\r\n            } else {\r\n                if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current); }.bind(util));\r\n                    oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (oNode) formatEl = oNode.previousSibling;\r\n                }\r\n                this.insertNode(element, util.isRangeFormatElement(formatEl) ? null : formatEl, false);\r\n                if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\r\n            }\r\n\r\n            if (!notSelect) {\r\n                this.setRange(element, 0, element, 0);\r\n\r\n                const fileComponentInfo = this.getFileComponent(element);\r\n                if (fileComponentInfo) {\r\n                    this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                } else if (oNode) {\r\n                    oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\r\n                    this.setRange(oNode, 0, oNode, 0);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            if (!notHistoryPush) this.history.push(1);\r\n\r\n            return oNode || element;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the file component and that plugin name\r\n         * return: {target, component, pluginName} | null\r\n         * @param {Element} element Target element (figure tag, component div, file tag)\r\n         * @returns {Object|null}\r\n         */\r\n        getFileComponent: function (element) {\r\n            if (!this._fileManager.queryString || !element) return null;\r\n\r\n            let target, pluginName;\r\n            if (/^FIGURE$/i.test(element.nodeName) || /se-component/.test(element.className)) {\r\n                target = element.querySelector(this._fileManager.queryString);\r\n            }\r\n            if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\r\n                target = element;\r\n            }\r\n\r\n            if (target) {\r\n                pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\r\n                if (pluginName) {\r\n                    return {\r\n                        target: target,\r\n                        component: util.getParentElement(target, util.isComponent),\r\n                        pluginName: pluginName\r\n                    };\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * @description The component(image, video) is selected and the resizing module is called.\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @param {String} pluginName Plugin name (image, video)\r\n         */\r\n        selectComponent: function (element, pluginName) {\r\n            if (util.isUneditableComponent(util.getParentElement(element, util.isComponent)) || util.isUneditableComponent(element)) return false;\r\n            if (!this.hasFocus) this.focus();\r\n            const plugin = this.plugins[pluginName];\r\n            if (!plugin) return;\r\n            _w.setTimeout(function () {\r\n                if (typeof plugin.select === 'function') this.callPlugin(pluginName, plugin.select.bind(this, element), null);\r\n                this._setComponentLineBreaker(element);\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * @description Set line breaker of component\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @private\r\n         */\r\n        _setComponentLineBreaker: function (element) {\r\n            // line breaker\r\n            this._lineBreaker.style.display = 'none';\r\n            const container = util.getParentElement(element, util.isComponent);\r\n            if (!container) return;\r\n            \r\n            const t_style = context.element.lineBreaker_t.style;\r\n            const b_style = context.element.lineBreaker_b.style;\r\n            const target = this.context.resizing.resizeContainer.style.display === 'block' ? this.context.resizing.resizeContainer : element;\r\n\r\n            const isList = util.isListCell(container.parentNode);\r\n            let componentTop, wScroll, w;\r\n            // top\r\n            if (isList ? !container.previousSibling || util.isComponent(container.previousElementSibling) : !util.isFormatElement(container.previousElementSibling)) {\r\n                this._variable._lineBreakComp = container;\r\n                wScroll = context.element.wysiwyg.scrollTop;\r\n                componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                w = (target.offsetWidth / 2) / 2;\r\n\r\n                t_style.top = (componentTop - wScroll - 12) + 'px';\r\n                t_style.left = (util.getOffset(target).left + w) + 'px';\r\n                t_style.display = 'block';\r\n            } else {\r\n                t_style.display = 'none';\r\n            }\r\n            // bottom\r\n            if (isList ? !container.nextSibling || util.isComponent(container.nextElementSibling)  : !util.isFormatElement(container.nextElementSibling)) {\r\n                if (!componentTop) {\r\n                    this._variable._lineBreakComp = container;\r\n                    wScroll = context.element.wysiwyg.scrollTop;\r\n                    componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                    w = (target.offsetWidth / 2) / 2;\r\n                }\r\n\r\n                b_style.top = (componentTop + target.offsetHeight - wScroll - 12) + 'px';\r\n                b_style.left = (util.getOffset(target).left + target.offsetWidth - w - 24) + 'px';\r\n                b_style.display = 'block';\r\n            } else {\r\n                b_style.display = 'none';\r\n            }\r\n        },\r\n\r\n        _checkDuplicateNode: function (oNode, parentNode) {\r\n            (function recursionFunc(current) {\r\n                core._dupleCheck(current, parentNode);\r\n                const childNodes = current.childNodes;\r\n                for (let i = 0, len = childNodes.length; i < len; i++) {\r\n                    recursionFunc(childNodes[i]);\r\n                }\r\n            })(oNode);\r\n        },\r\n\r\n        _dupleCheck: function (oNode, parentNode) {\r\n            if (!util.isTextStyleElement(oNode)) return;\r\n\r\n            const oStyles = (oNode.style.cssText.match(/[^;]+;/g) || []).map(function(v){ return v.trim(); });\r\n            const nodeName = oNode.nodeName;\r\n            if (/^span$/i.test(nodeName) && oStyles.length === 0) return oNode;\r\n\r\n            let duple = false;\r\n            (function recursionFunc(ancestor) {\r\n                if (util.isWysiwygDiv(ancestor) || !util.isTextStyleElement(ancestor)) return;\r\n                if (ancestor.nodeName === nodeName) {\r\n                    duple = true;\r\n                    const styles = ancestor.style.cssText.match(/[^;]+;/g) || [];\r\n                    for (let i = 0, len = styles.length, j; i < len; i++) {\r\n                        if ((j = oStyles.indexOf(styles[i].trim())) > -1) {\r\n                            oStyles.splice(j, 1);\r\n                        }\r\n                    }\r\n                    for (let i = 0, len = ancestor.classList.length; i < len; i++) {\r\n                        oNode.classList.remove(ancestor.classList[i]);\r\n                    }\r\n                }\r\n\r\n                recursionFunc(ancestor.parentElement);\r\n            })(parentNode);\r\n\r\n            if (duple) {\r\n                if (!(oNode.style.cssText = oStyles.join(' '))) {\r\n                    oNode.setAttribute('style', '');\r\n                    oNode.removeAttribute('style');\r\n                }\r\n                if (!oNode.attributes.length) {\r\n                    oNode.setAttribute('data-se-duple', 'true');\r\n                }\r\n            }\r\n\r\n            return oNode;\r\n        },\r\n\r\n        /**\r\n         * @description Delete selected node and insert argument value node and return.\r\n         * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n         * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n         * @param {Node} oNode Element to be inserted\r\n         * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @returns {Object|Node|null}\r\n         */\r\n        insertNode: function (oNode, afterNode, checkCharCount) {\r\n            if (this.isReadOnly || (checkCharCount && !this.checkCharCount(oNode, null))) {\r\n                return null;\r\n            }\r\n\r\n            let fNode = null;\r\n            let range = this.getRange();\r\n            let line = util.isListCell(range.commonAncestorContainer) ? range.commonAncestorContainer : util.getFormatElement(this.getSelectionNode(), null);\r\n            let insertListCell = util.isListCell(line) && (util.isListCell(oNode) || util.isList(oNode));\r\n\r\n            let parentNode, originAfter, tempAfterNode, tempParentNode = null;\r\n            const freeFormat = util.isFreeFormatElement(line);\r\n            const isFormats = (!freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) || util.isComponent(oNode);\r\n\r\n            if (insertListCell) {\r\n                tempAfterNode = afterNode || util.isList(oNode) ? line.lastChild : line.nextElementSibling;\r\n                tempParentNode = util.isList(oNode) ? line : (tempAfterNode || line).parentNode;\r\n            }\r\n\r\n            if (!afterNode && (isFormats || util.isComponent(oNode) || util.isMedia(oNode))) {\r\n                const isEdge = this.isEdgePoint(range.endContainer, range.endOffset, 'end');\r\n                const r = this.removeNode();\r\n                const container = r.container;\r\n                const prevContainer = (container === r.prevContainer && range.collapsed) ? null : r.prevContainer;\r\n\r\n                if (insertListCell && prevContainer) {\r\n                    tempParentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\r\n                    if (tempParentNode.contains(container)) {\r\n                        let sameParent = true;\r\n                        tempAfterNode = container;\r\n                        while (tempAfterNode.parentNode && tempAfterNode.parentNode !== tempParentNode) {\r\n                            tempAfterNode = tempAfterNode.parentNode;\r\n                            sameParent = false;\r\n                        }\r\n                        if (sameParent && container === prevContainer) tempAfterNode = tempAfterNode.nextSibling;\r\n                    } else {\r\n                        tempAfterNode = null;\r\n                    }\r\n                } else if (insertListCell && util.isListCell(container) && !line.parentElement) {\r\n                    line = util.createElement('LI');\r\n                    tempParentNode.appendChild(line);\r\n                    container.appendChild(tempParentNode);\r\n                    tempAfterNode = null;\r\n                } else if (container.nodeType === 3 || util.isBreak(container) || insertListCell) {\r\n                    const depthFormat = util.getParentElement(container, function (current) { return this.isRangeFormatElement(current) || this.isListCell(current); }.bind(util));\r\n                    afterNode = util.splitElement(container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (!afterNode) {\r\n                        if (!util.isListCell(line)) {\r\n                            tempAfterNode = afterNode = line;\r\n                        }\r\n                    } else if (insertListCell) {\r\n                        if (line.contains(container)) {\r\n                            const subList = util.isList(line.lastElementChild);\r\n                            let newCell = null;\r\n                            if (!isEdge) {\r\n                                newCell = line.cloneNode(false);\r\n                                newCell.appendChild(afterNode.textContent.trim() ? afterNode : util.createTextNode(util.zeroWidthSpace));\r\n                            }\r\n                            if (subList) {\r\n                                if (!newCell) {\r\n                                    newCell = line.cloneNode(false);\r\n                                    newCell.appendChild(util.createTextNode(util.zeroWidthSpace));\r\n                                }\r\n                                newCell.appendChild(line.lastElementChild);\r\n                            }\r\n                            if (newCell) {\r\n                                line.parentNode.insertBefore(newCell, line.nextElementSibling);\r\n                                tempAfterNode = afterNode = newCell;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        afterNode = afterNode.previousSibling;\r\n                    }\r\n                }\r\n            }\r\n\r\n            range = (!afterNode && !isFormats) ? this.getRange_addLine(this.getRange(), null) : this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startOff = range.startOffset;\r\n            const endOff = range.endOffset;\r\n            const formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\r\n            const startCon = formatRange ? (commonCon.childNodes[startOff] || commonCon.childNodes[0] || range.startContainer) : range.startContainer;\r\n            const endCon = formatRange ? (commonCon.childNodes[endOff] || commonCon.childNodes[commonCon.childNodes.length - 1] || range.endContainer) : range.endContainer;\r\n\r\n            if (!insertListCell) {\r\n                if (!afterNode) {\r\n                    parentNode = startCon;\r\n                    if (startCon.nodeType === 3) {\r\n                        parentNode = startCon.parentNode;\r\n                    }\r\n\r\n                    /** No Select range node */\r\n                    if (range.collapsed) {\r\n                        if (commonCon.nodeType === 3) {\r\n                            if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);\r\n                            else afterNode = commonCon.nextSibling;\r\n                        } else {\r\n                            if (!util.isBreak(parentNode)) {\r\n                                let c = parentNode.childNodes[startOff];\r\n                                const focusNode = (c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling)) ? c.nextSibling : c;\r\n                                if (focusNode) {\r\n                                    if (!focusNode.nextSibling && util.isBreak(focusNode)) {\r\n                                        parentNode.removeChild(focusNode);\r\n                                        afterNode = null;\r\n                                    } else {\r\n                                        afterNode = (util.isBreak(focusNode) && !util.isBreak(oNode)) ? focusNode : focusNode.nextSibling;\r\n                                    }\r\n                                } else {\r\n                                    afterNode = null;\r\n                                }\r\n                            } else {\r\n                                afterNode = parentNode;\r\n                                parentNode = parentNode.parentNode;\r\n                            }\r\n                        }\r\n                    } else { /** Select range nodes */\r\n                        const isSameContainer = startCon === endCon;\r\n                        if (isSameContainer) {\r\n                            if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;\r\n                            else afterNode = endCon.splitText(endOff);\r\n\r\n                            let removeNode = startCon;\r\n                            if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\r\n\r\n                            parentNode.removeChild(removeNode);\r\n                            if (parentNode.childNodes.length === 0 && isFormats) {\r\n                                parentNode.innerHTML = '<br>';\r\n                            }\r\n                        }\r\n                        else {\r\n                            const removedTag = this.removeNode();\r\n                            const container = removedTag.container;\r\n                            const prevContainer = removedTag.prevContainer;\r\n\r\n                            if (container && container.childNodes.length === 0 && isFormats) {\r\n                                if (util.isFormatElement(container)) {\r\n                                    container.innerHTML = '<br>';\r\n                                } else if (util.isRangeFormatElement(container)) {\r\n                                    container.innerHTML = '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\r\n                                }\r\n                            }\r\n\r\n                            if (util.isListCell(container) && oNode.nodeType === 3) {\r\n                                parentNode = container;\r\n                                afterNode = null;\r\n                            } else if (!isFormats && prevContainer) {\r\n                                parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\r\n                                if (parentNode.contains(container)) {\r\n                                    let sameParent = true;\r\n                                    afterNode = container;\r\n                                    while (afterNode.parentNode && afterNode.parentNode !== parentNode) {\r\n                                        afterNode = afterNode.parentNode;\r\n                                        sameParent = false;\r\n                                    }\r\n                                    if (sameParent && container === prevContainer) afterNode = afterNode.nextSibling;\r\n                                } else {\r\n                                    afterNode = null;\r\n                                }\r\n                            } else if (util.isWysiwygDiv(container) && !util.isFormatElement(oNode)) {\r\n                                parentNode = container.appendChild(util.createElement(options.defaultTag));\r\n                                afterNode = null;\r\n                            } else {\r\n                                afterNode = isFormats ? endCon : container === prevContainer ? container.nextSibling : container;\r\n                                parentNode = (!afterNode || !afterNode.parentNode) ? commonCon : afterNode.parentNode;\r\n                            }\r\n\r\n                            while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\r\n                                afterNode = afterNode.parentNode;\r\n                            }\r\n                        }\r\n                    }\r\n                } else { // has afterNode\r\n                    parentNode = afterNode.parentNode;\r\n                    afterNode = afterNode.nextSibling;\r\n                    originAfter = true;\r\n                }\r\n            }\r\n\r\n            try {\r\n                // set node\r\n                if (!insertListCell) {\r\n                    if (util.isWysiwygDiv(afterNode) || parentNode === context.element.wysiwyg.parentNode) {\r\n                        parentNode = context.element.wysiwyg;\r\n                        afterNode = null;\r\n                    }\r\n\r\n                    if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || (!util.isListCell(parentNode) && util.isComponent(oNode))) {\r\n                        const oldParent = parentNode;\r\n                        if (util.isList(afterNode)) {\r\n                            parentNode = afterNode;\r\n                            afterNode = null;\r\n                        } else if (util.isListCell(afterNode)) {\r\n                            parentNode = afterNode.previousElementSibling || afterNode;\r\n                        } else if (!originAfter && !afterNode) {\r\n                            const r = this.removeNode();\r\n                            const container = r.container.nodeType === 3 ? (util.isListCell(util.getFormatElement(r.container, null)) ? r.container : (util.getFormatElement(r.container, null) || r.container.parentNode)) : r.container;\r\n                            const rangeCon = util.isWysiwygDiv(container) || util.isRangeFormatElement(container);\r\n                            parentNode = rangeCon ? container : container.parentNode;\r\n                            afterNode = rangeCon ? null : container.nextSibling;\r\n                        }\r\n\r\n                        if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\r\n                    }\r\n\r\n                    if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\r\n                        afterNode = parentNode.nextElementSibling;\r\n                        parentNode = parentNode.parentNode;\r\n                    }\r\n\r\n                    if (util.isWysiwygDiv(parentNode) && (oNode.nodeType === 3 || util.isBreak(oNode))) {\r\n                        const fomatNode = util.createElement(options.defaultTag);\r\n                        fomatNode.appendChild(oNode);\r\n                        fNode = oNode;\r\n                        oNode = fomatNode;\r\n                    }\r\n                }\r\n\r\n                // insert--\r\n                if (insertListCell) {\r\n                    if (!tempParentNode.parentNode) {\r\n                        parentNode = context.element.wysiwyg;\r\n                        afterNode = null;\r\n                    } else {\r\n                        parentNode = tempParentNode;\r\n                        afterNode = tempAfterNode;\r\n                    }\r\n                } else {\r\n                    afterNode = parentNode === afterNode ? parentNode.lastChild : afterNode;\r\n                }\r\n\r\n                if (util.isListCell(oNode) && !util.isList(parentNode)) {\r\n                    if (util.isListCell(parentNode)) {\r\n                        afterNode = parentNode.nextElementSibling;\r\n                        parentNode = parentNode.parentNode;\r\n                    } else {\r\n                        const ul = util.createElement('ol');\r\n                        parentNode.insertBefore(ul, afterNode);\r\n                        parentNode = ul;\r\n                        afterNode = null;\r\n                    }\r\n                    insertListCell = true;\r\n                }\r\n\r\n                this._checkDuplicateNode(oNode, parentNode);\r\n                parentNode.insertBefore(oNode, afterNode);\r\n\r\n                if (insertListCell) {\r\n                    if (util.onlyZeroWidthSpace(line.textContent.trim())) {\r\n                        util.removeItem(line);\r\n                        oNode = oNode.lastChild;\r\n                    } else {\r\n                        const chList = util.getArrayItem(line.children, util.isList);\r\n                        if (chList) {\r\n                            if (oNode !== chList) {\r\n                                oNode.appendChild(chList);\r\n                                oNode = chList.previousSibling;\r\n                            } else {\r\n                                parentNode.appendChild(oNode);\r\n                                oNode = parentNode;\r\n                            }\r\n\r\n                            if (util.onlyZeroWidthSpace(line.textContent.trim())) {\r\n                                util.removeItem(line);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                parentNode.appendChild(oNode);\r\n                console.warn('[SUNEDITOR.insertNode.warn] ' + error);\r\n            } finally {\r\n                if (fNode) oNode = fNode;\r\n\r\n                const dupleNodes = parentNode.querySelectorAll('[data-se-duple]');\r\n                if (dupleNodes.length > 0) {\r\n                    for (let i = 0, len = dupleNodes.length, d, c, ch, parent; i < len; i++) {\r\n                        d = dupleNodes[i];\r\n                        ch = d.childNodes;\r\n                        parent = d.parentNode;\r\n\r\n                        while (ch[0]) {\r\n                            c = ch[0];\r\n                            parent.insertBefore(c, d);\r\n                        }\r\n\r\n                        if (d === oNode) oNode = c;\r\n                        util.removeItem(d);\r\n                    }\r\n                }\r\n\r\n                if ((util.isFormatElement(oNode) || util.isComponent(oNode)) && startCon === endCon) {\r\n                    const cItem = util.getFormatElement(commonCon, null);\r\n                    if (cItem && cItem.nodeType === 1 && util.isEmptyLine(cItem)) {\r\n                        util.removeItem(cItem);\r\n                    }\r\n                }\r\n\r\n                if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\r\n                    oNode = this._setIntoFreeFormat(oNode);\r\n                }\r\n\r\n                if (!util.isComponent(oNode)) {\r\n                    let offset = 1;\r\n                    if (oNode.nodeType === 3) {\r\n                        offset = oNode.textContent.length;\r\n                        this.setRange(oNode, offset, oNode, offset);\r\n                    } else if (!util.isBreak(oNode) && !util.isListCell(oNode) && util.isFormatElement(parentNode)) {\r\n                        let zeroWidth = null;\r\n                        if (!oNode.previousSibling || util.isBreak(oNode.previousSibling)) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.insertBefore(zeroWidth, oNode);\r\n                        }\r\n\r\n                        if (!oNode.nextSibling || util.isBreak(oNode.nextSibling)) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.insertBefore(zeroWidth, oNode.nextSibling);\r\n                        }\r\n\r\n                        if (util._isIgnoreNodeChange(oNode)) {\r\n                            oNode = oNode.nextSibling;\r\n                            offset = 0;\r\n                        }\r\n                    }\r\n\r\n                    this.setRange(oNode, offset, oNode, offset);\r\n                }\r\n\r\n                return oNode;\r\n            }\r\n        },\r\n\r\n        _setIntoFreeFormat: function (oNode) {\r\n            const parentNode = oNode.parentNode;\r\n            let oNodeChildren, lastONode;\r\n\r\n            while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\r\n                oNodeChildren = oNode.childNodes;\r\n                lastONode = null;\r\n\r\n                while (oNodeChildren[0]) {\r\n                    lastONode = oNodeChildren[0];\r\n                    if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\r\n                        this._setIntoFreeFormat(lastONode);\r\n                        if (!oNode.parentNode) break;\r\n                        oNodeChildren = oNode.childNodes;\r\n                        continue;\r\n                    }\r\n\r\n                    parentNode.insertBefore(lastONode, oNode);\r\n                }\r\n\r\n                if (oNode.childNodes.length === 0) util.removeItem(oNode);\r\n                oNode = util.createElement('BR');\r\n                parentNode.insertBefore(oNode, lastONode.nextSibling);\r\n            }\r\n\r\n            return oNode;\r\n        },\r\n\r\n        /**\r\n         * @description Delete the currently selected nodes and reset selection range\r\n         * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n         * @returns {Object}\r\n         */\r\n        removeNode: function () {\r\n            this._resetRangeToTextNode();\r\n\r\n            const range = this.getRange();\r\n\r\n            if (range.startContainer === range.endContainer) {\r\n                const fileComponent = util.getParentElement(range.startContainer, util.isMediaComponent);\r\n                if (fileComponent) {\r\n                    const br = util.createElement('BR');\r\n                    const format = util.createElement(options.defaultTag);\r\n                    format.appendChild(br);\r\n\r\n                    util.changeElement(fileComponent, format);\r\n\r\n                    core.setRange(format, 0, format, 0);\r\n                    this.history.push(true);\r\n\r\n                    return {\r\n                        container: format,\r\n                        offset: 0,\r\n                        prevContainer: null\r\n                    };\r\n                }\r\n            }\r\n\r\n            const isStartEdge = range.startOffset === 0;\r\n            const isEndEdge = core.isEdgePoint(range.endContainer, range.endOffset, 'end');\r\n            let prevContainer = null;\r\n            let startPrevEl = null;\r\n            let endNextEl = null;\r\n            if (isStartEdge) {\r\n                startPrevEl = util.getFormatElement(range.startContainer);\r\n                if (startPrevEl) {\r\n                    prevContainer = startPrevEl.previousElementSibling;\r\n                    startPrevEl = prevContainer;\r\n                }\r\n            }\r\n            if (isEndEdge) {\r\n                endNextEl = util.getFormatElement(range.endContainer);\r\n                endNextEl = endNextEl ? endNextEl.nextElementSibling : endNextEl;\r\n            }\r\n\r\n            let container, offset = 0;\r\n            let startCon = range.startContainer;\r\n            let endCon = range.endContainer;\r\n            let startOff = range.startOffset;\r\n            let endOff = range.endOffset;\r\n            const commonCon = (range.commonAncestorContainer.nodeType === 3 && range.commonAncestorContainer.parentNode === startCon.parentNode) ? startCon.parentNode : range.commonAncestorContainer;\r\n            if (commonCon === startCon && commonCon === endCon) {\r\n                startCon = commonCon.children[startOff];\r\n                endCon = commonCon.children[endOff];\r\n                startOff = endOff = 0;\r\n            }\r\n\r\n            if (!startCon || !endCon) return  {\r\n                container: commonCon,\r\n                offset: 0\r\n            };\r\n\r\n            if (startCon === endCon && range.collapsed) {\r\n                if (startCon.textContent && util.onlyZeroWidthSpace(startCon.textContent.substr(startOff))) {\r\n                    return {\r\n                        container: startCon,\r\n                        offset: startOff,\r\n                        prevContainer: startCon && startCon.parentNode ? startCon : null\r\n                    };\r\n                }\r\n            }\r\n\r\n            let beforeNode = null;\r\n            let afterNode = null;\r\n\r\n            const childNodes = util.getListChildNodes(commonCon, null);\r\n            let startIndex = util.getArrayIndex(childNodes, startCon);\r\n            let endIndex = util.getArrayIndex(childNodes, endCon);\r\n\r\n            if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\r\n                for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\r\n                    if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\r\n                        startIndex = i;\r\n                        startNode = startNode.parentNode;\r\n                    }\r\n                }\r\n\r\n                for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\r\n                    if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\r\n                        childNodes.splice(i, 1);\r\n                        endNode = endNode.parentNode;\r\n                        --endIndex;\r\n                    }\r\n                }\r\n            } else {\r\n                if (childNodes.length === 0) {\r\n                    if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\r\n                        return {\r\n                            container: commonCon,\r\n                            offset: 0\r\n                        };\r\n                    } else if (commonCon.nodeType === 3) {\r\n                        return {\r\n                            container: commonCon,\r\n                            offset: endOff\r\n                        };\r\n                    }\r\n                    childNodes.push(commonCon);\r\n                    startCon = endCon = commonCon;\r\n                } else {\r\n                    startCon = endCon = childNodes[0];\r\n                    if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\r\n                        return {\r\n                            container: util.isMedia(commonCon) ? commonCon : startCon,\r\n                            offset: 0\r\n                        };\r\n                    }\r\n                }\r\n\r\n                startIndex = endIndex = 0;\r\n            }\r\n\r\n            for (let i = startIndex; i <= endIndex; i++) {\r\n                const item = childNodes[i];\r\n\r\n                if (item.length === 0 || (item.nodeType === 3 && item.data === undefined)) {\r\n                    this._nodeRemoveListItem(item);\r\n                    continue;\r\n                }\r\n\r\n                if (item === startCon) {\r\n                    if (startCon.nodeType === 1) {\r\n                        if (util.isComponent(startCon)) continue;\r\n                        else beforeNode = util.createTextNode(startCon.textContent);\r\n                    } else {\r\n                        if (item === endCon) {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, (endCon.length - endOff)));\r\n                            offset = startOff;\r\n                        } else {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff));\r\n                        }\r\n                    }\r\n\r\n                    if (beforeNode.length > 0) {\r\n                        startCon.data = beforeNode.data;\r\n                    } else {\r\n                        this._nodeRemoveListItem(startCon);\r\n                    }\r\n\r\n                    if (item === endCon) break;\r\n                    continue;\r\n                }\r\n\r\n                if (item === endCon) {\r\n                    if (endCon.nodeType === 1) {\r\n                        if (util.isComponent(endCon)) continue;\r\n                        else afterNode = util.createTextNode(endCon.textContent);\r\n                    } else {\r\n                        afterNode = util.createTextNode(endCon.substringData(endOff, (endCon.length - endOff)));\r\n                    }\r\n\r\n                    if (afterNode.length > 0) {\r\n                        endCon.data = afterNode.data;\r\n                    } else {\r\n                        this._nodeRemoveListItem(endCon);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                this._nodeRemoveListItem(item);\r\n            }\r\n\r\n            const endUl = util.getParentElement(endCon, 'ul');\r\n            const startLi = util.getParentElement(startCon, 'li');\r\n            if (endUl && startLi && startLi.contains(endUl)) {\r\n                container = endUl.previousSibling;\r\n                offset = container.textContent.length;\r\n            } else {\r\n                container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : (range.endContainer || range.startContainer);\r\n                offset = (!isStartEdge && !isEndEdge) ? offset : isEndEdge ? container.textContent.length : 0;\r\n            }\r\n\r\n            if (!util.isWysiwygDiv(container) && container.childNodes.length === 0) {\r\n                const rc = util.removeItemAllParents(container, null, null);\r\n                if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\r\n            }\r\n\r\n            if (!util.getFormatElement(container) && !(startCon && startCon.parentNode)) {\r\n                if (endNextEl) {\r\n                    container = endNextEl;\r\n                    offset = 0;\r\n                } else if (startPrevEl) {\r\n                    container = startPrevEl;\r\n                    offset = 1;\r\n                }\r\n            }\r\n\r\n            // set range\r\n            this.setRange(container, offset, container, offset);\r\n            // history stack\r\n            this.history.push(true);\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset,\r\n                prevContainer: prevContainer\r\n            };\r\n        },\r\n\r\n        _nodeRemoveListItem: function (item) {\r\n            const format = util.getFormatElement(item, null);\r\n            util.removeItem(item);\r\n\r\n            if(!util.isListCell(format)) return;\r\n\r\n            util.removeItemAllParents(format, null, null);\r\n\r\n            if (format && util.isList(format.firstChild)) {\r\n                format.insertBefore(util.createTextNode(util.zeroWidthSpace), format.firstChild);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Appended all selected format Element to the argument element and insert\r\n         * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n         */\r\n        applyRangeFormatElement: function (rangeElement) {\r\n            this.getRange_addLine(this.getRange(), null);\r\n            const rangeLines = this.getSelectedElementsAndComponents(false);\r\n            if (!rangeLines || rangeLines.length === 0) return;\r\n\r\n            linesLoop:\r\n            for (let i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\r\n                line = rangeLines[i];\r\n                if (!util.isListCell(line)) continue;\r\n\r\n                nested = line.lastElementChild;\r\n                if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\r\n                    lEl = nested.lastElementChild;\r\n                    if (rangeLines.indexOf(lEl) > -1) {\r\n                        let list = null;\r\n                        while ((list = lEl.lastElementChild)) {\r\n                            if (util.isList(list)) {\r\n                                if (rangeLines.indexOf(list.lastElementChild) > -1) {\r\n                                    lEl = list.lastElementChild;\r\n                                } else {\r\n                                    continue linesLoop;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        fEl = nested.firstElementChild;\r\n                        f = rangeLines.indexOf(fEl);\r\n                        l = rangeLines.indexOf(lEl);\r\n                        rangeLines.splice(f, (l - f) + 1);\r\n                        len = rangeLines.length;\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let last  = rangeLines[rangeLines.length - 1];\r\n            let standTag, beforeTag, pElement;\r\n\r\n            if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\r\n                standTag = last;\r\n            } else {\r\n                standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\r\n            }\r\n\r\n            if (util.isCell(standTag)) {\r\n                beforeTag = null;\r\n                pElement = standTag;\r\n            } else {\r\n                beforeTag = standTag.nextSibling;\r\n                pElement = standTag.parentNode;\r\n            }\r\n\r\n            let parentDepth = util.getElementDepth(standTag);\r\n            let listParent = null;\r\n            const lineArr = [];\r\n            const removeItems = function (parent, origin, before) {\r\n                let cc = null;\r\n                if (parent !== origin && !util.isTable(origin)) {\r\n                    if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\r\n                    cc = util.removeItemAllParents(origin, null, parent);\r\n                }\r\n\r\n                return cc ? cc.ec : before;\r\n            };\r\n\r\n            for (let i = 0, len = rangeLines.length, line, originParent, depth, before, nextLine, nextList, nested; i < len; i++) {\r\n                line = rangeLines[i];\r\n                originParent = line.parentNode;\r\n                if (!originParent || rangeElement.contains(originParent)) continue;\r\n\r\n                depth = util.getElementDepth(line);\r\n\r\n                if (util.isList(originParent)) {\r\n                    if (listParent === null) {\r\n                        if (nextList) {\r\n                            listParent = nextList;\r\n                            nested = true;\r\n                            nextList = null;\r\n                        } else {\r\n                            listParent = originParent.cloneNode(false);\r\n                        }\r\n                    }\r\n\r\n                    lineArr.push(line);\r\n                    nextLine = rangeLines[i + 1];\r\n\r\n                    if (i === len - 1 || (nextLine && nextLine.parentNode !== originParent)) {\r\n                        // nested list\r\n                        if (nextLine && line.contains(nextLine.parentNode)) {\r\n                            nextList = nextLine.parentNode.cloneNode(false);\r\n                        }\r\n\r\n                        let list = originParent.parentNode, p;\r\n                        while (util.isList(list)) {\r\n                            p = util.createElement(list.nodeName);\r\n                            p.appendChild(listParent);\r\n                            listParent = p;\r\n                            list = list.parentNode;\r\n                        }\r\n\r\n                        const edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\r\n\r\n                        if (parentDepth >= depth) {\r\n                            parentDepth = depth;\r\n                            pElement = edge.cc;\r\n                            beforeTag = removeItems(pElement, originParent, edge.ec);\r\n                            if (beforeTag) pElement = beforeTag.parentNode;\r\n                        } else if (pElement === edge.cc) {\r\n                            beforeTag = edge.ec;\r\n                        }\r\n\r\n                        if (pElement !== edge.cc) {\r\n                            before = removeItems(pElement, edge.cc, before);\r\n                            if (before !== undefined) beforeTag = before;\r\n                            else beforeTag = edge.cc;\r\n                        }\r\n\r\n                        for (let c = 0, cLen = edge.removeArray.length; c < cLen; c++) {\r\n                            listParent.appendChild(edge.removeArray[c]);\r\n                        }\r\n\r\n                        if (!nested) rangeElement.appendChild(listParent);\r\n                        if (nextList) edge.removeArray[edge.removeArray.length - 1].appendChild(nextList);\r\n                        listParent = null;\r\n                        nested = false;\r\n                    }\r\n                } else {\r\n                    if (parentDepth >= depth) {\r\n                        parentDepth = depth;\r\n                        pElement = originParent;\r\n                        beforeTag = line.nextSibling;\r\n                    }\r\n\r\n                    rangeElement.appendChild(line);\r\n\r\n                    if (pElement !== originParent) {\r\n                        before = removeItems(pElement, originParent);\r\n                        if (before !== undefined) beforeTag = before;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.effectNode = null;\r\n            util.mergeSameTags(rangeElement, null, false);\r\n            util.mergeNestedTags(rangeElement, function (current) { return this.isList(current); }.bind(util));\r\n\r\n            // Nested list\r\n            if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\r\n                const depthFormat = util.getParentElement(beforeTag, function (current) { return this.isRangeFormatElement(current) && !this.isList(current); }.bind(util));\r\n                const splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                splitRange.parentNode.insertBefore(rangeElement, splitRange);\r\n            } else { // basic\r\n                pElement.insertBefore(rangeElement, beforeTag);\r\n                removeItems(rangeElement, beforeTag);\r\n            }\r\n\r\n            const edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\r\n            if (rangeLines.length > 1) {\r\n                this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\r\n            } else {\r\n                this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n         * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n         * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n         * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n         * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n         * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @returns {Object}\r\n         */\r\n        detachRangeFormatElement: function (rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\r\n            const range = this.getRange();\r\n            let so = range.startOffset;\r\n            let eo = range.endOffset;\r\n\r\n            let children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n            let parent = rangeElement.parentNode;\r\n            let firstNode = null;\r\n            let lastNode = null;\r\n            let rangeEl = rangeElement.cloneNode(false);\r\n\r\n            const removeArray = [];\r\n            const newList = util.isList(newRangeElement);\r\n            let insertedNew = false;\r\n            let reset = false;\r\n            let moveComplete = false;\r\n\r\n            function appendNode (parent, insNode, sibling, originNode) {\r\n                if (util.onlyZeroWidthSpace(insNode)) {\r\n                    insNode.innerHTML = util.zeroWidthSpace;\r\n                    so = eo = 1;\r\n                }\r\n\r\n                if (insNode.nodeType === 3) {\r\n                    parent.insertBefore(insNode, sibling);\r\n                    return insNode;\r\n                }\r\n\r\n                const insChildren = (moveComplete ? insNode : originNode).childNodes;\r\n                let format = insNode.cloneNode(false);\r\n                let first = null;\r\n                let c = null;\r\n\r\n                while (insChildren[0]) {\r\n                    c = insChildren[0];\r\n                    if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\r\n                        if (format.childNodes.length > 0) {\r\n                            if (!first) first = format;\r\n                            parent.insertBefore(format, sibling);\r\n                            format = insNode.cloneNode(false);\r\n                        }\r\n                        parent.insertBefore(c, sibling);\r\n                        if (!first) first = c;\r\n                    } else {\r\n                        format.appendChild(c);\r\n                    }\r\n                }\r\n\r\n                if (format.childNodes.length > 0) {\r\n                    if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\r\n                        if (newList) {\r\n                            first = sibling;\r\n                            while(sibling) {\r\n                                format.appendChild(sibling);\r\n                                sibling = sibling.nextSibling;\r\n                            }\r\n                            parent.parentNode.insertBefore(format, parent.nextElementSibling);\r\n                        } else {\r\n                            const originNext = originNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(originNode, false);\r\n                            if ((rangeElement !== detachRange) || (originNext !== originNode.nextElementSibling)) {\r\n                                const fChildren = format.childNodes;\r\n                                while (fChildren[0]) {\r\n                                    originNode.appendChild(fChildren[0]);\r\n                                }\r\n\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        parent.insertBefore(format, sibling);\r\n                    }\r\n\r\n                    if (!first) first = format;\r\n                }\r\n\r\n                return first;\r\n            }\r\n\r\n            // detach loop\r\n            for (let i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\r\n                insNode = children[i];\r\n                if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\r\n\r\n                moveComplete = false;\r\n                if (remove && i === 0) {\r\n                    if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\r\n                        firstNode = rangeElement.previousSibling;\r\n                    } else {\r\n                        firstNode = rangeEl;\r\n                    }\r\n                }\r\n\r\n                if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\r\n                if (selectedFormats && lineIndex === -1) {\r\n                    if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\r\n                    rangeEl.appendChild(insNode);\r\n                } else {\r\n                    if (selectedFormats) next = selectedFormats[lineIndex + 1];\r\n                    if (rangeEl && rangeEl.children.length > 0) {\r\n                        parent.insertBefore(rangeEl, rangeElement);\r\n                        rangeEl = null;\r\n                    }\r\n\r\n                    if (!newList && util.isListCell(insNode)) {\r\n                        if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\r\n                            const insNext = insNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(insNode, false);\r\n                            if ((rangeElement !== detachRange) || insNext !== insNode.nextElementSibling) {\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        } else {\r\n                            const inner = insNode;\r\n                            insNode = util.createElement(remove ? inner.nodeName : (util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode)) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : options.defaultTag);\r\n                            const isCell = util.isListCell(insNode);\r\n                            const innerChildren = inner.childNodes;\r\n                            while (innerChildren[0]) {\r\n                                if (util.isList(innerChildren[0]) && !isCell) break;\r\n                                insNode.appendChild(innerChildren[0]);\r\n                            }\r\n                            util.copyFormatAttributes(insNode, inner);\r\n                            moveComplete = true;\r\n                        }\r\n                    } else {\r\n                        insNode = insNode.cloneNode(false);\r\n                    }\r\n\r\n                    if (!reset) {\r\n                        if (!remove) {\r\n                            if (newRangeElement) {\r\n                                if (!insertedNew) {\r\n                                    parent.insertBefore(newRangeElement, rangeElement);\r\n                                    insertedNew = true;\r\n                                }\r\n                                insNode = appendNode(newRangeElement, insNode, null, children[i]);\r\n                            } else {\r\n                                insNode = appendNode(parent, insNode, rangeElement, children[i]);\r\n                            }\r\n\r\n                            if (!reset) {\r\n                                if (selectedFormats) {\r\n                                    lastNode = insNode;\r\n                                    if (!firstNode) {\r\n                                        firstNode = insNode;\r\n                                    }\r\n                                } else if (!firstNode) {\r\n                                    firstNode = lastNode = insNode;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            removeArray.push(insNode);\r\n                            util.removeItem(children[i]);\r\n                        }\r\n\r\n                        if (reset) {\r\n                            reset = moveComplete = false;\r\n                            children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n                            rangeEl = rangeElement.cloneNode(false);\r\n                            parent = rangeElement.parentNode;\r\n                            i = -1;\r\n                            len = children.length;\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const rangeParent = rangeElement.parentNode;\r\n            let rangeRight = rangeElement.nextSibling;\r\n            if (rangeEl && rangeEl.children.length > 0) {\r\n                rangeParent.insertBefore(rangeEl, rangeRight);\r\n            }\r\n\r\n            if (newRangeElement) firstNode = newRangeElement.previousSibling;\r\n            else if (!firstNode) firstNode = rangeElement.previousSibling;\r\n            rangeRight = rangeElement.nextSibling !== rangeEl ? rangeElement.nextSibling : rangeEl ? rangeEl.nextSibling : null;\r\n\r\n            if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\r\n                util.removeItem(rangeElement);\r\n            } else {\r\n                util.removeEmptyNode(rangeElement, null, false);\r\n            }\r\n\r\n            let edge = null;\r\n            if (remove) {\r\n                edge = {\r\n                    cc: rangeParent,\r\n                    sc: firstNode,\r\n                    so: so,\r\n                    ec: rangeRight,\r\n                    eo: eo,\r\n                    removeArray: removeArray\r\n                };\r\n            } else {\r\n                if (!firstNode) firstNode = lastNode;\r\n                if (!lastNode) lastNode = firstNode;\r\n                const childEdge = util.getEdgeChildNodes(firstNode, (lastNode.parentNode ? firstNode : lastNode));\r\n                edge = {\r\n                    cc: (childEdge.sc || childEdge.ec).parentNode,\r\n                    sc: childEdge.sc,\r\n                    so: so,\r\n                    ec: childEdge.ec,\r\n                    eo: eo,\r\n                    removeArray: null\r\n                };\r\n            }\r\n\r\n            this.effectNode = null;\r\n            if (notHistoryPush) return edge;\r\n\r\n            if (!remove && edge) {\r\n                if (!selectedFormats) {\r\n                    this.setRange(edge.sc, 0, edge.sc, 0);\r\n                } else {\r\n                    this.setRange(edge.sc, so, edge.ec, eo);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description \"selectedFormats\" array are detached from the list element.\r\n         * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n         * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n         */\r\n        detachList: function (selectedFormats, remove) {\r\n            let rangeArr = {};\r\n            let listFirst = false;\r\n            let listLast = false;\r\n            let first = null;\r\n            let last = null;\r\n            const passComponent = function (current) { return !this.isComponent(current); }.bind(util);\r\n\r\n            for (let i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\r\n                lastIndex = i === len - 1;\r\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\r\n                isList = util.isList(o);\r\n                if (!r && isList) {\r\n                    r = o;\r\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                    if (i === 0) listFirst = true;\r\n                } else if (r && isList) {\r\n                    if (r !== o) {\r\n                        const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                        o = selectedFormats[i].parentNode;\r\n                        if (listFirst) {\r\n                            first = edge.sc;\r\n                            listFirst = false;\r\n                        }\r\n                        if (lastIndex) last = edge.ec;\r\n\r\n                        if (isList) {\r\n                            r = o;\r\n                            rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                            if (lastIndex) listLast = true;\r\n                        } else {\r\n                            r = null;\r\n                        }\r\n                    } else {\r\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\r\n                        if (lastIndex) listLast = true;\r\n                    }\r\n                }\r\n\r\n                if (lastIndex && util.isList(r)) {\r\n                    const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                    if (listLast || len === 1) last = edge.ec;\r\n                    if (listFirst) first = edge.sc || last;\r\n                }\r\n            }\r\n\r\n            return {\r\n                sc: first,\r\n                ec: last\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Add, update, and delete nodes from selected text.\r\n         * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n         * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n         * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n         * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n         *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n         * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n         *    (The class name is preceded by \".\" [\".className\"])\r\n         * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n         * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n         * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n         * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         *10. It won't work if the parent node has the same class and same value style.\r\n         *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n         * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n         * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n         * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n         * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         */\r\n        nodeChange: function (appendNode, styleArray, removeNodeArray, strictRemove) {\r\n            this._resetRangeToTextNode();\r\n            let range = this.getRange_addLine(this.getRange(), null);\r\n            styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\r\n            removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\r\n\r\n            const isRemoveNode = !appendNode;\r\n            const isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n\r\n            if ((isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode)) || (startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon))) {\r\n                const format = startCon.parentNode;\r\n                if (!util.isListCell(format) || !util.getValues(format.style).some(function(k) { return this._listKebab.indexOf(k) > -1; }.bind(this))) return;\r\n            }\r\n\r\n            if (range.collapsed && !isRemoveFormat) {\r\n                if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\r\n                    let afterNode = null;\r\n                    const focusNode = startCon.childNodes[startOff];\r\n\r\n                    if (focusNode) {\r\n                        if (!focusNode.nextSibling) {\r\n                            afterNode = null;\r\n                        } else {\r\n                            afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\r\n                        }\r\n                    }\r\n\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    startCon.insertBefore(zeroWidth, afterNode);\r\n                    this.setRange(zeroWidth, 1, zeroWidth, 1);\r\n\r\n                    range = this.getRange();\r\n                    startCon = range.startContainer;\r\n                    startOff = range.startOffset;\r\n                    endCon = range.endContainer;\r\n                    endOff = range.endOffset;\r\n                }\r\n            }\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon.firstChild;\r\n                startOff = 0;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild;\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            if (isRemoveNode) {\r\n                appendNode = util.createElement('DIV');\r\n            }\r\n\r\n            const wRegExp = _w.RegExp;\r\n            const newNodeName = appendNode.nodeName;\r\n\r\n            /* checked same style property */\r\n            if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\r\n                let sNode = startCon;\r\n                let checkCnt = 0;\r\n                const checkAttrs = [];\r\n\r\n                const checkStyles = appendNode.style;\r\n                for (let i = 0, len = checkStyles.length; i < len; i++) {\r\n                    checkAttrs.push(checkStyles[i]);\r\n                }\r\n\r\n                const ckeckClasses = appendNode.classList;\r\n                for (let i = 0, len = ckeckClasses.length; i < len; i++) {\r\n                    checkAttrs.push('.' + ckeckClasses[i]);\r\n                }\r\n\r\n                if (checkAttrs.length > 0) {\r\n                    while(!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\r\n                        for (let i = 0; i < checkAttrs.length; i++) {\r\n                            if (sNode.nodeType === 1) {\r\n                                const s = checkAttrs[i];\r\n                                const classReg = /^\\./.test(s) ? new wRegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\r\n\r\n                                const styleCheck = isRemoveNode ? !!sNode.style[s] : (!!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s]);\r\n                                const classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\r\n                                if (styleCheck || classCheck) {\r\n                                    checkCnt++;\r\n                                }\r\n                            }\r\n                        }\r\n                        sNode = sNode.parentNode;\r\n                    }\r\n\r\n                    if (checkCnt >= checkAttrs.length) return;\r\n                }\r\n            }\r\n\r\n            let start = {}, end = {};\r\n            let newNode, styleRegExp = '', classRegExp = '', removeNodeRegExp = '';\r\n\r\n            if (styleArray) {\r\n                for (let i = 0, len = styleArray.length, s; i < len; i++) {\r\n                    s = styleArray[i];\r\n                    if (/^\\./.test(s)) {\r\n                        classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + s.replace(/^\\./, '');\r\n                    } else {\r\n                        styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + s;\r\n                    }\r\n                }\r\n\r\n                if (styleRegExp) {\r\n                    styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\r\n                    styleRegExp = new wRegExp(styleRegExp, 'ig');\r\n                }\r\n\r\n                if (classRegExp) {\r\n                    classRegExp += ')(?=\\\\s+|$)';\r\n                    classRegExp = new wRegExp(classRegExp, 'ig');\r\n                }\r\n            }\r\n\r\n            if (removeNodeArray) {\r\n                removeNodeRegExp = '^(?:' + removeNodeArray[0];\r\n                for (let i = 1; i < removeNodeArray.length; i++) {\r\n                    removeNodeRegExp += '|' + removeNodeArray[i];\r\n                }\r\n                removeNodeRegExp += ')$';\r\n                removeNodeRegExp = new wRegExp(removeNodeRegExp, 'i');\r\n            }\r\n\r\n            /** validation check function*/\r\n            const wBoolean = _w.Boolean;\r\n            const _removeCheck = {v: false};\r\n            const validation = function (checkNode) {\r\n                const vNode = checkNode.cloneNode(false);\r\n\r\n                // all path\r\n                if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode;\r\n                // all remove\r\n                if (isRemoveFormat) return null;\r\n\r\n                // remove node check\r\n                const tagRemove = (!removeNodeRegExp && isRemoveNode) || (removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName));\r\n\r\n                // tag remove\r\n                if (tagRemove && !strictRemove) {\r\n                    _removeCheck.v = true;\r\n                    return null;\r\n                }\r\n\r\n                // style regexp\r\n                const originStyle = vNode.style.cssText;\r\n                let style = '';\r\n                if (styleRegExp && originStyle.length > 0) {\r\n                    style = originStyle.replace(styleRegExp, '').trim();\r\n                    if (style !== originStyle) _removeCheck.v = true;\r\n                }\r\n\r\n                // class check\r\n                const originClasses = vNode.className;\r\n                let classes = '';\r\n                if (classRegExp && originClasses.length > 0) {\r\n                    classes = originClasses.replace(classRegExp, '').trim();\r\n                    if (classes !== originClasses) _removeCheck.v = true;\r\n                }\r\n\r\n                // remove only\r\n                if (isRemoveNode) {\r\n                    if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n                }\r\n\r\n                // change\r\n                if (style || classes || vNode.nodeName !== newNodeName || (wBoolean(styleRegExp) !== wBoolean(originStyle)) || (wBoolean(classRegExp) !== wBoolean(originClasses))) {\r\n                    if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\r\n                    if (!vNode.style.cssText) {\r\n                        vNode.removeAttribute('style');\r\n                    }\r\n\r\n                    if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\r\n                    if (!vNode.className.trim()) {\r\n                        vNode.removeAttribute('class');\r\n                    }\r\n\r\n                    if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n\r\n                    return vNode;\r\n                }\r\n\r\n                _removeCheck.v = true;\r\n                return null;\r\n            };\r\n\r\n            // get line nodes\r\n            const lineNodes = this.getSelectedElements(null);\r\n            range = this.getRange();\r\n            startCon = range.startContainer;\r\n            startOff = range.startOffset;\r\n            endCon = range.endContainer;\r\n            endOff = range.endOffset;\r\n\r\n            if (!util.getFormatElement(startCon, null)) {\r\n                startCon = util.getChildElement(lineNodes[0], function (current) { return current.nodeType === 3; }, false);\r\n                startOff = 0;\r\n            }\r\n\r\n            if (!util.getFormatElement(endCon, null)) {\r\n                endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) { return current.nodeType === 3; }, false);\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n\r\n            const oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\r\n            const endLength = lineNodes.length - (oneLine ? 0 : 1);\r\n\r\n            // node Changes\r\n            newNode = appendNode.cloneNode(false);\r\n\r\n            const isRemoveAnchor = isRemoveFormat || (isRemoveNode && (function (arr) {\r\n                for (let n = 0, len = arr.length; n < len; n++) {\r\n                    if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\r\n                }\r\n                return false;\r\n            })(removeNodeArray));\r\n\r\n            const isSizeNode = isRemoveNode || util._isSizeNode(newNode);\r\n            const _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n            const _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n\r\n            // one line\r\n            if (oneLine) {\r\n                if (this._resetCommonListCell(lineNodes[0], styleArray)) range = this.setRange(startCon, startOff, endCon, endOff);\r\n\r\n                const newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                start.container = newRange.startContainer;\r\n                start.offset = newRange.startOffset;\r\n                end.container = newRange.endContainer;\r\n                end.offset = newRange.endOffset;\r\n\r\n                if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\r\n                    start.offset = end.offset = 1;\r\n                }\r\n                this._setCommonListStyle(newRange.ancestor, null);\r\n            } else { // multi line \r\n                let appliedCommonList = false;\r\n                if (endLength > 0 && this._resetCommonListCell(lineNodes[endLength], styleArray)) appliedCommonList = true;\r\n                if (this._resetCommonListCell(lineNodes[0], styleArray)) appliedCommonList = true;\r\n                if (appliedCommonList) this.setRange(startCon, startOff, endCon, endOff);\r\n\r\n                // end\r\n                if (endLength > 0) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                }\r\n\r\n                // mid\r\n                for (let i = endLength - 1, newRange; i > 0; i--) {\r\n                    this._resetCommonListCell(lineNodes[i], styleArray);\r\n                    newNode = appendNode.cloneNode(false);\r\n                    newRange = this._nodeChange_middleLine(lineNodes[i], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\r\n                    if (newRange.endContainer && newRange.ancestor.contains(newRange.endContainer)) {\r\n                        end.ancestor = null;\r\n                        end.container = newRange.endContainer;\r\n                    }\r\n                    this._setCommonListStyle(newRange.ancestor, null);\r\n                }\r\n\r\n                // start\r\n                newNode = appendNode.cloneNode(false);\r\n                start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\r\n\r\n                if (start.endContainer) {\r\n                    end.ancestor = null;\r\n                    end.container = start.endContainer;\r\n                }\r\n\r\n                if (endLength <= 0) {\r\n                    end = start;\r\n                } else if (!end.container) {\r\n                    end.ancestor = null;\r\n                    end.container = start.container;\r\n                    end.offset = start.container.textContent.length;\r\n                }\r\n\r\n                this._setCommonListStyle(start.ancestor, null);\r\n                this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\r\n            }\r\n\r\n            // set range\r\n            this.controllersOff();\r\n            this.setRange(start.container, start.offset, end.container, end.offset);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Reset common style of list cell\r\n         * @param {Element} el List cell element. <li>\r\n         * @param {Array|null} styleArray Style array\r\n         * @private\r\n         */\r\n        _resetCommonListCell: function (el, styleArray) {\r\n            if (!util.isListCell(el)) return;\r\n            if (!styleArray) styleArray = this._listKebab;\r\n\r\n            const children = util.getArrayItem((el).childNodes, function (current) { return !util.isBreak(current); }, true);\r\n            const elStyles = el.style;\r\n\r\n            const ec = [], ek = [], elKeys = util.getValues(elStyles);\r\n            for (let i = 0, len = this._listKebab.length; i < len; i++) {\r\n                if (elKeys.indexOf(this._listKebab[i]) > -1 && styleArray.indexOf(this._listKebab[i]) > -1) {\r\n                    ec.push(this._listCamel[i]);\r\n                    ek.push(this._listKebab[i]);\r\n                }\r\n            }\r\n\r\n            if (!ec.length) return;\r\n\r\n            // reset cell style---\r\n            const refer = util.createElement('SPAN');\r\n            for (let i = 0, len = ec.length; i < len; i++) {\r\n                refer.style[ec[i]] = elStyles[ek[i]];\r\n                elStyles.removeProperty(ek[i]);\r\n            }\r\n\r\n            let sel = refer.cloneNode(false);\r\n            let r = null, appliedEl = false;\r\n            for (let i = 0, len = children.length, c, s; i < len; i++) {\r\n                c = children[i];\r\n                if (options._textTagsMap[c.nodeName.toLowerCase()]) continue;\r\n\r\n                s = util.getValues(c.style);\r\n                if (s.length === 0 || (ec.some(function (k) {return s.indexOf(k) === -1;}) && s.some(function(k) {ec.indexOf(k) > -1;}))) {\r\n                    r = c.nextSibling;\r\n                    sel.appendChild(c);\r\n                } else if (sel.childNodes.length > 0) {\r\n                    el.insertBefore(sel, r);\r\n                    sel = refer.cloneNode(false);\r\n                    r = null;\r\n                    appliedEl = true;\r\n                }\r\n            }\r\n\r\n            if (sel.childNodes.length > 0) {\r\n                el.insertBefore(sel, r);\r\n                appliedEl = true;\r\n            }\r\n            if (!elStyles.length) {\r\n                el.removeAttribute('style');\r\n            }\r\n\r\n            return appliedEl;\r\n        },\r\n\r\n        /**\r\n         * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n         * @param {Element} el List cell element. <li>\r\n         * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n         * @private\r\n         */\r\n        _setCommonListStyle: function (el, child) {\r\n            if (!util.isListCell(el)) return;\r\n\r\n            const children = util.getArrayItem((child || el).childNodes, function (current) { return !util.isBreak(current); }, true);\r\n            child = children[0];\r\n\r\n            if (!child || children.length > 1 || child.nodeType !== 1) return;\r\n\r\n            // set cell style---\r\n            const childStyle = child.style;\r\n            const elStyle = el.style;\r\n            const nodeName = child.nodeName.toLowerCase();\r\n            let appliedEl = false;\r\n\r\n            // bold, italic\r\n            if (options._textTagsMap[nodeName] === options._defaultCommand.bold.toLowerCase()) elStyle.fontWeight = 'bold';\r\n            if (options._textTagsMap[nodeName] === options._defaultCommand.italic.toLowerCase()) elStyle.fontStyle = 'italic';\r\n\r\n            // styles\r\n            const cKeys = util.getValues(childStyle);\r\n            if (cKeys.length > 0) {\r\n                for (let i = 0, len = this._listCamel.length; i < len; i++) {\r\n                    if (cKeys.indexOf(this._listKebab[i]) > -1) {\r\n                        elStyle[this._listCamel[i]] = childStyle[this._listCamel[i]];\r\n                        childStyle.removeProperty(this._listKebab[i]);\r\n                        appliedEl = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this._setCommonListStyle(el, child);\r\n            if (!appliedEl) return;\r\n\r\n            // common style\r\n            if (!childStyle.length) {\r\n                const ch = child.childNodes;\r\n                const p = child.parentNode;\r\n                const n = child.nextSibling;\r\n                while (ch.length > 0) {\r\n                    p.insertBefore(ch[0], n);\r\n                }\r\n                util.removeItem(child);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Strip remove node\r\n         * @param {Node} removeNode The remove node\r\n         * @private\r\n         */\r\n        _stripRemoveNode: function (removeNode) {\r\n            const element = removeNode.parentNode;\r\n            if (!removeNode || removeNode.nodeType === 3 || !element) return;\r\n\r\n            const children = removeNode.childNodes;\r\n            while (children[0]) {\r\n                element.insertBefore(children[0], removeNode);\r\n            }\r\n\r\n            element.removeChild(removeNode);\r\n        },\r\n\r\n        /**\r\n         * @description Return the parent maintained tag. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_getMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove) return null;\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\r\n        },\r\n\r\n        /**\r\n         * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_isMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove || element.nodeType !== 1) return false;\r\n            const anchor = this._isMaintainedNode(element);\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : (anchor || (!_isSizeNode ? this._isSizeNode(element) : false));\r\n        },\r\n\r\n        /**\r\n         * @description wraps text nodes of line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Boolean} collapsed range.collapsed\r\n         * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n         * @private\r\n         */\r\n        _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\r\n                if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                    const children = parentCon.childNodes;\r\n                    let sameTag = true;\r\n\r\n                    for (let i = 0, len = children.length, c, s, e, z; i < len; i++) {\r\n                        c = children[i];\r\n                        z = !util.onlyZeroWidthSpace(c);\r\n                        if (c === startCon) {\r\n                            s = true;\r\n                            continue;\r\n                        }\r\n                        if (c === endCon) {\r\n                            e = true;\r\n                            continue;\r\n                        }\r\n                        if ((!s && z) || (s && e && z)) {\r\n                            sameTag = false;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (sameTag) {\r\n                        util.copyTagAttributes(parentCon, newInnerNode);\r\n\r\n                        return {\r\n                            ancestor: element,\r\n                            startContainer: startCon,\r\n                            startOffset: startOff,\r\n                            endContainer: endCon,\r\n                            endOffset: endOff\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n            const isSameNode = startCon === endCon;\r\n            let startContainer = startCon;\r\n            let startOffset = startOff;\r\n            let endContainer = endCon;\r\n            let endOffset = endOff;\r\n            let startPass = false;\r\n            let endPass = false;\r\n            let pCurrent, newNode, appendNode, cssText, anchorNode;\r\n\r\n            const wRegExp = _w.RegExp;\r\n            function checkCss (vNode) {\r\n                const regExp = new wRegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\r\n                let style = '';\r\n\r\n                if (regExp && vNode.style.cssText.length > 0) {\r\n                    style = regExp.test(vNode.style.cssText);\r\n                }\r\n\r\n                return !style;\r\n            }\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n                    let cloneNode;\r\n\r\n                    // startContainer\r\n                    if (!startPass && child === startContainer) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\r\n                        const textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset,\r\n                            isSameNode ?\r\n                                (endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset) :\r\n                                startContainer.data.length - startOffset)\r\n                        );\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== line && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        newInnerNode.appendChild(childNode);\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        if (anchorNode && !_getMaintainedNode(endContainer)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        startContainer = textNode;\r\n                        startOffset = 0;\r\n                        startPass = true;\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(startContainer);\r\n                        if (!isSameNode) continue;\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!endPass && child === endContainer) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, (endContainer.length - endOffset)));\r\n                        const textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            newNode = child;\r\n                            cssText = '';\r\n                            pCurrent = [];\r\n                            const anchors = [];\r\n                            while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                                if (newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));\r\n                                    else pCurrent.push(newNode.cloneNode(false));\r\n                                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                                }\r\n                                newNode = newNode.parentNode;\r\n                            }\r\n                            pCurrent = pCurrent.concat(anchors);\r\n\r\n                            cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\r\n                            while (pCurrent.length > 0) {\r\n                                newNode = pCurrent.pop();\r\n                                appendNode.appendChild(newNode);\r\n                                appendNode = newNode;\r\n                            }\r\n\r\n                            pNode.appendChild(cloneNode);\r\n                            newNode.textContent = afterNode.data;\r\n                        }\r\n\r\n                        if (anchorNode && cloneNode) {\r\n                            const afterAnchorNode = _getMaintainedNode(cloneNode);\r\n                            if (afterAnchorNode) {\r\n                                anchorNode = afterAnchorNode;\r\n                            }\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            newInnerNode.appendChild(childNode);\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.appendChild(anchorNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                        }\r\n\r\n                        endContainer = textNode;\r\n                        endOffset = textNode.data.length;\r\n                        endPass = true;\r\n\r\n                        if (!isRemoveFormat && collapsed) {\r\n                            newInnerNode = textNode;\r\n                            textNode.textContent = util.zeroWidthSpace;\r\n                        }\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(endContainer);\r\n                        continue;\r\n                    }\r\n\r\n                    // other\r\n                    if (startPass) {\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                pNode.appendChild(child.cloneNode(true));\r\n                                if (!collapsed) {\r\n                                    newInnerNode = newInnerNode.cloneNode(false);\r\n                                    pNode.appendChild(newInnerNode);\r\n                                    nNodeArray.push(newInnerNode);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\r\n                            if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode) && !util.onlyZeroWidthSpace(newInnerNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!endPass && !anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (childNode === child) {\r\n                            if (!endPass) ancestor = newInnerNode;\r\n                            else ancestor = pNode;\r\n                        } else if (endPass) {\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    cloneNode = child.cloneNode(false);\r\n                    ancestor.appendChild(cloneNode);\r\n                    if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    startContainer: startCon,\r\n                    startOffset: startOff,\r\n                    endContainer: endCon,\r\n                    endOffset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    let textNode, textNode_s, textNode_e;\r\n\r\n                    if (collapsed) {\r\n                        textNode = util.createTextNode(util.zeroWidthSpace);\r\n                        pNode.replaceChild(textNode, removeNode);\r\n                    } else {\r\n                        const rChildren = removeNode.childNodes;\r\n                        textNode_s = rChildren[0];\r\n                        while (rChildren[0]) {\r\n                            textNode_e = rChildren[0];\r\n                            pNode.insertBefore(textNode_e, removeNode);\r\n                        }\r\n                        util.removeItem(removeNode);\r\n                    }\r\n\r\n                    if (i === 0) {\r\n                        if (collapsed) {\r\n                            startContainer = endContainer = textNode;\r\n                        } else {\r\n                            startContainer = textNode_s;\r\n                            endContainer = textNode_e;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                if (isRemoveNode) {\r\n                    for (let i = 0; i < nNodeArray.length; i++) {\r\n                        this._stripRemoveNode(nNodeArray[i]);\r\n                    }\r\n                }\r\n\r\n                if (collapsed) {\r\n                    startContainer = endContainer = newInnerNode;\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode, false);\r\n\r\n            if (collapsed) {\r\n                startOffset = startContainer.textContent.length;\r\n                endOffset = endContainer.textContent.length;\r\n            }\r\n\r\n            // endContainer reset\r\n            const endConReset = isRemoveFormat || endContainer.textContent.length === 0;\r\n\r\n            if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\r\n                util.removeItem(endContainer);\r\n                endContainer = startContainer;\r\n            }\r\n            endOffset = endConReset ? endContainer.textContent.length : endOffset;\r\n\r\n            // node change\r\n            const newStartOffset = {s: 0, e: 0};\r\n            const startPath = util.getNodePath(startContainer, pNode, newStartOffset);\r\n\r\n            const mergeEndCon = !endContainer.parentNode;\r\n            if (mergeEndCon) endContainer = startContainer;\r\n            const newEndOffset = {s: 0, e: 0};\r\n            const endPath = util.getNodePath(endContainer , pNode, (!mergeEndCon && !endConReset) ? newEndOffset : null);\r\n\r\n            startOffset += newStartOffset.s;\r\n            endOffset = (collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s);\r\n\r\n            // tag merge\r\n            const newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\r\n\r\n            element.parentNode.replaceChild(pNode, element);\r\n\r\n            startContainer = util.getNodeFromPath(startPath, pNode);\r\n            endContainer = util.getNodeFromPath(endPath, pNode);\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                startContainer: startContainer,\r\n                startOffset: startOffset + newOffsets[0],\r\n                endContainer: endContainer,\r\n                endOffset: endOffset + newOffsets[1]\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps first line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {null|Node} If end container is renewed, returned renewed node\r\n         * @returns {Object} { ancestor, container, offset, endContainer }\r\n         * @private\r\n         */\r\n        _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\r\n                let sameTag = true;\r\n                let s = startCon.previousSibling;\r\n                while (s) {\r\n                    if (!util.onlyZeroWidthSpace(s)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    s = s.previousSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n\r\n                    return {\r\n                        ancestor: element,\r\n                        container: startCon,\r\n                        offset: startOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = startCon;\r\n            let offset = startOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                cloneChild = child.cloneNode(true);\r\n                                pNode.appendChild(cloneChild);\r\n                                pNode.appendChild(newInnerNode);\r\n                                nNodeArray.push(newInnerNode);\r\n\r\n                                // end container\r\n                                if (_endContainer && child.contains(_endContainer)) {\r\n                                    const endPath = util.getNodePath(_endContainer, child);\r\n                                    _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\r\n                            nNodeArray.push(newInnerNode);\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // startContainer\r\n                    if (!passNode && child === container) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== line && newNode !== null) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        container = textNode;\r\n                        offset = 0;\r\n                        passNode = true;\r\n\r\n                        ancestor.appendChild(container);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.appendChild(vNode);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: startCon,\r\n                    offset: startOff,\r\n                    endContainer: _endContainer\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n\r\n                    const rChildren = removeNode.childNodes;\r\n                    const textNode = rChildren[0];\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === 0) container = textNode;\r\n                }\r\n            } else if (isRemoveNode) {\r\n                newInnerNode = newInnerNode.firstChild;\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                util.removeEmptyNode(pNode, newInnerNode, false);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = 0;\r\n                }\r\n\r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: offset,\r\n                endContainer: _endContainer\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps mid lines selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n         * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n         * @private\r\n         */\r\n        _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\r\n            // not add tag\r\n            if (!isRemoveNode) {\r\n                // end container path\r\n                let endPath = null;\r\n                if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\r\n\r\n                const tempNode = element.cloneNode(true);\r\n                const newNodeName = newInnerNode.nodeName;\r\n                const newCssText = newInnerNode.style.cssText;\r\n                const newClass = newInnerNode.className;\r\n\r\n                let children = tempNode.childNodes;\r\n                let i = 0, len = children.length;\r\n                for (let child; i < len; i++) {\r\n                    child = children[i];\r\n                    if (child.nodeType === 3) break;\r\n                    if (child.nodeName === newNodeName) {\r\n                        child.style.cssText += newCssText;\r\n                        util.addClass(child, newClass);\r\n                    } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        continue;\r\n                    } else if (len === 1) {\r\n                        children = child.childNodes;\r\n                        len = children.length;\r\n                        i = -1;\r\n                        continue;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (len > 0 && i === len) {\r\n                    element.innerHTML = tempNode.innerHTML;\r\n                    return {\r\n                        ancestor: element,\r\n                        endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const pNode = element.cloneNode(false);\r\n            const nNodeArray = [newInnerNode];\r\n            let noneChange = true;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        if (newInnerNode.childNodes.length > 0) {\r\n                            pNode.appendChild(newInnerNode);\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                        }\r\n\r\n                        cloneChild = child.cloneNode(true);\r\n                        pNode.appendChild(cloneChild);\r\n                        pNode.appendChild(newInnerNode);\r\n                        nNodeArray.push(newInnerNode);\r\n                        ancestor = newInnerNode;\r\n\r\n                        // end container\r\n                        if (_endContainer && child.contains(_endContainer)) {\r\n                            const endPath = util.getNodePath(_endContainer, child);\r\n                            _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                        }\r\n\r\n                        continue;\r\n                    } else {\r\n                        vNode = validation(child);\r\n                        if (vNode) {\r\n                            noneChange = false;\r\n                            ancestor.appendChild(vNode);\r\n                            if (child.nodeType === 1) coverNode = vNode;\r\n                        }\r\n                    }\r\n\r\n                    if (!util.isBreak(child)) recursionFunc(child, coverNode);\r\n                }\r\n            })(element, newInnerNode);\r\n\r\n            // not remove tag\r\n            if (noneChange || (isRemoveNode && !isRemoveFormat && !_removeCheck.v)) return { ancestor: element, endContainer: _endContainer };\r\n\r\n            pNode.appendChild(newInnerNode);\r\n\r\n            if (isRemoveFormat && isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n\r\n                    const rChildren = removeNode.childNodes;\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n                }\r\n            } else if (isRemoveNode) {\r\n                newInnerNode = newInnerNode.firstChild;\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode, false);\r\n            util.mergeSameTags(pNode, null, true);\r\n\r\n            // node change\r\n            element.parentNode.replaceChild(pNode, element);\r\n            return { ancestor: pNode, endContainer: _endContainer };\r\n        },\r\n\r\n        /**\r\n         * @description wraps last line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {Object} { ancestor, container, offset }\r\n         * @private\r\n         */\r\n        _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = endCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                let sameTag = true;\r\n                let e = endCon.nextSibling;\r\n                while (e) {\r\n                    if (!util.onlyZeroWidthSpace(e)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    e = e.nextSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n\r\n                    return {\r\n                        ancestor: element,\r\n                        container: endCon,\r\n                        offset: endOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = endCon;\r\n            let offset = endOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = childNodes.length - 1, vNode; 0 <= i; i--) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                const cloneChild = child.cloneNode(true);\r\n                                pNode.insertBefore(cloneChild, ancestor);\r\n                                pNode.insertBefore(newInnerNode, cloneChild);\r\n                                nNodeArray.push(newInnerNode);\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.insertBefore(childNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!passNode && child === container) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== pNode) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== pNode) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.insertBefore(a, m.parentNode.firstChild);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            ancestor.insertBefore(afterNode, ancestor.firstChild);\r\n                        }\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== pNode && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.insertBefore(anchorNode, pNode.firstChild);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                        }\r\n\r\n                        container = textNode;\r\n                        offset = textNode.data.length;\r\n                        passNode = true;\r\n\r\n                        ancestor.insertBefore(container, ancestor.firstChild);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.insertBefore(vNode, ancestor.firstChild);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: endCon,\r\n                    offset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n\r\n                    const rChildren = removeNode.childNodes;\r\n                    let textNode = null;\r\n                    while (rChildren[0]) {\r\n                        textNode = rChildren[0];\r\n                        pNode.insertBefore(textNode, removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === nNodeArray.length - 1) {\r\n                        container = textNode;\r\n                        offset = textNode.textContent.length;\r\n                    }\r\n                }\r\n            } else if (isRemoveNode) {\r\n                newInnerNode = newInnerNode.firstChild;\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                if (!isRemoveNode && newInnerNode.textContent.length === 0) {\r\n                    util.removeEmptyNode(pNode, null, false);\r\n                    return {\r\n                        ancestor: null,\r\n                        container: null,\r\n                        offset: 0\r\n                    };\r\n                }\r\n\r\n                util.removeEmptyNode(pNode, newInnerNode, false);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = container.textContent.length;\r\n                } else if (util.onlyZeroWidthSpace(container)) {\r\n                    container = newInnerNode;\r\n                    offset = 1;\r\n                }\r\n\r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: container.nodeType === 1 && offset === 1 ? container.childNodes.length : offset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Run plugin calls and basic commands.\r\n         * @param {String} command Command string\r\n         * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n         * @param {Element} target The element of command button\r\n         */\r\n        actionCall: function (command, display, target) {\r\n            // call plugins\r\n            if (display) {\r\n                if (/more/i.test(display)) {\r\n                    if (target !== this._moreLayerActiveButton) {\r\n                        const layer = context.element.toolbar.querySelector('.' + command);\r\n                        if (layer) {\r\n                            if (this._moreLayerActiveButton) this.moreLayerOff();\r\n\r\n                            this._moreLayerActiveButton = target;\r\n                            layer.style.display = 'block';\r\n\r\n                            event._showToolbarBalloon();\r\n                            event._showToolbarInline();\r\n                        }\r\n                        util.addClass(target, 'on');\r\n                    } else {\r\n                        const layer = context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'));\r\n                        if (layer) {\r\n                            this.moreLayerOff();\r\n\r\n                            event._showToolbarBalloon();\r\n                            event._showToolbarInline();\r\n                        }\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                if (/container/.test(display) && (this._menuTray[command] === null || target !== this.containerActiveButton)) {\r\n                    this.callPlugin(command, this.containerOn.bind(this, target), target);\r\n                    return;\r\n                }\r\n\r\n                if (this.isReadOnly && util.arrayIncludes(this.resizingDisabledButtons, target)) return;\r\n                if (/submenu/.test(display) && (this._menuTray[command] === null || target !== this.submenuActiveButton)) {\r\n                    this.callPlugin(command, this.submenuOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/dialog/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this), target);\r\n                    return;\r\n                } else if (/command/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].action.bind(this), target);\r\n                } else if (/fileBrowser/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\r\n                }\r\n            } // default command\r\n            else if (command) {\r\n                this.commandHandler(target, command);\r\n            }\r\n\r\n            if (/submenu/.test(display)) {\r\n                this.submenuOff();\r\n            } else if (!/command/.test(display)) {\r\n                this.submenuOff();\r\n                this.containerOff();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Execute command of command button(All Buttons except submenu and dialog)\r\n         * (selectAll, codeView, fullScreen, indent, outdent, undo, redo, removeFormat, print, preview, showBlocks, save, bold, underline, italic, strike, subscript, superscript, copy, cut, paste)\r\n         * @param {Element|null} target The element of command button\r\n         * @param {String} command Property of command button (data-value)\r\n         */\r\n        commandHandler: function (target, command) {\r\n            if (core.isReadOnly && !/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(command)) return;\r\n            switch (command) {\r\n                case 'copy':\r\n                case 'cut':\r\n                    this.execCommand(command);\r\n                    break;\r\n                case 'paste':\r\n                    break;\r\n                case 'selectAll':\r\n                    this.containerOff();\r\n                    const wysiwyg = context.element.wysiwyg;\r\n                    let first = util.getChildElement(wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false) || wysiwyg.firstChild;\r\n                    let last = util.getChildElement(wysiwyg.lastChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true) || wysiwyg.lastChild;\r\n                    if (!first || !last) return;\r\n                    if (util.isMedia(first)) {\r\n                        const info = this.getFileComponent(first);\r\n                        const br = util.createElement('BR');\r\n                        const format = util.createElement(options.defaultTag);\r\n                        format.appendChild(br);\r\n                        first = info ? info.component : first;\r\n                        first.parentNode.insertBefore(format, first);\r\n                        first = br;\r\n                    }\r\n                    if (util.isMedia(last)) {\r\n                        const br = util.createElement('BR');\r\n                        const format = util.createElement(options.defaultTag);\r\n                        format.appendChild(br);\r\n                        wysiwyg.appendChild(format);\r\n                        last = br;\r\n                    }\r\n                    event._showToolbarBalloon(this.setRange(first, 0, last, last.textContent.length));\r\n                    break;\r\n                case 'codeView':\r\n                    this.toggleCodeView();\r\n                    break;\r\n                case 'fullScreen':\r\n                    this.toggleFullScreen(target);\r\n                    break;\r\n                case 'indent':\r\n                case 'outdent':\r\n                    this.indent(command);\r\n                    break;\r\n                case 'undo':\r\n                    this.history.undo();\r\n                    break;\r\n                case 'redo':\r\n                    this.history.redo();\r\n                    break;\r\n                case 'removeFormat':\r\n                    this.removeFormat();\r\n                    this.focus();\r\n                    break;\r\n                case 'print':\r\n                    this.print();\r\n                    break;\r\n                case 'preview':\r\n                    this.preview();\r\n                    break;\r\n                case 'showBlocks':\r\n                    this.toggleDisplayBlocks();\r\n                    break;\r\n                case 'dir':\r\n                    this.setDir(options.rtl ? 'ltr' : 'rtl');\r\n                    break;\r\n                case 'dir_ltr':\r\n                    this.setDir('ltr');\r\n                    break;\r\n                case 'dir_rtl':\r\n                    this.setDir('rtl');\r\n                    break;\r\n                case 'save':\r\n                    if (typeof options.callBackSave === 'function') {\r\n                        options.callBackSave(this.getContents(false), this._variable.isChanged);\r\n                    } else if (this._variable.isChanged && typeof functions.save === 'function') {\r\n                        functions.save();\r\n                    } else {\r\n                        throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\r\n                    }\r\n\r\n                    this._variable.isChanged = false;\r\n                    if (context.tool.save) context.tool.save.setAttribute('disabled', true);\r\n                    break;\r\n                default : // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\r\n                    command = options._defaultCommand[command.toLowerCase()] || command;\r\n                    if (!this.commandMap[command]) this.commandMap[command] = target;\r\n\r\n                    const nodesMap = this._variable.currentNodesMap;\r\n                    const cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\r\n                    let removeNode = command;\r\n\r\n                    if (/^SUB$/i.test(command) && nodesMap.indexOf('SUP') > -1) {\r\n                        removeNode = 'SUP';\r\n                    } else if (/^SUP$/i.test(command) && nodesMap.indexOf('SUB') > -1) {\r\n                        removeNode = 'SUB';\r\n                    }\r\n\r\n                    this.nodeChange(cmd, this._commandMapStyles[command] || null, [removeNode], false);\r\n                    this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove format of the currently selected range\r\n         */\r\n        removeFormat: function () {\r\n            this.nodeChange(null, null, null, null);\r\n        },\r\n\r\n        /**\r\n         * @description This method implements indentation to selected range.\r\n         * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n         * @param {String} command Separator (\"indent\" or \"outdent\")\r\n         */\r\n        indent: function (command) {\r\n            const range = this.getRange();\r\n            const rangeLines = this.getSelectedElements(null);\r\n            const cells = [];\r\n            const shift = 'indent' !== command;\r\n            const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\r\n            let sc = range.startContainer;\r\n            let ec = range.endContainer;\r\n            let so = range.startOffset;\r\n            let eo = range.endOffset;\r\n\r\n            for (let i = 0, len = rangeLines.length, f, margin; i < len; i++) {\r\n                f = rangeLines[i];\r\n                if (!util.isListCell(f) || !this.plugins.list) {\r\n                    margin = /\\d+/.test(f.style[marginDir]) ? util.getNumber(f.style[marginDir], 0) : 0;\r\n                    if (shift) {\r\n                        margin -= 25;\r\n                    } else {\r\n                        margin += 25;\r\n                    }\r\n                    util.setStyle(f, marginDir, (margin <= 0 ? '' : margin + 'px'));\r\n                } else {\r\n                    if (shift || f.previousElementSibling) {\r\n                        cells.push(f);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // list cells\r\n            if (cells.length > 0) {\r\n                this.plugins.list.editInsideList.call(this, shift, cells);\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.setRange(sc, so, ec, eo);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Add or remove the class name of \"body\" so that the code block is visible\r\n         */\r\n        toggleDisplayBlocks: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            util.toggleClass(wysiwyg, 'se-show-block');\r\n            if (util.hasClass(wysiwyg, 'se-show-block')) {\r\n                util.addClass(this._styleCommandMap.showBlocks, 'active');\r\n            } else {\r\n                util.removeClass(this._styleCommandMap.showBlocks, 'active');\r\n            }\r\n            this._resourcesStateChange();\r\n        },\r\n\r\n        /**\r\n         * @description Changes to code view or wysiwyg view\r\n         */\r\n        toggleCodeView: function () {\r\n            const isCodeView = this._variable.isCodeView;\r\n            this.controllersOff();\r\n            util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\r\n\r\n            if (isCodeView) {\r\n                if (!util.isNonEditable(context.element.wysiwygFrame)) this._setCodeDataToEditor();\r\n                context.element.wysiwygFrame.scrollTop = 0;\r\n                context.element.code.style.display = 'none';\r\n                context.element.wysiwygFrame.style.display = 'block';\r\n\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\r\n\r\n                this._variable.isCodeView = false;\r\n\r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = false;\r\n                    if (/balloon|balloon-always/i.test(options.mode)) {\r\n                        context.element._arrow.style.display = '';\r\n                        this._isInline = false;\r\n                        this._isBalloon = true;\r\n                        event._hideToolbar();\r\n                    }\r\n                }\r\n\r\n                this.nativeFocus();\r\n                util.removeClass(this._styleCommandMap.codeView, 'active');\r\n\r\n                // history stack\r\n                if (!util.isNonEditable(context.element.wysiwygFrame)) {\r\n                    this.history.push(false);\r\n                    this.history._resetCachingButton();\r\n                }\r\n            } else {\r\n                this._setEditorDataToCodeView();\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n\r\n                if (this._variable.isFullScreen) context.element.code.style.height = '100%';\r\n                else if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? (context.element.code.scrollHeight + 'px') : 'auto';\r\n\r\n                if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\r\n\r\n                this._variable.isCodeView = true;\r\n\r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = true;\r\n                    if (this._isBalloon) {\r\n                        context.element._arrow.style.display = 'none';\r\n                        context.element.toolbar.style.left = '';\r\n                        this._isInline = true;\r\n                        this._isBalloon = false;\r\n                        event._showToolbarInline();\r\n                    }\r\n                }\r\n\r\n                this._variable._range = null;\r\n                context.element.code.focus();\r\n                util.addClass(this._styleCommandMap.codeView, 'active');\r\n            }\r\n\r\n            this._checkPlaceholder();\r\n            if (this.isReadOnly) util.setDisabledButtons(true, this.resizingDisabledButtons);\r\n\r\n            // user event\r\n            if (typeof functions.toggleCodeView === 'function') functions.toggleCodeView(this._variable.isCodeView, this);\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n         * @private\r\n         */\r\n        _setCodeDataToEditor: function () {\r\n            const code_html = this._getCodeView();\r\n\r\n            if (options.fullPage) {\r\n                const parseDocument = this._parser.parseFromString(code_html, 'text/html');\r\n\r\n                if (!this.options.__allowedScriptTag) {\r\n                    const headChildren = parseDocument.head.children;\r\n                    for (let i = 0, len = headChildren.length; i < len; i++) {\r\n                        if (/^script$/i.test(headChildren[i].tagName)) {\r\n                            parseDocument.head.removeChild(headChildren[i]);\r\n                            i--, len--;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                let headers = parseDocument.head.innerHTML;\r\n                if (!parseDocument.head.querySelector('link[rel=\"stylesheet\"]') || (this.options.height === 'auto' && !parseDocument.head.querySelector('style'))) {\r\n                    headers += util._setIframeCssTags(this.options);\r\n                }\r\n\r\n                this._wd.head.innerHTML = headers;\r\n                this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\r\n\r\n                const attrs = parseDocument.body.attributes;\r\n                for (let i = 0, len = attrs.length; i < len; i++) {\r\n                    if (attrs[i].name === 'contenteditable') continue;\r\n                    this._wd.body.setAttribute(attrs[i].name, attrs[i].value);\r\n                }\r\n                if (!util.hasClass(this._wd.body, 'sun-editor-editable')) {\r\n                    const editableClasses = options._editableClass.split(' ');\r\n                    for (let i = 0; i < editableClasses.length; i++) {\r\n                        util.addClass(this._wd.body, options._editableClass[i]);\r\n                    }\r\n                }\r\n            } else {\r\n                context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n         * @private\r\n         */\r\n        _setEditorDataToCodeView: function () {\r\n            const codeContents = this.convertHTMLForCodeView(context.element.wysiwyg, false);\r\n            let codeValue = '';\r\n\r\n            if (options.fullPage) {\r\n                const attrs = util.getAttributesToString(this._wd.body, null);\r\n                codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\r\n            } else {\r\n                codeValue = codeContents;\r\n            }\r\n\r\n            context.element.code.style.display = 'block';\r\n            context.element.wysiwygFrame.style.display = 'none';\r\n\r\n            this._setCodeView(codeValue);\r\n        },\r\n\r\n        /**\r\n         * @description Changes to full screen or default screen\r\n         * @param {Element|null} element full screen button\r\n         */\r\n        toggleFullScreen: function (element) {\r\n            const topArea = context.element.topArea;\r\n            const toolbar = context.element.toolbar;\r\n            const editorArea = context.element.editorArea;\r\n            const wysiwygFrame = context.element.wysiwygFrame;\r\n            const code = context.element.code;\r\n            const _var = this._variable;\r\n            this.controllersOff();\r\n\r\n            const wasToolbarHidden = (toolbar.style.display === 'none' || (this._isInline && !this._inlineToolbarAttr.isShow));\r\n\r\n            if (!_var.isFullScreen) {\r\n                _var.isFullScreen = true;\r\n\r\n                _var._fullScreenAttrs.inline = this._isInline;\r\n                _var._fullScreenAttrs.balloon = this._isBalloon;\r\n\r\n                if (this._isInline || this._isBalloon) {\r\n                    this._isInline = false;\r\n                    this._isBalloon = false;\r\n                }\r\n\r\n                if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\r\n\r\n                topArea.style.position = 'fixed';\r\n                topArea.style.top = '0';\r\n                topArea.style.left = '0';\r\n                topArea.style.width = '100%';\r\n                topArea.style.maxWidth = '100%';\r\n                topArea.style.height = '100%';\r\n                topArea.style.zIndex = '2147483647';\r\n\r\n                if (context.element._stickyDummy.style.display !== ('none' && '')) {\r\n                    _var._fullScreenAttrs.sticky = true;\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                _var._bodyOverflow = _d.body.style.overflow;\r\n                _d.body.style.overflow = 'hidden';\r\n\r\n                _var._editorAreaOriginCssText = editorArea.style.cssText;\r\n                _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\r\n                _var._codeOriginCssText = code.style.cssText;\r\n\r\n                editorArea.style.cssText = toolbar.style.cssText = '';\r\n                wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0] + options._editorStyles.editor;\r\n                code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\r\n                toolbar.style.position = 'relative';\r\n                toolbar.style.display = 'block';\r\n\r\n                _var.innerHeight_fullScreen = (_w.innerHeight - toolbar.offsetHeight);\r\n                editorArea.style.height = (_var.innerHeight_fullScreen - options.fullScreenOffset) + 'px';\r\n\r\n                if (element) util.changeElement(element.firstElementChild, icons.reduction);\r\n\r\n                if (options.iframe && options.height === 'auto') {\r\n                    editorArea.style.overflow = 'auto';\r\n                    this._iframeAutoHeight();\r\n                }\r\n\r\n                context.element.topArea.style.marginTop = options.fullScreenOffset + 'px';\r\n                util.addClass(this._styleCommandMap.fullScreen, 'active');\r\n            } else {\r\n                _var.isFullScreen = false;\r\n\r\n                wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\r\n                code.style.cssText = _var._codeOriginCssText;\r\n                toolbar.style.cssText = '';\r\n                editorArea.style.cssText = _var._editorAreaOriginCssText;\r\n                topArea.style.cssText = _var._originCssText;\r\n                _d.body.style.overflow = _var._bodyOverflow;\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) event._codeViewAutoHeight();\r\n\r\n                if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\r\n\r\n                if (options.stickyToolbar > -1) {\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\r\n                    _var._fullScreenAttrs.sticky = false;\r\n                    context.element._stickyDummy.style.display = 'block';\r\n                    util.addClass(toolbar, \"se-toolbar-sticky\");\r\n                }\r\n\r\n                this._isInline = _var._fullScreenAttrs.inline;\r\n                this._isBalloon = _var._fullScreenAttrs.balloon;\r\n                if (this._isInline) event._showToolbarInline();\r\n                if (!!options.toolbarContainer) util.removeClass(toolbar, 'se-toolbar-balloon');\r\n\r\n                event.onScroll_window();\r\n                if (element) util.changeElement(element.firstElementChild, icons.expansion);\r\n\r\n                context.element.topArea.style.marginTop = '';\r\n                util.removeClass(this._styleCommandMap.fullScreen, 'active');\r\n            }\r\n\r\n            if (wasToolbarHidden) functions.toolbar.hide();\r\n\r\n            // user event\r\n            if (typeof functions.toggleFullScreen === 'function') functions.toggleFullScreen(this._variable.isFullScreen, this);\r\n        },\r\n\r\n        /**\r\n         * @description Prints the current contents of the editor.\r\n         */\r\n        print: function () {\r\n            const iframe = util.createElement('IFRAME');\r\n            iframe.style.display = 'none';\r\n            _d.body.appendChild(iframe);\r\n\r\n            const contentsHTML = options.printTemplate ? options.printTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\r\n            const printDocument = util.getIframeDocument(iframe);\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n\r\n            this.showLoading();\r\n            _w.setTimeout(function () {\r\n                try {\r\n                    iframe.focus();\r\n                    // IE or Edge, Chromium\r\n                    if (util.isIE_Edge || util.isChromium || !!_d.documentMode || !!_w.StyleMedia) {\r\n                        try {\r\n                            iframe.contentWindow.document.execCommand('print', false, null);\r\n                        } catch (e) {\r\n                            iframe.contentWindow.print();\r\n                        }\r\n                    } else {\r\n                        // Other browsers\r\n                        iframe.contentWindow.print();\r\n                    }\r\n                } catch (error) {\r\n                    throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\r\n                } finally {\r\n                    core.closeLoading();\r\n                    util.removeItem(iframe);\r\n                }\r\n            }, 1000);\r\n        },\r\n\r\n        /**\r\n         * @description Open the preview window.\r\n         */\r\n        preview: function () {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n\r\n            const contentsHTML = options.previewTemplate ? options.previewTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\r\n            const windowObject = _w.open('', '_blank');\r\n            windowObject.mimeType = 'text/html';\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\r\n\r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style>' +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n\r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    '<meta charset=\"utf-8\" />' +\r\n                    '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">' +\r\n                    '<title>' + lang.toolbar.preview + '</title>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\" style=\"margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set direction to \"rtl\" or \"ltr\".\r\n         * @param {String} dir \"rtl\" or \"ltr\"\r\n         */\r\n        setDir: function (dir) {\r\n            const rtl = dir === 'rtl';\r\n            const changeDir = this._prevRtl !== rtl;\r\n            this._prevRtl = options.rtl = rtl;\r\n\r\n            if (changeDir) {\r\n                // align buttons\r\n                if (this.plugins.align) {\r\n                    this.plugins.align.exchangeDir.call(this);\r\n                }\r\n                // indent buttons\r\n                if (context.tool.indent) util.changeElement(context.tool.indent.firstElementChild, icons.indent);\r\n                if (context.tool.outdent) util.changeElement(context.tool.outdent.firstElementChild, icons.outdent);\r\n            }\r\n\r\n            const el = context.element;\r\n            if (rtl) {\r\n                util.addClass(el.topArea, 'se-rtl');\r\n                util.addClass(el.wysiwygFrame, 'se-rtl');\r\n            } else {\r\n                util.removeClass(el.topArea, 'se-rtl');\r\n                util.removeClass(el.wysiwygFrame, 'se-rtl');\r\n            }\r\n\r\n            const lineNodes = util.getListChildren(el.wysiwyg, function (current) {\r\n                return util.isFormatElement(current) && (current.style.marginRight || current.style.marginLeft || current.style.textAlign);\r\n            });\r\n\r\n            for (let i = 0, len = lineNodes.length, n, l, r; i < len; i++) {\r\n                n = lineNodes[i];\r\n                // indent margin\r\n                r = n.style.marginRight;\r\n                l = n.style.marginLeft;\r\n                if (r || l) {\r\n                    n.style.marginRight = l;\r\n                    n.style.marginLeft = r;\r\n                }\r\n                // text align\r\n                r = n.style.textAlign;\r\n                if (r === 'left') n.style.textAlign = 'right';\r\n                else if (r === 'right') n.style.textAlign = 'left';\r\n            }\r\n\r\n            const tool = context.tool;\r\n            if (tool.dir) {\r\n                util.changeTxt(tool.dir.querySelector('.se-tooltip-text'), lang.toolbar[options.rtl ? 'dir_ltr' : 'dir_rtl']);\r\n                util.changeElement(tool.dir.firstElementChild, icons[options.rtl ? 'dir_ltr' : 'dir_rtl']);\r\n            }\r\n\r\n            if (tool.dir_ltr) {\r\n                if (rtl) util.removeClass(tool.dir_ltr, 'active');\r\n                else util.addClass(tool.dir_ltr, 'active');\r\n            }\r\n\r\n            if (tool.dir_rtl) {\r\n                if (rtl) util.addClass(tool.dir_rtl, 'active');\r\n                else util.removeClass(tool.dir_rtl, 'active');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Sets the HTML string\r\n         * @param {String|undefined} html HTML string\r\n         */\r\n        setContents: function (html) {\r\n            this.removeRange();\r\n\r\n            const convertValue = (html === null || html === undefined) ? '' : this.convertContentsForEditor(html, null, null);\r\n            if (!this._variable.isCodeView) {\r\n                context.element.wysiwyg.innerHTML = convertValue;\r\n                this._resetComponents();\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                const value = this.convertHTMLForCodeView(convertValue, false);\r\n                this._setCodeView(value);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Sets the contents of the iframe's head tag and body tag when using the \"iframe\" or \"fullPage\" option.\r\n         * @param {Object} ctx { head: HTML string, body: HTML string}\r\n         */\r\n        setIframeContents: function (ctx) {\r\n            if (!options.iframe) return false;\r\n            if (ctx.head) this._wd.head.innerHTML = this.options.__allowedScriptTag ? ctx.head : ctx.head.replace(this.__scriptTagRegExp, '');\r\n            if (ctx.body) this._wd.body.innerHTML = this.convertContentsForEditor(ctx.body);\r\n            this._resetComponents();\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current contents\r\n         * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {Object}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            const contents = this.cleanHTML(context.element.wysiwyg.innerHTML, null, null);\r\n            const renderHTML = util.createElement('DIV');\r\n            renderHTML.innerHTML = contents;\r\n\r\n            const editableEls = util.getListChildren(renderHTML, function (current) {\r\n                return current.hasAttribute('contenteditable');\r\n            });\r\n\r\n            for (let i = 0, len = editableEls.length; i < len; i++) {\r\n                editableEls[i].removeAttribute('contenteditable');\r\n            }\r\n\r\n            if (options.fullPage && !onlyContents) {\r\n                const attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\r\n                return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\r\n            } else {\r\n                return renderHTML.innerHTML;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current contents with containing parent div(div.sun-editor-editable).\r\n         * <div class=\"sun-editor-editable\">{contents}</div>\r\n         * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {String}\r\n         */\r\n        getFullContents: function (onlyContents) {\r\n            return '<div class=\"sun-editor-editable' + (options.rtl ? ' se-rtl' : '') + '\">' + this.getContents(onlyContents) + '</div>';\r\n        },\r\n\r\n        /**\r\n         * @description Returns HTML string according to tag type and configuration.\r\n         * Use only \"cleanHTML\"\r\n         * @param {Node} node Node\r\n         * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n         * @private\r\n         */\r\n        _makeLine: function (node, requireFormat) {\r\n            const defaultTag = options.defaultTag;\r\n            // element\r\n            if (node.nodeType === 1) {\r\n                if (this.__disallowedTagNameRegExp.test(node.nodeName)) return '';\r\n                if (/__se__tag/.test(node.className)) return node.outerHTML;\r\n\r\n                const ch = util.getListChildNodes(node, function(current) { return util.isSpanWithoutAttr(current) && !util.getParentElement(current, util.isNotCheckingNode); }) || [];\r\n                for (let i = ch.length - 1; i >= 0; i--) {\r\n                    ch[i].outerHTML = ch[i].innerHTML;\r\n                }\r\n\r\n                if (!requireFormat || (util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isFigures(node) || (util.isAnchor(node) && util.isMedia(node.firstElementChild)))) {\r\n                    return util.isSpanWithoutAttr(node) ? node.innerHTML : node.outerHTML;\r\n                } else {\r\n                    return '<' + defaultTag + '>' + (util.isSpanWithoutAttr(node) ? node.innerHTML : node.outerHTML) + '</' + defaultTag + '>';\r\n                }\r\n            }\r\n            // text\r\n            if (node.nodeType === 3) {\r\n                if (!requireFormat) return util._HTMLConvertor(node.textContent);\r\n                const textArray = node.textContent.split(/\\n/g);\r\n                let html = '';\r\n                for (let i = 0, tLen = textArray.length, text; i < tLen; i++) {\r\n                    text = textArray[i].trim();\r\n                    if (text.length > 0) html += '<' + defaultTag + '>' + util._HTMLConvertor(text) + '</' + defaultTag + '>';\r\n                }\r\n                return html;\r\n            }\r\n            // comments\r\n            if (node.nodeType === 8 && this._allowHTMLComments) {\r\n                return '<!--' + node.textContent.trim() + '-->';\r\n            }\r\n\r\n            return '';\r\n        },\r\n\r\n        /**\r\n         * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n         * @param {String} text \r\n         * @returns {String} HTML string\r\n         * @private\r\n         */\r\n        _tagConvertor: function (text) {\r\n            if (!this._disallowedTextTagsRegExp) return text;\r\n\r\n            const ec = options._textTagsMap;\r\n            return text.replace(this._disallowedTextTagsRegExp, function (m, t, n, p) {\r\n                return t + (typeof ec[n] === 'string' ? ec[n] : n) + (p ? ' ' + p : '');\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Delete disallowed tags\r\n         * @param {String} html HTML string\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _deleteDisallowedTags: function (html) {\r\n            html = html\r\n                .replace(this.__disallowedTagsRegExp, '')\r\n                .replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, '');\r\n\r\n            if (!/\\bfont\\b/i.test(this.options._editorTagsWhitelist)) {\r\n                html = html.replace(/(<\\/?)font(\\s?)/gi, '$1span$2');\r\n            }\r\n\r\n            return html.replace(this.editorTagsWhitelistRegExp, '').replace(this.editorTagsBlacklistRegExp, '');\r\n        },\r\n\r\n        _convertFontSize: function (to, size) {\r\n            const math = this._w.Math;\r\n            const value = size.match(/(\\d+(?:\\.\\d+)?)(.+)/);\r\n            const sizeNum = value ? value[1] * 1 : util.fontValueMap[size];\r\n            const from = value ? value[2] : 'rem';\r\n            let pxSize = sizeNum;\r\n\r\n            if (/em/.test(from)) {\r\n                pxSize = math.round(sizeNum / 0.0625);\r\n            } else if (from === 'pt') {\r\n                pxSize = math.round(sizeNum * 1.333);\r\n            } else if (from === '%') {\r\n                pxSize = sizeNum / 100;\r\n            }\r\n\r\n            switch (to) {\r\n                case 'em':\r\n                case 'rem':\r\n                case '%':\r\n                    return (pxSize * 0.0625).toFixed(2) + to;\r\n                case 'pt':\r\n                    return math.round(pxSize / 1.333) + to;\r\n                default: // px\r\n                    return pxSize + to;\r\n            }\r\n        },\r\n\r\n        _cleanStyle: function (m, v, name) {\r\n            let sv = (m.match(/style\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/) || [])[0];\r\n            if (/span/i.test(name) && !sv && (m.match(/<[^\\s]+\\s(.+)/) || [])[1]) {\r\n                const size = (m.match(/\\ssize=\"([^\"]+)\"/i) || [])[1];\r\n                const face = (m.match(/\\sface=\"([^\"]+)\"/i) || [])[1];\r\n                const color = (m.match(/\\scolor=\"([^\"]+)\"/i) || [])[1];\r\n                if (size || face || color) {\r\n                    sv = 'style=\"' + (size ? 'font-size:' + (this.util.getNumber(size/3.333, 1)) + 'rem;' : '') + (face ? 'font-family:' + face + ';' : '') + (color ? 'color:' + color + ';' : '') + '\"';\r\n                }\r\n            }\r\n\r\n            if (sv) {\r\n                if (!v) v = [];\r\n                const style = sv.replace(/&quot;/g, '').match(this._cleanStyleRegExp[name]);\r\n                if (style) {\r\n                    const allowedStyle = [];\r\n                    for (let i = 0, len = style.length, r; i < len; i++) {\r\n                        r = style[i].match(/([a-zA-Z0-9-]+)(:)([^\"']+)/);\r\n                        if (r && !/inherit|initial|revert|unset/i.test(r[3])) {\r\n                            const k = util.kebabToCamelCase(r[1].trim());\r\n                            const v = this.wwComputedStyle[k] ? this.wwComputedStyle[k].replace(/\"/g, '') : '';\r\n                            const c = r[3].trim();\r\n                            switch (k) {\r\n                                case 'fontFamily':\r\n                                    if (!options.plugins.font || options.font.indexOf(c) === -1) continue;\r\n                                    break;\r\n                                case 'fontSize':\r\n                                    if (!options.plugins.fontSize) continue;\r\n                                    if (!this._cleanStyleRegExp.fontSizeUnit.test(r[0])) {\r\n                                        r[0] = r[0].replace((r[0].match(/:\\s*([^;]+)/) || [])[1], this._convertFontSize.bind(this, options.fontSizeUnit));\r\n                                    }\r\n                                    break;\r\n                                case 'color':\r\n                                    if (!options.plugins.fontColor || /rgba\\(([0-9]+\\s*,\\s*){3}0\\)|windowtext/i.test(c)) continue;\r\n                                    break;\r\n                                case 'backgroundColor':\r\n                                    if (!options.plugins.hiliteColor || /rgba\\(([0-9]+\\s*,\\s*){3}0\\)|windowtext/i.test(c)) continue;\r\n                                    break;\r\n                            }\r\n\r\n                            if (v !== c) {\r\n                                allowedStyle.push(r[0]);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (allowedStyle.length > 0) v.push('style=\"' + allowedStyle.join(';') + '\"');\r\n                }\r\n            }\r\n\r\n            return v;\r\n        },\r\n\r\n        /**\r\n         * @description Tag and tag attribute check RegExp function. (used by \"cleanHTML\" and \"convertContentsForEditor\")\r\n         * @param {Boolean} lowLevelCheck Row level check\r\n         * @param {String} m RegExp value\r\n         * @param {String} t RegExp value\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _cleanTags: function (lowLevelCheck, m, t) {\r\n            if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\r\n\r\n            let v = null;\r\n            const tagName = t.match(/(?!<)[a-zA-Z0-9\\-]+/)[0].toLowerCase();\r\n\r\n            // blacklist\r\n            const bAttr = this._attributesTagsBlacklist[tagName];\r\n            m = m.replace(/\\s(?:on[a-z]+)\\s*=\\s*(\")[^\"]*\\1/ig, '');\r\n            if (bAttr) m = m.replace(bAttr, '');\r\n            else m = m.replace(this._attributesBlacklistRegExp, '');\r\n\r\n            // whitelist\r\n            const wAttr = this._attributesTagsWhitelist[tagName];\r\n            if (wAttr) v = m.match(wAttr);\r\n            else v = m.match(lowLevelCheck ? this._attributesWhitelistRegExp : this._attributesWhitelistRegExp_all_data);\r\n\r\n            // attribute\r\n            if (lowLevelCheck || tagName === 'span' || tagName === 'li' ||  this._cleanStyleRegExp[tagName]) {\r\n                if (tagName === 'a') {\r\n                    const sv = m.match(/(?:(?:id|name)\\s*=\\s*(?:\"|')[^\"']*(?:\"|'))/g);\r\n                    if (sv) {\r\n                        if (!v) v = [];\r\n                        v.push(sv[0]);\r\n                    }\r\n                } else if (!v || !/style=/i.test(v.toString())) {\r\n                    if (tagName === 'span' || tagName === 'li') {\r\n                        v = this._cleanStyle(m, v, 'span');\r\n                    } if (this._cleanStyleRegExp[tagName]) {\r\n                        v = this._cleanStyle(m, v, tagName);\r\n                    } else if (/^(P|DIV|H[1-6]|PRE)$/i.test(tagName)) {\r\n                        v = this._cleanStyle(m, v, 'format');\r\n                    }\r\n                }\r\n            } else {\r\n                const sv = m.match(/style\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\r\n                if (sv && !v) v = [sv[0]];\r\n                else if (sv && !v.some(function (v) { return /^style/.test(v.trim()); })) v.push(sv[0]);\r\n            }\r\n\r\n            // figure\r\n            if (util.isFigures(tagName)) {\r\n                const sv = m.match(/style\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\r\n                if (!v) v = [];\r\n                if (sv) v.push(sv[0]);\r\n            }\r\n\r\n            if (v) {\r\n                for (let i = 0, len = v.length, a; i < len; i++) {\r\n                    // if (lowLevelCheck && /^class=\"(?!(__se__|se-|katex))/.test(v[i].trim())) continue;\r\n                    a = (/^(?:href|src)\\s*=\\s*('|\"|\\s)*javascript\\s*\\:/i.test(v[i].trim()) ? '' : v[i]);\r\n                    t += (/^\\s/.test(a) ? '' : ' ') + a;\r\n                }\r\n            }\r\n\r\n            return t;\r\n        },\r\n\r\n        /**\r\n         * @description Determines if formatting is required and returns a domTree\r\n         * @param {Element} dom documentFragment\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _editFormat: function (dom) {\r\n            let value = '', f;\r\n            const tempTree = dom.childNodes;\r\n\r\n            for (let i = 0, len = tempTree.length, n; i < len; i++) {\r\n                n = tempTree[i];\r\n                if  (n.nodeType === 8) {\r\n                    value += '<!-- ' + n.textContent + ' -->';\r\n                } else if (!util.isFormatElement(n) && !util.isRangeFormatElement(n) && !util.isComponent(n) && !/meta/i.test(n.nodeName)) {\r\n                    if (!f) f = util.createElement(options.defaultTag);\r\n                    if (util.isTextStyleElement(n)) {\r\n                        (n).removeAttribute('style');\r\n                    }\r\n                    f.appendChild(n);\r\n                    i--; len--;\r\n                } else {\r\n                    if (f) {\r\n                        value += f.outerHTML;\r\n                        f = null;\r\n                    }\r\n                    value += n.outerHTML;\r\n                }\r\n            }\r\n\r\n            if (f) value += f.outerHTML;\r\n\r\n            return _d.createRange().createContextualFragment(value);\r\n        },\r\n\r\n        _convertListCell: function (domTree) {\r\n            let html = '';\r\n\r\n            for (let i = 0, len = domTree.length, node; i < len; i++) {\r\n                node = domTree[i];\r\n                if (node.nodeType === 1) {\r\n                    if (util.isList(node)) {\r\n                        html += node.innerHTML;\r\n                    } else if (util.isListCell(node)) {\r\n                        html += node.outerHTML;\r\n                    } else if (util.isFormatElement(node)) {\r\n                        html += '<li>' +(node.innerHTML.trim() || '<br>') + '</li>';\r\n                    } else if (util.isRangeFormatElement(node) && !util.isTable(node)) {\r\n                        html += this._convertListCell(node);\r\n                    } else {\r\n                        html += '<li>' + node.outerHTML + '</li>';\r\n                    }\r\n                } else {\r\n                    html += '<li>' + (node.textContent || '<br>') + '</li>';\r\n                }\r\n            }\r\n\r\n            return html;\r\n        },\r\n\r\n        _isFormatData: function (domTree) {\r\n            let requireFormat = false;\r\n\r\n            for (let i = 0, len = domTree.length, t; i < len; i++) {\r\n                t = domTree[i];\r\n                if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !this.__disallowedTagNameRegExp.test(t.nodeName)) {\r\n                    requireFormat = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return requireFormat;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the clean HTML code for editor\r\n         * @param {String} html HTML string\r\n         * @param {String|RegExp|null} whitelist Regular expression of allowed tags.\r\n         * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n         * @param {String|RegExp|null} blacklist Regular expression of disallowed tags.\r\n         * RegExp object is create by util.createTagsBlacklist method. (core.pasteTagsBlacklistRegExp)\r\n         * @returns {String}\r\n         */\r\n        cleanHTML: function (html, whitelist, blacklist) {\r\n            if (!options.strictMode) return util.htmlCompress(html);\r\n\r\n            html = this._deleteDisallowedTags(this._parser.parseFromString(util.htmlCompress(html), 'text/html').body.innerHTML).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, true)).replace(/<br\\/?>$/i, '');\r\n            const dom = _d.createRange().createContextualFragment(html);\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp, this._htmlCheckBlacklistRegExp, this._classNameFilter, options.strictHTMLValidation);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\r\n            }\r\n\r\n            if (this.managedTagsInfo && this.managedTagsInfo.query) {\r\n                const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\r\n                for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\r\n                    classList = [].slice.call(textCompList[i].classList);\r\n                    for (let c = 0, cLen = classList.length; c < cLen; c++) {\r\n                        initMethod = this.managedTagsInfo.map[classList[c]];\r\n                        if (initMethod) {\r\n                            initMethod(textCompList[i]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            let domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            const requireFormat = this._isFormatData(domTree);\r\n\r\n            if(requireFormat) {\r\n                domTree = this._editFormat(dom).childNodes;\r\n            }\r\n\r\n            for (let i = 0, len = domTree.length, t; i < len; i++) {\r\n                t = domTree[i];\r\n                if (this.__allowedScriptRegExp.test(t.nodeName)) {\r\n                    cleanHTML += t.outerHTML;\r\n                    continue;\r\n                }\r\n                cleanHTML += this._makeLine(t, requireFormat);\r\n            }\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            if (!cleanHTML) {\r\n                cleanHTML = html;\r\n            } else {\r\n                if (whitelist) cleanHTML = cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, '');\r\n                if (blacklist) cleanHTML = cleanHTML.replace(typeof blacklist === 'string' ? util.createTagsBlacklist(blacklist) : blacklist, '');\r\n            }\r\n\r\n            return this._tagConvertor(cleanHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Converts contents into a format that can be placed in an editor\r\n         * @param {String} contents contents\r\n         * @returns {String}\r\n         */\r\n        convertContentsForEditor: function (contents) {\r\n            if (!options.strictMode) return util.htmlCompress(contents);\r\n\r\n            contents = this._deleteDisallowedTags(this._parser.parseFromString(util.htmlCompress(contents), 'text/html').body.innerHTML).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, true));\r\n            const dom = _d.createRange().createContextualFragment(contents);\r\n\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp, this._htmlCheckBlacklistRegExp, this._classNameFilter, options.strictHTMLValidation);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\r\n            }\r\n\r\n            if (this.managedTagsInfo && this.managedTagsInfo.query) {\r\n                const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\r\n                for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\r\n                    classList = [].slice.call(textCompList[i].classList);\r\n                    for (let c = 0, cLen = classList.length; c < cLen; c++) {\r\n                        initMethod = this.managedTagsInfo.map[classList[c]];\r\n                        if (initMethod) {\r\n                            initMethod(textCompList[i]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '', p = null;\r\n            for (let i = 0, t; i < domTree.length; i++) {\r\n                t = domTree[i];\r\n\r\n                if (this.__allowedScriptRegExp.test(t.nodeName)) {\r\n                    cleanHTML += t.outerHTML;\r\n                    continue;\r\n                }\r\n\r\n                if (!util.isFormatElement(t) && !util.isRangeFormatElement(t) && !util.isComponent(t) && !util.isFigures(t) && t.nodeType !== 8 && !/__se__tag/.test(t.className)) {\r\n                    if (!p) p = util.createElement(options.defaultTag);\r\n                    p.appendChild(t);\r\n                    i--;\r\n                    if (domTree[i + 1] && !util.isFormatElement(domTree[i + 1])) {\r\n                        continue;\r\n                    } else {\r\n                        t = p;\r\n                        p = null;\r\n                    }\r\n                }\r\n\r\n                if (p) {\r\n                    cleanHTML += this._makeLine(p, true);\r\n                    p = null;\r\n                }\r\n                cleanHTML += this._makeLine(t, true);\r\n            }\r\n            if (p) cleanHTML += this._makeLine(p, true);\r\n\r\n            if (cleanHTML.length === 0) return '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            return this._tagConvertor(cleanHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n         * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n         * @param {Boolean} comp If true, does not line break and indentation of tags.\r\n         * @returns {String}\r\n         */\r\n        convertHTMLForCodeView: function (html, comp) {\r\n            let returnHTML = '';\r\n            const wRegExp = _w.RegExp;\r\n            const brReg = new wRegExp('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\r\n            const wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\r\n            const isFormat = function (current) { return this.isFormatElement(current) || this.isComponent(current); }.bind(util);\r\n            const brChar = comp ? '' : '\\n';\r\n\r\n            let indentSize = comp ? 0 : this._variable.codeIndent * 1;\r\n            indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\r\n\r\n            (function recursionFunc (element, indent) {\r\n                const children = element.childNodes;\r\n                const elementRegTest = brReg.test(element.nodeName);\r\n                const elementIndent = (elementRegTest ? indent : '');\r\n\r\n                for (let i = 0, len = children.length, node, br, lineBR, nodeRegTest, tag, tagIndent; i < len; i++) {\r\n                    node = children[i];\r\n                    nodeRegTest = brReg.test(node.nodeName);\r\n                    br = nodeRegTest ? brChar : '';\r\n                    lineBR = isFormat(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? brChar : '';\r\n\r\n                    if (node.nodeType === 8) {\r\n                        returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\r\n                        continue;\r\n                    }\r\n                    if (node.nodeType === 3) {\r\n                        if (!util.isList(node.parentElement)) returnHTML += util._HTMLConvertor(/^\\n+$/.test(node.data) ? '' : node.data);\r\n                        continue;\r\n                    }\r\n                    if (node.childNodes.length === 0) {\r\n                        returnHTML += (/^HR$/i.test(node.nodeName) ? brChar : '') + (/^PRE$/i.test(node.parentElement.nodeName) && /^BR$/i.test(node.nodeName) ? '' : elementIndent) + node.outerHTML + br;\r\n                        continue;\r\n                    }\r\n\r\n                    if (!node.outerHTML) { // IE\r\n                        returnHTML += new _w.XMLSerializer().serializeToString(node);\r\n                    } else {\r\n                        tag = node.nodeName.toLowerCase();\r\n                        tagIndent = elementIndent || nodeRegTest ? indent : '';\r\n                        returnHTML += (lineBR || (elementRegTest ? '' : br)) + tagIndent + node.outerHTML.match(wRegExp('<' + tag + '[^>]*>', 'i'))[0] + br;\r\n                        recursionFunc(node, indent + indentSize, '');\r\n                        returnHTML += (/\\n$/.test(returnHTML) ? tagIndent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? brChar : '' || /^(TH|TD)$/i.test(node.nodeName) ? brChar : '');\r\n                    }\r\n                }\r\n            }(wDoc, ''));\r\n\r\n            return returnHTML.trim() + brChar;\r\n        },\r\n\r\n        /**\r\n         * @description Add an event to document.\r\n         * When created as an Iframe, the same event is added to the document in the Iframe.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         * @param {Boolean} useCapture Use event capture\r\n         */\r\n        addDocEvent: function (type, listener, useCapture) {\r\n            _d.addEventListener(type, listener, useCapture);\r\n            if (options.iframe) {\r\n                this._wd.addEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove events from document.\r\n         * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         */\r\n        removeDocEvent: function (type, listener) {\r\n            _d.removeEventListener(type, listener);\r\n            if (options.iframe) {\r\n                this._wd.removeEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The current number of characters is counted and displayed.\r\n         * @param {String} inputText Text added.\r\n         * @returns {Boolean}\r\n         * @private\r\n         */\r\n        _charCount: function (inputText) {\r\n            const maxCharCount = options.maxCharCount;\r\n            const countType = options.charCounterType;\r\n            let nextCharCount = 0;\r\n            if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\r\n\r\n            this._setCharCount();\r\n\r\n            if (maxCharCount > 0) {\r\n                let over = false;\r\n                const count = functions.getCharCount(countType);\r\n\r\n                if (count > maxCharCount) {\r\n                    over = true;\r\n                    if (nextCharCount > 0) {\r\n                        this._editorRange();\r\n                        const range = this.getRange();\r\n                        const endOff = range.endOffset - 1;\r\n                        const text = this.getSelectionNode().textContent;\r\n                        const slicePosition = range.endOffset - (count - maxCharCount);\r\n\r\n                        this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\r\n                        this.setRange(range.endContainer, endOff, range.endContainer, endOff);\r\n                    }\r\n                } else if ((count + nextCharCount) > maxCharCount) {\r\n                    over = true;\r\n                }\r\n\r\n                if (over) {\r\n                    this._callCounterBlink();\r\n                    if (nextCharCount > 0) return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n         * @param {Node|String} element Element node or String.\r\n         * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n         * @returns {Boolean}\r\n         */\r\n        checkCharCount: function (element, charCounterType) {\r\n            if (options.maxCharCount) {\r\n                const countType = charCounterType || options.charCounterType;\r\n                const length = this.getCharLength((typeof element === 'string' ? element : (this._charTypeHTML && element.nodeType === 1) ? element.outerHTML : element.textContent), countType);\r\n                if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\r\n                    this._callCounterBlink();\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Get the length of the content.\r\n         * Depending on the option, the length of the character is taken. (charCounterType)\r\n         * @param {String} content Content to count\r\n         * @param {String} charCounterType options.charCounterType\r\n         * @returns {Number}\r\n         */\r\n        getCharLength: function (content, charCounterType) {\r\n            return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\r\n        },\r\n\r\n        /**\r\n         * @description Reset buttons of the responsive toolbar.\r\n         */\r\n        resetResponsiveToolbar: function () {\r\n            core.controllersOff();\r\n\r\n            const responsiveSize = event._responsiveButtonSize;\r\n            if (responsiveSize) {\r\n                let w = 0;\r\n                if ((core._isBalloon || core._isInline) && options.toolbarWidth === 'auto') {\r\n                    w = context.element.topArea.offsetWidth;\r\n                } else {\r\n                    w = context.element.toolbar.offsetWidth;\r\n                }\r\n\r\n                let responsiveWidth = 'default';\r\n                for (let i = 1, len = responsiveSize.length; i < len; i++) {\r\n                    if (w < responsiveSize[i]) {\r\n                        responsiveWidth = responsiveSize[i] + '';\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (event._responsiveCurrentSize !== responsiveWidth) {\r\n                    event._responsiveCurrentSize = responsiveWidth;\r\n                    functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set the char count to charCounter element textContent.\r\n         * @private\r\n         */\r\n        _setCharCount: function () {\r\n            if (context.element.charCounter) {\r\n                _w.setTimeout(function (functions, options) {\r\n                    if (this.textContent && functions) {\r\n                        this.textContent = functions.getCharCount(options.charCounterType);\r\n                    }\r\n                }.bind(context.element.charCounter, functions, options), 0);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The character counter blinks.\r\n         * @private\r\n         */\r\n        _callCounterBlink: function () {\r\n            const charWrapper = context.element.charWrapper;\r\n            if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\r\n                util.addClass(charWrapper, 'se-blink');\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(charWrapper, 'se-blink');\r\n                }, 600);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Check the components such as image and video and modify them according to the format.\r\n         * @private\r\n         */\r\n        _checkComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\r\n                this._fileInfoPluginsCheck[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Initialize the information of the components.\r\n         * @private\r\n         */\r\n        _resetComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\r\n                this._fileInfoPluginsReset[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set method in the code view area\r\n         * @param {String} value HTML string\r\n         * @private\r\n         */\r\n        _setCodeView: function (value) {\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.getDoc().setValue(value);\r\n            } else {\r\n                context.element.code.value = value;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get method in the code view area\r\n         * @private\r\n         */\r\n        _getCodeView: function () {\r\n            return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\r\n        },\r\n\r\n        /**\r\n         * @description remove class, display text.\r\n         * @param {Array|null} ignoredList Igonred button list\r\n         */\r\n        _setKeyEffect: function (ignoredList) {\r\n            const commandMap = this.commandMap;\r\n            const activePlugins = this.activePlugins;\r\n\r\n            for (let key in commandMap) {\r\n                if (ignoredList.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(this, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    if (!util.isImportantDisabled(commandMap.OUTDENT)) commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    if (!util.isImportantDisabled(commandMap.INDENT)) commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Initializ core variable\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _init: function (reload, _initHTML) {\r\n            const wRegExp = _w.RegExp;\r\n            this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\r\n            this._wd = _d;\r\n            this._charTypeHTML = options.charCounterType === 'byte-html';\r\n            this.wwComputedStyle = _w.getComputedStyle(context.element.wysiwyg);\r\n            this._editorHeight = context.element.wysiwygFrame.offsetHeight;\r\n            this._editorHeightPadding = util.getNumber(this.wwComputedStyle.getPropertyValue('padding-top')) + util.getNumber(this.wwComputedStyle.getPropertyValue('padding-bottom'));\r\n            this._classNameFilter = function (v) {\r\n                return this.test(v) ? v : '';\r\n            }.bind(options.allowedClassNames);\r\n\r\n            const sPrefix = (options.__allowedScriptTag ? '' : 'script|');\r\n            this.__scriptTagRegExp = new wRegExp('<(script)[^>]*>([\\\\s\\\\S]*?)<\\\\/\\\\1>|<script[^>]*\\\\/?>', 'gi');\r\n            this.__disallowedTagsRegExp = new wRegExp('<(' + sPrefix + 'style)[^>]*>([\\\\s\\\\S]*?)<\\\\/\\\\1>|<(' + sPrefix + 'style)[^>]*\\\\/?>', 'gi');\r\n            this.__disallowedTagNameRegExp = new wRegExp('^(' + sPrefix + 'meta|link|style|[a-z]+\\:[a-z]+)$', 'i');\r\n            this.__allowedScriptRegExp = new wRegExp('^' + (options.__allowedScriptTag ? 'script' : '') + '$', 'i');\r\n\r\n            if (!options.iframe && typeof _w.ShadowRoot === 'function') {\r\n                let child = context.element.wysiwygFrame;\r\n                while (child) {\r\n                    if (child.shadowRoot) {\r\n                        this._shadowRoot = child.shadowRoot;\r\n                        break;\r\n                    } else if (child instanceof _w.ShadowRoot) {\r\n                        this._shadowRoot = child;\r\n                        break;\r\n                    }\r\n                    child = child.parentNode;\r\n                }\r\n                if (this._shadowRoot) this._shadowRootControllerEventTarget = [];\r\n            }\r\n\r\n            // set disallow text nodes\r\n            const disallowTextTags = _w.Object.keys(options._textTagsMap);\r\n            const allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split('|').filter(function (v) { return /b|i|ins|s|strike/i.test(v); });\r\n            for (let i = 0; i < allowTextTags.length; i++) {\r\n                disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\r\n            }\r\n            this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp('(<\\\\/?)(' + disallowTextTags.join('|') + ')\\\\b\\\\s*([^>^<]+)?\\\\s*(?=>)', 'gi');\r\n\r\n            // set whitelist\r\n            const getRegList = function (str, str2) { return !str ? '^' : (str === '*' ? '[a-z-]+' : (!str2 ? str : (str + '|' + str2))); };\r\n            // tags\r\n            const videoAttr = '|controls|autoplay|loop|muted|poster|preload|playsinline';\r\n            const iframeAttr = '|allowfullscreen|sandbox|loading|allow|referrerpolicy|frameborder|scrolling';\r\n            const defaultAttr = 'contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|origin-size' + videoAttr + iframeAttr;\r\n            const dataAttr = 'data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size';\r\n            this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1 || options._editorTagsWhitelist === '*';\r\n            // html check\r\n            this._htmlCheckWhitelistRegExp = new wRegExp('^(' + getRegList(options._editorTagsWhitelist.replace('|//', ''), '') + ')$', 'i');\r\n            this._htmlCheckBlacklistRegExp = new wRegExp('^(' + (options.tagsBlacklist || '^') + ')$', 'i');\r\n            // tags\r\n            this.editorTagsWhitelistRegExp = util.createTagsWhitelist(getRegList(options._editorTagsWhitelist.replace('|//', '|<!--|-->'), ''));\r\n            this.editorTagsBlacklistRegExp = util.createTagsBlacklist(options.tagsBlacklist.replace('|//', '|<!--|-->'));\r\n            // paste tags\r\n            this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(getRegList(options.pasteTagsWhitelist, ''));\r\n            this.pasteTagsBlacklistRegExp = util.createTagsBlacklist(options.pasteTagsBlacklist);\r\n            // attributes\r\n            const regEndStr = '\\\\s*=\\\\s*(\\\")[^\\\"]*\\\\1';\r\n            const _wAttr = options.attributesWhitelist;\r\n            let tagsAttr = {};\r\n            let allAttr = '';\r\n            if (!!_wAttr) {\r\n                for (let k in _wAttr) {\r\n                    if (!util.hasOwn(_wAttr, k) || /^on[a-z]+$/i.test(_wAttr[k])) continue;\r\n                    if (k === 'all') {\r\n                        allAttr = getRegList(_wAttr[k], defaultAttr);\r\n                    } else {\r\n                        tagsAttr[k] = new wRegExp('\\\\s(?:' + getRegList(_wAttr[k], defaultAttr) + ')' + regEndStr, 'ig');\r\n                    }\r\n                }\r\n            }\r\n\r\n            this._attributesWhitelistRegExp = new wRegExp('\\\\s(?:' + (allAttr || defaultAttr + '|' + dataAttr) + ')' + regEndStr, 'ig');\r\n            this._attributesWhitelistRegExp_all_data = new wRegExp('\\\\s(?:' + ((allAttr || defaultAttr) + '|data-[a-z0-9\\\\-]+') + ')' + regEndStr, 'ig');\r\n            this._attributesTagsWhitelist = tagsAttr;\r\n\r\n            // blacklist\r\n            const _bAttr = options.attributesBlacklist;\r\n            tagsAttr = {};\r\n            allAttr = '';\r\n            if (!!_bAttr) {\r\n                for (let k in _bAttr) {\r\n                    if (!util.hasOwn(_bAttr, k)) continue;\r\n                    if (k === 'all') {\r\n                        allAttr = getRegList(_bAttr[k], '');\r\n                    } else {\r\n                        tagsAttr[k] = new wRegExp('\\\\s(?:' + getRegList(_bAttr[k], '') + ')' + regEndStr, 'ig');\r\n                    }\r\n                }\r\n            }\r\n\r\n            this._attributesBlacklistRegExp = new wRegExp('\\\\s(?:' + (allAttr || '^') + ')' + regEndStr, 'ig');\r\n            this._attributesTagsBlacklist = tagsAttr;\r\n\r\n            // set modes\r\n            this._isInline = /inline/i.test(options.mode);\r\n            this._isBalloon = /balloon|balloon-always/i.test(options.mode);\r\n            this._isBalloonAlways = /balloon-always/i.test(options.mode);\r\n\r\n            // caching buttons\r\n            this._cachingButtons();\r\n\r\n            // file components\r\n            this._fileInfoPluginsCheck = [];\r\n            this._fileInfoPluginsReset = [];\r\n\r\n            // text components\r\n            this.managedTagsInfo = { query: '', map: {} };\r\n            const managedClass = [];\r\n\r\n            // Command and file plugins registration\r\n            this.activePlugins = [];\r\n            this._fileManager.tags = [];\r\n            this._fileManager.pluginMap = {};\r\n\r\n            let filePluginRegExp = [];\r\n            let plugin, button;\r\n            for (let key in plugins) {\r\n                if (!util.hasOwn(plugins, key)) continue;\r\n                plugin = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if ((plugin.active || plugin.action) && button) {\r\n                    this.callPlugin(key, null, button);\r\n                }\r\n                if (typeof plugin.checkFileInfo === 'function' && typeof plugin.resetFileInfo === 'function') {\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\r\n                    this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\r\n                }\r\n                if (_w.Array.isArray(plugin.fileTags)) {\r\n                    const fileTags = plugin.fileTags;\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileManager.tags = this._fileManager.tags.concat(fileTags);\r\n                    filePluginRegExp.push(key);\r\n                    for (let tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\r\n                        this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\r\n                    }\r\n                }\r\n                if (plugin.managedTags) {\r\n                    const info = plugin.managedTags();\r\n                    managedClass.push('.' + info.className);\r\n                    this.managedTagsInfo.map[info.className] = info.method.bind(this);\r\n                }\r\n            }\r\n\r\n            this.managedTagsInfo.query = managedClass.toString();\r\n            this._fileManager.queryString = this._fileManager.tags.join(',');\r\n            this._fileManager.regExp = new wRegExp('^(' +  (this._fileManager.tags.join('|') || '^') + ')$', 'i');\r\n            this._fileManager.pluginRegExp = new wRegExp('^(' +  (filePluginRegExp.length === 0 ? '^' : filePluginRegExp.join('|')) + ')$', 'i');\r\n\r\n            // cache editor's element\r\n            this._variable._originCssText = context.element.topArea.style.cssText;\r\n            this._placeholder = context.element.placeholder;\r\n            this._lineBreaker = context.element.lineBreaker;\r\n            this._lineBreakerButton = this._lineBreaker.querySelector('button');\r\n\r\n            // Excute history function\r\n            this.history = _history(this, this._onChange_historyStack.bind(this));\r\n\r\n            // register notice module\r\n            this.addModule([_notice]);\r\n\r\n            // Init, validate\r\n            if (options.iframe) {\r\n                this._wd = context.element.wysiwygFrame.contentDocument;\r\n                context.element.wysiwyg = this._wd.body;\r\n                if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\r\n                if (options.height === 'auto') this._iframeAuto = this._wd.body;\r\n            }\r\n\r\n            this._initWysiwygArea(reload, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Caching basic buttons to use\r\n         * @private\r\n         */\r\n        _cachingButtons: function () {\r\n            this.codeViewDisabledButtons = context.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~=\"se-code-view-enabled\"]):not([data-display=\"MORE\"])');\r\n            this.resizingDisabledButtons = context.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~=\"se-resizing-enabled\"]):not([data-display=\"MORE\"])');\r\n\r\n            const tool = context.tool;\r\n            const commandMap = this.commandMap;\r\n            commandMap.INDENT = tool.indent;\r\n            commandMap.OUTDENT = tool.outdent;\r\n            commandMap[options.textTags.bold.toUpperCase()] = tool.bold;\r\n            commandMap[options.textTags.underline.toUpperCase()] = tool.underline;\r\n            commandMap[options.textTags.italic.toUpperCase()] = tool.italic;\r\n            commandMap[options.textTags.strike.toUpperCase()] = tool.strike;\r\n            commandMap[options.textTags.sub.toUpperCase()] = tool.subscript;\r\n            commandMap[options.textTags.sup.toUpperCase()] = tool.superscript;\r\n\r\n            this._styleCommandMap = {\r\n                fullScreen: tool.fullScreen,\r\n                showBlocks: tool.showBlocks,\r\n                codeView: tool.codeView\r\n            };\r\n\r\n            this._saveButtonStates();\r\n        },\r\n\r\n        /**\r\n         * @description Initializ wysiwyg area (Only called from core._init)\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _initWysiwygArea: function (reload, _initHTML) {\r\n            context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor((typeof _initHTML === 'string' ? _initHTML : /^TEXTAREA$/i.test(context.element.originElement.nodeName) ? context.element.originElement.value : context.element.originElement.innerHTML) || '');\r\n        },\r\n\r\n        /**\r\n         * @description Called when there are changes to tags in the wysiwyg region.\r\n         * @private\r\n         */\r\n        _resourcesStateChange: function () {\r\n            this._iframeAutoHeight();\r\n            this._checkPlaceholder();\r\n        },\r\n\r\n        /**\r\n         * @description Called when after execute \"history.push\"\r\n         * @private\r\n         */\r\n        _onChange_historyStack: function () {\r\n            if (this.hasFocus) event._applyTagEffects();\r\n            this._variable.isChanged = true;\r\n            if (context.tool.save) context.tool.save.removeAttribute('disabled');\r\n            // user event\r\n            if (functions.onChange) functions.onChange(this.getContents(true), this);\r\n            if (context.element.toolbar.style.display === 'block') event._showToolbarBalloon();\r\n        },\r\n\r\n        /**\r\n         * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n         * @private\r\n         */\r\n        _iframeAutoHeight: function () {\r\n            if (this._iframeAuto) {\r\n                _w.setTimeout(function () {\r\n                    const h = core._iframeAuto.offsetHeight;\r\n                    context.element.wysiwygFrame.style.height = h + 'px';\r\n                    if (!util.isResizeObserverSupported) core.__callResizeFunction(h, null);\r\n                });\r\n            } else if (!util.isResizeObserverSupported) {\r\n                core.__callResizeFunction(context.element.wysiwygFrame.offsetHeight, null);\r\n            }\r\n        },\r\n\r\n        __callResizeFunction: function (h, resizeObserverEntry) {\r\n            h = h === -1 ? (resizeObserverEntry.borderBoxSize && resizeObserverEntry.borderBoxSize[0] ? resizeObserverEntry.borderBoxSize[0].blockSize : (resizeObserverEntry.contentRect.height + this._editorHeightPadding)) : h;\r\n            if (this._editorHeight !== h) {\r\n                if (typeof functions.onResizeEditor === 'function') functions.onResizeEditor(h, this._editorHeight, core, resizeObserverEntry);\r\n                this._editorHeight = h;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set display property when there is placeholder.\r\n         * @private\r\n         */\r\n        _checkPlaceholder: function () {\r\n            if (this._placeholder) {\r\n                if (this._variable.isCodeView) {\r\n                    this._placeholder.style.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector(util._allowedEmptyNodeList) || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\r\n                    this._placeholder.style.display = 'none';\r\n                } else {\r\n                    this._placeholder.style.display = 'block';\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If there is no default format, add a format and move \"selection\".\r\n         * @param {String|null} formatName Format tag name (default: 'P')\r\n         * @returns {undefined|null}\r\n         * @private\r\n         */\r\n        _setDefaultFormat: function (formatName) {\r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\r\n\r\n            const range = this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startCon = range.startContainer;\r\n            const rangeEl = util.getRangeFormatElement(commonCon, null);\r\n            let focusNode, offset, format;\r\n\r\n            const fileComponent = util.getParentElement(commonCon, util.isComponent);\r\n            if (fileComponent && !util.isTable(fileComponent)) {\r\n                return;\r\n            } else if (commonCon.nodeType === 1 && commonCon.getAttribute('data-se-embed') === 'true') {\r\n                let el = commonCon.nextElementSibling;\r\n                if (!util.isFormatElement(el)) el = this.appendFormatTag(commonCon, options.defaultTag);\r\n                this.setRange(el.firstChild, 0, el.firstChild, 0);\r\n                return;\r\n            }\r\n\r\n            if ((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && (util.isComponent(startCon.children[range.startOffset]) || util.isComponent(startCon.children[range.startOffset - 1]))) return;\r\n            if (util.getParentElement(commonCon, util.isNotCheckingNode)) return null;\r\n\r\n            if (rangeEl) {\r\n                format = util.createElement(formatName || options.defaultTag);\r\n                format.innerHTML = rangeEl.innerHTML;\r\n                if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\r\n\r\n                rangeEl.innerHTML = format.outerHTML;\r\n                format = rangeEl.firstChild;\r\n                focusNode = util.getEdgeChildNodes(format, null).sc;\r\n\r\n                if (!focusNode) {\r\n                    focusNode = util.createTextNode(util.zeroWidthSpace);\r\n                    format.insertBefore(focusNode, format.firstChild);\r\n                }\r\n\r\n                offset = focusNode.textContent.length;\r\n                this.setRange(focusNode, offset, focusNode, offset);\r\n                return;\r\n            }\r\n\r\n            if(util.isRangeFormatElement(commonCon) && (commonCon.childNodes.length <= 1)) {\r\n                let br = null;\r\n                if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\r\n                    br = commonCon.firstChild;\r\n                } else {\r\n                    br = util.createTextNode(util.zeroWidthSpace);\r\n                    commonCon.appendChild(br);\r\n                }\r\n\r\n                this.setRange(br, 1, br, 1);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                if (commonCon.nodeType === 3) {\r\n                    format = util.createElement(formatName || options.defaultTag);\r\n                    commonCon.parentNode.insertBefore(format, commonCon);\r\n                    format.appendChild(commonCon);\r\n                }\r\n\r\n                if (util.isWysiwygDiv(commonCon)) {\r\n                    format = util.createElement(formatName || options.defaultTag);\r\n                    format.innerHTML = commonCon.innerHTML;\r\n                    commonCon.innerHTML = '';\r\n                    commonCon.appendChild(format);\r\n                    this.effectNode = null;\r\n                    this.setRange(format, 1, format, 1);\r\n                    return;\r\n                }\r\n                \r\n                if (format) {\r\n                    if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\r\n                    if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\r\n                }\r\n\r\n                if (util.isBreak(focusNode)) {\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    focusNode.parentNode.insertBefore(zeroWidth, focusNode);\r\n                    focusNode = zeroWidth;\r\n                }\r\n            } catch (e) {\r\n                this.execCommand('formatBlock', false, (formatName || options.defaultTag));\r\n                this.removeRange();\r\n                this._editorRange();\r\n                this.effectNode = null;\r\n                return;\r\n            }\r\n\r\n            if (format) {\r\n                if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\r\n                if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\r\n                if (util.isBreak(focusNode)) {\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    focusNode.parentNode.insertBefore(zeroWidth, focusNode);\r\n                    focusNode = zeroWidth;\r\n                }\r\n            }\r\n\r\n            this.effectNode = null;\r\n\r\n            if (startCon) {\r\n                this.setRange(startCon, 1, startCon, 1);\r\n            } else {\r\n                this.nativeFocus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Initialization after \"setOptions\"\r\n         * @param {Object} el context.element\r\n         * @param {String} _initHTML Initial html string\r\n         * @private\r\n         */\r\n        _setOptionsInit: function (el, _initHTML) {\r\n            this.context = context = _Context(el.originElement, this._getConstructed(el), options);\r\n            this._componentsInfoReset = true;\r\n            this._editorInit(true, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Initializ editor\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _editorInit: function (reload, _initHTML) {\r\n            // initialize core and add event listeners\r\n            this._init(reload, _initHTML);\r\n            event._addEvent();\r\n            this._setCharCount();\r\n            event._offStickyToolbar();\r\n            event.onResize_window();\r\n\r\n            // toolbar visibility\r\n            context.element.toolbar.style.visibility = '';\r\n            // wisywig attributes\r\n            const attr = options.frameAttrbutes;\r\n            for (let k in attr) {\r\n                context.element.wysiwyg.setAttribute(k, attr[k]);\r\n            }\r\n\r\n            this._checkComponents();\r\n            this._componentsInfoInit = false;\r\n            this._componentsInfoReset = false;\r\n\r\n            this.history.reset(true);\r\n\r\n            _w.setTimeout(function () {\r\n                if (typeof core._resourcesStateChange !== 'function') return;\r\n\r\n                // observer\r\n                if (event._resizeObserver) event._resizeObserver.observe(context.element.wysiwygFrame);\r\n                if (event._toolbarObserver) event._toolbarObserver.observe(context.element._toolbarShadow);\r\n                // resource state\r\n                core._resourcesStateChange();\r\n                // user event\r\n                if (typeof functions.onload === 'function') functions.onload(core, reload);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Create and return an object to cache the new context.\r\n         * @param {Element} contextEl context.element\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _getConstructed: function (contextEl) {\r\n            return {\r\n                _top: contextEl.topArea,\r\n                _relative: contextEl.relative,\r\n                _toolBar: contextEl.toolbar,\r\n                _toolbarShadow: contextEl._toolbarShadow,\r\n                _menuTray: contextEl._menuTray,\r\n                _editorArea: contextEl.editorArea,\r\n                _wysiwygArea: contextEl.wysiwygFrame,\r\n                _codeArea: contextEl.code,\r\n                _placeholder: contextEl.placeholder,\r\n                _resizingBar: contextEl.resizingBar,\r\n                _navigation: contextEl.navigation,\r\n                _charCounter: contextEl.charCounter,\r\n                _charWrapper: contextEl.charWrapper,\r\n                _loading: contextEl.loading,\r\n                _lineBreaker: contextEl.lineBreaker,\r\n                _lineBreaker_t: contextEl.lineBreaker_t,\r\n                _lineBreaker_b: contextEl.lineBreaker_b,\r\n                _resizeBack: contextEl.resizeBackground,\r\n                _stickyDummy: contextEl._stickyDummy,\r\n                _arrow: contextEl._arrow\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @description event function\r\n     */\r\n    const event = {\r\n        _IEisComposing: false, // In IE, there is no \"e.isComposing\" in the key-up event.\r\n        _lineBreakerBind: null,\r\n        _responsiveCurrentSize: 'default',\r\n        _responsiveButtonSize: null,\r\n        _responsiveButtons: null,\r\n        _deleteKeyCode: new _w.RegExp('^(8|46)$'),\r\n        _cursorMoveKeyCode: new _w.RegExp('^(8|3[2-9]|40|46)$'),\r\n        _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\r\n        _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\r\n        _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\r\n        _onButtonsCheck: new _w.RegExp('^(' + _w.Object.keys(options._textTagsMap).join('|') + ')$', 'i'),\r\n        _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\r\n        _keyCodeShortcut: {\r\n            65: 'A',\r\n            66: 'B',\r\n            83: 'S',\r\n            85: 'U',\r\n            73: 'I',\r\n            89: 'Y',\r\n            90: 'Z',\r\n            219: '[',\r\n            221: ']'\r\n        },\r\n\r\n        _shortcutCommand: function (keyCode, shift) {\r\n            let command = null;\r\n            const keyStr = event._keyCodeShortcut[keyCode];\r\n\r\n            switch (keyStr) {\r\n                case 'A':\r\n                    command = 'selectAll';\r\n                    break;\r\n                case 'B':\r\n                    if (options.shortcutsDisable.indexOf('bold') === -1) {\r\n                        command = 'bold';\r\n                    }\r\n                    break;\r\n                case 'S':\r\n                    if (shift && options.shortcutsDisable.indexOf('strike') === -1) {\r\n                        command = 'strike';\r\n                    } else if (!shift && options.shortcutsDisable.indexOf('save') === -1) {\r\n                        command = 'save';\r\n                    }\r\n                    break;\r\n                case 'U':\r\n                    if (options.shortcutsDisable.indexOf('underline') === -1) {\r\n                        command = 'underline';\r\n                    }\r\n                    break;\r\n                case 'I':\r\n                    if (options.shortcutsDisable.indexOf('italic') === -1) {\r\n                        command = 'italic';\r\n                    }\r\n                    break;\r\n                case 'Z':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        if (shift) {\r\n                            command = 'redo';\r\n                        } else {\r\n                            command = 'undo';\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'Y':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        command = 'redo';\r\n                    }\r\n                    break;\r\n                case '[':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = options.rtl ? 'indent' : 'outdent';\r\n                    }\r\n                    break;\r\n                case ']':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = options.rtl ? 'outdent' : 'indent';\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (!command) return !!keyStr;\r\n\r\n            core.commandHandler(core.commandMap[command], command);\r\n            return true;\r\n        },\r\n\r\n        _applyTagEffects: function () {\r\n            if (util.hasClass(context.element.wysiwyg, 'se-read-only')) {\r\n                return false;\r\n            }\r\n\r\n            let selectionNode = core.getSelectionNode();\r\n            if (selectionNode === core.effectNode) return;\r\n            core.effectNode = selectionNode;\r\n\r\n            const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\r\n            const commandMap = core.commandMap;\r\n            const classOnCheck = event._onButtonsCheck;\r\n            const commandMapNodes = [];\r\n            const currentNodes = [];\r\n\r\n            const activePlugins = core.activePlugins;\r\n            const cLen = activePlugins.length;\r\n            let nodeName = '';\r\n\r\n            while (selectionNode.firstChild) {\r\n                selectionNode = selectionNode.firstChild;\r\n            }\r\n\r\n            for (let element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\r\n                if (!element) break;\r\n                if (element.nodeType !== 1 || util.isBreak(element)) continue;\r\n                nodeName = element.nodeName.toUpperCase();\r\n                currentNodes.push(nodeName);\r\n\r\n                /* Active plugins */\r\n                if (!core.isReadOnly) {\r\n                    for (let c = 0, name; c < cLen; c++) {\r\n                        name = activePlugins[c];\r\n                        if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\r\n                            commandMapNodes.push(name);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (util.isFormatElement(element)) {\r\n                    /* Outdent */\r\n                    if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT && !util.isImportantDisabled(commandMap.OUTDENT)) {\r\n                        if (util.isListCell(element) || (element.style[marginDir] && util.getNumber(element.style[marginDir], 0) > 0)) {\r\n                            commandMapNodes.push('OUTDENT');\r\n                            commandMap.OUTDENT.removeAttribute('disabled');\r\n                        }\r\n                    }\r\n\r\n                    /* Indent */\r\n                    if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT && !util.isImportantDisabled(commandMap.INDENT)) {\r\n                        commandMapNodes.push('INDENT');\r\n                        if (util.isListCell(element) && !element.previousElementSibling) {\r\n                            commandMap.INDENT.setAttribute('disabled', true);\r\n                        } else {\r\n                            commandMap.INDENT.removeAttribute('disabled');\r\n                        }\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                /** default active buttons [strong, ins, em, del, sub, sup] */\r\n                if (classOnCheck && classOnCheck.test(nodeName)) {\r\n                    commandMapNodes.push(nodeName);\r\n                    util.addClass(commandMap[nodeName], 'active');\r\n                }\r\n            }\r\n\r\n            core._setKeyEffect(commandMapNodes);\r\n\r\n            /** save current nodes */\r\n            core._variable.currentNodes = currentNodes.reverse();\r\n            core._variable.currentNodesMap = commandMapNodes;\r\n\r\n            /**  Displays the current node structure to resizingBar */\r\n            if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\r\n        },\r\n\r\n        _buttonsEventHandler: function (e) {\r\n            let target = e.target;\r\n            if (core._bindControllersOff) e.stopPropagation();\r\n\r\n            if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\r\n                core._antiBlur = false;\r\n            } else {\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (util.getParentElement(target, '.se-submenu')) {\r\n                e.stopPropagation();\r\n                core._notHideToolbar = true;\r\n            } else {\r\n                let command = target.getAttribute('data-command');\r\n                let className = target.className;\r\n\r\n                while (!command && !/se-menu-list/.test(className) && !/sun-editor-common/.test(className)) {\r\n                    target = target.parentNode;\r\n                    command = target.getAttribute('data-command');\r\n                    className = target.className;\r\n                }\r\n\r\n                if (command === core._submenuName || command === core._containerName) {\r\n                    e.stopPropagation();\r\n                }\r\n            }\r\n        },\r\n\r\n        addGlobalEvent: function (type, listener, useCapture) {\r\n            if (options.iframe) {\r\n                core._ww.addEventListener(type, listener, useCapture);\r\n            }\r\n            core._w.addEventListener(type, listener, useCapture);\r\n            return {\r\n                type: type,\r\n                listener: listener,\r\n                useCapture: useCapture\r\n            };\r\n        },\r\n    \r\n        removeGlobalEvent: function (type, listener, useCapture) {\r\n            if (!type) return;\r\n    \r\n            if (typeof type === 'object') {\r\n                listener = type.listener;\r\n                useCapture = type.useCapture;\r\n                type = type.type;\r\n            }\r\n            if (options.iframe) {\r\n                core._ww.removeEventListener(type, listener, useCapture);\r\n            }\r\n            core._w.removeEventListener(type, listener, useCapture);\r\n        },\r\n\r\n        onClick_toolbar: function (e) {\r\n            let target = e.target;\r\n            let display = target.getAttribute('data-display');\r\n            let command = target.getAttribute('data-command');\r\n            let className = target.className;\r\n            core.controllersOff();\r\n\r\n            while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\r\n                target = target.parentNode;\r\n                command = target.getAttribute('data-command');\r\n                display = target.getAttribute('data-display');\r\n                className = target.className;\r\n            }\r\n\r\n            if (!command && !display) return;\r\n            if (target.disabled) return;\r\n\r\n            core.actionCall(command, display, target);\r\n        },\r\n\r\n        __selectionSyncEvent: null,\r\n        onMouseDown_wysiwyg: function (e) {\r\n            if (core.isReadOnly || util.isNonEditable(context.element.wysiwyg)) return;\r\n            if (util._isExcludeSelectionElement(e.target)) {\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n\r\n            event.removeGlobalEvent(event.__selectionSyncEvent);\r\n            event.__selectionSyncEvent = event.addGlobalEvent('mouseup', function() {\r\n                if (core) {\r\n                    core._editorRange();\r\n                }\r\n                event.removeGlobalEvent(event.__selectionSyncEvent);\r\n            });\r\n\r\n            // user event\r\n            if (typeof functions.onMouseDown === 'function' && functions.onMouseDown(e, core) === false) return;\r\n\r\n            const tableCell = util.getParentElement(e.target, util.isCell);\r\n            if (tableCell) {\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\r\n                    core.callPlugin('table', function () {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\r\n                    }, null);\r\n                }\r\n            }\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n        },\r\n\r\n        onClick_wysiwyg: function (e) {\r\n            // if (util.hasClass(context.element.wysiwyg, 'se-read-only')) {\r\n            //     e.preventDefault();\r\n            //     return false;\r\n            // }\r\n\r\n            const targetElement = e.target;\r\n\r\n            if (core.isReadOnly) {\r\n                e.preventDefault();\r\n                if (util.isAnchor(targetElement)){\r\n                    _w.open(targetElement.href, targetElement.target);\r\n                }\r\n                return false;\r\n            }\r\n\r\n            if (util.isNonEditable(context.element.wysiwyg)) return;\r\n\r\n            // user event\r\n            if (typeof functions.onClick === 'function' && functions.onClick(e, core) === false) return;\r\n\r\n            const fileComponentInfo = core.getFileComponent(targetElement);\r\n            if (fileComponentInfo) {\r\n                e.preventDefault();\r\n                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                return;\r\n            }\r\n\r\n            const figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\r\n            if (figcaption && util.isNonEditable(figcaption)) {\r\n                e.preventDefault();\r\n                figcaption.focus();\r\n\r\n                if (core._isInline && !core._inlineToolbarAttr.isShow) {\r\n                    event._showToolbarInline();\r\n\r\n                    const hideToolbar = function () {\r\n                        event._hideToolbar();\r\n                        figcaption.removeEventListener('blur', hideToolbar);\r\n                    };\r\n\r\n                    figcaption.addEventListener('blur', hideToolbar);\r\n                }\r\n            }\r\n\r\n            core._editorRange();\r\n\r\n            if (e.detail === 3) {\r\n                let range = core.getRange();\r\n                if (util.isFormatElement(range.endContainer) && range.endOffset === 0) {\r\n                    range = core.setRange(range.startContainer, range.startOffset, range.startContainer, range.startContainer.length);\r\n                    core._rangeInfo(range, core.getSelection());\r\n                }\r\n            }\r\n\r\n            const selectionNode = core.getSelectionNode();\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n\r\n            let selectionNodeDeepestFirstChild = selectionNode;\r\n            while (selectionNodeDeepestFirstChild && selectionNodeDeepestFirstChild.firstChild) selectionNodeDeepestFirstChild = selectionNodeDeepestFirstChild.firstChild;\r\n\r\n            const selectedComponentInfo = core.getFileComponent(selectionNodeDeepestFirstChild);\r\n            if (selectedComponentInfo) {\r\n                const range = core.getRange();\r\n                if (!rangeEl && range.startContainer === range.endContainer) core.selectComponent(selectedComponentInfo.target, selectedComponentInfo.pluginName);\r\n            } else if (core.currentFileComponentInfo) core.controllersOff();\r\n\r\n            if (!formatEl && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\r\n                const range = core.getRange();\r\n                if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\r\n                    if (util.isList(rangeEl)) {\r\n                        e.preventDefault();\r\n                        const oLi = util.createElement('LI');\r\n                        const prevLi = selectionNode.nextElementSibling;\r\n                        oLi.appendChild(selectionNode);\r\n                        rangeEl.insertBefore(oLi, prevLi);\r\n                        core.focus();\r\n                    } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode)) && core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag) !== null) {\r\n                        e.preventDefault();\r\n                        core.focus();\r\n                    } else {\r\n                        event._applyTagEffects();\r\n                    }\r\n                }\r\n            } else {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\r\n        },\r\n\r\n        _balloonDelay: null,\r\n        _showToolbarBalloonDelay: function () {\r\n            if (event._balloonDelay) {\r\n                _w.clearTimeout(event._balloonDelay);\r\n            }\r\n\r\n            event._balloonDelay = _w.setTimeout(function () {\r\n                _w.clearTimeout(this._balloonDelay);\r\n                this._balloonDelay = null;\r\n                this._showToolbarBalloon();\r\n            }.bind(event), 350);\r\n        },\r\n\r\n        _toggleToolbarBalloon: function () {\r\n            if (core) {\r\n                core._editorRange();\r\n                const range = core.getRange();\r\n                if (core._bindControllersOff || (!core._isBalloonAlways && range.collapsed)) event._hideToolbar();\r\n                else event._showToolbarBalloon(range);\r\n            }\r\n        },\r\n\r\n        _showToolbarBalloon: function (rangeObj) {\r\n            if (!core._isBalloon) return;\r\n\r\n            const range = rangeObj || core.getRange();\r\n            const toolbar = context.element.toolbar;\r\n            const topArea = context.element.topArea;\r\n            const selection = core.getSelection();\r\n\r\n            let isDirTop;\r\n            if (core._isBalloonAlways && range.collapsed) {\r\n                isDirTop = true;\r\n            } else if (selection.focusNode === selection.anchorNode) {\r\n                isDirTop = selection.focusOffset < selection.anchorOffset;\r\n            } else {\r\n                const childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\r\n                isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\r\n            }\r\n\r\n            let rects = range.getClientRects();\r\n            rects = rects[isDirTop ? 0 : rects.length - 1];\r\n\r\n            const globalScroll = core.getGlobalScrollOffset();\r\n            let scrollLeft = globalScroll.left;\r\n            let scrollTop = globalScroll.top;\r\n\r\n            const editorWidth = topArea.offsetWidth;\r\n            const offsets = event._getEditorOffsets(null);\r\n            const stickyTop = offsets.top;\r\n            const editorLeft = offsets.left;\r\n\r\n            toolbar.style.top = '-10000px';\r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n\r\n            if (!rects) {\r\n                const node = core.getSelectionNode();\r\n                if (util.isFormatElement(node)) {\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    core.insertNode(zeroWidth, null, false);\r\n                    core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n                    core._editorRange();\r\n                    rects = core.getRange().getClientRects();\r\n                    rects = rects[isDirTop ? 0 : rects.length - 1];\r\n                }\r\n\r\n                if (!rects) {\r\n                    const nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\r\n                    rects = {\r\n                        left: nodeOffset.left,\r\n                        top: nodeOffset.top,\r\n                        right: nodeOffset.left,\r\n                        bottom: nodeOffset.top + node.offsetHeight,\r\n                        noText: true\r\n                    };\r\n                    scrollLeft = 0;\r\n                    scrollTop = 0;\r\n                }\r\n\r\n                isDirTop = true;\r\n            }\r\n\r\n            const arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = toolbar.offsetHeight;\r\n            const iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\r\n            if (iframeRects) {\r\n                rects = {\r\n                    left: rects.left + iframeRects.left,\r\n                    top: rects.top + iframeRects.top,\r\n                    right: rects.right + iframeRects.right - iframeRects.width,\r\n                    bottom: rects.bottom + iframeRects.bottom - iframeRects.height\r\n                };\r\n            }\r\n\r\n            event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\r\n                event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            }\r\n\r\n            if (options.toolbarContainer) {\r\n                const editorParent = topArea.parentElement;\r\n\r\n                let container = options.toolbarContainer;\r\n                let left = container.offsetLeft;\r\n                let top = container.offsetTop;\r\n\r\n                while(!container.parentElement.contains(editorParent) || !/^(BODY|HTML)$/i.test(container.parentElement.nodeName)) {\r\n                    container = container.offsetParent;\r\n                    left += container.offsetLeft;\r\n                    top += container.offsetTop;\r\n                }\r\n\r\n                toolbar.style.left = (toolbar.offsetLeft - left + topArea.offsetLeft) + 'px';\r\n                toolbar.style.top = (toolbar.offsetTop - top + topArea.offsetTop) + 'px';\r\n            }\r\n\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _setToolbarOffset: function (isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\r\n            const padding = 1;\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\r\n\r\n            const absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - (toolbarWidth / 2) + scrollLeft;\r\n            const overRight = absoluteLeft + toolbarWidth - editorWidth;\r\n\r\n            let t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n            let l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\r\n\r\n            let resetTop = false;\r\n            const space = t + (isDirTop ? (event._getEditorOffsets(null).top) : (toolbar.offsetHeight - context.element.wysiwyg.offsetHeight));\r\n            if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\r\n                isDirTop = true;\r\n                resetTop = true;\r\n            } else if (isDirTop && _d.documentElement.offsetTop > space) {\r\n                isDirTop = false;\r\n                resetTop = true;\r\n            }\r\n\r\n            if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n\r\n            toolbar.style.left = _w.Math.floor(l) + 'px';\r\n            toolbar.style.top = _w.Math.floor(t) + 'px';\r\n\r\n            if (isDirTop) {\r\n                util.removeClass(context.element._arrow, 'se-arrow-up');\r\n                util.addClass(context.element._arrow, 'se-arrow-down');\r\n                context.element._arrow.style.top = toolbarHeight + 'px';\r\n            } else {\r\n                util.removeClass(context.element._arrow, 'se-arrow-down');\r\n                util.addClass(context.element._arrow, 'se-arrow-up');\r\n                context.element._arrow.style.top = -arrowMargin + 'px';\r\n            }\r\n\r\n            const arrow_left = _w.Math.floor((toolbarWidth / 2) + (absoluteLeft - l));\r\n            context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\r\n        },\r\n\r\n        _showToolbarInline: function () {\r\n            if (!core._isInline) return;\r\n\r\n            const toolbar = context.element.toolbar;\r\n            if (options.toolbarContainer) toolbar.style.position = 'relative';\r\n            else toolbar.style.position = 'absolute';\r\n\r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n            core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\r\n            core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : (-1 - toolbar.offsetHeight)) + 'px';\r\n\r\n            if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\r\n\r\n            event.onScroll_window();\r\n            core._inlineToolbarAttr.isShow = true;\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _hideToolbar: function () {\r\n            if (!core._notHideToolbar && !core._variable.isFullScreen) {\r\n                context.element.toolbar.style.display = 'none';\r\n                core._inlineToolbarAttr.isShow = false;\r\n            }\r\n        },\r\n\r\n        onInput_wysiwyg: function (e) {\r\n            if (/AUDIO/.test(e.target.nodeName)) return false;\r\n            if (core.isReadOnly || core.isDisabled) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                core.history.go(core.history.getCurrentIndex());\r\n                return false;\r\n            }\r\n\r\n            const range = core.getRange();\r\n            const selectionNode = core.getSelectionNode();\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            if (!formatEl && range.collapsed && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\r\n                const rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag);\r\n            }\r\n\r\n            core._editorRange();\r\n\r\n            const data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';\r\n            if (!core._charCount(data)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            // user event\r\n            if (typeof functions.onInput === 'function' && functions.onInput(e, core) === false) return;\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n        },\r\n\r\n        _isUneditableNode: function (range, isFront) {\r\n            const container = isFront ? range.startContainer : range.endContainer;\r\n            const offset = isFront ? range.startOffset : range.endOffset;\r\n            const siblingKey = isFront ? 'previousSibling' : 'nextSibling';\r\n            const isElement = container.nodeType === 1;\r\n            let siblingNode;\r\n\r\n            if (isElement) {\r\n                siblingNode = event._isUneditableNode_getSibling(container.childNodes[offset], siblingKey, container);\r\n                return siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute('contenteditable') === 'false';\r\n            } else {\r\n                siblingNode = event._isUneditableNode_getSibling(container, siblingKey, container);\r\n                return core.isEdgePoint(container, offset, isFront ? 'start' : 'end') && (siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute('contenteditable') === 'false');\r\n            }\r\n        },\r\n\r\n        _isUneditableNode_getSibling: function (selectNode, siblingKey, container) {\r\n            if (!selectNode) return null;\r\n            let siblingNode = selectNode[siblingKey];\r\n\r\n            if (!siblingNode) {\r\n                siblingNode = util.getFormatElement(container);\r\n                siblingNode = siblingNode ? siblingNode[siblingKey] : null;\r\n                if (siblingNode && !util.isComponent(siblingNode)) siblingNode = siblingKey === 'previousSibling' ? siblingNode.firstChild : siblingNode.lastChild;\r\n                else return null;\r\n            }\r\n\r\n            return siblingNode;\r\n        },\r\n\r\n        _onShortcutKey: false,\r\n        onKeyDown_wysiwyg: function (e) {\r\n            let selectionNode = core.getSelectionNode();\r\n            if (util.isInputElement(selectionNode)) return;\r\n\r\n            const keyCode = e.keyCode;\r\n            const shift = e.shiftKey;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n            event._IEisComposing = keyCode === 229;\r\n\r\n            if (!ctrl && core.isReadOnly && !event._cursorMoveKeyCode.test(keyCode)) {\r\n                e.preventDefault();\r\n                return false;\r\n            }\r\n\r\n            core.submenuOff();\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            // user event\r\n            if (typeof functions.onKeyDown === 'function' && functions.onKeyDown(e, core) === false) return;\r\n\r\n            /** Shortcuts */\r\n            if (ctrl && event._shortcutCommand(keyCode, shift)) {\r\n                event._onShortcutKey = true;\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            } else if (event._onShortcutKey) {\r\n                event._onShortcutKey = false;\r\n            }\r\n\r\n            /** default key action */\r\n            if (keyCode === 13 && util.isFormatElement(core.getRange().startContainer)) {\r\n                core._resetRangeToTextNode();\r\n                selectionNode = core.getSelectionNode();\r\n            }\r\n            \r\n            const range = core.getRange();\r\n            const selectRange = !range.collapsed || range.startContainer !== range.endContainer;\r\n            const fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : '';\r\n            let formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\r\n            let rangeEl = util.getRangeFormatElement(formatEl, null);\r\n\r\n            const isArrowKey = /37|38|39|40/.test(e.keyCode);\r\n            if (isArrowKey && event._onKeyDown_wysiwyg_arrowKey(e) === false) return;\r\n\r\n            switch (keyCode) {\r\n                case 8: /** backspace key */\r\n                    if (!selectRange) {\r\n                        if (fileComponentName) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            core.plugins[fileComponentName].destroy.call(core);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode) && core._setDefaultFormat(options.defaultTag) !== null) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        return false;\r\n                    }\r\n\r\n                    if (!selectRange && !formatEl.previousElementSibling && (range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) &&\r\n                        (util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))))) {\r\n                        // closure range\r\n                        if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            return false;\r\n                        }\r\n                        // maintain default format\r\n                        if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n\r\n                            if (formatEl.nodeName.toUpperCase() === options.defaultTag.toUpperCase()) {\r\n                                formatEl.innerHTML = '<br>';\r\n                                const attrs = formatEl.attributes;\r\n                                while (attrs[0]) {\r\n                                    formatEl.removeAttribute(attrs[0].name);\r\n                                }\r\n                            } else {\r\n                                const defaultFormat = util.createElement(options.defaultTag);\r\n                                defaultFormat.innerHTML = '<br>';\r\n                                formatEl.parentElement.replaceChild(defaultFormat, formatEl);\r\n                            }\r\n\r\n                            core.nativeFocus();\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    // clean remove tag\r\n                    const startCon = range.startContainer;\r\n                    if (formatEl && !formatEl.previousElementSibling && range.startOffset === 0 && startCon.nodeType === 3 && !util.isFormatElement(startCon.parentNode)) {\r\n                        let prev = startCon.parentNode.previousSibling;\r\n                        const next = startCon.parentNode.nextSibling;\r\n                        if (!prev) {\r\n                            if (!next) {\r\n                                prev = util.createElement('BR');\r\n                                formatEl.appendChild(prev);\r\n                            } else {\r\n                                prev = next;\r\n                            }\r\n                        }\r\n\r\n                        let con = startCon;\r\n                        while(formatEl.contains(con) && !con.previousSibling) {\r\n                            con = con.parentNode;\r\n                        }\r\n\r\n                        if (!formatEl.contains(con)) {\r\n                            startCon.textContent = '';\r\n                            util.removeItemAllParents(startCon, null, formatEl);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // tag[contenteditable=\"false\"]\r\n                    if (event._isUneditableNode(range, true)) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    // format attributes\r\n                    if (!selectRange && core._isEdgeFormat(range.startContainer, range.startOffset, 'start')) {\r\n                        if (util.isFormatElement(formatEl.previousElementSibling)) {\r\n                            core._formatAttrsTemp = formatEl.previousElementSibling.attributes;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    const commonCon = range.commonAncestorContainer;\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling)))) &&\r\n                            (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : (range.startOffset === 0  && range.collapsed))) {\r\n                            if (range.startContainer !== range.endContainer) {\r\n                                e.preventDefault();\r\n\r\n                                core.removeNode();\r\n                                if (range.startContainer.nodeType === 3) {\r\n                                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\r\n                                }\r\n                                // history stack\r\n                                core.history.push(true);\r\n                            } else {\r\n                                let prev = formatEl.previousElementSibling || rangeEl.parentNode;\r\n                                if (util.isListCell(prev)) {\r\n                                    e.preventDefault();\r\n\r\n                                    let prevLast = prev;\r\n                                    if (!prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                        prevLast = prevLast.lastElementChild.lastElementChild;\r\n                                        while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                            prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\r\n                                        }\r\n                                        prev = prevLast;\r\n                                    }\r\n\r\n                                    let con = prev === rangeEl.parentNode ? rangeEl.previousSibling : prev.lastChild;\r\n                                    if (!con) {\r\n                                        con = util.createTextNode(util.zeroWidthSpace);\r\n                                        rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\r\n                                    }\r\n                                    const offset = con.nodeType === 3 ? con.textContent.length : 1;\r\n                                    const children = formatEl.childNodes;\r\n                                    let after = con;\r\n                                    let child = children[0];\r\n                                    while ((child = children[0])) {\r\n                                        prev.insertBefore(child, after.nextSibling);\r\n                                        after = child;\r\n                                    }\r\n\r\n                                    util.removeItem(formatEl);\r\n                                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\r\n\r\n                                    core.setRange(con, offset, con, offset);\r\n                                    // history stack\r\n                                    core.history.push(true);\r\n                                }\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n\r\n                        // detach range\r\n                        if (!selectRange && range.startOffset === 0) {\r\n                            let detach = true;\r\n                            let comm = commonCon;\r\n                            while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\r\n                                if (comm.previousSibling) {\r\n                                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\r\n                                        detach = false;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                comm = comm.parentNode;\r\n                            }\r\n\r\n                            if (detach && rangeEl.parentNode) {\r\n                                e.preventDefault();\r\n                                core.detachRangeFormatElement(rangeEl, (util.isListCell(formatEl) ? [formatEl] : null), null, false, false);\r\n                                // history stack\r\n                                core.history.push(true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // component\r\n                    if (!selectRange && formatEl && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const isList = util.isListCell(formatEl);\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\r\n                        const prev = isList ? sel.previousSibling : formatEl.previousSibling;\r\n                        // select file component\r\n                        const ignoreZWS = isList || (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\r\n                        if (sel && ((isList || !sel.previousSibling)) && ((commonCon && util.isComponent(commonCon.previousSibling)) || (ignoreZWS && util.isComponent(prev)))) {\r\n                            const fileComponentInfo = core.getFileComponent(prev);\r\n                            if (fileComponentInfo) {\r\n                                e.preventDefault();\r\n                                e.stopPropagation();\r\n                                \r\n                                if (isList) util.removeItem(sel);\r\n                                else if (formatEl.textContent.length === 0) util.removeItem(formatEl);\r\n\r\n                                if (core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName) === false) core.blur();\r\n                            } else if (util.isComponent(prev)) {\r\n                                e.preventDefault();\r\n                                e.stopPropagation();\r\n                                util.removeItem(prev);\r\n                            }\r\n                            break;\r\n                        }\r\n                        // delete nonEditable\r\n                        if (sel && util.isNonEditable(sel.previousSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.previousSibling);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n                case 46: /** delete key */\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.plugins[fileComponentName].destroy.call(core);\r\n                        break;\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    if (!selectRange && core._isEdgeFormat(range.endContainer, range.endOffset, 'end') && !formatEl.nextSibling) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        return;\r\n                    }\r\n\r\n                    // tag[contenteditable=\"false\"]\r\n                    if (event._isUneditableNode(range, false)) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    // component\r\n                    if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || (util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null)) && range.startOffset === selectionNode.textContent.length) {\r\n                        const nextEl = formatEl.nextElementSibling;\r\n                        if (!nextEl) break;\r\n                        if (util.isComponent(nextEl)) {\r\n                            e.preventDefault();\r\n\r\n                            if (util.onlyZeroWidthSpace(formatEl)) {\r\n                                util.removeItem(formatEl);\r\n                                // table component\r\n                                if (util.isTable(nextEl)) {\r\n                                    let cell = util.getChildElement(nextEl, util.isCell, false);\r\n                                    cell = cell.firstElementChild || cell;\r\n                                    core.setRange(cell, 0, cell, 0);\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            // select file component\r\n                            const fileComponentInfo = core.getFileComponent(nextEl);\r\n                            if (fileComponentInfo) {\r\n                                e.stopPropagation();\r\n                                if (core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName) === false) core.blur();\r\n                            } else if (util.isComponent(nextEl)) {\r\n                                e.stopPropagation();\r\n                                util.removeItem(nextEl);\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] || selectionNode : selectionNode;\r\n                        // delete nonEditable\r\n                        if (sel && util.isNonEditable(sel.nextSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.nextSibling);\r\n                            break;\r\n                        } else if (util.isComponent(sel)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // format attributes\r\n                    if (!selectRange && core._isEdgeFormat(range.endContainer, range.endOffset, 'end')) {\r\n                        if (util.isFormatElement(formatEl.nextElementSibling)) {\r\n                            core._formatAttrsTemp = formatEl.attributes;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) &&\r\n                        (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : (range.endOffset === selectionNode.textContent.length && range.collapsed))))) {\r\n                        if (range.startContainer !== range.endContainer) core.removeNode();\r\n\r\n                        let next = util.getArrayItem(formatEl.children, util.isList, false);\r\n                        next = next || formatEl.nextElementSibling || (rangeEl.parentNode ? rangeEl.parentNode.nextElementSibling : null);\r\n                        if (next && (util.isList(next) || util.getArrayItem(next.children, util.isList, false))) {\r\n                            e.preventDefault();\r\n\r\n                            let con, children;\r\n                            if (util.isList(next)) {\r\n                                const child = next.firstElementChild;\r\n                                children = child.childNodes;\r\n                                con = children[0];\r\n                                while (children[0]) {\r\n                                    formatEl.insertBefore(children[0], next);\r\n                                }\r\n                                util.removeItem(child);\r\n                            } else {\r\n                                con = next.firstChild;\r\n                                children = next.childNodes;\r\n                                while (children[0]) {\r\n                                    formatEl.appendChild(children[0]);\r\n                                }\r\n                                util.removeItem(next);\r\n                            }\r\n                            core.setRange(con, 0, con, 0);\r\n                            // history stack\r\n                            core.history.push(true);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                    break;\r\n                case 9: /** tab key */\r\n                    if (fileComponentName || options.tabDisable) break;\r\n                    e.preventDefault();\r\n                    if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\r\n\r\n                    const isEdge = (!range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset));\r\n                    const selectedFormats = core.getSelectedElements(null);\r\n                    selectionNode = core.getSelectionNode();\r\n                    const cells = [];\r\n                    let lines = [];\r\n                    let fc = util.isListCell(selectedFormats[0]), lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\r\n                    let r = {sc: range.startContainer, so: range.startOffset, ec: range.endContainer, eo: range.endOffset};\r\n                    for (let i = 0, len = selectedFormats.length, f; i < len; i++) {\r\n                        f = selectedFormats[i];\r\n                        if (util.isListCell(f)) {\r\n                            if (!f.previousElementSibling && !shift) {\r\n                                continue;\r\n                            } else {\r\n                                cells.push(f);\r\n                            }\r\n                        } else {\r\n                            lines.push(f);\r\n                        }\r\n                    }\r\n\r\n                    // Nested list\r\n                    if (cells.length > 0 && isEdge && core.plugins.list) {\r\n                        r = core.plugins.list.editInsideList.call(core, shift, cells);\r\n                    } else {\r\n                        // table\r\n                        const tableCell = util.getParentElement(selectionNode, util.isCell);\r\n                        if (tableCell && isEdge) {\r\n                            const table = util.getParentElement(tableCell, 'table');\r\n                            const cells = util.getListChildren(table, util.isCell);\r\n                            let idx = shift ? util.prevIdx(cells, tableCell) : util.nextIdx(cells, tableCell);\r\n\r\n                            if (idx === cells.length && !shift) idx = 0;\r\n                            if (idx === -1 && shift) idx = cells.length - 1;\r\n\r\n                            let moveCell = cells[idx];\r\n                            if (!moveCell) break;\r\n                            moveCell = moveCell.firstElementChild || moveCell;\r\n                            core.setRange(moveCell, 0, moveCell, 0);\r\n                            break;\r\n                        }\r\n\r\n                        lines = lines.concat(cells);\r\n                        fc = lc = null;\r\n                    }\r\n\r\n                    // Lines tab(4)\r\n                    if (lines.length > 0) {\r\n                        if (!shift) {\r\n                            const tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join('\\u00A0'));\r\n                            if (lines.length === 1) {\r\n                                if (!core.insertNode(tabText, null, true)) return false;\r\n                                if (!fc) {\r\n                                    r.sc = tabText;\r\n                                    r.so = tabText.length;\r\n                                }\r\n                                if (!lc) {\r\n                                    r.ec = tabText;\r\n                                    r.eo = tabText.length;\r\n                                }\r\n                            } else {\r\n                                const len = lines.length - 1;\r\n                                for (let i = 0, child; i <= len; i++) {\r\n                                    child = lines[i].firstChild;\r\n                                    if (!child) continue;\r\n\r\n                                    if (util.isBreak(child)) {\r\n                                        lines[i].insertBefore(tabText.cloneNode(false), child);\r\n                                    } else {\r\n                                        child.textContent = tabText.textContent + child.textContent;\r\n                                    }\r\n                                }\r\n\r\n                                const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                                const endChild = util.getChildElement(lines[len], 'text', true);\r\n                                if (!fc && firstChild) {\r\n                                    r.sc = firstChild;\r\n                                    r.so = 0;\r\n                                }\r\n                                if (!lc && endChild) {\r\n                                    r.ec = endChild;\r\n                                    r.eo = endChild.textContent.length;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            const len = lines.length - 1;\r\n                            for (let i = 0, line; i <= len; i++) {\r\n                                line = lines[i].childNodes;\r\n                                for (let c = 0, cLen = line.length, child; c < cLen; c++) {\r\n                                    child = line[c];\r\n                                    if (!child) break;\r\n                                    if (util.onlyZeroWidthSpace(child)) continue;\r\n\r\n                                    if (/^\\s{1,4}$/.test(child.textContent)) {\r\n                                        util.removeItem(child);\r\n                                    } else if (/^\\s{1,4}/.test(child.textContent)) {\r\n                                        child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\r\n                                    }\r\n\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                            const endChild = util.getChildElement(lines[len], 'text', true);\r\n                            if (!fc && firstChild) {\r\n                                r.sc = firstChild;\r\n                                r.so = 0;\r\n                            }\r\n                            if (!lc && endChild) {\r\n                                r.ec = endChild;\r\n                                r.eo = endChild.textContent.length;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    core.setRange(r.sc, r.so, r.ec, r.eo);\r\n                    // history stack\r\n                    core.history.push(false);\r\n\r\n                    break;\r\n                case 13: /** enter key */\r\n                    // enter login start\r\n                    const freeFormatEl = util.getFreeFormatElement(selectionNode, null);\r\n\r\n                    if (core._charTypeHTML) {\r\n                        let enterHTML = '';\r\n                        if ((!shift && freeFormatEl) || shift) {\r\n                            enterHTML = '<br>';\r\n                        } else {\r\n                            enterHTML = '<' + formatEl.nodeName + '><br></' + formatEl.nodeName + '>';\r\n                        }\r\n\r\n                        if (!core.checkCharCount(enterHTML, 'byte-html')) {\r\n                            e.preventDefault();\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    if (!shift && !fileComponentName) {\r\n                        const formatEndEdge = core._isEdgeFormat(range.endContainer, range.endOffset, 'end');\r\n                        const formatStartEdge = core._isEdgeFormat(range.startContainer, range.startOffset, 'start');\r\n\r\n                        // add default format line\r\n                        if (formatEndEdge && (/^H[1-6]$/i.test(formatEl.nodeName) || /^HR$/i.test(formatEl.nodeName))) {\r\n                            event._enterPrevent(e);\r\n                            let temp = null;\r\n                            const newFormat = core.appendFormatTag(formatEl, options.defaultTag);\r\n\r\n                            if (formatEndEdge && formatEndEdge.length > 0) {\r\n                                temp = formatEndEdge.pop();\r\n                                const innerNode = temp;\r\n                                while(formatEndEdge.length > 0) {\r\n                                    temp = temp.appendChild(formatEndEdge.pop());\r\n                                }\r\n                                newFormat.appendChild(innerNode);\r\n                            }\r\n\r\n                            temp = !temp ? newFormat.firstChild : temp.appendChild(newFormat.firstChild);\r\n                            if (util.isBreak(temp)) {\r\n                                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                                temp.parentNode.insertBefore(zeroWidth, temp);\r\n                                core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n                            } else {\r\n                                core.setRange(temp, 0, temp, 0);\r\n                            }\r\n                            break;\r\n                        } else if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                            const range = core.getRange();\r\n                            if(core.isEdgePoint(range.endContainer, range.endOffset) && util.isList(selectionNode.nextSibling)) {\r\n                                event._enterPrevent(e);\r\n                                const newEl = util.createElement('LI');\r\n                                const br = util.createElement('BR');\r\n                                newEl.appendChild(br);\r\n\r\n                                formatEl.parentNode.insertBefore(newEl, formatEl.nextElementSibling);\r\n                                newEl.appendChild(selectionNode.nextSibling);\r\n\r\n                                core.setRange(br, 1, br, 1);\r\n                                break;\r\n                            }\r\n\r\n                            if ((range.commonAncestorContainer.nodeType === 3 ? !range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim()) && !util.isListCell(formatEl.nextElementSibling)) {\r\n                                event._enterPrevent(e);\r\n                                let newEl = null;\r\n\r\n                                if (util.isListCell(rangeEl.parentNode)) {\r\n                                    const parentLi = formatEl.parentNode.parentNode;\r\n                                    rangeEl = parentLi.parentNode;\r\n                                    const newListCell = util.createElement('LI');\r\n                                    newListCell.innerHTML = '<br>';\r\n                                    util.copyTagAttributes(newListCell, formatEl, options.lineAttrReset);\r\n                                    newEl = newListCell;\r\n                                    rangeEl.insertBefore(newEl, parentLi.nextElementSibling);\r\n                                } else {\r\n                                    const newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : (util.isFormatElement(rangeEl.nextElementSibling) && !util.isRangeFormatElement(rangeEl.nextElementSibling)) ? rangeEl.nextElementSibling.nodeName : (util.isFormatElement(rangeEl.previousElementSibling) && !util.isRangeFormatElement(rangeEl.previousElementSibling)) ? rangeEl.previousElementSibling.nodeName : options.defaultTag;\r\n                                    newEl = util.createElement(newFormat);\r\n                                    util.copyTagAttributes(newEl, formatEl, options.lineAttrReset);\r\n                                    const edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\r\n                                    edge.cc.insertBefore(newEl, edge.ec);\r\n                                }\r\n\r\n                                newEl.innerHTML = '<br>';\r\n                                util.removeItemAllParents(formatEl, null, null);\r\n                                core.setRange(newEl, 1, newEl, 1);\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        if (freeFormatEl) {\r\n                            event._enterPrevent(e);\r\n                            const selectionFormat = selectionNode === freeFormatEl;\r\n                            const wSelection = core.getSelection();\r\n                            const children = selectionNode.childNodes, offset = wSelection.focusOffset, prev = selectionNode.previousElementSibling, next = selectionNode.nextSibling;\r\n\r\n                            if (!util.isClosureFreeFormatElement(freeFormatEl) && !!children && ((selectionFormat && range.collapsed && children.length - 1 <= offset + 1 && util.isBreak(children[offset]) && (!children[offset + 1] || ((!children[offset + 2] || util.onlyZeroWidthSpace(children[offset + 2].textContent)) && children[offset + 1].nodeType === 3 && util.onlyZeroWidthSpace(children[offset + 1].textContent))) &&  offset > 0 && util.isBreak(children[offset - 1])) ||\r\n                                (!selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(prev) && (util.isBreak(prev.previousSibling) || !util.onlyZeroWidthSpace(prev.previousSibling.textContent)) && (!next || (!util.isBreak(next) && util.onlyZeroWidthSpace(next.textContent)))))) {\r\n                                if (selectionFormat) util.removeItem(children[offset - 1]);\r\n                                else util.removeItem(selectionNode);\r\n                                const newEl = core.appendFormatTag(freeFormatEl, (util.isFormatElement(freeFormatEl.nextElementSibling) && !util.isRangeFormatElement(freeFormatEl.nextElementSibling)) ? freeFormatEl.nextElementSibling : null);\r\n                                util.copyFormatAttributes(newEl, freeFormatEl);\r\n                                core.setRange(newEl, 1, newEl, 1);\r\n                                break;\r\n                            }\r\n\r\n                            if (selectionFormat) {\r\n                                functions.insertHTML(((range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1])) ? '<br>' : '<br><br>'), true, false);\r\n\r\n                                let focusNode = wSelection.focusNode;\r\n                                const wOffset = wSelection.focusOffset;\r\n                                if (freeFormatEl === focusNode) {\r\n                                    focusNode = focusNode.childNodes[wOffset - offset > 1 ? wOffset - 1 : wOffset];\r\n                                }\r\n\r\n                                core.setRange(focusNode, 1, focusNode, 1);\r\n                            } else {\r\n                                const focusNext = wSelection.focusNode.nextSibling;\r\n                                const br = util.createElement('BR');\r\n                                core.insertNode(br, null, false);\r\n\r\n                                const brPrev = br.previousSibling, brNext = br.nextSibling;\r\n                                if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\r\n                                    br.parentNode.insertBefore(br.cloneNode(false), br);\r\n                                    core.setRange(br, 1, br, 1);\r\n                                } else {\r\n                                    core.setRange(brNext, 0, brNext, 0);\r\n                                }\r\n                            }\r\n\r\n                            event._onShortcutKey = true;\r\n                            break;\r\n                        }\r\n\r\n                        // set format attrs - edge\r\n                        if (range.collapsed && (formatStartEdge || formatEndEdge)) {\r\n                            event._enterPrevent(e);\r\n                            const focusBR = util.createElement('BR');\r\n                            const newFormat = util.createElement(formatEl.nodeName);\r\n                            util.copyTagAttributes(newFormat, formatEl, options.lineAttrReset);\r\n\r\n                            let child = focusBR;\r\n                            do {\r\n                                if (!util.isBreak(selectionNode) && selectionNode.nodeType === 1) {\r\n                                    const f = selectionNode.cloneNode(false);\r\n                                    f.appendChild(child);\r\n                                    child = f;\r\n                                }\r\n                                selectionNode = selectionNode.parentNode;\r\n                            } while(formatEl !== selectionNode && formatEl.contains(selectionNode));\r\n\r\n                            newFormat.appendChild(child);\r\n                            formatEl.parentNode.insertBefore(newFormat, formatStartEdge && !formatEndEdge ? formatEl : formatEl.nextElementSibling);\r\n                            if (formatEndEdge) {\r\n                                core.setRange(focusBR, 1, focusBR, 1);\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n\r\n                        if (formatEl) {\r\n                            e.stopPropagation();\r\n\r\n                            let newEl;\r\n                            let offset = 0;\r\n                            if (!range.collapsed) {\r\n                                const isMultiLine = util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null);\r\n                                const newFormat = formatEl.cloneNode(false);\r\n                                newFormat.innerHTML = '<br>';\r\n                                const commonCon = range.commonAncestorContainer;\r\n                                const r = commonCon === range.startContainer && commonCon === range.endContainer && util.onlyZeroWidthSpace(commonCon) ? range : core.removeNode();\r\n                                newEl = util.getFormatElement(r.container, null);\r\n                                if (!newEl) {\r\n                                    if (util.isWysiwygDiv(r.container)) {\r\n                                        event._enterPrevent(e);\r\n                                        context.element.wysiwyg.appendChild(newFormat);\r\n                                        newEl = newFormat;\r\n                                        util.copyTagAttributes(newEl, formatEl, options.lineAttrReset);\r\n                                        core.setRange(newEl, offset, newEl, offset);\r\n                                    }\r\n                                    break;\r\n                                }\r\n\r\n                                const innerRange = util.getRangeFormatElement(r.container);\r\n                                newEl = newEl.contains(innerRange) ? util.getChildElement(innerRange, util.getFormatElement.bind(util)) : newEl;\r\n                                if (isMultiLine) {\r\n                                    if (formatEndEdge && !formatStartEdge) {\r\n                                        newEl.parentNode.insertBefore(newFormat, (!r.prevContainer || r.container === r.prevContainer) ? newEl.nextElementSibling : newEl);\r\n                                        newEl = newFormat;\r\n                                        offset = 0;\r\n                                    } else {\r\n                                        offset = r.offset;\r\n                                        if (formatStartEdge) {\r\n                                            const tempEl = newEl.parentNode.insertBefore(newFormat, newEl);\r\n                                            if (formatEndEdge) {\r\n                                                newEl = tempEl;\r\n                                                offset = 0;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    if (formatEndEdge && formatStartEdge) {\r\n                                        newEl.parentNode.insertBefore(newFormat, (r.prevContainer && r.container === r.prevContainer) ? newEl.nextElementSibling : newEl);\r\n                                        newEl = newFormat;\r\n                                        offset = 0;\r\n                                    } else {\r\n                                        newEl = util.splitElement(r.container, r.offset, util.getElementDepth(formatEl));\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                if (util.onlyZeroWidthSpace(formatEl)) {\r\n                                    newEl = core.appendFormatTag(formatEl, formatEl.cloneNode(false));\r\n                                } else {\r\n                                    newEl = util.splitElement(range.endContainer, range.endOffset, util.getElementDepth(formatEl));\r\n                                }\r\n                            }\r\n\r\n                            event._enterPrevent(e);\r\n                            util.copyTagAttributes(newEl, formatEl, options.lineAttrReset);\r\n                            core.setRange(newEl, offset, newEl, offset);\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (selectRange) break;\r\n\r\n                    if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\r\n                        event._enterPrevent(e);\r\n                        formatEl = core.appendFormatTag(formatEl, null);\r\n                        core.setRange(formatEl, 0, formatEl, 0);\r\n                    }\r\n\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.containerOff();\r\n                        core.controllersOff();\r\n\r\n                        const compContext = context[fileComponentName];\r\n                        const container = compContext._container;\r\n                        const sibling = container.previousElementSibling || container.nextElementSibling;\r\n\r\n                        let newEl = null;\r\n                        if (util.isListCell(container.parentNode)) {\r\n                            newEl = util.createElement('BR');\r\n                        } else {\r\n                            newEl = util.createElement((util.isFormatElement(sibling) && !util.isRangeFormatElement(sibling)) ? sibling.nodeName : options.defaultTag);\r\n                            newEl.innerHTML = '<br>';\r\n                        }\r\n\r\n                        if (shift) container.parentNode.insertBefore(newEl, container);\r\n                        else container.parentNode.insertBefore(newEl, container.nextElementSibling);\r\n\r\n                        core.callPlugin(fileComponentName, function () {\r\n                            if (core.selectComponent(compContext._element, fileComponentName) === false) core.blur();\r\n                        }, null);\r\n                    }\r\n\r\n                    break;\r\n                case 27:\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.controllersOff();\r\n                        return false;\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (core.currentFileComponentInfo) core.controllersOff();\r\n\r\n            if (shift && keyCode === 16) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\r\n                    const cell = util.getParentElement(formatEl, util.isCell);\r\n                    if (cell) {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, cell, true);\r\n                        return;\r\n                    }\r\n                }\r\n            } else if (shift && (util.isOSX_IOS ? alt : ctrl) && keyCode === 32) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const nbsp = core.insertNode(util.createTextNode('\\u00a0'));\r\n                if (nbsp) {\r\n                    core.setRange(nbsp, nbsp.length, nbsp, nbsp.length);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (util.isIE && !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode) && util.isBreak(range.commonAncestorContainer)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                core.insertNode(zeroWidth, null, false);\r\n                core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n            }\r\n\r\n            if (event._directionKeyCode.test(keyCode)) {\r\n                _w.setTimeout(core._editorRange.bind(core), 0);\r\n                event._applyTagEffects();\r\n            }\r\n        },\r\n\r\n        _onKeyDown_wysiwyg_arrowKey: function (e) {\r\n            if (e.shiftKey) return; // shiftkey needs(?) other custom handler. This one may be adapted (in 'selectNode(...)'), but not for table\r\n\r\n            let selectionNode = core.getSelectionNode();\r\n\r\n            const selectNode = function (node, offset) {\r\n                if (!offset) offset = 0;\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                if (!node) return;\r\n\r\n                let componentInfo = core.getFileComponent(node);\r\n                if (componentInfo) {\r\n                    core.selectComponent(componentInfo.target, componentInfo.pluginName);   // more responsive for key holdness\r\n                } else {\r\n                    core.setRange(node, offset, node, offset);\r\n                    core.controllersOff();\r\n                }\r\n            };\r\n\r\n            const table = util.getParentElement(selectionNode, 'table');\r\n            if (table) {\r\n                const currentRow = util.getParentElement(selectionNode, 'tr');\r\n                const currentCell = util.getParentElement(selectionNode, 'td');\r\n\r\n                let currentCellFirstNode = currentCell;\r\n                let currentCellLastNode = currentCell;\r\n                if (currentCell) {\r\n                    while (currentCellFirstNode && currentCellFirstNode.firstChild) currentCellFirstNode = currentCellFirstNode.firstChild;\r\n                    while (currentCellLastNode && currentCellLastNode.lastChild) currentCellLastNode = currentCellLastNode.lastChild;\r\n                }\r\n\r\n                let selectionNodeDeepestFirstChild = selectionNode;\r\n                while (selectionNodeDeepestFirstChild && selectionNodeDeepestFirstChild.firstChild) selectionNodeDeepestFirstChild = selectionNodeDeepestFirstChild.firstChild;\r\n                const isCellFirstNode = (selectionNodeDeepestFirstChild === currentCellFirstNode);\r\n                const isCellLastNode = (selectionNodeDeepestFirstChild === currentCellLastNode);\r\n\r\n                let siblingToSet = null;\r\n                let offset = 0;\r\n                if (e.keyCode === 38 && isCellFirstNode) { // UP\r\n                    const previousRow = currentRow && currentRow.previousElementSibling;\r\n                    if (previousRow) siblingToSet = previousRow.children[currentCell.cellIndex];\r\n                    else siblingToSet = util.getPreviousDeepestNode(table, core.context.element.wysiwyg);\r\n\r\n                    while (siblingToSet && siblingToSet.lastChild) siblingToSet = siblingToSet.lastChild;\r\n                    if (siblingToSet) offset = siblingToSet.textContent.length;\r\n                } else if (e.keyCode === 40 && isCellLastNode) {  // DOWN\r\n                    const nextRow = currentRow && currentRow.nextElementSibling;\r\n                    if (nextRow) siblingToSet = nextRow.children[currentCell.cellIndex];\r\n                    else siblingToSet = util.getNextDeepestNode(table, core.context.element.wysiwyg);\r\n\r\n                    while (siblingToSet && siblingToSet.firstChild) siblingToSet = siblingToSet.firstChild;\r\n                }\r\n\r\n                if (siblingToSet) {\r\n                    selectNode(siblingToSet, offset);\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            const componentInfo = core.getFileComponent(selectionNode);\r\n            if (componentInfo) {\r\n                const selectPrevious = /37|38/.test(e.keyCode);\r\n                const selectNext = /39|40/.test(e.keyCode);\r\n\r\n                if (selectPrevious) {\r\n                    const previousDeepestNode = util.getPreviousDeepestNode(componentInfo.target, core.context.element.wysiwyg);\r\n                    selectNode(previousDeepestNode, previousDeepestNode && previousDeepestNode.textContent.length);\r\n                } else if (selectNext) {\r\n                    const nextDeepestNode = util.getNextDeepestNode(componentInfo.target, core.context.element.wysiwyg);\r\n                    selectNode(nextDeepestNode);\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        onKeyUp_wysiwyg: function (e) {\r\n            if (event._onShortcutKey) return;\r\n\r\n            core._editorRange();\r\n            const keyCode = e.keyCode;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n\r\n            if (core.isReadOnly) {\r\n                if (!ctrl && event._cursorMoveKeyCode.test(keyCode)) event._applyTagEffects();\r\n                return;\r\n            }\r\n\r\n            const range = core.getRange();\r\n            let selectionNode = core.getSelectionNode();\r\n\r\n            if (core._isBalloon && ((core._isBalloonAlways && keyCode !== 27) || !range.collapsed)) {\r\n                if (core._isBalloonAlways) {\r\n                    if (keyCode !== 27) event._showToolbarBalloonDelay();\r\n                } else {\r\n                    event._showToolbarBalloon();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            let selectionNodeDeepestFirstChild = selectionNode;\r\n            while (selectionNodeDeepestFirstChild && selectionNodeDeepestFirstChild.firstChild) selectionNodeDeepestFirstChild = selectionNodeDeepestFirstChild.firstChild;\r\n\r\n            const selectedComponentInfo = core.getFileComponent(selectionNodeDeepestFirstChild);\r\n            if (!(e.keyCode === 16 || e.shiftKey) && selectedComponentInfo) core.selectComponent(selectedComponentInfo.target, selectedComponentInfo.pluginName);\r\n\r\n            /** when format tag deleted */\r\n            if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '' && selectionNode.children.length === 0) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                selectionNode.innerHTML = '';\r\n\r\n                const oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : options.defaultTag);\r\n                oFormatTag.innerHTML = '<br>';\r\n\r\n                selectionNode.appendChild(oFormatTag);\r\n                core.setRange(oFormatTag, 0, oFormatTag, 0);\r\n                event._applyTagEffects();\r\n\r\n                core.history.push(false);\r\n                return;\r\n            }\r\n\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            const attrs = core._formatAttrsTemp;\r\n\r\n            if (attrs) {\r\n                for (let i = 0, len = attrs.length; i < len; i++) {\r\n                    if (keyCode === 13 && /^id$/i.test(attrs[i].name)) {\r\n                        formatEl.removeAttribute('id');\r\n                        continue;\r\n                    }\r\n                    formatEl.setAttribute(attrs[i].name, attrs[i].value);\r\n                }\r\n                core._formatAttrsTemp = null;\r\n            }\r\n\r\n            if (!formatEl && range.collapsed && !util.isComponent(selectionNode) && !util.isList(selectionNode) && core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag) !== null) {\r\n                selectionNode = core.getSelectionNode();\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\r\n                let so = range.startOffset, eo = range.endOffset;\r\n                const frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\r\n                so = range.startOffset - frontZeroWidthCnt;\r\n                eo = range.endOffset - frontZeroWidthCnt;\r\n                selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\r\n                core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\r\n            }\r\n\r\n            if (event._deleteKeyCode.test(keyCode) && formatEl && util.onlyZeroWidthSpace(formatEl.textContent) && !formatEl.previousElementSibling) {\r\n                formatEl.innerHTML = '<br>';\r\n                core.setRange(formatEl, 0, formatEl, 0);\r\n            }\r\n\r\n            core._charCount('');\r\n\r\n            // user event\r\n            if (typeof functions.onKeyUp === 'function' && functions.onKeyUp(e, core) === false) return;\r\n\r\n            // history stack\r\n            if (!ctrl && !alt && !event._historyIgnoreKeyCode.test(keyCode)) {\r\n                core.history.push(true);\r\n            }\r\n        },\r\n\r\n        onScroll_wysiwyg: function (e) {\r\n            core.controllersOff();\r\n            if (core._isBalloon) event._hideToolbar();\r\n\r\n            // user event\r\n            if (typeof functions.onScroll === 'function') functions.onScroll(e, core);\r\n        },\r\n\r\n        onFocus_wysiwyg: function (e) {\r\n            if (core._antiBlur) return;\r\n            core.hasFocus = true;\r\n            _w.setTimeout(event._applyTagEffects);\r\n\r\n            if (core._isInline) event._showToolbarInline();\r\n\r\n            // user event\r\n            if (typeof functions.onFocus === 'function') functions.onFocus(e, core);\r\n        },\r\n\r\n        onBlur_wysiwyg: function (e) {\r\n            if (core._antiBlur || core._variable.isCodeView) return;\r\n            core.hasFocus = false;\r\n            core.effectNode = null;\r\n            core.controllersOff();\r\n            if (core._isInline || core._isBalloon) event._hideToolbar();\r\n\r\n            core._setKeyEffect([]);\r\n\r\n            core._variable.currentNodes = [];\r\n            core._variable.currentNodesMap = [];\r\n            if (options.showPathLabel) context.element.navigation.textContent = '';\r\n            // user event\r\n            if (typeof functions.onBlur === 'function') functions.onBlur(e, core,this);\r\n        },\r\n\r\n        onMouseDown_resizingBar: function (e) {\r\n            e.stopPropagation();\r\n\r\n            core.submenuOff();\r\n            core.controllersOff();\r\n\r\n            core._variable.resizeClientY = e.clientY;\r\n            context.element.resizeBackground.style.display = 'block';\r\n\r\n            function closureFunc() {\r\n                context.element.resizeBackground.style.display = 'none';\r\n                _d.removeEventListener('mousemove', event._resize_editor);\r\n                _d.removeEventListener('mouseup', closureFunc);\r\n            }\r\n\r\n            _d.addEventListener('mousemove', event._resize_editor);\r\n            _d.addEventListener('mouseup', closureFunc);\r\n        },\r\n\r\n        _resize_editor: function (e) {\r\n            const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\r\n            const h = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval);\r\n            context.element.wysiwygFrame.style.height = context.element.code.style.height = h + 'px';\r\n            core._variable.resizeClientY = e.clientY;\r\n            if (!util.isResizeObserverSupported) core.__callResizeFunction(h, null);\r\n        },\r\n\r\n        onResize_window: function () {\r\n            if (!util.isResizeObserverSupported) core.resetResponsiveToolbar();\r\n\r\n            const toolbar = context.element.toolbar;\r\n            const isToolbarHidden = (toolbar.style.display === 'none' || (core._isInline && !core._inlineToolbarAttr.isShow));\r\n            if (toolbar.offsetWidth === 0 && !isToolbarHidden) return;\r\n\r\n            if (context.fileBrowser && context.fileBrowser.area.style.display === 'block') {\r\n                context.fileBrowser.body.style.maxHeight = (_w.innerHeight - context.fileBrowser.header.offsetHeight - 50) + 'px';\r\n            }\r\n\r\n            if (core.submenuActiveButton && core.submenu) {\r\n                core._setMenuPosition(core.submenuActiveButton, core.submenu);\r\n            }\r\n\r\n            if (core._variable.isFullScreen) {\r\n                core._variable.innerHeight_fullScreen += (_w.innerHeight - toolbar.offsetHeight) - core._variable.innerHeight_fullScreen;\r\n                context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\r\n                return;\r\n            }\r\n\r\n            if (core._variable.isCodeView && core._isInline) {\r\n                event._showToolbarInline();\r\n                return;\r\n            }\r\n\r\n            core._iframeAutoHeight();\r\n\r\n            if (core._sticky) {\r\n                toolbar.style.width = (context.element.topArea.offsetWidth - 2) + 'px';\r\n                event.onScroll_window();\r\n            }\r\n        },\r\n\r\n        onScroll_window: function () {\r\n            if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\r\n\r\n            const element = context.element;\r\n            const editorHeight = element.editorArea.offsetHeight;\r\n            const y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\r\n            const editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\r\n            const inlineOffset = core._isInline && (y - editorTop) > 0 ? y - editorTop - context.element.toolbar.offsetHeight : 0;\r\n\r\n            if (y < editorTop) {\r\n                event._offStickyToolbar();\r\n            }\r\n            else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\r\n                if (!core._sticky) event._onStickyToolbar(inlineOffset);\r\n                element.toolbar.style.top = (inlineOffset + editorHeight + editorTop + options.stickyToolbar - y - core._variable.minResizingSize) + 'px';\r\n            }\r\n            else if (y >= editorTop) {\r\n                event._onStickyToolbar(inlineOffset);\r\n            }\r\n        },\r\n\r\n        _getEditorOffsets: function (container) {\r\n            let offsetEl = container || context.element.topArea;\r\n            let t = 0, l = 0, s = 0;\r\n\r\n            while (offsetEl) {\r\n                t += offsetEl.offsetTop;\r\n                l += offsetEl.offsetLeft;\r\n                s += offsetEl.scrollTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            return {\r\n                top: t,\r\n                left: l,\r\n                scroll: s\r\n            };\r\n        },\r\n\r\n        _getPageBottomSpace: function () {\r\n            return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\r\n        },\r\n\r\n        _onStickyToolbar: function (inlineOffset) {\r\n            const element = context.element;\r\n\r\n            if (!core._isInline && !options.toolbarContainer) {\r\n                element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\r\n                element._stickyDummy.style.display = 'block';\r\n            }\r\n\r\n            element.toolbar.style.top = (options.stickyToolbar + inlineOffset) + 'px';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\r\n            util.addClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = true;\r\n        },\r\n\r\n        _offStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            element._stickyDummy.style.display = 'none';\r\n            element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\r\n            element.editorArea.style.marginTop = '';\r\n\r\n            util.removeClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = false;\r\n        },\r\n\r\n        _codeViewAutoHeight: function () {\r\n            if (core._variable.isFullScreen) return;\r\n            context.element.code.style.height = context.element.code.scrollHeight + 'px';\r\n        },\r\n\r\n        // FireFox - table delete, Chrome - image, video, audio\r\n        _hardDelete: function () {\r\n            const range = core.getRange();\r\n            const sc = range.startContainer;\r\n            const ec = range.endContainer;\r\n\r\n            // table\r\n            const sCell = util.getRangeFormatElement(sc);\r\n            const eCell = util.getRangeFormatElement(ec);\r\n            const sIsCell = util.isCell(sCell);\r\n            const eIsCell = util.isCell(eCell);\r\n            const ancestor = range.commonAncestorContainer;\r\n            if (((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling) || (eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling)) && sCell !== eCell) {\r\n                if (!sIsCell) {\r\n                    util.removeItem(util.getParentElement(eCell, function(current) {return ancestor === current.parentNode;}));\r\n                } else if (!eIsCell) {\r\n                    util.removeItem(util.getParentElement(sCell, function(current) {return ancestor === current.parentNode;}));\r\n                } else {\r\n                    util.removeItem(util.getParentElement(sCell, function(current) {return ancestor === current.parentNode;}));\r\n                    core.nativeFocus();\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            // component\r\n            const sComp = sc.nodeType === 1 ? util.getParentElement(sc, '.se-component') : null;\r\n            const eComp = ec.nodeType === 1 ? util.getParentElement(ec, '.se-component') : null;\r\n            if (sComp) util.removeItem(sComp);\r\n            if (eComp) util.removeItem(eComp);\r\n\r\n            return false;\r\n        },\r\n\r\n        onPaste_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (!clipboardData) return true;\r\n            return event._dataTransferAction('paste', e, clipboardData);\r\n        },\r\n\r\n        _setClipboardComponent: function (e, info, clipboardData) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            clipboardData.setData('text/html', info.component.outerHTML);\r\n        },\r\n\r\n        onCopy_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n\r\n            // user event\r\n            if (typeof functions.onCopy === 'function' && functions.onCopy(e, clipboardData, core) === false) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.addClass(info.component, 'se-component-copy');\r\n                // copy effect\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(info.component, 'se-component-copy');\r\n                }, 150);\r\n            }\r\n        },\r\n\r\n        onSave_wysiwyg: function (content) {\r\n            // user event\r\n            if (typeof functions.onSave === 'function') {\r\n                functions.onSave(content, core);\r\n                return;\r\n            }\r\n        },\r\n\r\n        onCut_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n\r\n            // user event\r\n            if (typeof functions.onCut === 'function' && functions.onCut(e, clipboardData, core) === false) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.removeItem(info.component);\r\n                core.controllersOff();\r\n            }\r\n\r\n            _w.setTimeout(function () {\r\n                // history stack\r\n                core.history.push(false);\r\n            });\r\n        },\r\n\r\n        onDrop_wysiwyg: function (e) {\r\n            if (core.isReadOnly || util.isIE) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const dataTransfer = e.dataTransfer;\r\n            if (!dataTransfer) return true;\r\n\r\n            event._setDropLocationSelection(e);\r\n            core.removeNode();\r\n\r\n            if (!document.body.contains(core.currentControllerTarget)) core.controllersOff();\r\n\r\n            return event._dataTransferAction('drop', e, dataTransfer);\r\n        },\r\n\r\n        _setDropLocationSelection: function (e) {\r\n            const range = { startContainer: null, startOffset: null, endContainer: null, endOffset: null };\r\n\r\n            let r = null;\r\n            if (e.rangeParent) {\r\n                range.startContainer = e.rangeParent;\r\n                range.startOffset = e.rangeOffset;\r\n                range.endContainer = e.rangeParent;\r\n                range.endOffset = e.rangeOffset;\r\n            } else if (core._wd.caretRangeFromPoint) {\r\n                r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\r\n            } else {\r\n                r = core.getRange();\r\n            }\r\n            if (r) {\r\n                range.startContainer = r.startContainer;\r\n                range.startOffset = r.startOffset;\r\n                range.endContainer = r.endContainer;\r\n                range.endOffset = r.endOffset;\r\n            }\r\n\r\n            if (range.startContainer === range.endContainer) {\r\n                const component = util.getParentElement(range.startContainer, util.isComponent);\r\n                if (component) {\r\n                    range.startContainer = component;\r\n                    range.startOffset = 0;\r\n                    range.endContainer = component;\r\n                    range.endOffset = 0;\r\n                }\r\n            }\r\n            core.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\r\n        },\r\n\r\n        _dataTransferAction: function (type, e, data) {\r\n            let plainText, cleanData;\r\n            if (util.isIE) {\r\n                plainText = data.getData('Text');\r\n\r\n                const range = core.getRange();\r\n                const tempDiv = util.createElement('DIV');\r\n                const tempRange = {\r\n                    sc: range.startContainer,\r\n                    so: range.startOffset,\r\n                    ec: range.endContainer,\r\n                    eo: range.endOffset\r\n                };\r\n\r\n                tempDiv.setAttribute('contenteditable', true);\r\n                tempDiv.style.cssText = 'position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;';\r\n\r\n                context.element.relative.appendChild(tempDiv);\r\n                tempDiv.focus();\r\n\r\n                _w.setTimeout(function () {\r\n                    cleanData = tempDiv.innerHTML;\r\n                    util.removeItem(tempDiv);\r\n                    core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\r\n                    event._setClipboardData(type, e, plainText, cleanData, data);\r\n                });\r\n\r\n                return true;\r\n            } else {\r\n                plainText = data.getData('text/plain');\r\n                cleanData = data.getData('text/html');\r\n                if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n\r\n        _setClipboardData: function (type, e, plainText, cleanData, data) {\r\n            // MS word, OneNode, Excel\r\n            const MSData = /class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData) || /content=[\"']*Excel.Sheet/i.test(cleanData);\r\n            const onlyText = !cleanData;\r\n\r\n            if (!onlyText) {\r\n                cleanData = cleanData.replace(/^<html>\\r?\\n?<body>\\r?\\n?\\x3C!--StartFragment--\\>|\\x3C!--EndFragment-->\\r?\\n?<\\/body\\>\\r?\\n?<\\/html>$/g, '');\r\n                if (MSData) {\r\n                    cleanData = cleanData.replace(/\\n/g, ' ');\r\n                    plainText = plainText.replace(/\\n/g, ' ');\r\n                }\r\n                cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp, core.pasteTagsBlacklistRegExp);\r\n            } else {\r\n                cleanData = util._HTMLConvertor(plainText).replace(/\\n/g, '<br>');\r\n            }\r\n\r\n            const maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText);\r\n            // user event - paste\r\n            if (type === 'paste' && typeof functions.onPaste === 'function') {\r\n                const value = functions.onPaste(e, cleanData, maxCharCount, core);\r\n                if (value === false) {\r\n                    return false;\r\n                } else if (typeof value === 'string') {\r\n                    if (!value) return false;\r\n                    cleanData = value;\r\n                }\r\n            }\r\n            // user event - drop\r\n            if (type === 'drop' && typeof functions.onDrop === 'function') {\r\n                const value = functions.onDrop(e, cleanData, maxCharCount, core);\r\n                if (value === false) {\r\n                    return false;\r\n                } else if (typeof value === 'string') {\r\n                    if (!value) return false;\r\n                    cleanData = value;\r\n                }\r\n            }\r\n\r\n            // files\r\n            const files = data.files;\r\n            if (files.length > 0 && !MSData) {\r\n                if (/^image/.test(files[0].type) && core.plugins.image) {\r\n                    functions.insertImage(files);\r\n                }\r\n                return false;\r\n            }\r\n\r\n            if (!maxCharCount) {\r\n                return false;\r\n            }\r\n\r\n            if (cleanData) {\r\n                functions.insertHTML(cleanData, true, false);\r\n                return false;\r\n            }\r\n        },\r\n\r\n        onMouseMove_wysiwyg: function (e) {\r\n            if (core.isDisabled || core.isReadOnly) return false;\r\n            const component = util.getParentElement(e.target, util.isComponent);\r\n            const lineBreakerStyle = core._lineBreaker.style;\r\n\r\n            if (component && !core.currentControllerName) {\r\n                const ctxEl = context.element;\r\n                let scrollTop = 0;\r\n                let el = ctxEl.wysiwyg;\r\n                do {\r\n                    scrollTop += el.scrollTop;\r\n                    el = el.parentElement;\r\n                } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\r\n\r\n                const wScroll = ctxEl.wysiwyg.scrollTop;\r\n                const offsets = event._getEditorOffsets(null);\r\n                const componentTop = util.getOffset(component, ctxEl.wysiwygFrame).top + wScroll;\r\n                const y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? ctxEl.toolbar.offsetHeight : 0);\r\n                const c = componentTop + (options.iframe ? scrollTop : offsets.top);\r\n\r\n                const isList = util.isListCell(component.parentNode);\r\n                let dir = '', top = '';\r\n                if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < (c + 20)) {\r\n                    top = componentTop;\r\n                    dir = 't';\r\n                } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > (c + component.offsetHeight - 20)) {\r\n                    top = componentTop + component.offsetHeight;\r\n                    dir = 'b';\r\n                } else {\r\n                    lineBreakerStyle.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                core._variable._lineBreakComp = component;\r\n                core._variable._lineBreakDir = dir;\r\n                lineBreakerStyle.top = (top - wScroll) + 'px';\r\n                core._lineBreakerButton.style.left = (util.getOffset(component).left + (component.offsetWidth / 2) - 15) + 'px';\r\n                lineBreakerStyle.display = 'block';\r\n            } // off line breaker\r\n            else if (lineBreakerStyle.display !== 'none') {\r\n                lineBreakerStyle.display = 'none';\r\n            }\r\n        },\r\n\r\n        _enterPrevent: function (e) {\r\n            e.preventDefault();\r\n            if (!util.isMobile) return;\r\n\r\n            core.__focusTemp.focus();\r\n        },\r\n\r\n        _onMouseDown_lineBreak: function (e) {\r\n            e.preventDefault();\r\n        },\r\n\r\n        _onLineBreak: function (e) {\r\n            e.preventDefault();\r\n\r\n            const component = core._variable._lineBreakComp;\r\n            const dir = !this ? core._variable._lineBreakDir : this;\r\n            const isList = util.isListCell(component.parentNode);\r\n\r\n            const format = util.createElement(isList ? 'BR' : util.isCell(component.parentNode) ? 'DIV' : options.defaultTag);\r\n            if (!isList) format.innerHTML = '<br>';\r\n\r\n            if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, 'byte-html')) return;\r\n\r\n            component.parentNode.insertBefore(format, dir === 't' ? component : component.nextSibling);\r\n            core._lineBreaker.style.display = 'none';\r\n            core._variable._lineBreakComp = null;\r\n\r\n            const focusEl = isList ? format : format.firstChild;\r\n            core.setRange(focusEl, 1, focusEl, 1);\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        _resizeObserver: null,\r\n        _toolbarObserver: null,\r\n        _addEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n            if (util.isResizeObserverSupported) {\r\n                this._resizeObserver = new _w.ResizeObserver(function(entries) {\r\n                    core.__callResizeFunction(-1, entries[0]);\r\n                });\r\n            }\r\n\r\n            /** toolbar event */\r\n            context.element.toolbar.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element._menuTray.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\r\n            /** editor area */\r\n            eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\r\n            eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('copy', event.onCopy_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\r\n\r\n            /** line breaker */\r\n            event._lineBreakerBind = { a: event._onLineBreak.bind(''), t: event._onLineBreak.bind('t'), b: event._onLineBreak.bind('b') };\r\n            eventWysiwyg.addEventListener('mousemove', event.onMouseMove_wysiwyg, false);\r\n            core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\r\n            core._lineBreakerButton.addEventListener('click', event._lineBreakerBind.a, false);\r\n            context.element.lineBreaker_t.addEventListener('mousedown', event._lineBreakerBind.t, false);\r\n            context.element.lineBreaker_b.addEventListener('mousedown', event._lineBreakerBind.b, false);\r\n\r\n            /** Events are registered mobile.  */\r\n            eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            eventWysiwyg.addEventListener('touchend', event.onClick_wysiwyg, {passive: true, useCapture: false});\r\n\r\n            /** code view area auto line */\r\n            if (options.height === 'auto' && !options.codeMirrorEditor) {\r\n                context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\r\n            }\r\n\r\n            /** resizingBar */\r\n            if (context.element.resizingBar) {\r\n                if (/\\d+/.test(options.height) && options.resizeEnable) {\r\n                    context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\r\n                } else {\r\n                    util.addClass(context.element.resizingBar, 'se-resizing-none');\r\n                }\r\n            }\r\n\r\n            /** set response toolbar */\r\n            event._setResponsiveToolbar();\r\n\r\n            /** responsive toolbar observer */\r\n            if (util.isResizeObserverSupported) this._toolbarObserver = new _w.ResizeObserver(core.resetResponsiveToolbar);\r\n\r\n            /** window event */\r\n            _w.addEventListener('resize', event.onResize_window, false);\r\n            if (options.stickyToolbar > -1) {\r\n                _w.addEventListener('scroll', event.onScroll_window, false);\r\n            }\r\n        },\r\n\r\n        _removeEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            context.element.toolbar.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element._menuTray.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\r\n\r\n            eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\r\n            eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\r\n            eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\r\n            eventWysiwyg.removeEventListener('copy', event.onCopy_wysiwyg);\r\n            eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\r\n            eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\r\n            eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\r\n\r\n            eventWysiwyg.removeEventListener('mousemove', event.onMouseMove_wysiwyg);\r\n            core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\r\n            core._lineBreakerButton.removeEventListener('click', event._lineBreakerBind.a);\r\n            context.element.lineBreaker_t.removeEventListener('mousedown', event._lineBreakerBind.t);\r\n            context.element.lineBreaker_b.removeEventListener('mousedown', event._lineBreakerBind.b);\r\n            event._lineBreakerBind = null;\r\n\r\n            eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            eventWysiwyg.removeEventListener('touchend', event.onClick_wysiwyg, {passive: true, useCapture: false});\r\n            eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\r\n            eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\r\n\r\n            context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\r\n\r\n            if (context.element.resizingBar) {\r\n                context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\r\n            }\r\n\r\n            if (event._resizeObserver) {\r\n                event._resizeObserver.unobserve(context.element.wysiwygFrame);\r\n                event._resizeObserver = null;\r\n            }\r\n\r\n            if (event._toolbarObserver) {\r\n                event._toolbarObserver.unobserve(context.element._toolbarShadow);\r\n                event._toolbarObserver = null;\r\n            }\r\n\r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n        },\r\n\r\n        _setResponsiveToolbar: function () {\r\n            if (_responsiveButtons.length === 0) {\r\n                _responsiveButtons = null;\r\n                return;\r\n            }\r\n\r\n            event._responsiveCurrentSize = 'default';\r\n            const sizeArray = event._responsiveButtonSize = [];\r\n            const buttonsObj = event._responsiveButtons = {default: _responsiveButtons[0]};\r\n            for (let i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\r\n                buttonGroup = _responsiveButtons[i];\r\n                size = buttonGroup[0] * 1;\r\n                sizeArray.push(size);\r\n                buttonsObj[size] = buttonGroup[1];\r\n            }\r\n\r\n            sizeArray.sort(function (a, b) { return a - b; }).unshift('default');\r\n        }\r\n    };\r\n\r\n    /** functions */\r\n    const functions = {\r\n        /**\r\n         * @description Core, Util object\r\n         */\r\n        core: core,\r\n        util: util,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {Object} e Event Object\r\n         * @param {Object} core Core object\r\n         */\r\n        onload: null,\r\n        onScroll: null,\r\n        onMouseDown: null,\r\n        onClick: null,\r\n        onInput: null,\r\n        onKeyDown: null,\r\n        onKeyUp: null,\r\n        onCopy: null,\r\n        onCut: null,\r\n        onFocus: null,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {Object} e Event Object\r\n         * @param {Object} core Core object\r\n         * @param {String} contents Current contents\r\n         */\r\n        onBlur: null,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {String} contents Current contents\r\n         * @param {Object} core Core object\r\n         */\r\n        onChange: null,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {String} contents Current contents\r\n         * @param {Object} core Core object\r\n         */\r\n        onSave: null,\r\n\r\n        /**\r\n         * @description Event functions (drop, paste)\r\n         * When false is returned, the default behavior is stopped.\r\n         * If the string is returned, the cleanData value is modified to the return value.\r\n         * @param {Object} e Event object.\r\n         * @param {String} cleanData HTML string modified for editor format.\r\n         * @param {Boolean} maxChartCount option (true if max character is exceeded)\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean|String}\r\n         */\r\n        onDrop: null,\r\n        onPaste: null,\r\n\r\n        /**\r\n         * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n         * @param {Element} toolbar Toolbar Element\r\n         * @param {Object} context The editor's context object (editor.getContext())\r\n         * @param {Object} core Core object\r\n         */\r\n        showInline: null,\r\n\r\n        /**\r\n         * @description Called just after the controller is positioned and displayed on the screen.\r\n         * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n         * @param {String} name The name of the plugin that called the controller\r\n         * @param {Array} controllers Array of Controller elements\r\n         * @param {Object} core Core object\r\n         */\r\n        showController: null,\r\n\r\n        /**\r\n         * @description An event when toggling between code view and wysiwyg view.\r\n         * @param {Boolean} isCodeView Whether the current code view mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleCodeView: null,\r\n\r\n        /**\r\n         * @description An event when toggling full screen.\r\n         * @param {Boolean} isFullScreen Whether the current full screen mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleFullScreen: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the image upload\r\n         * @param {Object} response Response object\r\n         * @param {Object} info Input information\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * @param {Object} core Core object\r\n         */\r\n        imageUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the video upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * @param core Core object\r\n         */\r\n        videoUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the audio upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * @param core Core object\r\n         */\r\n        audioUploadHandler: null,\r\n\r\n        /**\r\n         * @description Called before the image is uploaded\r\n         * If true is returned, the internal upload process runs normally.\r\n         * If false is returned, no image upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onImageUploadBefore: null,\r\n        /**\r\n         * @description Called before the video is uploaded\r\n         * If true is returned, the internal upload process runs normally.\r\n         * If false is returned, no video(iframe, video) upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onVideoUploadBefore: null,\r\n        /**\r\n         * @description Called before the audio is uploaded\r\n         * If true is returned, the internal upload process runs normally.\r\n         * If false is returned, no audio upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onAudioUploadBefore: null,\r\n\r\n        /**\r\n         * @description Called when the image is uploaded, updated, deleted\r\n         * @param {Element} targetElement Target element\r\n         * @param {Number} index Uploaded index\r\n         * @param {String} state Upload status ('create', 'update', 'delete')\r\n         * @param {Object} info Image info object\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n         * @param {Object} core Core object\r\n         */\r\n        onImageUpload: null,\r\n        /**\r\n        * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n        * -- arguments is same \"onImageUpload\" --\r\n        */\r\n        onVideoUpload: null,\r\n        /**\r\n        * @description Called when the audio is is uploaded, updated, deleted\r\n        * -- arguments is same \"onImageUpload\" --\r\n        */\r\n        onAudioUpload: null,\r\n\r\n        /**\r\n         * @description Called when the image is upload failed\r\n         * @param {String} errorMessage Error message\r\n         * @param {Object} result Response Object\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean}\r\n         */\r\n        onImageUploadError: null,\r\n        /**\r\n         * @description Called when the video(iframe, video) upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onVideoUploadError: null,\r\n        /**\r\n         * @description Called when the audio upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onAudioUploadError: null,\r\n\r\n        /**\r\n         * @description Called when the editor is resized using the bottom bar\r\n         */\r\n        onResizeEditor: null,\r\n\r\n        /**\r\n         * @description Called after the \"setToolbarButtons\" invocation.\r\n         * Can be used to tweak buttons properties (useful for custom buttons)\r\n         * @param {Array} buttonList Button list \r\n         * @param {Object} core Core object\r\n         */\r\n        onSetToolbarButtons: null,\r\n\r\n        /**\r\n         * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n         * You cannot set a new plugin for the button.\r\n         * @param {Array} buttonList Button list \r\n         */\r\n        setToolbarButtons: function (buttonList) {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.moreLayerOff();\r\n\r\n            const newToolbar = _Constructor._createToolBar(_d, buttonList, core.plugins, options);\r\n            _responsiveButtons = newToolbar.responsiveButtons;\r\n            event._setResponsiveToolbar();\r\n\r\n            context.element.toolbar.replaceChild(newToolbar._buttonTray, context.element._buttonTray);\r\n            const newContext = _Context(context.element.originElement, core._getConstructed(context.element), options);\r\n\r\n            context.element = newContext.element;\r\n            context.tool = newContext.tool;\r\n            if (options.iframe) context.element.wysiwyg = core._wd.body;\r\n\r\n            core._recoverButtonStates();\r\n            core._cachingButtons();\r\n            core.history._resetCachingButton();\r\n\r\n            core.effectNode = null;\r\n            if (core.hasFocus) event._applyTagEffects();\r\n            if (core.isReadOnly) util.setDisabledButtons(true, core.resizingDisabledButtons);\r\n            if (typeof functions.onSetToolbarButtons === 'function') functions.onSetToolbarButtons(newToolbar._buttonTray.querySelectorAll('button'), core);\r\n        },\r\n\r\n        /**\r\n         * @description Add or reset option property (Editor is reloaded)\r\n         * @param {Object} _options Options\r\n         */\r\n        setOptions: function (_options) {\r\n            event._removeEvent();\r\n            core._resetComponents();\r\n\r\n            util.removeClass(core._styleCommandMap.showBlocks, 'active');\r\n            util.removeClass(core._styleCommandMap.codeView, 'active');\r\n            core._variable.isCodeView = false;\r\n            core._iframeAuto = null;\r\n\r\n            core.plugins = _options.plugins || core.plugins;\r\n            const mergeOptions = [options, _options].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (!util.hasOwn(option, key)) continue;\r\n                    if (key === 'plugins' && option[key] && init[key]) {\r\n                        let i = init[key], o = option[key];\r\n                        i = i.length ? i : _w.Object.keys(i).map(function(name) { return i[name]; });\r\n                        o = o.length ? o : _w.Object.keys(o).map(function(name) { return o[name]; });\r\n                        init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\r\n                    } else {\r\n                        init[key] = option[key];\r\n                    }\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            const el = context.element;\r\n            const _initHTML = el.wysiwyg.innerHTML;\r\n\r\n            // set option\r\n            const cons = _Constructor._setOptions(mergeOptions, context, options);\r\n\r\n            if (cons.callButtons) {\r\n                pluginCallButtons = cons.callButtons;\r\n                core.initPlugins = {};\r\n            }\r\n\r\n            if (cons.plugins) {\r\n                core.plugins = plugins = cons.plugins;\r\n            }\r\n\r\n            // reset context\r\n            if (el._menuTray.children.length === 0) this._menuTray = {};\r\n            _responsiveButtons = cons.toolbar.responsiveButtons;\r\n            core.options = options = mergeOptions;\r\n            core.lang = lang = options.lang;\r\n\r\n            if (options.iframe) {\r\n                el.wysiwygFrame.addEventListener('load', function () {\r\n                    util._setIframeDocument(this, options);\r\n                    core._setOptionsInit(el, _initHTML);\r\n                });\r\n            }\r\n\r\n            el.editorArea.appendChild(el.wysiwygFrame);\r\n\r\n            if (!options.iframe) {\r\n                core._setOptionsInit(el, _initHTML);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set \"options.defaultStyle\" style.\r\n         * Define the style of the edit area\r\n         * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n         * @param {String} style Style string\r\n         */\r\n        setDefaultStyle: function (style) {\r\n            const newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\r\n            const el = context.element;\r\n\r\n            // top area\r\n            el.topArea.style.cssText = newStyles.top;\r\n            // code view\r\n            el.code.style.cssText = options._editorStyles.frame;\r\n            el.code.style.display = 'none';\r\n            if (options.height === 'auto') {\r\n                el.code.style.overflow = 'hidden';\r\n            } else {\r\n                el.code.style.overflow = '';\r\n            }\r\n            // wysiwyg frame\r\n            if (!options.iframe) {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\r\n            } else {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame;\r\n                el.wysiwyg.style.cssText = newStyles.editor;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a notice area\r\n         * @param {String} message Notice message\r\n         */\r\n        noticeOpen: function (message) {\r\n            core.notice.open.call(core, message);\r\n        },\r\n\r\n        /**\r\n         * @description Close a notice area\r\n         */\r\n        noticeClose: function () {\r\n            core.notice.close.call(core);\r\n        },\r\n\r\n        /**\r\n         * @description Copying the contents of the editor to the original textarea and execute onSave callback\r\n         * * not working during enabled codeView mode\r\n         */\r\n        save: function () {\r\n            const contents = core.getContents(false);\r\n            context.element.originElement.value = contents;\r\n            event.onSave_wysiwyg(contents, core);\r\n        },\r\n\r\n        /**\r\n         * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n         * @returns {Object}\r\n         */\r\n        getContext: function () {\r\n            return context;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the contents of the suneditor\r\n         * * not working during enabled codeView mode\r\n         * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {String}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            return core.getContents(onlyContents);\r\n        },\r\n\r\n        /**\r\n         * @description Gets only the text of the suneditor contents\r\n         * * not working during enabled codeView mode\r\n         * @returns {String}\r\n         */\r\n        getText: function () {\r\n            return context.element.wysiwyg.textContent;\r\n        },\r\n\r\n        /**\r\n         * @description Get the editor's number of characters or binary data size.\r\n         * You can use the \"charCounterType\" option format.\r\n         * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n         * If argument is no value, the currently set \"charCounterType\" option is used.\r\n         * @returns {Number}\r\n         */\r\n        getCharCount: function (charCounterType) {\r\n            charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\r\n            return core.getCharLength((core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent), charCounterType);\r\n        },\r\n\r\n        /**\r\n         * @description Gets uploaded images informations\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @returns {Array}\r\n         */\r\n        getImagesInfo: function () {\r\n            return context.image ? context.image._infoList : [];\r\n        },\r\n\r\n        /**\r\n         * @description Gets uploaded files(plugin using fileManager) information list.\r\n         * image: [img], video: [video, iframe], audio: [audio]\r\n         * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {String} pluginName Plugin name (image, video, audio)\r\n         * @returns {Array}\r\n         */\r\n        getFilesInfo: function (pluginName) {\r\n            return context[pluginName] ? context[pluginName]._infoList : [];\r\n        },\r\n\r\n        /**\r\n         * @description Upload images using image plugin\r\n         * @param {FileList} files FileList\r\n         */\r\n        insertImage: function (files) {\r\n            if (!core.plugins.image || !files) return;\r\n\r\n            if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);\r\n            else core.plugins.image.submitAction.call(core, files);\r\n            core.focus();\r\n        },\r\n\r\n        /**\r\n         * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n         * @param {Element|String} html HTML Element or HTML string or plain string\r\n         * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n         */\r\n        insertHTML: function (html, notCleaningData, checkCharCount, rangeSelection) {\r\n            if (!context.element.wysiwygFrame.contains(core.getSelection().focusNode)) core.focus();\r\n\r\n            if (typeof html === 'string') {\r\n                if (!notCleaningData) html = core.cleanHTML(html, null, null);\r\n                try {\r\n                    if (util.isListCell(util.getFormatElement(core.getSelectionNode(), null))) {\r\n                        const dom = _d.createRange().createContextualFragment(html);\r\n                        const domTree = dom.childNodes;\r\n                        if (core._isFormatData(domTree)) html = core._convertListCell(domTree);\r\n                    }\r\n\r\n                    const dom = _d.createRange().createContextualFragment(html);\r\n                    const domTree = dom.childNodes;\r\n\r\n                    if (checkCharCount) {\r\n                        const type = core._charTypeHTML ? 'outerHTML' : 'textContent';\r\n                        let checkHTML = '';\r\n                        for (let i = 0, len = domTree.length; i < len; i++) {\r\n                            checkHTML += domTree[i][type];\r\n                        }\r\n                        if (!core.checkCharCount(checkHTML, null)) return;\r\n                    }\r\n\r\n                    let c, a, t, prev, firstCon;\r\n                    while ((c = domTree[0])) {\r\n                        if (prev && prev.nodeType === 3 && a && a.nodeType === 1 && util.isBreak(c)) {\r\n                            prev = c;\r\n                            util.removeItem(c);\r\n                            continue;\r\n                        }\r\n                        t = core.insertNode(c, a, false);\r\n                        a = t.container || t;\r\n                        if (!firstCon) firstCon = t;\r\n                        prev = c;\r\n                    }\r\n\r\n                    if (prev.nodeType === 3 && a.nodeType === 1) a = prev;\r\n                    const offset = a.nodeType === 3 ? (t.endOffset || a.textContent.length): a.childNodes.length;\r\n                    if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);\r\n                    else core.setRange(a, offset, a, offset);\r\n                } catch (error) {\r\n                    if (core.isDisabled || core.isReadOnly) return;\r\n                    console.warn('[SUNEDITOR.insertHTML.fail] ' + error);\r\n                    core.execCommand('insertHTML', false, html);\r\n                }\r\n            } else {\r\n                if (util.isComponent(html)) {\r\n                    core.insertComponent(html, false, checkCharCount, false);\r\n                } else {\r\n                    let afterNode = null;\r\n                    if (util.isFormatElement(html) || util.isMedia(html)) {\r\n                        afterNode = util.getFormatElement(core.getSelectionNode(), null);\r\n                    }\r\n                    core.insertNode(html, afterNode, checkCharCount);\r\n                }\r\n            }\r\n\r\n            core.effectNode = null;\r\n            core.focus();\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Change the contents of the suneditor\r\n         * @param {String|undefined} contents Contents to Input\r\n         */\r\n        setContents: function (contents) {\r\n            core.setContents(contents);\r\n        },\r\n\r\n        /**\r\n         * @description Add contents to the suneditor\r\n         * @param {String} contents Contents to Input\r\n         */\r\n        appendContents: function (contents) {\r\n            const convertValue = core.convertContentsForEditor(contents);\r\n\r\n            if (!core._variable.isCodeView) {\r\n                const temp = util.createElement('DIV');\r\n                temp.innerHTML = convertValue;\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const children = temp.children;\r\n                for (let i = 0, len = children.length; i < len; i++) {\r\n                    if (children[i]) {\r\n                        wysiwyg.appendChild(children[i]);\r\n                    }\r\n                }\r\n            } else {\r\n                core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue, false));\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Switch to or off \"ReadOnly\" mode.\r\n         * @param {Boolean} value \"readOnly\" boolean value.\r\n         */\r\n        readOnly: function (value) {\r\n            core.isReadOnly = value;\r\n\r\n            util.setDisabledButtons(!!value, core.resizingDisabledButtons);\r\n\r\n            if (value) {\r\n                /** off menus */\r\n                core.controllersOff();\r\n                if (core.submenuActiveButton && core.submenuActiveButton.disabled) core.submenuOff();\r\n                if (core._moreLayerActiveButton && core._moreLayerActiveButton.disabled) core.moreLayerOff();\r\n                if (core.containerActiveButton && core.containerActiveButton.disabled) core.containerOff();\r\n                if (core.modalForm) core.plugins.dialog.close.call(core);\r\n\r\n                context.element.code.setAttribute(\"readOnly\", \"true\");\r\n                util.addClass(context.element.wysiwygFrame, 'se-read-only');\r\n            } else {\r\n                context.element.code.removeAttribute(\"readOnly\");\r\n                util.removeClass(context.element.wysiwygFrame, 'se-read-only');\r\n            }\r\n\r\n            if (options.codeMirrorEditor) options.codeMirrorEditor.setOption('readOnly', !!value);\r\n        },\r\n\r\n        /**\r\n         * @description Disable the suneditor\r\n         */\r\n        disable: function () {\r\n            this.toolbar.disable();\r\n            this.wysiwyg.disable();\r\n        },\r\n\r\n        /**\r\n         * @description Provided for backward compatibility and will be removed in 3.0.0 version\r\n         */\r\n        disabled: function () {\r\n            this.disable();\r\n        },\r\n\r\n        /**\r\n         * @description Enable the suneditor\r\n         */\r\n        enable: function () {\r\n            this.toolbar.enable();\r\n            this.wysiwyg.enable();\r\n        },\r\n\r\n        /**\r\n         * @description Provided for backward compatibility and will be removed in 3.0.0 version\r\n         */\r\n        enabled: function () {\r\n            this.enable();\r\n        },\r\n\r\n        /**\r\n         * @description Show the suneditor\r\n         */\r\n        show: function () {\r\n            const topAreaStyle = context.element.topArea.style;\r\n            if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\r\n        },\r\n\r\n        /**\r\n         * @description Hide the suneditor\r\n         */\r\n        hide: function () {\r\n            context.element.topArea.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Destroy the suneditor\r\n         */\r\n        destroy: function () {\r\n            /** off menus */\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n            if (core.notice) core.notice.close.call(core);\r\n            if (core.modalForm) core.plugins.dialog.close.call(core);\r\n\r\n            /** remove history */\r\n            core.history._destroy();\r\n\r\n            /** remove event listeners */\r\n            event._removeEvent();\r\n\r\n            /** remove element */\r\n            util.removeItem(context.element.toolbar);\r\n            util.removeItem(context.element.topArea);\r\n\r\n            /** remove object reference */\r\n            for (let k in core.functions) { if (util.hasOwn(core, k)) delete core.functions[k]; }\r\n            for (let k in core) { if (util.hasOwn(core, k)) delete core[k]; }\r\n            for (let k in event) { if (util.hasOwn(event, k)) delete event[k]; }\r\n            for (let k in context) { if (util.hasOwn(context, k)) delete context[k]; }\r\n            for (let k in pluginCallButtons) { if (util.hasOwn(pluginCallButtons, k)) delete pluginCallButtons[k]; }\r\n\r\n            /** remove user object */\r\n            for (let k in this) { if (util.hasOwn(this, k)) delete this[k]; }\r\n        },\r\n\r\n        /**\r\n         * @description Toolbar methods\r\n         */\r\n        toolbar: {\r\n            /**\r\n             * @description Disable the toolbar\r\n             */\r\n            disable: function () {\r\n                /** off menus */\r\n                core.submenuOff();\r\n                core.moreLayerOff();\r\n                core.containerOff();\r\n\r\n                context.tool.cover.style.display = 'block';\r\n            },\r\n\r\n            /**\r\n             * @description Provided for backward compatibility and will be removed in 3.0.0 version\r\n             */\r\n            disabled: function () {\r\n                this.disable();\r\n            },\r\n\r\n            /**\r\n             * @description Enable the toolbar\r\n             */\r\n            enable: function () {\r\n                context.tool.cover.style.display = 'none';\r\n            },\r\n\r\n            /**\r\n             * @description Provided for backward compatibility and will be removed in 3.0.0 version\r\n             */\r\n            enabled: function () {\r\n                this.enable();\r\n            },\r\n\r\n            /**\r\n             * @description Show the toolbar\r\n             */\r\n            show: function () {\r\n                if (core._isInline) {\r\n                    event._showToolbarInline();\r\n                } else {\r\n                    context.element.toolbar.style.display = '';\r\n                    context.element._stickyDummy.style.display = '';\r\n                }\r\n\r\n                event.onResize_window();\r\n            },\r\n\r\n            /**\r\n             * @description Hide the toolbar\r\n             */\r\n            hide: function () {\r\n                if (core._isInline) {\r\n                    event._hideToolbar();\r\n                } else {\r\n                    context.element.toolbar.style.display = 'none';\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                }\r\n\r\n                event.onResize_window();\r\n            },\r\n        },\r\n\r\n        /**\r\n         * @description Wysiwyg methods\r\n         */\r\n        wysiwyg: {\r\n            /**\r\n             * @description Disable the wysiwyg area\r\n             */\r\n            disable: function () {\r\n                /** off menus */\r\n                core.controllersOff();\r\n                if (core.modalForm) core.plugins.dialog.close.call(core);\r\n\r\n                context.element.wysiwyg.setAttribute('contenteditable', false);\r\n                core.isDisabled = true;\r\n\r\n                if (options.codeMirrorEditor) {\r\n                    options.codeMirrorEditor.setOption('readOnly', true);\r\n                } else {\r\n                    context.element.code.setAttribute('disabled', 'disabled');\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @description Enable the wysiwyg area\r\n             */\r\n            enable: function () {\r\n                context.element.wysiwyg.setAttribute('contenteditable', true);\r\n                core.isDisabled = false;\r\n\r\n                if (options.codeMirrorEditor) {\r\n                    options.codeMirrorEditor.setOption('readOnly', false);\r\n                } else {\r\n                    context.element.code.removeAttribute('disabled');\r\n                }\r\n            },\r\n        }\r\n    };\r\n\r\n    /************ Core init ************/\r\n    // functions\r\n    core.functions = functions;\r\n    core.options = options;\r\n\r\n    // Create to sibling node\r\n    let contextEl = context.element;\r\n    let originEl = contextEl.originElement;\r\n    let topEl = contextEl.topArea;\r\n    originEl.style.display = 'none';\r\n    topEl.style.display = 'block';\r\n\r\n    // init\r\n    if (options.iframe) {\r\n        contextEl.wysiwygFrame.addEventListener('load', function () {\r\n            util._setIframeDocument(this, options);\r\n            core._editorInit(false, options.value);\r\n            options.value = null;\r\n        });\r\n    }\r\n\r\n    // insert editor element\r\n    if (typeof originEl.nextElementSibling === 'object') {\r\n        originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\r\n    } else {\r\n        originEl.parentNode.appendChild(topEl);\r\n    }\r\n\r\n    contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\r\n    contextEl = originEl = topEl = null;\r\n\r\n    // init\r\n    if (!options.iframe) {\r\n        core._editorInit(false, options.value);\r\n        options.value = null;\r\n    }\r\n\r\n    return functions;\r\n}","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default function (core, change) {\r\n    const _w = core._w;\r\n    const util = core.util;\r\n    const delayTime = core.options.historyStackDelayTime;\r\n    let editor = core.context.element;\r\n    let undo = core.context.tool.undo;\r\n    let redo = core.context.tool.redo;\r\n\r\n    let pushDelay = null;\r\n    let stackIndex = 0;\r\n    let stack = [];\r\n\r\n    function setContentsFromStack () {\r\n        const item = stack[stackIndex];\r\n        editor.wysiwyg.innerHTML = item.contents;\r\n\r\n        core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\r\n        core.focus();\r\n\r\n        if (stack.length <= 1) {\r\n            if (undo) undo.setAttribute('disabled', true);\r\n            if (redo) redo.setAttribute('disabled', true);\r\n        } else {\r\n            if (stackIndex === 0) {\r\n                if (undo) undo.setAttribute('disabled', true);\r\n                if (redo) redo.removeAttribute('disabled');\r\n            } else if (stackIndex === stack.length - 1) {\r\n                if (undo) undo.removeAttribute('disabled');\r\n                if (redo) redo.setAttribute('disabled', true);\r\n            } else {\r\n                if (undo) undo.removeAttribute('disabled');\r\n                if (redo) redo.removeAttribute('disabled');\r\n            }\r\n        }\r\n\r\n        core.controllersOff();\r\n        core._checkComponents();\r\n        core._setCharCount();\r\n        core._resourcesStateChange();\r\n        \r\n        // onChange\r\n        change();\r\n    }\r\n\r\n    function pushStack () {\r\n        core._checkComponents();\r\n        const current = editor.wysiwyg.innerHTML;\r\n        if (!current || (!!stack[stackIndex] && current === stack[stackIndex].contents)) return;\r\n\r\n        stackIndex++;\r\n        const range = core._variable._range;\r\n\r\n        if (stack.length > stackIndex) {\r\n            stack = stack.slice(0, stackIndex);\r\n            if (redo) redo.setAttribute('disabled', true);\r\n        }\r\n\r\n        if (!range) {\r\n            stack[stackIndex] = {\r\n                contents: current,\r\n                s: { path: [0, 0], offset: [0, 0] },\r\n                e: { path: 0, offset: 0 }\r\n            };\r\n        } else {\r\n            stack[stackIndex] = {\r\n                contents: current,\r\n                s: {\r\n                    path: util.getNodePath(range.startContainer, null, null),\r\n                    offset: range.startOffset\r\n                },\r\n                e: {\r\n                    path: util.getNodePath(range.endContainer, null, null),\r\n                    offset: range.endOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\r\n\r\n        core._setCharCount();\r\n        // onChange\r\n        change();\r\n    }\r\n\r\n    return {\r\n        /**\r\n         * @description History stack\r\n         */\r\n        stack: stack,\r\n\r\n        /**\r\n         * @description Saving the current status to the history object stack\r\n         * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\r\n         * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\r\n         * You can specify the delay time by sending a number.\r\n         * @param {Boolean|Number} delay If true, Add stack without delay time.\r\n         */\r\n        push: function (delay) {\r\n            _w.setTimeout(core._resourcesStateChange.bind(core));\r\n            const time = typeof delay === 'number' ? (delay > 0 ? delay : 0) : (!delay ? 0 : delayTime);\r\n            \r\n            if (!time || pushDelay) {\r\n                _w.clearTimeout(pushDelay);\r\n                if (!time) {\r\n                    pushStack();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            pushDelay = _w.setTimeout(function () {\r\n                _w.clearTimeout(pushDelay);\r\n                pushDelay = null;\r\n                pushStack();\r\n            }, time);\r\n        },\r\n\r\n        /**\r\n         * @description Undo function\r\n         */\r\n        undo: function () {\r\n            if (stackIndex > 0) {\r\n                stackIndex--;\r\n                setContentsFromStack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Redo function\r\n         */\r\n        redo: function () {\r\n            if (stack.length - 1 > stackIndex) {\r\n                stackIndex++;\r\n                setContentsFromStack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Go to the history stack for that index.\r\n         * If \"index\" is -1, go to the last stack\r\n         */\r\n        go: function (index) {\r\n            stackIndex = index < 0 ? (stack.length - 1) : index;\r\n            setContentsFromStack();\r\n        },\r\n\r\n        /**\r\n         * @description Get the current history stack index.\r\n         * @returns {Number} Current Stack index\r\n         */\r\n        getCurrentIndex: function () {\r\n            return stackIndex;\r\n        },\r\n        \r\n        /**\r\n         * @description Reset the history object\r\n         */\r\n        reset: function (ignoreChangeEvent) {\r\n            if (undo) undo.setAttribute('disabled', true);\r\n            if (redo) redo.setAttribute('disabled', true);\r\n            core._variable.isChanged = false;\r\n            if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\r\n            \r\n            stack.splice(0);\r\n            stackIndex = 0;\r\n\r\n            // pushStack\r\n            stack[stackIndex] = {\r\n                contents: core.getContents(true),\r\n                s: {\r\n                    path: [0, 0],\r\n                    offset: 0\r\n                },\r\n                e: {\r\n                    path: [0, 0],\r\n                    offset: 0\r\n                }\r\n            };\r\n\r\n            if (!ignoreChangeEvent) change();\r\n        },\r\n\r\n        /**\r\n         * @description Reset the disabled state of the buttons to fit the current stack.\r\n         * @private\r\n         */\r\n        _resetCachingButton: function () {\r\n            editor = core.context.element;\r\n            undo = core.context.tool.undo;\r\n            redo = core.context.tool.redo;\r\n\r\n            if (stackIndex === 0) {\r\n                if (undo) undo.setAttribute('disabled', true);\r\n                if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\r\n                core._variable.isChanged = false;\r\n                if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\r\n            } else if (stackIndex === stack.length - 1) {\r\n                if (redo) redo.setAttribute('disabled', true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove all stacks and remove the timeout function.\r\n         * @private\r\n         */\r\n        _destroy: function () {\r\n            if (pushDelay) _w.clearTimeout(pushDelay);\r\n            stack = null;\r\n        }\r\n    };\r\n}","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'cs',\r\n        toolbar: {\r\n            default: 'Výchozí',\r\n            save: 'Uložit',\r\n            font: 'Písmo',\r\n            formats: 'Formáty',\r\n            fontSize: 'Velikost',\r\n            bold: 'Tučné',\r\n            underline: 'Podtržení',\r\n            italic: 'Kurzíva',\r\n            strike: 'Přeškrtnutí',\r\n            subscript: 'Dolní index',\r\n            superscript: 'Horní index',\r\n            removeFormat: 'Odebrat formát',\r\n            fontColor: 'Barva písma',\r\n            hiliteColor: 'Barva zvýraznění',\r\n            indent: 'Odsadit',\r\n            outdent: 'Předsadit',\r\n            align: 'Zarovnat',\r\n            alignLeft: 'Zarovnat vlevo',\r\n            alignRight: 'Zarovnat vpravo',\r\n            alignCenter: 'Zarovnat na střed',\r\n            alignJustify: 'Zarovnat do bloku',\r\n            list: 'Seznam',\r\n            orderList: 'Seřazený seznam',\r\n            unorderList: 'Neřazený seznam',\r\n            horizontalRule: 'Vodorovná čára',\r\n            hr_solid: 'Nepřerušovaná',\r\n            hr_dotted: 'Tečkovaná',\r\n            hr_dashed: 'Čárkovaná',\r\n            table: 'Tabulka',\r\n            link: 'Odkaz',\r\n            math: 'Matematika',\r\n            image: 'Obrázek',\r\n            video: 'Video',\r\n            audio: 'Zvuk',\r\n            fullScreen: 'Celá obrazovka',\r\n            showBlocks: 'Zobrazit bloky',\r\n            codeView: 'Zobrazení kódu',\r\n            undo: 'Zpět',\r\n            redo: 'Opakovat',\r\n            preview: 'Náhled',\r\n            print: 'tisk',\r\n            tag_p: 'Odstavec',\r\n            tag_div: 'Normální (DIV)',\r\n            tag_h: 'Záhlaví',\r\n            tag_blockquote: 'Citovat',\r\n            tag_pre: 'Kód',\r\n            template: 'Šablona',\r\n            lineHeight: 'Výška řádku',\r\n            paragraphStyle: 'Styl odstavce',\r\n            textStyle: 'Styl textu',\r\n            imageGallery: 'Obrázková galerie',\r\n            dir_ltr: 'Zleva doprava',\r\n            dir_rtl: 'Zprava doleva',\r\n            mention: 'Zmínka'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Vložit odkaz',\r\n                url: 'URL pro odkaz',\r\n                text: 'Text k zobrazení',\r\n                newWindowCheck: 'Otevřít v novém okně',\r\n                downloadLinkCheck: 'Odkaz ke stažení',\r\n                bookmark: 'Záložka'\r\n            },\r\n            mathBox: {\r\n                title: 'Matematika',\r\n                inputLabel: 'Matematická notace',\r\n                fontSizeLabel: 'Velikost písma',\r\n                previewLabel: 'Náhled'\r\n            },\r\n            imageBox: {\r\n                title: 'Vložit obrázek',\r\n                file: 'Vybrat ze souborů',\r\n                url: 'URL obrázku',\r\n                altText: 'Alternativní text'\r\n            },\r\n            videoBox: {\r\n                title: 'Vložit video',\r\n                file: 'Vybrat ze souborů',\r\n                url: 'URL pro vložení médií, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Vložit zvuk',\r\n                file: 'Vybrat ze souborů',\r\n                url: 'Adresa URL zvuku'\r\n            },\r\n            browser: {\r\n                tags: 'Štítky',\r\n                search: 'Hledat',\r\n            },\r\n            caption: 'Vložit popis',\r\n            close: 'Zavřít',\r\n            submitButton: 'Odeslat',\r\n            revertButton: 'Vrátit zpět',\r\n            proportion: 'Omezení proporcí',\r\n            basic: 'Základní',\r\n            left: 'Vlevo',\r\n            right: 'Vpravo',\r\n            center: 'Střed',\r\n            width: 'Šířka',\r\n            height: 'Výška',\r\n            size: 'Velikost',\r\n            ratio: 'Poměr'\r\n        },\r\n        controller: {\r\n            edit: 'Upravit',\r\n            unlink: 'Odpojit',\r\n            remove: 'Odebrat',\r\n            insertRowAbove: 'Vložit řádek výše',\r\n            insertRowBelow: 'Vložit řádek níže',\r\n            deleteRow: 'Smazat řádek',\r\n            insertColumnBefore: 'Vložit sloupec před',\r\n            insertColumnAfter: 'Vložit sloupec za',\r\n            deleteColumn: 'Smazat sloupec',\r\n            fixedColumnWidth: 'Pevná šířka sloupce',\r\n            resize100: 'Změnit velikost 100%',\r\n            resize75: 'Změnit velikost 75%',\r\n            resize50: 'Změnit velikost 50%',\r\n            resize25: 'Změnit velikost 25%',\r\n            autoSize: 'Automatická velikost',\r\n            mirrorHorizontal: 'Zrcadlo, horizontální',\r\n            mirrorVertical: 'Zrcadlo, vertikální',\r\n            rotateLeft: 'Otočit doleva',\r\n            rotateRight: 'Otočit doprava',\r\n            maxSize: 'Max. velikost',\r\n            minSize: 'Min. velikost',\r\n            tableHeader: 'Záhlaví tabulky',\r\n            mergeCells: 'Spojit buňky',\r\n            splitCells: 'Rozdělit buňky',\r\n            HorizontalSplit: 'Vodorovné rozdělení',\r\n            VerticalSplit: 'Svislé rozdělení'\r\n        },\r\n        menu: {\r\n            spaced: 'Rozložené',\r\n            bordered: 'Ohraničené',\r\n            neon: 'Neon',\r\n            translucent: 'Průsvitné',\r\n            shadow: 'Stín',\r\n            code: 'Kód'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'cs', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","// cheap lodash replacements\n\nexport function memoize<T>(fn: () => T): () => T {\n\tlet result: T | null = null\n\tconst memoized = () => {\n\t\tif (result == null) {\n\t\t\tresult = fn()\n\t\t}\n\t\treturn result\n\t}\n\treturn memoized\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T) {\n\treturn items.filter((i) => i !== item)\n}\n\nexport function union<T extends string | number>(itemsA: T[], itemsB: T[]) {\n\tconst set = new Set<T>()\n\tconst insertItem = (item: T) => set.add(item)\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tset.forEach((key) => result.push(key))\n\treturn result\n}\n","import { union, without } from './utils/js_utils.js'\n\ntype NodePredicate = (node: Node | null | undefined) => boolean\n\nexport class EnterLeaveCounter {\n\tprivate entered: any[] = []\n\tprivate isNodeInDocument: NodePredicate\n\n\tpublic constructor(isNodeInDocument: NodePredicate) {\n\t\tthis.isNodeInDocument = isNodeInDocument\n\t}\n\n\tpublic enter(enteringNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tconst isNodeEntered = (node: Node): boolean =>\n\t\t\tthis.isNodeInDocument(node) &&\n\t\t\t(!node.contains || node.contains(enteringNode as Node))\n\n\t\tthis.entered = union(this.entered.filter(isNodeEntered), [enteringNode])\n\n\t\treturn previousLength === 0 && this.entered.length > 0\n\t}\n\n\tpublic leave(leavingNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tthis.entered = without(\n\t\t\tthis.entered.filter(this.isNodeInDocument),\n\t\t\tleavingNode,\n\t\t)\n\n\t\treturn previousLength > 0 && this.entered.length === 0\n\t}\n\n\tpublic reset(): void {\n\t\tthis.entered = []\n\t}\n}\n","import type { DragDropMonitor } from 'dnd-core'\n\nimport type { NativeItemConfig } from './nativeTypesConfig.js'\n\nexport class NativeDragSource {\n\tpublic item: any\n\tprivate config: NativeItemConfig\n\n\tpublic constructor(config: NativeItemConfig) {\n\t\tthis.config = config\n\t\tthis.item = {}\n\t\tthis.initializeExposedProperties()\n\t}\n\n\tprivate initializeExposedProperties() {\n\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\tObject.defineProperty(this.item, property, {\n\t\t\t\tconfigurable: true, // This is needed to allow redefining it later\n\t\t\t\tenumerable: true,\n\t\t\t\tget() {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`Browser doesn't allow reading \"${property}\" until the drop event.`,\n\t\t\t\t\t)\n\t\t\t\t\treturn null\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t}\n\n\tpublic loadDataTransfer(dataTransfer: DataTransfer | null | undefined): void {\n\t\tif (dataTransfer) {\n\t\t\tconst newProperties: PropertyDescriptorMap = {}\n\t\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\t\tconst propertyFn = this.config.exposeProperties[property]\n\t\t\t\tif (propertyFn != null) {\n\t\t\t\t\tnewProperties[property] = {\n\t\t\t\t\t\tvalue: propertyFn(dataTransfer, this.config.matchesTypes),\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tObject.defineProperties(this.item, newProperties)\n\t\t}\n\t}\n\n\tpublic canDrag(): boolean {\n\t\treturn true\n\t}\n\n\tpublic beginDrag(): any {\n\t\treturn this.item\n\t}\n\n\tpublic isDragging(monitor: DragDropMonitor, handle: string): boolean {\n\t\treturn handle === monitor.getSourceId()\n\t}\n\n\tpublic endDrag(): void {\n\t\t// empty\n\t}\n}\n","export const FILE = '__NATIVE_FILE__'\nexport const URL = '__NATIVE_URL__'\nexport const TEXT = '__NATIVE_TEXT__'\nexport const HTML = '__NATIVE_HTML__'\n","export function getDataFromDataTransfer(\n\tdataTransfer: DataTransfer,\n\ttypesToTry: string[],\n\tdefaultValue: string,\n): string {\n\tconst result = typesToTry.reduce(\n\t\t(resultSoFar, typeToTry) => resultSoFar || dataTransfer.getData(typeToTry),\n\t\t'',\n\t)\n\n\treturn result != null ? result : defaultValue\n}\n","import * as NativeTypes from '../NativeTypes.js'\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer.js'\n\nexport interface NativeItemConfigExposePropreties {\n\t[property: string]: (\n\t\tdataTransfer: DataTransfer,\n\t\tmatchesTypes: string[],\n\t) => any\n}\n\nexport interface NativeItemConfig {\n\texposeProperties: NativeItemConfigExposePropreties\n\tmatchesTypes: string[]\n}\n\nexport const nativeTypesConfig: {\n\t[key: string]: NativeItemConfig\n} = {\n\t[NativeTypes.FILE]: {\n\t\texposeProperties: {\n\t\t\tfiles: (dataTransfer: DataTransfer): File[] =>\n\t\t\t\tArray.prototype.slice.call(dataTransfer.files),\n\t\t\titems: (dataTransfer: DataTransfer): DataTransferItemList =>\n\t\t\t\tdataTransfer.items,\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Files'],\n\t},\n\t[NativeTypes.HTML]: {\n\t\texposeProperties: {\n\t\t\thtml: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Html', 'text/html'],\n\t},\n\t[NativeTypes.URL]: {\n\t\texposeProperties: {\n\t\t\turls: (dataTransfer: DataTransfer, matchesTypes: string[]): string[] =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n'),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Url', 'text/uri-list'],\n\t},\n\t[NativeTypes.TEXT]: {\n\t\texposeProperties: {\n\t\t\ttext: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Text', 'text/plain'],\n\t},\n}\n","import { NativeDragSource } from './NativeDragSource.js'\nimport { nativeTypesConfig } from './nativeTypesConfig.js'\n\nexport function createNativeDragSource(\n\ttype: string,\n\tdataTransfer?: DataTransfer,\n): NativeDragSource {\n\tconst config = nativeTypesConfig[type]\n\tif (!config) {\n\t\tthrow new Error(`native type ${type} has no configuration`)\n\t}\n\tconst result = new NativeDragSource(config)\n\tresult.loadDataTransfer(dataTransfer)\n\treturn result\n}\n\nexport function matchNativeItemType(\n\tdataTransfer: DataTransfer | null,\n): string | null {\n\tif (!dataTransfer) {\n\t\treturn null\n\t}\n\n\tconst dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || [])\n\treturn (\n\t\tObject.keys(nativeTypesConfig).filter((nativeItemType) => {\n\t\t\tconst typeConfig = nativeTypesConfig[nativeItemType]\n\t\t\tif (!typeConfig?.matchesTypes) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn typeConfig.matchesTypes.some(\n\t\t\t\t(t) => dataTransferTypes.indexOf(t) > -1,\n\t\t\t)\n\t\t})[0] || null\n\t)\n}\n","import { memoize } from './utils/js_utils.js'\n\ndeclare global {\n\tinterface Window extends HTMLElement {\n\t\tsafari: any\n\t}\n}\n\nexport type Predicate = () => boolean\nexport const isFirefox: Predicate = memoize(() =>\n\t/firefox/i.test(navigator.userAgent),\n)\nexport const isSafari: Predicate = memoize(() => Boolean(window.safari))\n","export class MonotonicInterpolant {\n\tprivate xs: any\n\tprivate ys: any\n\tprivate c1s: any\n\tprivate c2s: any\n\tprivate c3s: any\n\n\tpublic constructor(xs: number[], ys: number[]) {\n\t\tconst { length } = xs\n\n\t\t// Rearrange xs and ys so that xs is sorted\n\t\tconst indexes = []\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tindexes.push(i)\n\t\t}\n\t\tindexes.sort((a, b) => ((xs[a] as number) < (xs[b] as number) ? -1 : 1))\n\n\t\t// Get consecutive differences and slopes\n\t\tconst dys = []\n\t\tconst dxs = []\n\t\tconst ms = []\n\t\tlet dx\n\t\tlet dy\n\t\tfor (let i = 0; i < length - 1; i++) {\n\t\t\tdx = (xs[i + 1] as number) - (xs[i] as number)\n\t\t\tdy = (ys[i + 1] as number) - (ys[i] as number)\n\t\t\tdxs.push(dx)\n\t\t\tdys.push(dy)\n\t\t\tms.push(dy / dx)\n\t\t}\n\n\t\t// Get degree-1 coefficients\n\t\tconst c1s = [ms[0]]\n\t\tfor (let i = 0; i < dxs.length - 1; i++) {\n\t\t\tconst m2 = ms[i] as number\n\t\t\tconst mNext = ms[i + 1] as number\n\t\t\tif (m2 * mNext <= 0) {\n\t\t\t\tc1s.push(0)\n\t\t\t} else {\n\t\t\t\tdx = dxs[i] as number\n\t\t\t\tconst dxNext = dxs[i + 1] as number\n\t\t\t\tconst common = dx + dxNext\n\t\t\t\tc1s.push(\n\t\t\t\t\t(3 * common) / ((common + dxNext) / m2 + (common + dx) / mNext),\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tc1s.push(ms[ms.length - 1])\n\n\t\t// Get degree-2 and degree-3 coefficients\n\t\tconst c2s = []\n\t\tconst c3s = []\n\t\tlet m\n\t\tfor (let i = 0; i < c1s.length - 1; i++) {\n\t\t\tm = ms[i] as number\n\t\t\tconst c1 = c1s[i] as number\n\t\t\tconst invDx = 1 / (dxs[i] as number)\n\t\t\tconst common = c1 + (c1s[i + 1] as number) - m - m\n\t\t\tc2s.push((m - c1 - common) * invDx)\n\t\t\tc3s.push(common * invDx * invDx)\n\t\t}\n\n\t\tthis.xs = xs\n\t\tthis.ys = ys\n\t\tthis.c1s = c1s\n\t\tthis.c2s = c2s\n\t\tthis.c3s = c3s\n\t}\n\n\tpublic interpolate(x: number): number {\n\t\tconst { xs, ys, c1s, c2s, c3s } = this\n\n\t\t// The rightmost point in the dataset should give an exact result\n\t\tlet i = xs.length - 1\n\t\tif (x === xs[i]) {\n\t\t\treturn ys[i]\n\t\t}\n\n\t\t// Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\t\tlet low = 0\n\t\tlet high = c3s.length - 1\n\t\tlet mid\n\t\twhile (low <= high) {\n\t\t\tmid = Math.floor(0.5 * (low + high))\n\t\t\tconst xHere = xs[mid]\n\t\t\tif (xHere < x) {\n\t\t\t\tlow = mid + 1\n\t\t\t} else if (xHere > x) {\n\t\t\t\thigh = mid - 1\n\t\t\t} else {\n\t\t\t\treturn ys[mid]\n\t\t\t}\n\t\t}\n\t\ti = Math.max(0, high)\n\n\t\t// Interpolate\n\t\tconst diff = x - xs[i]\n\t\tconst diffSq = diff * diff\n\t\treturn ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq\n\t}\n}\n","import type { XYCoord } from 'dnd-core'\n\nimport { isFirefox, isSafari } from './BrowserDetector.js'\nimport { MonotonicInterpolant } from './MonotonicInterpolant.js'\n\nconst ELEMENT_NODE = 1\n\nexport function getNodeClientOffset(node: Node): XYCoord | null {\n\tconst el = node.nodeType === ELEMENT_NODE ? node : node.parentElement\n\n\tif (!el) {\n\t\treturn null\n\t}\n\n\tconst { top, left } = (el as HTMLElement).getBoundingClientRect()\n\treturn { x: left, y: top }\n}\n\nexport function getEventClientOffset(e: MouseEvent): XYCoord {\n\treturn {\n\t\tx: e.clientX,\n\t\ty: e.clientY,\n\t}\n}\n\nfunction isImageNode(node: any) {\n\treturn (\n\t\tnode.nodeName === 'IMG' &&\n\t\t(isFirefox() || !document.documentElement?.contains(node))\n\t)\n}\n\nfunction getDragPreviewSize(\n\tisImage: boolean,\n\tdragPreview: any,\n\tsourceWidth: number,\n\tsourceHeight: number,\n) {\n\tlet dragPreviewWidth = isImage ? dragPreview.width : sourceWidth\n\tlet dragPreviewHeight = isImage ? dragPreview.height : sourceHeight\n\n\t// Work around @2x coordinate discrepancies in browsers\n\tif (isSafari() && isImage) {\n\t\tdragPreviewHeight /= window.devicePixelRatio\n\t\tdragPreviewWidth /= window.devicePixelRatio\n\t}\n\treturn { dragPreviewWidth, dragPreviewHeight }\n}\n\nexport function getDragPreviewOffset(\n\tsourceNode: HTMLElement,\n\tdragPreview: HTMLElement,\n\tclientOffset: XYCoord,\n\tanchorPoint: { anchorX: number; anchorY: number },\n\toffsetPoint: { offsetX: number; offsetY: number },\n): XYCoord {\n\t// The browsers will use the image intrinsic size under different conditions.\n\t// Firefox only cares if it's an image, but WebKit also wants it to be detached.\n\tconst isImage = isImageNode(dragPreview)\n\tconst dragPreviewNode = isImage ? sourceNode : dragPreview\n\tconst dragPreviewNodeOffsetFromClient = getNodeClientOffset(\n\t\tdragPreviewNode,\n\t) as XYCoord\n\tconst offsetFromDragPreview = {\n\t\tx: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n\t\ty: clientOffset.y - dragPreviewNodeOffsetFromClient.y,\n\t}\n\tconst { offsetWidth: sourceWidth, offsetHeight: sourceHeight } = sourceNode\n\tconst { anchorX, anchorY } = anchorPoint\n\tconst { dragPreviewWidth, dragPreviewHeight } = getDragPreviewSize(\n\t\tisImage,\n\t\tdragPreview,\n\t\tsourceWidth,\n\t\tsourceHeight,\n\t)\n\n\tconst calculateYOffset = () => {\n\t\tconst interpolantY = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the top\n\t\t\t\toffsetFromDragPreview.y,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n\t\t\t\t// Dock to the bottom\n\t\t\t\toffsetFromDragPreview.y + dragPreviewHeight - sourceHeight,\n\t\t\t],\n\t\t)\n\t\tlet y = interpolantY.interpolate(anchorY)\n\t\t// Work around Safari 8 positioning bug\n\t\tif (isSafari() && isImage) {\n\t\t\t// We'll have to wait for @3x to see if this is entirely correct\n\t\t\ty += (window.devicePixelRatio - 1) * dragPreviewHeight\n\t\t}\n\t\treturn y\n\t}\n\n\tconst calculateXOffset = () => {\n\t\t// Interpolate coordinates depending on anchor point\n\t\t// If you know a simpler way to do this, let me know\n\t\tconst interpolantX = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the left\n\t\t\t\toffsetFromDragPreview.x,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n\t\t\t\t// Dock to the right\n\t\t\t\toffsetFromDragPreview.x + dragPreviewWidth - sourceWidth,\n\t\t\t],\n\t\t)\n\t\treturn interpolantX.interpolate(anchorX)\n\t}\n\n\t// Force offsets if specified in the options.\n\tconst { offsetX, offsetY } = offsetPoint\n\tconst isManualOffsetX = offsetX === 0 || offsetX\n\tconst isManualOffsetY = offsetY === 0 || offsetY\n\treturn {\n\t\tx: isManualOffsetX ? offsetX : calculateXOffset(),\n\t\ty: isManualOffsetY ? offsetY : calculateYOffset(),\n\t}\n}\n","import type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport class OptionsReader {\n\tpublic ownerDocument: Document | null = null\n\tprivate globalContext: HTML5BackendContext\n\tprivate optionsArgs: HTML5BackendOptions | undefined\n\n\tpublic constructor(\n\t\tglobalContext: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.globalContext = globalContext\n\t\tthis.optionsArgs = options\n\t}\n\n\tpublic get window(): Window | undefined {\n\t\tif (this.globalContext) {\n\t\t\treturn this.globalContext\n\t\t} else if (typeof window !== 'undefined') {\n\t\t\treturn window\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic get document(): Document | undefined {\n\t\tif (this.globalContext?.document) {\n\t\t\treturn this.globalContext.document\n\t\t} else if (this.window) {\n\t\t\treturn this.window.document\n\t\t} else {\n\t\t\treturn undefined\n\t\t}\n\t}\n\n\tpublic get rootElement(): Node | undefined {\n\t\treturn this.optionsArgs?.rootElement || this.window\n\t}\n}\n","import type {\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter.js'\nimport {\n\tcreateNativeDragSource,\n\tmatchNativeItemType,\n} from './NativeDragSources/index.js'\nimport type { NativeDragSource } from './NativeDragSources/NativeDragSource.js'\nimport * as NativeTypes from './NativeTypes.js'\nimport {\n\tgetDragPreviewOffset,\n\tgetEventClientOffset,\n\tgetNodeClientOffset,\n} from './OffsetUtils.js'\nimport { OptionsReader } from './OptionsReader.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\ntype RootNode = Node & { __isReactDndBackendSetUp: boolean | undefined }\n\nexport class HTML5BackendImpl implements Backend {\n\tprivate options: OptionsReader\n\n\t// React-Dnd Components\n\tprivate actions: DragDropActions\n\tprivate monitor: DragDropMonitor\n\tprivate registry: HandlerRegistry\n\n\t// Internal State\n\tprivate enterLeaveCounter: EnterLeaveCounter\n\n\tprivate sourcePreviewNodes: Map<string, Element> = new Map()\n\tprivate sourcePreviewNodeOptions: Map<string, any> = new Map()\n\tprivate sourceNodes: Map<string, Element> = new Map()\n\tprivate sourceNodeOptions: Map<string, any> = new Map()\n\n\tprivate dragStartSourceIds: string[] | null = null\n\tprivate dropTargetIds: string[] = []\n\tprivate dragEnterTargetIds: string[] = []\n\tprivate currentNativeSource: NativeDragSource | null = null\n\tprivate currentNativeHandle: Identifier | null = null\n\tprivate currentDragSourceNode: Element | null = null\n\tprivate altKeyPressed = false\n\tprivate mouseMoveTimeoutTimer: number | null = null\n\tprivate asyncEndDragFrameId: number | null = null\n\tprivate dragOverTargetIds: string[] | null = null\n\n\tprivate lastClientOffset: XYCoord | null = null\n\tprivate hoverRafId: number | null = null\n\n\tpublic constructor(\n\t\tmanager: DragDropManager,\n\t\tglobalContext?: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.options = new OptionsReader(globalContext, options)\n\t\tthis.actions = manager.getActions()\n\t\tthis.monitor = manager.getMonitor()\n\t\tthis.registry = manager.getRegistry()\n\t\tthis.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument)\n\t}\n\n\t/**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */\n\tpublic profile(): Record<string, number> {\n\t\treturn {\n\t\t\tsourcePreviewNodes: this.sourcePreviewNodes.size,\n\t\t\tsourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n\t\t\tsourceNodeOptions: this.sourceNodeOptions.size,\n\t\t\tsourceNodes: this.sourceNodes.size,\n\t\t\tdragStartSourceIds: this.dragStartSourceIds?.length || 0,\n\t\t\tdropTargetIds: this.dropTargetIds.length,\n\t\t\tdragEnterTargetIds: this.dragEnterTargetIds.length,\n\t\t\tdragOverTargetIds: this.dragOverTargetIds?.length || 0,\n\t\t}\n\t}\n\n\t// public for test\n\tpublic get window(): Window | undefined {\n\t\treturn this.options.window\n\t}\n\tpublic get document(): Document | undefined {\n\t\treturn this.options.document\n\t}\n\t/**\n\t * Get the root element to use for event subscriptions\n\t */\n\tprivate get rootElement(): Node | undefined {\n\t\treturn this.options.rootElement as Node\n\t}\n\n\tpublic setup(): void {\n\t\tconst root = this.rootElement as RootNode | undefined\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\tif (root.__isReactDndBackendSetUp) {\n\t\t\tthrow new Error('Cannot have two HTML5 backends at the same time.')\n\t\t}\n\t\troot.__isReactDndBackendSetUp = true\n\t\tthis.addEventListeners(root)\n\t}\n\n\tpublic teardown(): void {\n\t\tconst root = this.rootElement as RootNode\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\troot.__isReactDndBackendSetUp = false\n\t\tthis.removeEventListeners(this.rootElement as Element)\n\t\tthis.clearCurrentDragSourceNode()\n\t\tif (this.asyncEndDragFrameId) {\n\t\t\tthis.window?.cancelAnimationFrame(this.asyncEndDragFrameId)\n\t\t}\n\t}\n\n\tpublic connectDragPreview(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourcePreviewNodeOptions.set(sourceId, options)\n\t\tthis.sourcePreviewNodes.set(sourceId, node)\n\n\t\treturn (): void => {\n\t\t\tthis.sourcePreviewNodes.delete(sourceId)\n\t\t\tthis.sourcePreviewNodeOptions.delete(sourceId)\n\t\t}\n\t}\n\n\tpublic connectDragSource(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourceNodes.set(sourceId, node)\n\t\tthis.sourceNodeOptions.set(sourceId, options)\n\n\t\tconst handleDragStart = (e: any) => this.handleDragStart(e, sourceId)\n\t\tconst handleSelectStart = (e: any) => this.handleSelectStart(e)\n\n\t\tnode.setAttribute('draggable', 'true')\n\t\tnode.addEventListener('dragstart', handleDragStart)\n\t\tnode.addEventListener('selectstart', handleSelectStart)\n\n\t\treturn (): void => {\n\t\t\tthis.sourceNodes.delete(sourceId)\n\t\t\tthis.sourceNodeOptions.delete(sourceId)\n\n\t\t\tnode.removeEventListener('dragstart', handleDragStart)\n\t\t\tnode.removeEventListener('selectstart', handleSelectStart)\n\t\t\tnode.setAttribute('draggable', 'false')\n\t\t}\n\t}\n\n\tpublic connectDropTarget(targetId: string, node: HTMLElement): Unsubscribe {\n\t\tconst handleDragEnter = (e: DragEvent) => this.handleDragEnter(e, targetId)\n\t\tconst handleDragOver = (e: DragEvent) => this.handleDragOver(e, targetId)\n\t\tconst handleDrop = (e: DragEvent) => this.handleDrop(e, targetId)\n\n\t\tnode.addEventListener('dragenter', handleDragEnter)\n\t\tnode.addEventListener('dragover', handleDragOver)\n\t\tnode.addEventListener('drop', handleDrop)\n\n\t\treturn (): void => {\n\t\t\tnode.removeEventListener('dragenter', handleDragEnter)\n\t\t\tnode.removeEventListener('dragover', handleDragOver)\n\t\t\tnode.removeEventListener('drop', handleDrop)\n\t\t}\n\t}\n\n\tprivate addEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.addEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.addEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStart as EventListener,\n\t\t)\n\t\ttarget.addEventListener('dragstart', this.handleTopDragStartCapture, true)\n\t\ttarget.addEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('dragover', this.handleTopDragOver as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate removeEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.removeEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.removeEventListener('dragstart', this.handleTopDragStart as any)\n\t\ttarget.removeEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStartCapture,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOver as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.removeEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate getCurrentSourceNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourceNodeOptions = this.sourceNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tdropEffect: this.altKeyPressed ? 'copy' : 'move',\n\t\t\t...(sourceNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getCurrentDropEffect() {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\t// It makes more sense to default to 'copy' for native resources\n\t\t\treturn 'copy'\n\t\t}\n\n\t\treturn this.getCurrentSourceNodeOptions().dropEffect\n\t}\n\n\tprivate getCurrentSourcePreviewNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tanchorX: 0.5,\n\t\t\tanchorY: 0.5,\n\t\t\tcaptureDraggingState: false,\n\t\t\t...(sourcePreviewNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getSourceClientOffset = (sourceId: string): XYCoord | null => {\n\t\tconst source = this.sourceNodes.get(sourceId)\n\t\treturn (source && getNodeClientOffset(source as HTMLElement)) || null\n\t}\n\n\tprivate isDraggingNativeItem() {\n\t\tconst itemType = this.monitor.getItemType()\n\t\treturn Object.keys(NativeTypes).some(\n\t\t\t(key: string) => (NativeTypes as any)[key] === itemType,\n\t\t)\n\t}\n\n\tprivate beginDragNativeItem(type: string, dataTransfer?: DataTransfer) {\n\t\tthis.clearCurrentDragSourceNode()\n\n\t\tthis.currentNativeSource = createNativeDragSource(type, dataTransfer)\n\t\tthis.currentNativeHandle = this.registry.addSource(\n\t\t\ttype,\n\t\t\tthis.currentNativeSource,\n\t\t)\n\t\tthis.actions.beginDrag([this.currentNativeHandle])\n\t}\n\n\tprivate endDragNativeItem = (): void => {\n\t\tif (!this.isDraggingNativeItem()) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.actions.endDrag()\n\t\tif (this.currentNativeHandle) {\n\t\t\tthis.registry.removeSource(this.currentNativeHandle)\n\t\t}\n\t\tthis.currentNativeHandle = null\n\t\tthis.currentNativeSource = null\n\t}\n\n\tprivate isNodeInDocument = (node: Node | null | undefined): boolean => {\n\t\t// Check the node either in the main document or in the current context\n\t\treturn Boolean(\n\t\t\tnode &&\n\t\t\t\tthis.document &&\n\t\t\t\tthis.document.body &&\n\t\t\t\tthis.document.body.contains(node),\n\t\t)\n\t}\n\n\tprivate endDragIfSourceWasRemovedFromDOM = (): void => {\n\t\tconst node = this.currentDragSourceNode\n\t\tif (node == null || this.isNodeInDocument(node)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tprivate setCurrentDragSourceNode(node: Element | null) {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.currentDragSourceNode = node\n\n\t\t// A timeout of > 0 is necessary to resolve Firefox issue referenced\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\tconst MOUSE_MOVE_TIMEOUT = 1000\n\n\t\t// Receiving a mouse event in the middle of a dragging operation\n\t\t// means it has ended and the drag source node disappeared from DOM,\n\t\t// so the browser didn't dispatch the dragend event.\n\t\t//\n\t\t// We need to wait before we start listening for mousemove events.\n\t\t// This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n\t\t// immediately in some browsers.\n\t\t//\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\t//\n\t\tthis.mouseMoveTimeoutTimer = setTimeout(() => {\n\t\t\treturn this.rootElement?.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}, MOUSE_MOVE_TIMEOUT) as any as number\n\t}\n\n\tprivate clearCurrentDragSourceNode() {\n\t\tif (this.currentDragSourceNode) {\n\t\t\tthis.currentDragSourceNode = null\n\n\t\t\tif (this.rootElement) {\n\t\t\t\tthis.window?.clearTimeout(this.mouseMoveTimeoutTimer || undefined)\n\t\t\t\tthis.rootElement.removeEventListener(\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\t\ttrue,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tthis.mouseMoveTimeoutTimer = null\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t}\n\n\tprivate scheduleHover = (dragOverTargetIds: string[] | null) => {\n\t\tif (\n\t\t\tthis.hoverRafId === null &&\n\t\t\ttypeof requestAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tthis.hoverRafId = requestAnimationFrame(() => {\n\t\t\t\tif (this.monitor.isDragging()) {\n\t\t\t\t\tthis.actions.hover(dragOverTargetIds || [], {\n\t\t\t\t\t\tclientOffset: this.lastClientOffset,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.hoverRafId = null\n\t\t\t})\n\t\t}\n\t}\n\n\tprivate cancelHover = () => {\n\t\tif (\n\t\t\tthis.hoverRafId !== null &&\n\t\t\ttypeof cancelAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tcancelAnimationFrame(this.hoverRafId)\n\t\t\tthis.hoverRafId = null\n\t\t}\n\t}\n\n\tpublic handleTopDragStartCapture = (): void => {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.dragStartSourceIds = []\n\t}\n\n\tpublic handleDragStart(e: DragEvent, sourceId: string): void {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.dragStartSourceIds) {\n\t\t\tthis.dragStartSourceIds = []\n\t\t}\n\t\tthis.dragStartSourceIds.unshift(sourceId)\n\t}\n\n\tpublic handleTopDragStart = (e: DragEvent): void => {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dragStartSourceIds } = this\n\t\tthis.dragStartSourceIds = null\n\n\t\tconst clientOffset = getEventClientOffset(e)\n\n\t\t// Avoid crashing if we missed a drop event or our previous drag died\n\t\tif (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t\tthis.cancelHover()\n\t\t}\n\n\t\t// Don't publish the source just yet (see why below)\n\t\tthis.actions.beginDrag(dragStartSourceIds || [], {\n\t\t\tpublishSource: false,\n\t\t\tgetSourceClientOffset: this.getSourceClientOffset,\n\t\t\tclientOffset,\n\t\t})\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (this.monitor.isDragging()) {\n\t\t\tif (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n\t\t\t\t// Use custom drag image if user specifies it.\n\t\t\t\t// If child drag source refuses drag but parent agrees,\n\t\t\t\t// use parent's node as drag image. Neither works in IE though.\n\t\t\t\tconst sourceId: string = this.monitor.getSourceId() as string\n\t\t\t\tconst sourceNode = this.sourceNodes.get(sourceId)\n\t\t\t\tconst dragPreview = this.sourcePreviewNodes.get(sourceId) || sourceNode\n\n\t\t\t\tif (dragPreview) {\n\t\t\t\t\tconst { anchorX, anchorY, offsetX, offsetY } =\n\t\t\t\t\t\tthis.getCurrentSourcePreviewNodeOptions()\n\t\t\t\t\tconst anchorPoint = { anchorX, anchorY }\n\t\t\t\t\tconst offsetPoint = { offsetX, offsetY }\n\t\t\t\t\tconst dragPreviewOffset = getDragPreviewOffset(\n\t\t\t\t\t\tsourceNode as HTMLElement,\n\t\t\t\t\t\tdragPreview as HTMLElement,\n\t\t\t\t\t\tclientOffset,\n\t\t\t\t\t\tanchorPoint,\n\t\t\t\t\t\toffsetPoint,\n\t\t\t\t\t)\n\n\t\t\t\t\tdataTransfer.setDragImage(\n\t\t\t\t\t\tdragPreview,\n\t\t\t\t\t\tdragPreviewOffset.x,\n\t\t\t\t\t\tdragPreviewOffset.y,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Firefox won't drag without setting data\n\t\t\t\tdataTransfer?.setData('application/json', {} as any)\n\t\t\t} catch (err) {\n\t\t\t\t// IE doesn't support MIME types in setData\n\t\t\t}\n\n\t\t\t// Store drag source node so we can check whether\n\t\t\t// it is removed from DOM and trigger endDrag manually.\n\t\t\tthis.setCurrentDragSourceNode(e.target as Element)\n\n\t\t\t// Now we are ready to publish the drag source.. or are we not?\n\t\t\tconst { captureDraggingState } = this.getCurrentSourcePreviewNodeOptions()\n\t\t\tif (!captureDraggingState) {\n\t\t\t\t// Usually we want to publish it in the next tick so that browser\n\t\t\t\t// is able to screenshot the current (not yet dragging) state.\n\t\t\t\t//\n\t\t\t\t// It also neatly avoids a situation where render() returns null\n\t\t\t\t// in the same tick for the source element, and browser freaks out.\n\t\t\t\tsetTimeout(() => this.actions.publishDragSource(), 0)\n\t\t\t} else {\n\t\t\t\t// In some cases the user may want to override this behavior, e.g.\n\t\t\t\t// to work around IE not supporting custom drag previews.\n\t\t\t\t//\n\t\t\t\t// When using a custom drag layer, the only way to prevent\n\t\t\t\t// the default drag preview from drawing in IE is to screenshot\n\t\t\t\t// the dragging state in which the node itself has zero opacity\n\t\t\t\t// and height. In this case, though, returning null from render()\n\t\t\t\t// will abruptly end the dragging, which is not obvious.\n\t\t\t\t//\n\t\t\t\t// This is the reason such behavior is strictly opt-in.\n\t\t\t\tthis.actions.publishDragSource()\n\t\t\t}\n\t\t} else if (nativeType) {\n\t\t\t// A native item (such as URL) dragged from inside the document\n\t\t\tthis.beginDragNativeItem(nativeType)\n\t\t} else if (\n\t\t\tdataTransfer &&\n\t\t\t!dataTransfer.types &&\n\t\t\t((e.target && !(e.target as Element).hasAttribute) ||\n\t\t\t\t!(e.target as Element).hasAttribute('draggable'))\n\t\t) {\n\t\t\t// Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n\t\t\t// Just let it drag. It's a native type (URL or text) and will be picked up in\n\t\t\t// dragenter handler.\n\t\t\treturn\n\t\t} else {\n\t\t\t// If by this time no drag source reacted, tell browser not to drag.\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\n\tpublic handleTopDragEndCapture = (): void => {\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\t// Firefox can dispatch this event in an infinite loop\n\t\t\t// if dragend handler does something like showing an alert.\n\t\t\t// Only proceed if we have not handled it already.\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDragEnterCapture = (e: DragEvent): void => {\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\n\t\tconst isFirstEnter = this.enterLeaveCounter.enter(e.target)\n\t\tif (!isFirstEnter || this.monitor.isDragging()) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (nativeType) {\n\t\t\t// A native item (such as file or URL) dragged from outside the document\n\t\t\tthis.beginDragNativeItem(nativeType, dataTransfer as DataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragEnter(_e: DragEvent, targetId: string): void {\n\t\tthis.dragEnterTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragEnter = (e: DragEvent): void => {\n\t\tconst { dragEnterTargetIds } = this\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\n\t\t// If the target changes position as the result of `dragenter`, `dragover` might still\n\t\t// get dispatched despite target being no longer there. The easy solution is to check\n\t\t// whether there actually is a target before firing `hover`.\n\t\tif (dragEnterTargetIds.length > 0) {\n\t\t\tthis.actions.hover(dragEnterTargetIds, {\n\t\t\t\tclientOffset: getEventClientOffset(e),\n\t\t\t})\n\t\t}\n\n\t\tconst canDrop = dragEnterTargetIds.some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// IE requires this to fire dragover events\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragOverCapture = (e: DragEvent): void => {\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragOver(_e: DragEvent, targetId: string): void {\n\t\tif (this.dragOverTargetIds === null) {\n\t\t\tthis.dragOverTargetIds = []\n\t\t}\n\t\tthis.dragOverTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragOver = (e: DragEvent): void => {\n\t\tconst { dragOverTargetIds } = this\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\t// Prevent default \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\t\tthis.lastClientOffset = getEventClientOffset(e)\n\n\t\tthis.scheduleHover(dragOverTargetIds)\n\n\t\tconst canDrop = (dragOverTargetIds || []).some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// Show user-specified drop effect.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t} else if (this.isDraggingNativeItem()) {\n\t\t\t// Don't show a nice cursor but still prevent default\n\t\t\t// \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t} else {\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragLeaveCapture = (e: DragEvent): void => {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tconst isLastLeave = this.enterLeaveCounter.leave(e.target)\n\t\tif (!isLastLeave) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tsetTimeout(() => this.endDragNativeItem(), 0)\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDropCapture = (e: DragEvent): void => {\n\t\tthis.dropTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t} else if (matchNativeItemType(e.dataTransfer)) {\n\t\t\t// Dragging some elements, like <a> and <img> may still behave like a native drag event,\n\t\t\t// even if the current drag event matches a user-defined type.\n\t\t\t// Stop the default behavior when we're not expecting a native item to be dropped.\n\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tthis.enterLeaveCounter.reset()\n\t}\n\n\tpublic handleDrop(_e: DragEvent, targetId: string): void {\n\t\tthis.dropTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDrop = (e: DragEvent): void => {\n\t\tconst { dropTargetIds } = this\n\t\tthis.dropTargetIds = []\n\n\t\tthis.actions.hover(dropTargetIds, {\n\t\t\tclientOffset: getEventClientOffset(e),\n\t\t})\n\t\tthis.actions.drop({ dropEffect: this.getCurrentDropEffect() })\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.endDragNativeItem()\n\t\t} else if (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleSelectStart = (e: DragEvent): void => {\n\t\tconst target = e.target as HTMLElement & { dragDrop: () => void }\n\n\t\t// Only IE requires us to explicitly say\n\t\t// we want drag drop operation to start\n\t\tif (typeof target.dragDrop !== 'function') {\n\t\t\treturn\n\t\t}\n\n\t\t// Inputs and textareas should be selectable\n\t\tif (\n\t\t\ttarget.tagName === 'INPUT' ||\n\t\t\ttarget.tagName === 'SELECT' ||\n\t\t\ttarget.tagName === 'TEXTAREA' ||\n\t\t\ttarget.isContentEditable\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\t// For other targets, ask IE\n\t\t// to enable drag and drop\n\t\te.preventDefault()\n\t\ttarget.dragDrop()\n\t}\n}\n","import type { BackendFactory, DragDropManager } from 'dnd-core'\n\nimport { HTML5BackendImpl } from './HTML5BackendImpl.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\nexport { getEmptyImage } from './getEmptyImage.js'\nexport * as NativeTypes from './NativeTypes.js'\nexport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport const HTML5Backend: BackendFactory = function createBackend(\n\tmanager: DragDropManager,\n\tcontext?: HTML5BackendContext,\n\toptions?: HTML5BackendOptions,\n): HTML5BackendImpl {\n\treturn new HTML5BackendImpl(manager, context, options)\n}\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'km',\r\n        toolbar: {\r\n            default: 'លំនាំដើម',\r\n            save: 'រក្សាទុក',\r\n            font: 'ពុម្ពអក្សរ',\r\n            formats: 'ទ្រង់ទ្រាយ',\r\n            fontSize: 'ទំហំអក្សរ',\r\n            bold: 'អក្សរដិត',\r\n            underline: 'គូសបន្ទាត់ក្រោម',\r\n            italic: 'អក្សរទ្រេត',\r\n            strike: 'ឆូតអក្សរ',\r\n            subscript: 'អក្សរតូចក្រោម',\r\n            superscript: 'អក្សរតូចលើ',\r\n            removeFormat: 'លុបទ្រង់ទ្រាយ',\r\n            fontColor: 'ពណ៌អក្សរ',\r\n            hiliteColor: 'ពណ៌បន្លិច',\r\n            indent: 'ចូលបន្ទាត់',\r\n            outdent: 'ចេញបន្ទាត់',\r\n            align: 'តម្រឹម',\r\n            alignLeft: 'តម្រឹមឆ្វេង',\r\n            alignRight: 'តម្រឹមស្ដាំ',\r\n            alignCenter: 'តម្រឹមកណ្តាល',\r\n            alignJustify: 'តម្រឹមសម្រួល',\r\n            list: 'បញ្ជី',\r\n            orderList: 'បញ្ជីលេខលំដាប់',\r\n            unorderList: 'បញ្ជីសញ្ញាលំដាប់',\r\n            horizontalRule: 'បន្ទាត់ផ្តេក',\r\n            hr_solid: 'បន្ទាត់ខ្សែស្មើ',\r\n            hr_dotted: 'បន្ទាត់ចុចស្មើ',\r\n            hr_dashed: 'បន្ទាត់ត្រេស្មើ',\r\n            table: 'តារាង',\r\n            link: 'តំណ',\r\n            math: 'គណិត',\r\n            image: 'រូបភាព',\r\n            video: 'វីដេអូ',\r\n            audio: 'អូឌីយូ',\r\n            fullScreen: 'អេក្រង់ពេញ',\r\n            showBlocks: 'បង្ហាញប្លក់',\r\n            codeView: 'មើលកូដ',\r\n            undo: 'មិនធ្វើវិញ',\r\n            redo: 'ធ្វើវិញ',\r\n            preview: 'មើលជាមុន',\r\n            print: 'បោះពុម្ព',\r\n            tag_p: 'កថាខណ្ឌ',\r\n            tag_div: 'ធម្មតា (DIV)',\r\n            tag_h: 'ចំណងជើង',\r\n            tag_blockquote: 'អត្ថបទដកស្រង់',\r\n            tag_pre: 'កូដ',\r\n            template: 'ពុម្ព',\r\n            lineHeight: 'កម្ពស់បន្ទាត់',\r\n            paragraphStyle: 'រចនាប័ទ្មកថាខណ្ឌ',\r\n            textStyle: 'រចនាប័ទ្មអក្សរ',\r\n            imageGallery: 'វិចិត្រសាលរូបភាព',\r\n            dir_ltr: 'ពីឆ្វេងទៅស្តាំ',\r\n            dir_rtl: 'ពីស្តាំទៅឆ្វេង',\r\n            mention: 'លើកឡើង'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'បញ្ចូលតំណ',\r\n                url: 'URL ទៅតំណ',\r\n                text: 'អត្ថបទបង្ហាញ',\r\n                newWindowCheck: 'បើកផ្ទាំងក្នុងថ្មី',\r\n                downloadLinkCheck: 'តំណទាញយក',\r\n                bookmark: 'ចំណាំ'\r\n            },\r\n            mathBox: {\r\n                title: 'គណិត',\r\n                inputLabel: 'សរសេរកូដគណិត',\r\n                fontSizeLabel: 'ទំហំអក្សរ',\r\n                previewLabel: 'មើលជាមុន'\r\n            },\r\n            imageBox: {\r\n                title: 'បញ្ចូលរូបភាព',\r\n                file: 'ជ្រើសរូបភាព',\r\n                url: 'URL រូបភាព',\r\n                altText: 'អត្ថបទជំនួស'\r\n            },\r\n            videoBox: {\r\n                title: 'បញ្ចូលវីដេអូ',\r\n                file: 'ជ្រើសវីដេអូ',\r\n                url: 'URL វីដេអូ (YouTube/Vimeo)'\r\n            },\r\n            audioBox: {\r\n                title: 'បញ្ចូលអូឌីយ៉ូ',\r\n                file: 'ជ្រើសអូឌីយ៉ូ',\r\n                url: 'URL អូឌីយ៉ូ'\r\n            },\r\n            browser: {\r\n                tags: 'ស្លាក',\r\n                search: 'ស្វែងរក',\r\n            },\r\n            caption: 'បញ្ចូលការពិពណ៌នា',\r\n            close: 'បិទ',\r\n            submitButton: 'ដាក់ស្នើ',\r\n            revertButton: 'រក្សាភាពដើម',\r\n            proportion: 'កំណត់សមាមាត្រ',\r\n            basic: 'មូលដ្ឋាន',\r\n            left: 'ឆ្វេង',\r\n            right: 'ស្តាំ',\r\n            center: 'កណ្តាល',\r\n            width: 'ទទឹង',\r\n            height: 'កម្ពស់',\r\n            size: 'ទំហំ',\r\n            ratio: 'សមាមាត្រ'\r\n        },\r\n        controller: {\r\n            edit: 'កែសម្រួល',\r\n            unlink: 'ផ្តាច់តំណ',\r\n            remove: 'លុប',\r\n            insertRowAbove: 'បញ្ចូលជួរដេកខាងលើ',\r\n            insertRowBelow: 'បញ្ចូលជួរដេកខាងក្រោម',\r\n            deleteRow: 'លុបជួរដេក',\r\n            insertColumnBefore: 'បញ្ចូលជួរឈរមុន',\r\n            insertColumnAfter: 'បញ្ចូលជួរឈរបន្ទាប់',\r\n            deleteColumn: 'លុបជួរឈរ',\r\n            fixedColumnWidth: 'ទំហំជួរឈរត្រឹមត្រូវ',\r\n            resize100: 'ប្ដូរទំហំ 100%',\r\n            resize75: 'ប្ដូរទំហំ 75%',\r\n            resize50: 'ប្ដូរទំហំ 50%',\r\n            resize25: 'ប្ដូរទំហំ 25%',\r\n            autoSize: 'ទំហំស្វ័យប្រវត្តិ',\r\n            mirrorHorizontal: 'បញ្ច្រាសផ្ដេក',\r\n            mirrorVertical: 'បញ្ច្រាសបញ្ឈរ',\r\n            rotateLeft: 'បង្វិលឆ្វេង',\r\n            rotateRight: 'បង្វិលស្តាំ',\r\n            maxSize: 'ទំហំធំ',\r\n            minSize: 'ទំហំតូច',\r\n            tableHeader: 'ក្បាលតារាង',\r\n            mergeCells: 'បង្រួមក្រឡា',\r\n            splitCells: 'បំបែកក្រឡា',\r\n            HorizontalSplit: 'បំបែកផ្ដេក',\r\n            VerticalSplit: 'បំបែកបញ្ឈរ'\r\n        },\r\n        menu: {\r\n            spaced: 'មានចន្លោះ',\r\n            bordered: 'មានស៊ុម',\r\n            neon: 'Neon',\r\n            translucent: 'ថ្លា',\r\n            shadow: 'ស្រមោល',\r\n            code: 'កូដ'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'km', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'fr',\r\n        toolbar: {\r\n            default: 'Défaut',\r\n            save: 'Sauvegarder',\r\n            font: 'Police',\r\n            formats: 'Formats',\r\n            fontSize: 'Taille',\r\n            bold: 'Gras',\r\n            underline: 'Souligné',\r\n            italic: 'Italique',\r\n            strike: 'Barré',\r\n            subscript: 'Indice',\r\n            superscript: 'Exposant',\r\n            removeFormat: 'Effacer le formatage',\r\n            fontColor: 'Couleur du texte',\r\n            hiliteColor: 'Couleur en arrière plan',\r\n            indent: 'Indenter',\r\n            outdent: 'Désindenter',\r\n            align: 'Alignement',\r\n            alignLeft: 'À gauche',\r\n            alignRight: 'À droite',\r\n            alignCenter: 'Centré',\r\n            alignJustify: 'Justifié',\r\n            list: 'Liste',\r\n            orderList: 'Ordonnée',\r\n            unorderList: 'Non-ordonnée',\r\n            horizontalRule: 'Ligne horizontale',\r\n            hr_solid: 'Solide',\r\n            hr_dotted: 'Points',\r\n            hr_dashed: 'Tirets',\r\n            table: 'Table',\r\n            link: 'Lien',\r\n            math: 'Math',\r\n            image: 'Image',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Plein écran',\r\n            showBlocks: 'Voir les blocs',\r\n            codeView: 'Voir le code',\r\n            undo: 'Annuler',\r\n            redo: 'Rétablir',\r\n            preview: 'Prévisualiser',\r\n            print: 'Imprimer',\r\n            tag_p: 'Paragraphe',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Titre',\r\n            tag_blockquote: 'Citation',\r\n            tag_pre: 'Code',\r\n            template: 'Template',\r\n            lineHeight: 'Hauteur de la ligne',\r\n            paragraphStyle: 'Style de paragraphe',\r\n            textStyle: 'Style de texte',\r\n            imageGallery: 'Galerie d\\'images',\r\n            dir_ltr: 'De gauche à droite',\r\n            dir_rtl: 'De droite à gauche',\r\n            mention: 'Mention'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Insérer un lien',\r\n                url: 'Adresse URL du lien',\r\n                text: 'Texte à afficher',\r\n                newWindowCheck: 'Ouvrir dans une nouvelle fenêtre',\r\n                downloadLinkCheck: 'Lien de téléchargement',\r\n                bookmark: 'Signet'\r\n            },\r\n            mathBox: {\r\n                title: 'Math',\r\n                inputLabel: 'Notation mathématique',\r\n                fontSizeLabel: 'Taille',\r\n                previewLabel: 'Prévisualiser'\r\n            },\r\n            imageBox: {\r\n                title: 'Insérer une image',\r\n                file: 'Sélectionner le fichier',\r\n                url: 'Adresse URL du fichier',\r\n                altText: 'Texte Alternatif'\r\n            },\r\n            videoBox: {\r\n                title: 'Insérer une vidéo',\r\n                file: 'Sélectionner le fichier',\r\n                url: 'URL d’intégration du média, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Insérer un fichier audio',\r\n                file: 'Sélectionner le fichier',\r\n                url: 'Adresse URL du fichier'\r\n            },\r\n            browser: {\r\n                tags: 'Mots clés',\r\n                search: 'Chercher',\r\n            },\r\n            caption: 'Insérer une description',\r\n            close: 'Fermer',\r\n            submitButton: 'Appliquer',\r\n            revertButton: 'Revenir en arrière',\r\n            proportion: 'Maintenir le rapport hauteur/largeur',\r\n            basic: 'Basique',\r\n            left: 'Gauche',\r\n            right: 'Droite',\r\n            center: 'Centré',\r\n            width: 'Largeur',\r\n            height: 'Hauteur',\r\n            size: 'Taille',\r\n            ratio: 'Rapport'\r\n        },\r\n        controller: {\r\n            edit: 'Modifier',\r\n            unlink: 'Supprimer un lien',\r\n            remove: 'Effacer',\r\n            insertRowAbove: 'Insérer une ligne en dessous',\r\n            insertRowBelow: 'Insérer une ligne au dessus',\r\n            deleteRow: 'Effacer la ligne',\r\n            insertColumnBefore: 'Insérer une colonne avant',\r\n            insertColumnAfter: 'Insérer une colonne après',\r\n            deleteColumn: 'Effacer la colonne',\r\n            fixedColumnWidth: 'Largeur de colonne fixe',\r\n            resize100: 'Redimensionner à 100%',\r\n            resize75: 'Redimensionner à 75%',\r\n            resize50: 'Redimensionner à 50%',\r\n            resize25: 'Redimensionner à 25%',\r\n            autoSize: 'Taille automatique',\r\n            mirrorHorizontal: 'Mirroir, Horizontal',\r\n            mirrorVertical: 'Mirroir, Vertical',\r\n            rotateLeft: 'Rotation à gauche',\r\n            rotateRight: 'Rotation à droite',\r\n            maxSize: 'Taille max',\r\n            minSize: 'Taille min',\r\n            tableHeader: 'En-tête de table',\r\n            mergeCells: 'Fusionner les cellules',\r\n            splitCells: 'Diviser les Cellules',\r\n            HorizontalSplit: 'Scission horizontale',\r\n            VerticalSplit: 'Scission verticale'\r\n        },\r\n        menu: {\r\n            spaced: 'Espacement',\r\n            bordered: 'Ligne de démarcation',\r\n            neon: 'Néon',\r\n            translucent: 'Translucide',\r\n            shadow: 'Ombre',\r\n            code: 'Code'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'fr', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","import { useEffect, useLayoutEffect } from 'react'\n\n// suppress the useLayoutEffect warning on server side.\nexport const useIsomorphicLayoutEffect =\n\ttypeof window !== 'undefined' ? useLayoutEffect : useEffect\n","import { invariant } from '@react-dnd/invariant'\nimport type { DragDropManager } from 'dnd-core'\nimport { useContext } from 'react'\n\nimport { DndContext } from '../core/index.js'\n\n/**\n * A hook to retrieve the DragDropManager from Context\n */\nexport function useDragDropManager(): DragDropManager {\n\tconst { dragDropManager } = useContext(DndContext)\n\tinvariant(dragDropManager != null, 'Expected drag drop context')\n\treturn dragDropManager as DragDropManager\n}\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * Brazilian Portuguese translation by lpeil github\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'pt_br',\r\n        toolbar: {\r\n            default: 'Padrão',\r\n            save: 'Salvar',\r\n            font: 'Fonte',\r\n            formats: 'Formatos',\r\n            fontSize: 'Tamanho',\r\n            bold: 'Negrito',\r\n            underline: 'Sublinhado',\r\n            italic: 'Itálico',\r\n            strike: 'Riscado',\r\n            subscript: 'Subescrito',\r\n            superscript: 'Sobrescrito',\r\n            removeFormat: 'Remover Formatação',\r\n            fontColor: 'Cor da Fonte',\r\n            hiliteColor: 'Cor de destaque',\r\n            indent: 'Recuo',\r\n            outdent: 'Avançar',\r\n            align: 'Alinhar',\r\n            alignLeft: 'Alinhar à esquerda',\r\n            alignRight: 'Alinhar à direita',\r\n            alignCenter: 'Centralizar',\r\n            alignJustify: 'Justificar',\r\n            list: 'Lista',\r\n            orderList: 'Lista ordenada',\r\n            unorderList: 'Lista desordenada',\r\n            horizontalRule: 'Linha horizontal',\r\n            hr_solid: 'sólida',\r\n            hr_dotted: 'pontilhada',\r\n            hr_dashed: 'tracejada',\r\n            table: 'Tabela',\r\n            link: 'Link',\r\n            math: 'Matemática',\r\n            image: 'Imagem',\r\n            video: 'Vídeo',\r\n            audio: 'Áudio',\r\n            fullScreen: 'Tela cheia',\r\n            showBlocks: 'Mostrar blocos',\r\n            codeView: 'Mostrar códigos',\r\n            undo: 'Voltar',\r\n            redo: 'Refazer',\r\n            preview: 'Prever',\r\n            print: 'Imprimir',\r\n            tag_p: 'Paragráfo',\r\n            tag_div: '(DIV) Normal',\r\n            tag_h: 'Cabeçalho',\r\n            tag_blockquote: 'Citar',\r\n            tag_pre: 'Código',\r\n            template: 'Modelo',\r\n            lineHeight: 'Altura da linha',\r\n            paragraphStyle: 'Estilo do parágrafo',\r\n            textStyle: 'Estilo do texto',\r\n            imageGallery: 'Galeria de imagens',\r\n            dir_ltr: 'Esquerda para direita',\r\n            dir_rtl: 'Direita para esquerda',\r\n            mention: 'Menção'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Inserir link',\r\n                url: 'URL para link',\r\n                text: 'Texto a mostrar',\r\n                newWindowCheck: 'Abrir em nova guia',\r\n                downloadLinkCheck: 'Link para Download',\r\n                bookmark: 'marcar páginas'\r\n            },\r\n            mathBox: {\r\n                title: 'Matemática',\r\n                inputLabel: 'Notação matemática',\r\n                fontSizeLabel: 'Tamanho',\r\n                previewLabel: 'Prever'\r\n            },\r\n            imageBox: {\r\n                title: 'Inserir imagens',\r\n                file: 'Selecionar arquivos',\r\n                url: 'URL da imagem',\r\n                altText: 'Texto alternativo'\r\n            },\r\n            videoBox: {\r\n                title: 'Inserir vídeo',\r\n                file: 'Selecionar arquivos',\r\n                url: 'URL do YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Inserir áudio',\r\n                file: 'Selecionar arquivos',\r\n                url: 'URL da áudio'\r\n            },\r\n            browser: {\r\n                tags: 'Tag',\r\n                search: 'Procurar',\r\n            },\r\n            caption: 'Inserir descrição',\r\n            close: 'Fechar',\r\n            submitButton: 'Enviar',\r\n            revertButton: 'Reverter',\r\n            proportion: 'Restringir proporções',\r\n            basic: 'Básico',\r\n            left: 'Esquerda',\r\n            right: 'Direita',\r\n            center: 'Centro',\r\n            width: 'Largura',\r\n            height: 'Altura',\r\n            size: 'Tamanho',\r\n            ratio: 'Proporções'\r\n        },\r\n        controller: {\r\n            edit: 'Editar',\r\n            unlink: 'Remover link',\r\n            remove: 'Remover',\r\n            insertRowAbove: 'Inserir linha acima',\r\n            insertRowBelow: 'Inserir linha abaixo',\r\n            deleteRow: 'Deletar linha',\r\n            insertColumnBefore: 'Inserir coluna antes',\r\n            insertColumnAfter: 'Inserir coluna depois',\r\n            deleteColumn: 'Deletar coluna',\r\n            fixedColumnWidth: 'Largura fixa da coluna',\r\n            resize100: 'Redimensionar para 100%',\r\n            resize75: 'Redimensionar para 75%',\r\n            resize50: 'Redimensionar para 50%',\r\n            resize25: 'Redimensionar para 25%',\r\n            autoSize: 'Tamanho automático',\r\n            mirrorHorizontal: 'Espelho, Horizontal',\r\n            mirrorVertical: 'Espelho, Vertical',\r\n            rotateLeft: 'Girar para esquerda',\r\n            rotateRight: 'Girar para direita',\r\n            maxSize: 'Tam máx',\r\n            minSize: 'Tam mín',\r\n            tableHeader: 'Cabeçalho da tabela',\r\n            mergeCells: 'Mesclar células',\r\n            splitCells: 'Dividir células',\r\n            HorizontalSplit: 'Divisão horizontal',\r\n            VerticalSplit: 'Divisão vertical'\r\n        },\r\n        menu: {\r\n            spaced: 'Espaçado',\r\n            bordered: 'Com borda',\r\n            neon: 'Neon',\r\n            translucent: 'Translúcido',\r\n            shadow: 'Sombreado',\r\n            code: 'Código'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'pt_br', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'pl',\r\n        toolbar: {\r\n            default: 'Domyślne',\r\n            save: 'Zapisz',\r\n            font: 'Czcionka',\r\n            formats: 'Formaty',\r\n            fontSize: 'Rozmiar',\r\n            bold: 'Pogrubienie',\r\n            underline: 'Podkreślenie',\r\n            italic: 'Kursywa',\r\n            strike: 'Przekreślenie',\r\n            subscript: 'Indeks dolny',\r\n            superscript: 'Indeks górny',\r\n            removeFormat: 'Wyczyść formatowanie',\r\n            fontColor: 'Kolor tekstu',\r\n            hiliteColor: 'Kolor tła tekstu',\r\n            indent: 'Zwiększ wcięcie',\r\n            outdent: 'Zmniejsz wcięcie',\r\n            align: 'Wyrównaj',\r\n            alignLeft: 'Do lewej',\r\n            alignRight: 'Do prawej',\r\n            alignCenter: 'Do środka',\r\n            alignJustify: 'Wyjustuj',\r\n            list: 'Lista',\r\n            orderList: 'Lista numerowana',\r\n            unorderList: 'Lista wypunktowana',\r\n            horizontalRule: 'Pozioma linia',\r\n            hr_solid: 'Ciągła',\r\n            hr_dotted: 'Kropkowana',\r\n            hr_dashed: 'Przerywana',\r\n            table: 'Tabela',\r\n            link: 'Odnośnik',\r\n            math: 'Matematyczne',\r\n            image: 'Obraz',\r\n            video: 'Wideo',\r\n            audio: 'Audio',\r\n            fullScreen: 'Pełny ekran',\r\n            showBlocks: 'Pokaż bloki',\r\n            codeView: 'Widok kodu',\r\n            undo: 'Cofnij',\r\n            redo: 'Ponów',\r\n            preview: 'Podgląd', \r\n            print: 'Drukuj',\r\n            tag_p: 'Akapit',\r\n            tag_div: 'Blok (DIV)',\r\n            tag_h: 'Nagłówek H',\r\n            tag_blockquote: 'Cytat',\r\n            tag_pre: 'Kod',\r\n            template: 'Szablon',\r\n            lineHeight: 'Odstęp między wierszami',\r\n            paragraphStyle: 'Styl akapitu',\r\n            textStyle: 'Styl tekstu',\r\n            imageGallery: 'Galeria obrazów',\r\n            dir_ltr: 'Od lewej do prawej',\r\n            dir_rtl: 'Od prawej do lewej',\r\n            mention: 'Wzmianka'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Wstaw odnośnik',\r\n                url: 'Adres URL',\r\n                text: 'Tekst do wyświetlenia',\r\n                newWindowCheck: 'Otwórz w nowym oknie',\r\n                downloadLinkCheck: 'Link do pobrania',\r\n                bookmark: 'Zakładka'\r\n            },\r\n            mathBox: {\r\n                title: 'Matematyczne',\r\n                inputLabel: 'Zapis matematyczny',\r\n                fontSizeLabel: 'Rozmiar czcionki',\r\n                previewLabel: 'Podgląd'\r\n            },\r\n            imageBox: {\r\n                title: 'Wstaw obraz',\r\n                file: 'Wybierz plik',\r\n                url: 'Adres URL obrazka',\r\n                altText: 'Tekst alternatywny'\r\n            },\r\n            videoBox: {\r\n                title: 'Wstaw wideo',\r\n                file: 'Wybierz plik',\r\n                url: 'Adres URL video, np. YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Wstaw audio',\r\n                file: 'Wybierz plik',\r\n                url: 'Adres URL audio'\r\n            },\r\n            browser: {\r\n                tags: 'Tagi',\r\n                search: 'Szukaj',\r\n            },\r\n            caption: 'Wstaw opis',\r\n            close: 'Zamknij',\r\n            submitButton: 'Zatwierdź',\r\n            revertButton: 'Cofnij zmiany',\r\n            proportion: 'Ogranicz proporcje',\r\n            basic: 'Bez wyrównania',\r\n            left: 'Do lewej',\r\n            right: 'Do prawej',\r\n            center: 'Do środka',\r\n            width: 'Szerokość',\r\n            height: 'Wysokość',\r\n            size: 'Rozmiar',\r\n            ratio: 'Proporcje'\r\n        },\r\n        controller: {\r\n            edit: 'Edycja',\r\n            unlink: 'Usuń odnośnik',\r\n            remove: 'Usuń',\r\n            insertRowAbove: 'Wstaw wiersz powyżej',\r\n            insertRowBelow: 'Wstaw wiersz poniżej',\r\n            deleteRow: 'Usuń wiersz',\r\n            insertColumnBefore: 'Wstaw kolumnę z lewej',\r\n            insertColumnAfter: 'Wstaw kolumnę z prawej',\r\n            deleteColumn: 'Usuń kolumnę',\r\n            fixedColumnWidth: 'Stała szerokość kolumny',\r\n            resize100: 'Zmień rozmiar - 100%',\r\n            resize75: 'Zmień rozmiar - 75%',\r\n            resize50: 'Zmień rozmiar - 50%',\r\n            resize25: 'Zmień rozmiar - 25%',\r\n            autoSize: 'Rozmiar automatyczny',\r\n            mirrorHorizontal: 'Odbicie lustrzane w poziomie',\r\n            mirrorVertical: 'Odbicie lustrzane w pionie',\r\n            rotateLeft: 'Obróć w lewo',\r\n            rotateRight: 'Obróć w prawo',\r\n            maxSize: 'Maksymalny rozmiar',\r\n            minSize: 'Minimalny rozmiar',\r\n            tableHeader: 'Nagłówek tabeli',\r\n            mergeCells: 'Scal komórki',\r\n            splitCells: 'Podziel komórki',\r\n            HorizontalSplit: 'Podział poziomy',\r\n            VerticalSplit: 'Podział pionowy'\r\n        },\r\n        menu: {\r\n            spaced: 'Rozstawiony',\r\n            bordered: 'Z obwódką',\r\n            neon: 'Neon',\r\n            translucent: 'Półprzezroczysty',\r\n            shadow: 'Cień',\r\n            code: 'Kod'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'pl', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const resizing = {\r\n        name: 'resizing',\r\n        /**\r\n         * @description Constructor\r\n         * Require context properties when resizing module\r\n            inputX: Element,\r\n            inputY: Element,\r\n            _container: null,\r\n            _cover: null,\r\n            _element: null,\r\n            _element_w: 1,\r\n            _element_h: 1,\r\n            _element_l: 0,\r\n            _element_t: 0,\r\n            _defaultSizeX: 'auto',\r\n            _defaultSizeY: 'auto',\r\n            _origin_w: core.options.imageWidth === 'auto' ? '' : core.options.imageWidth,\r\n            _origin_h: core.options.imageHeight === 'auto' ? '' : core.options.imageHeight,\r\n            _proportionChecked: true,\r\n            // -- select function --\r\n            _resizing: core.options.imageResizing,\r\n            _resizeDotHide: !core.options.imageHeightShow,\r\n            _rotation: core.options.imageRotation,\r\n            _onlyPercentage: core.options.imageSizeOnlyPercentage,\r\n            _ratio: false,\r\n            _ratioX: 1,\r\n            _ratioY: 1\r\n            _captionShow: true,\r\n            // -- when used caption (_captionShow: true) --\r\n            _caption: null,\r\n            _captionChecked: false,\r\n            captionCheckEl: null,\r\n         * @param {Object} core Core object \r\n         */\r\n        add: function (core) {\r\n            const icons = core.icons;\r\n            const context = core.context;\r\n            context.resizing = {\r\n                _resizeClientX: 0,\r\n                _resizeClientY: 0,\r\n                _resize_plugin: '',\r\n                _resize_w: 0,\r\n                _resize_h: 0,\r\n                _origin_w: 0,\r\n                _origin_h: 0,\r\n                _rotateVertical: false,\r\n                _resize_direction: '',\r\n                _move_path: null,\r\n                _isChange: false,\r\n                alignIcons: {\r\n                    basic: icons.align_justify,\r\n                    left: icons.align_left,\r\n                    right: icons.align_right,\r\n                    center: icons.align_center\r\n                }\r\n            };\r\n\r\n            /** resize controller, button */\r\n            let resize_div_container = this.setController_resize(core);\r\n            context.resizing.resizeContainer = resize_div_container;\r\n\r\n            context.resizing.resizeDiv = resize_div_container.querySelector('.se-modal-resize');\r\n            context.resizing.resizeDot = resize_div_container.querySelector('.se-resize-dot');\r\n            context.resizing.resizeDisplay = resize_div_container.querySelector('.se-resize-display');\r\n\r\n            let resize_button = this.setController_button(core);\r\n            context.resizing.resizeButton = resize_button;\r\n\r\n            let resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll('span');\r\n            context.resizing.resizeButtonGroup = resize_button.querySelector('._se_resizing_btn_group');\r\n            context.resizing.rotationButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_rotation');\r\n            context.resizing.percentageButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_percentage');\r\n\r\n            context.resizing.alignMenu = resize_button.querySelector('.se-resizing-align-list');\r\n            context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll('button');\r\n\r\n            context.resizing.alignButton = resize_button.querySelector('._se_resizing_align_button');\r\n            context.resizing.autoSizeButton = resize_button.querySelector('._se_resizing_btn_group ._se_auto_size');\r\n            context.resizing.captionButton = resize_button.querySelector('._se_resizing_caption_button');\r\n\r\n            /** add event listeners */\r\n            resize_div_container.addEventListener('mousedown', function (e) { e.preventDefault(); });\r\n            resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\r\n\r\n            /** append html */\r\n            context.element.relative.appendChild(resize_div_container);\r\n            context.element.relative.appendChild(resize_button);\r\n\r\n            /** empty memory */\r\n            resize_div_container = null, resize_button = null, resize_handles = null;\r\n        },\r\n\r\n        /** resize controller, button (image, iframe, video) */\r\n        setController_resize: function (core) {\r\n            const resize_container = core.util.createElement('DIV');\r\n\r\n            resize_container.className = 'se-controller se-resizing-container';\r\n            resize_container.style.display = 'none';\r\n            resize_container.innerHTML = '' +\r\n                '<div class=\"se-modal-resize\"></div>' +\r\n                '<div class=\"se-resize-dot\">' +\r\n                '<span class=\"tl\"></span>' +\r\n                '<span class=\"tr\"></span>' +\r\n                '<span class=\"bl\"></span>' +\r\n                '<span class=\"br\"></span>' +\r\n                '<span class=\"lw\"></span>' +\r\n                '<span class=\"th\"></span>' +\r\n                '<span class=\"rw\"></span>' +\r\n                '<span class=\"bh\"></span>' +\r\n                '<div class=\"se-resize-display\"></div>' +\r\n                '</div>';\r\n\r\n            return resize_container;\r\n        },\r\n\r\n        setController_button: function (core) {\r\n            const lang = core.lang;\r\n            const icons = core.icons;\r\n            const resize_button = core.util.createElement(\"DIV\");\r\n\r\n            resize_button.className = \"se-controller se-controller-resizing\";\r\n            resize_button.innerHTML = '' +\r\n                '<div class=\"se-arrow se-arrow-up\"></div>' +\r\n                '<div class=\"se-btn-group _se_resizing_btn_group\">' +\r\n                '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"se-tooltip _se_percentage\">' +\r\n                '<span>100%</span>' +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize100 + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"se-tooltip _se_percentage\">' +\r\n                '<span>75%</span>' +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize75 + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"se-tooltip _se_percentage\">' +\r\n                '<span>50%</span>' +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize50 + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"auto\" class=\"se-btn se-tooltip _se_auto_size\">' +\r\n                icons.auto_size +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.autoSize + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"se-btn se-tooltip _se_rotation\">' +\r\n                icons.rotate_left +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateLeft + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"se-btn se-tooltip _se_rotation\">' +\r\n                icons.rotate_right +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateRight + '</span></span>' +\r\n                '</button>' +\r\n                '</div>' +\r\n                '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\r\n                '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"se-btn se-tooltip\">' +\r\n                icons.mirror_horizontal +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorHorizontal + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"se-btn se-tooltip\">' +\r\n                icons.mirror_vertical +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorVertical + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"onalign\" class=\"se-btn se-tooltip _se_resizing_align_button\">' +\r\n                icons.align_justify +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.align + '</span></span>' +\r\n                '</button>' +\r\n                '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list\">' +\r\n                '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"basic\">' +\r\n                icons.align_justify +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.basic + '</span></span>' +\r\n                '</button></li>' +\r\n                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"left\">' +\r\n                icons.align_left +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.left + '</span></span>' +\r\n                '</button></li>' +\r\n                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"center\">' +\r\n                icons.align_center +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.center + '</span></span>' +\r\n                '</button></li>' +\r\n                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"right\">' +\r\n                icons.align_right +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.right + '</span></span>' +\r\n                '</button></li>' +\r\n                '</ul>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '<button type=\"button\" data-command=\"caption\" class=\"se-btn se-tooltip _se_resizing_caption_button\">' +\r\n                icons.caption +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.caption + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"revert\" class=\"se-btn se-tooltip\">' +\r\n                icons.revert +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.revertButton + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"update\" class=\"se-btn se-tooltip\">' +\r\n                icons.modify +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" class=\"se-btn se-tooltip\">' +\r\n                icons.delete +\r\n                '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                '</button>' +\r\n                '</div>';\r\n\r\n            return resize_button;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the width size\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         * @param {Element} element Target element\r\n         * @param {Element} cover Cover element (FIGURE)\r\n         * @param {Element} container Container element (DIV.se-component)\r\n         * @returns {String}\r\n         */\r\n        _module_getSizeX: function (contextPlugin, element, cover, container) {\r\n            if (!element) element = contextPlugin._element;\r\n            if (!cover) cover = contextPlugin._cover;\r\n            if (!container) container = contextPlugin._container;\r\n\r\n            if (!element) return '';\r\n\r\n            return !/%$/.test(element.style.width) ? element.style.width : ((container && this.util.getNumber(container.style.width, 2)) || 100) + '%';\r\n        },\r\n\r\n        /**\r\n         * @description Gets the height size\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         * @param {Element} element Target element\r\n         * @param {Element} cover Cover element (FIGURE)\r\n         * @param {Element} container Container element (DIV.se-component)\r\n         * @returns {String}\r\n         */\r\n        _module_getSizeY: function (contextPlugin, element, cover, container) {\r\n            if (!element) element = contextPlugin._element;\r\n            if (!cover) cover = contextPlugin._cover;\r\n            if (!container) container = contextPlugin._container;\r\n\r\n            if (!container || !cover) return (element && element.style.height) || '';\r\n\r\n            return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : (!/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : ((container && this.util.getNumber(container.style.height, 2)) || 100) + '%');\r\n        },\r\n\r\n        /**\r\n         * @description Called at the \"openModify\" to put the size of the current target into the size input element.\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         * @param {Object} pluginObj Plugin object\r\n         */\r\n        _module_setModifyInputSize: function (contextPlugin, pluginObj) {\r\n            const percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\r\n            contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute('data-proportion') !== 'false';\r\n\r\n            let x = percentageRotation ? '' : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\r\n            if (x === contextPlugin._defaultSizeX) x = '';\r\n            if (contextPlugin._onlyPercentage) x = this.util.getNumber(x, 2);\r\n            contextPlugin.inputX.value = x;\r\n            pluginObj.setInputSize.call(this, 'x');\r\n\r\n            if (!contextPlugin._onlyPercentage) {\r\n                let y = percentageRotation ? '' : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\r\n                if (y === contextPlugin._defaultSizeY) y = '';\r\n                if (contextPlugin._onlyPercentage) y = this.util.getNumber(y, 2);\r\n                contextPlugin.inputY.value = y;\r\n            }\r\n\r\n            contextPlugin.inputX.disabled = percentageRotation ? true : false;\r\n            contextPlugin.inputY.disabled = percentageRotation ? true : false;\r\n            contextPlugin.proportion.disabled = percentageRotation ? true : false;\r\n\r\n            pluginObj.setRatio.call(this);\r\n        },\r\n\r\n        /**\r\n         * @description It is called in \"setInputSize\" (input tag keyupEvent), \r\n         * checks the value entered in the input tag, \r\n         * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         * @param {String} xy 'x': width, 'y': height\r\n         */\r\n        _module_setInputSize: function (contextPlugin, xy) {\r\n            if (contextPlugin._onlyPercentage) {\r\n                if (xy === 'x' && contextPlugin.inputX.value > 100) contextPlugin.inputX.value = 100;\r\n                return;\r\n            }\r\n\r\n            if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\r\n                const xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\r\n                const yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\r\n\r\n                if (xUnit !== yUnit) return;\r\n\r\n                const dec = xUnit === '%' ? 2 : 0;\r\n\r\n                if (xy === 'x') {\r\n                    contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\r\n                } else {\r\n                    contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent), \r\n         * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         */\r\n        _module_setRatio: function (contextPlugin) {\r\n            const xValue = contextPlugin.inputX.value;\r\n            const yValue = contextPlugin.inputY.value;\r\n\r\n            if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\r\n                const xUnit = xValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\r\n                const yUnit = yValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\r\n\r\n                if (xUnit !== yUnit) {\r\n                    contextPlugin._ratio = false;\r\n                } else if (!contextPlugin._ratio) {\r\n                    const x = this.util.getNumber(xValue, 0);\r\n                    const y = this.util.getNumber(yValue, 0);\r\n\r\n                    contextPlugin._ratio = true;\r\n                    contextPlugin._ratioX = x / y;\r\n                    contextPlugin._ratioY = y / x;\r\n                }\r\n            } else {\r\n                contextPlugin._ratio = false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         */\r\n        _module_sizeRevert: function (contextPlugin) {\r\n            if (contextPlugin._onlyPercentage) {\r\n                contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\r\n            } else {\r\n                contextPlugin.inputX.value = contextPlugin._origin_w;\r\n                contextPlugin.inputY.value = contextPlugin._origin_h;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Save the size data (element.setAttribute(\"data-size\"))\r\n         * Used at the \"setSize\" method\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         */\r\n        _module_saveCurrentSize: function (contextPlugin) {\r\n            const x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\r\n            const y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\r\n            // add too width, height attribute\r\n            contextPlugin._element.setAttribute('width', x.replace('px', ''));\r\n            contextPlugin._element.setAttribute('height', y.replace('px', ''));\r\n            contextPlugin._element.setAttribute('data-size', x + ',' + y);\r\n            if (!!contextPlugin._videoRatio) contextPlugin._videoRatio = y;\r\n        },\r\n\r\n        /**\r\n         * @description Call the resizing module\r\n         * @param {Element} targetElement Resizing target element\r\n         * @param {string} plugin Plugin name\r\n         * @returns {Object} Size of resizing div {w, h, t, l}\r\n         */\r\n        call_controller_resize: function (targetElement, plugin) {\r\n            const contextResizing = this.context.resizing;\r\n            const contextPlugin = this.context[plugin];\r\n            contextResizing._resize_plugin = plugin;\r\n\r\n            const resizeContainer = contextResizing.resizeContainer;\r\n            const resizeDiv = contextResizing.resizeDiv;\r\n            const offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\r\n\r\n            const isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\r\n\r\n            const w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\r\n            const h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\r\n            const t = offset.top;\r\n            const l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\r\n\r\n            resizeContainer.style.top = t + 'px';\r\n            resizeContainer.style.left = l + 'px';\r\n            resizeContainer.style.width = w + 'px';\r\n            resizeContainer.style.height = h + 'px';\r\n\r\n            resizeDiv.style.top = '0px';\r\n            resizeDiv.style.left = '0px';\r\n            resizeDiv.style.width =  w + 'px';\r\n            resizeDiv.style.height =  h + 'px';\r\n\r\n            let align = targetElement.getAttribute('data-align') || 'basic';\r\n            align = align === 'none' ? 'basic' : align;\r\n\r\n            // text\r\n            const container = this.util.getParentElement(targetElement, this.util.isComponent);\r\n            const cover = this.util.getParentElement(targetElement, 'FIGURE');\r\n            const displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || 'auto';\r\n            const displayY = contextPlugin._onlyPercentage && plugin === 'image' ? '' : ', ' + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || 'auto');\r\n            this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + displayX + displayY + ')');\r\n\r\n            // resizing display\r\n            contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? '' : 'none';\r\n            const resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? 'flex' : 'none';\r\n            const resizeHandles = contextResizing.resizeHandles;\r\n            for (let i = 0, len = resizeHandles.length; i < len; i++) {\r\n                resizeHandles[i].style.display = resizeDotShow;\r\n            }\r\n\r\n            if (contextPlugin._resizing) {\r\n                const rotations = contextResizing.rotationButtons;\r\n                rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? '' : 'none';\r\n            }\r\n\r\n            // align icon\r\n            if (contextPlugin._alignHide) {\r\n                contextResizing.alignButton.style.display = 'none';\r\n            } else {\r\n                contextResizing.alignButton.style.display = '';\r\n                const alignList = contextResizing.alignMenuList;\r\n                this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\r\n                for (let i = 0, len = alignList.length; i < len; i++) {\r\n                    if (alignList[i].getAttribute('data-value') === align) this.util.addClass(alignList[i], 'on');\r\n                    else this.util.removeClass(alignList[i], 'on');\r\n                }\r\n            }\r\n\r\n            // percentage active\r\n            const pButtons = contextResizing.percentageButtons;\r\n            const value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? (this.util.getNumber(container.style.width, 0) / 100) + '' : '' ;\r\n            for (let i = 0, len = pButtons.length; i < len; i++) {\r\n                if (pButtons[i].getAttribute('data-value') === value) {\r\n                    this.util.addClass(pButtons[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(pButtons[i], 'active');\r\n                }\r\n            }\r\n\r\n            // caption display, active\r\n            if (!contextPlugin._captionShow) {\r\n                contextResizing.captionButton.style.display = 'none';\r\n            } else {\r\n                contextResizing.captionButton.style.display = '';\r\n                if (this.util.getChildElement(targetElement.parentNode, 'figcaption')) {\r\n                    this.util.addClass(contextResizing.captionButton, 'active');\r\n                    contextPlugin._captionChecked = true;\r\n                } else {\r\n                    this.util.removeClass(contextResizing.captionButton, 'active');\r\n                    contextPlugin._captionChecked = false;\r\n                }\r\n            }\r\n\r\n            resizeContainer.style.display = 'block';\r\n\r\n            const addOffset = {left: 0, top: 50};\r\n            if (this.options.iframe) {\r\n                addOffset.left -= this.context.element.wysiwygFrame.parentElement.offsetLeft;\r\n                addOffset.top -= this.context.element.wysiwygFrame.parentElement.offsetTop;\r\n            }\r\n\r\n            this.setControllerPosition(contextResizing.resizeButton, resizeContainer, 'bottom', addOffset);\r\n            const onControlsOff = function () {\r\n                this.util.setDisabledButtons.call(this.util, false, this.resizingDisabledButtons);\r\n                this.history._resetCachingButton();\r\n            };\r\n            this.controllersOn(resizeContainer, contextResizing.resizeButton, onControlsOff.bind(this), targetElement, plugin);\r\n            this.util.setDisabledButtons(true, this.resizingDisabledButtons);\r\n\r\n            contextResizing._resize_w = w;\r\n            contextResizing._resize_h = h;\r\n\r\n            const originSize = (targetElement.getAttribute('origin-size') || '').split(',');\r\n            contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\r\n            contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\r\n\r\n            return {\r\n                w: w,\r\n                h: h,\r\n                t: t,\r\n                l: l\r\n            };\r\n        },\r\n\r\n        _closeAlignMenu: null,\r\n\r\n        /**\r\n         * @description Open align submenu of module\r\n         */\r\n        openAlignMenu: function () {\r\n            const alignButton = this.context.resizing.alignButton;\r\n            this.util.addClass(alignButton, 'on');\r\n            this.context.resizing.alignMenu.style.top = (alignButton.offsetTop + alignButton.offsetHeight) + 'px';\r\n            this.context.resizing.alignMenu.style.left = (alignButton.offsetLeft - alignButton.offsetWidth / 2) + 'px';\r\n            this.context.resizing.alignMenu.style.display = 'block';\r\n\r\n            this.plugins.resizing._closeAlignMenu = function () {\r\n                this.util.removeClass(this.context.resizing.alignButton, 'on');\r\n                this.context.resizing.alignMenu.style.display = 'none';\r\n                this.removeDocEvent('click', this.plugins.resizing._closeAlignMenu);\r\n                this.plugins.resizing._closeAlignMenu = null;\r\n            }.bind(this);\r\n\r\n            this.addDocEvent('click', this.plugins.resizing._closeAlignMenu);\r\n        },\r\n\r\n        /**\r\n         * @description Click event of resizing toolbar\r\n         * Performs the action of the clicked toolbar button.\r\n         * @param {MouseEvent} e Event object\r\n         */\r\n        onClick_resizeButton: function (e) {\r\n            e.stopPropagation();\r\n\r\n            const target = e.target;\r\n            const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\r\n\r\n            if (!command) return;\r\n\r\n            const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\r\n\r\n            const pluginName = this.context.resizing._resize_plugin;\r\n            const currentContext = this.context[pluginName];\r\n            const contextEl = currentContext._element;\r\n            const currentModule = this.plugins[pluginName];\r\n\r\n            e.preventDefault();\r\n\r\n            if (typeof this.plugins.resizing._closeAlignMenu === 'function') {\r\n                this.plugins.resizing._closeAlignMenu();\r\n                if (command === 'onalign') return;\r\n            }\r\n\r\n            switch (command) {\r\n                case 'auto':\r\n                    this.plugins.resizing.resetTransform.call(this, contextEl);\r\n                    currentModule.setAutoSize.call(this);\r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'percent':\r\n                    let percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\r\n                    if (this.context.resizing._rotateVertical) {\r\n                        const percentage = contextEl.getAttribute('data-percentage');\r\n                        if (percentage) percentY = percentage.split(',')[1];\r\n                    }\r\n\r\n                    this.plugins.resizing.resetTransform.call(this, contextEl);\r\n                    currentModule.setPercentSize.call(this, (value * 100), (this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY)) ? '' : percentY);\r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'mirror':\r\n                    const r = contextEl.getAttribute('data-rotate') || '0';\r\n                    let x = contextEl.getAttribute('data-rotateX') || '';\r\n                    let y = contextEl.getAttribute('data-rotateY') || '';\r\n\r\n                    if ((value === 'h' && !this.context.resizing._rotateVertical) || (value === 'v' && this.context.resizing._rotateVertical)) {\r\n                        y = y ? '' : '180';\r\n                    } else {\r\n                        x = x ? '' : '180';\r\n                    }\r\n\r\n                    contextEl.setAttribute('data-rotateX', x);\r\n                    contextEl.setAttribute('data-rotateY', y);\r\n\r\n                    this.plugins.resizing._setTransForm(contextEl, r, x, y);\r\n                    break;\r\n                case 'rotate':\r\n                    const contextResizing = this.context.resizing;\r\n                    const slope = (contextEl.getAttribute('data-rotate') * 1) + (value * 1);\r\n                    const deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\r\n\r\n                    contextEl.setAttribute('data-rotate', deg);\r\n                    contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\r\n                    this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\r\n\r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'onalign':\r\n                    this.plugins.resizing.openAlignMenu.call(this);\r\n                    return;\r\n                case 'align':\r\n                    const alignValue = value === 'basic' ? 'none' : value;\r\n                    currentModule.setAlign.call(this, alignValue, null, null, null);\r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'caption':\r\n                    const caption = !currentContext._captionChecked;\r\n                    currentModule.openModify.call(this, true);\r\n                    currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\r\n\r\n                    currentModule.update_image.call(this, false, false, false);\r\n\r\n                    if (caption) {\r\n                        const captionText = this.util.getChildElement(currentContext._caption, function (current) {\r\n                            return current.nodeType === 3;\r\n                        });\r\n\r\n                        if (!captionText) {\r\n                            currentContext._caption.focus();\r\n                        } else {\r\n                            this.setRange(captionText, 0, captionText, captionText.textContent.length);\r\n                        }\r\n\r\n                        this.controllersOff();\r\n                    } else {\r\n                        this.selectComponent(contextEl, pluginName);\r\n                        currentModule.openModify.call(this, true);\r\n                    }\r\n\r\n                    break;\r\n                case 'revert':\r\n                    currentModule.setOriginSize.call(this);\r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'update':\r\n                    currentModule.openModify.call(this);\r\n                    this.controllersOff();\r\n                    break;\r\n                case 'delete':\r\n                    currentModule.destroy.call(this);\r\n                    break;\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Initialize the transform style (rotation) of the element.\r\n         * @param {Element} element Target element\r\n         */\r\n        resetTransform: function (element) {\r\n            const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\r\n            this.context.resizing._rotateVertical = false;\r\n\r\n            element.style.maxWidth = '';\r\n            element.style.transform = '';\r\n            element.style.transformOrigin = '';\r\n            element.setAttribute('data-rotate', '');\r\n            element.setAttribute('data-rotateX', '');\r\n            element.setAttribute('data-rotateY', '');\r\n\r\n            this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : 'auto', size[1] ? size[1] : '', true);\r\n        },\r\n\r\n        /**\r\n         * @description Set the transform style (rotation) of the element.\r\n         * @param {Element} element Target element\r\n         * @param {Number|null} width Element's width size\r\n         * @param {Number|null} height Element's height size\r\n         */\r\n        setTransformSize: function (element, width, height) {\r\n            let percentage = element.getAttribute('data-percentage');\r\n            const isVertical = this.context.resizing._rotateVertical;\r\n            const deg = element.getAttribute('data-rotate') * 1;\r\n            let transOrigin = '';\r\n\r\n            if (percentage && !isVertical) {\r\n                percentage = percentage.split(',');\r\n                if (percentage[0] === 'auto' && percentage[1] === 'auto') {\r\n                    this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\r\n                } else {\r\n                    this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\r\n                }\r\n            } else {\r\n                const cover = this.util.getParentElement(element, 'FIGURE');\r\n\r\n                const offsetW = width || element.offsetWidth;\r\n                const offsetH = height || element.offsetHeight;\r\n                const w = (isVertical ? offsetH : offsetW) + 'px';\r\n                const h = (isVertical ? offsetW : offsetH) + 'px';\r\n\r\n                this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\r\n                this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + 'px', offsetH + 'px', true);\r\n\r\n                cover.style.width = w;\r\n                cover.style.height = (!!this.context[this.context.resizing._resize_plugin]._caption ? '' : h);\r\n\r\n                if (isVertical) {\r\n                    let transW = (offsetW / 2) + 'px ' + (offsetW / 2) + 'px 0';\r\n                    let transH = (offsetH / 2) + 'px ' + (offsetH / 2) + 'px 0';\r\n                    transOrigin = deg === 90 || deg === -270 ? transH : transW;\r\n                }\r\n            }\r\n\r\n            element.style.transformOrigin = transOrigin;\r\n            this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\r\n\r\n            if (isVertical) element.style.maxWidth = 'none';\r\n            else element.style.maxWidth = '';\r\n\r\n            this.plugins.resizing.setCaptionPosition.call(this, element);\r\n        },\r\n\r\n        _setTransForm: function (element, r, x, y) {\r\n            let width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\r\n            let translate = '';\r\n\r\n            if (/[1-9]/.test(r) && (x || y)) {\r\n                translate = x ? 'Y' : 'X';\r\n\r\n                switch (r) {\r\n                    case '90':\r\n                        translate = x && y ? 'X' : y ? translate : '';\r\n                        break;\r\n                    case '270':\r\n                        width *= -1;\r\n                        translate = x && y ? 'Y' : x ? translate : '';\r\n                        break;\r\n                    case '-90':\r\n                        translate = x && y ? 'Y' : x ? translate : '';\r\n                        break;\r\n                    case '-270':\r\n                        width *= -1;\r\n                        translate = x && y ? 'X' : y ? translate : '';\r\n                        break;\r\n                    default:\r\n                        translate = '';\r\n                }\r\n            }\r\n\r\n            if (r % 180 === 0) {\r\n                element.style.maxWidth = '';\r\n            }\r\n\r\n            element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\r\n        },\r\n\r\n        /**\r\n         * @description The position of the caption is set automatically.\r\n         * @param {Element} element Target element (not caption element)\r\n         */\r\n        setCaptionPosition: function (element) {\r\n            const figcaption = this.util.getChildElement(this.util.getParentElement(element, 'FIGURE'), 'FIGCAPTION');\r\n            if (figcaption) {\r\n                figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Mouse down event of resize handles\r\n         * @param {MouseEvent} e Event object \r\n         */\r\n        onMouseDown_resize_handle: function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n\r\n            const contextResizing = this.context.resizing;\r\n            const direction = contextResizing._resize_direction = e.target.classList[0];\r\n\r\n            contextResizing._resizeClientX = e.clientX;\r\n            contextResizing._resizeClientY = e.clientY;\r\n            this.context.element.resizeBackground.style.display = 'block';\r\n            contextResizing.resizeButton.style.display = 'none';\r\n            contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\r\n\r\n            const closureFunc_bind = function closureFunc(e) {\r\n                if (e.type === 'keydown' && e.keyCode !== 27) return;\r\n\r\n                const change = contextResizing._isChange;\r\n                contextResizing._isChange = false;\r\n\r\n                this.removeDocEvent('mousemove', resizing_element_bind);\r\n                this.removeDocEvent('mouseup', closureFunc_bind);\r\n                this.removeDocEvent('keydown', closureFunc_bind);\r\n\r\n                if (e.type === 'keydown') {\r\n                    this.controllersOff();\r\n                    this.context.element.resizeBackground.style.display = 'none';\r\n                    this.plugins[this.context.resizing._resize_plugin].init.call(this);\r\n                } else {\r\n                    // element resize\r\n                    this.plugins.resizing.cancel_controller_resize.call(this, direction);\r\n                    // history stack\r\n                    if (change) this.history.push(false);\r\n                }\r\n            }.bind(this);\r\n\r\n            const resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\r\n            this.addDocEvent('mousemove', resizing_element_bind);\r\n            this.addDocEvent('mouseup', closureFunc_bind);\r\n            this.addDocEvent('keydown', closureFunc_bind);\r\n        },\r\n\r\n        /**\r\n         * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\r\n         * The size of the module's \"div\" is adjusted according to the mouse move event.\r\n         * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\r\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\r\n         * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\r\n         * @param {MouseEvent} e Event object\r\n         */\r\n        resizing_element: function (contextResizing, direction, plugin, e) {\r\n            const clientX = e.clientX;\r\n            const clientY = e.clientY;\r\n\r\n            let resultW = plugin._element_w;\r\n            let resultH = plugin._element_h;\r\n\r\n            const w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\r\n            const h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\r\n            const wh = ((plugin._element_h / plugin._element_w) * w);\r\n\r\n            if (/t/.test(direction)) contextResizing.resizeDiv.style.top = (plugin._element_h - (/h/.test(direction) ? h : wh)) + 'px';\r\n            if (/l/.test(direction)) contextResizing.resizeDiv.style.left = (plugin._element_w - w) + 'px';\r\n\r\n            if (/r|l/.test(direction)) {\r\n                contextResizing.resizeDiv.style.width = w + 'px';\r\n                resultW = w;\r\n            }\r\n\r\n            if (/^(t|b)[^h]$/.test(direction)) {\r\n                contextResizing.resizeDiv.style.height = wh + 'px';\r\n                resultH = wh;\r\n            }\r\n            else if (/^(t|b)h$/.test(direction)) {\r\n                contextResizing.resizeDiv.style.height = h + 'px';\r\n                resultH = h;\r\n            }\r\n\r\n            contextResizing._resize_w = resultW;\r\n            contextResizing._resize_h = resultH;\r\n            this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + ' x ' + this._w.Math.round(resultH));\r\n            contextResizing._isChange = true;\r\n        },\r\n\r\n        /**\r\n         * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\r\n         * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\r\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\r\n         */\r\n        cancel_controller_resize: function (direction) {\r\n            const isVertical = this.context.resizing._rotateVertical;\r\n            this.controllersOff();\r\n            this.context.element.resizeBackground.style.display = 'none';\r\n\r\n            let w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\r\n            let h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\r\n\r\n            if (!isVertical && !/%$/.test(w)) {\r\n                const padding = 16;\r\n                const limit = this.context.element.wysiwygFrame.clientWidth - (padding * 2) - 2;\r\n\r\n                if (this.util.getNumber(w, 0) > limit) {\r\n                    h = this._w.Math.round((h / w) * limit);\r\n                    w = limit;\r\n                }\r\n            }\r\n\r\n            const pluginName = this.context.resizing._resize_plugin;\r\n            this.plugins[pluginName].setSize.call(this, w, h, false, direction);\r\n            if (isVertical) this.plugins.resizing.setTransformSize.call(this, this.context[this.context.resizing._resize_plugin]._element, w, h);\r\n\r\n            this.selectComponent(this.context[pluginName]._element, pluginName);\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'resizing', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: resizing\r\n        });\r\n    }\r\n\r\n    return resizing;\r\n}));","export interface Ref<T> {\n\tcurrent: T\n}\n\nexport function isRef(obj: unknown): boolean {\n\treturn (\n\t\t// eslint-disable-next-line no-prototype-builtins\n\t\tobj !== null &&\n\t\ttypeof obj === 'object' &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'current')\n\t)\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.buttonList = void 0;\nvar SunEditor_1 = __importDefault(require(\"./components/SunEditor\"));\nexports.buttonList = __importStar(require(\"./buttons/buttonList\"));\nexports.default = SunEditor_1.default;\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\"use strict\";\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n})(typeof window !== \"undefined\" ? window : this, function(window, noGlobal) {\r\n    const lang = {\r\n        code: \"ua\",\r\n        toolbar: {\r\n            default: \"По замовчуванням\",\r\n            save: \"Зберегти\",\r\n            font: \"Шрифт\",\r\n            formats: \"Стиль абзацу\",\r\n            fontSize: \"Розмір шрифту\",\r\n            bold: \"Жирний\",\r\n            underline: \"Підкреслений\",\r\n            italic: \"Курсив\",\r\n            strike: \"Перекреслити\",\r\n            subscript: \"Нижній індекс\",\r\n            superscript: \"Верхній індекс\",\r\n            removeFormat: \"Очистити форматування\",\r\n            fontColor: \"Колір тексту\",\r\n            hiliteColor: \"Колір виділення\",\r\n            indent: \"Збільшити відступ\",\r\n            outdent: \"Зменшити відступ\",\r\n            align: \"Вирівнювання\",\r\n            alignLeft: \"За лівим краєм\",\r\n            alignRight: \"За правим краєм\",\r\n            alignCenter: \"По центру\",\r\n            alignJustify: \"За шириною\",\r\n            list: \"Список\",\r\n            orderList: \"Нумерований\",\r\n            unorderList: \"Маркований\",\r\n            horizontalRule: \"Горизонтальна лінія\",\r\n            hr_solid: \"Суцільна\",\r\n            hr_dotted: \"Пунктирна\",\r\n            hr_dashed: \"Штрихова\",\r\n            table: \"Таблиця\",\r\n            link: \"Посилання\",\r\n            math: \"Формула\",\r\n            image: \"Зображення\",\r\n            video: \"Відео\",\r\n            audio: \"Аудіо\",\r\n            fullScreen: \"Повний екран\",\r\n            showBlocks: \"Показати блоки\",\r\n            codeView: \"Редагувати як HTML\",\r\n            undo: \"Скасувати\",\r\n            redo: \"Виконати знову\",\r\n            preview: \"Попередній перегляд\",\r\n            print: \"Друк\",\r\n            tag_p: \"Абзац\",\r\n            tag_div: \"Базовий\",\r\n            tag_h: \"Заголовок\",\r\n            tag_blockquote: \"Цитата\",\r\n            tag_pre: \"Код\",\r\n            template: \"Шаблон\",\r\n            lineHeight: \"Висота лінії\",\r\n            paragraphStyle: \"Стиль абзацу\",\r\n            textStyle: \"Стиль тексту\",\r\n            imageGallery: \"Галерея\",\r\n            dir_ltr: 'Зліва направо',\r\n            dir_rtl: 'Справа наліво',\r\n            mention: \"Згадати\"\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: \"Вставити посилання\",\r\n                url: \"Посилання\",\r\n                text: \"Текст\",\r\n                newWindowCheck: \"Відкривати в новому вікні\",\r\n                downloadLinkCheck: 'Посилання для завантаження',\r\n                bookmark: 'Закладка'\r\n            },\r\n            mathBox: {\r\n                title: \"Формула\",\r\n                inputLabel: \"Математична запис\",\r\n                fontSizeLabel: \"Розмір шрифту\",\r\n                previewLabel: \"Попередній перегляд\"\r\n            },\r\n            imageBox: {\r\n                title: \"Вставити зображення\",\r\n                file: \"Виберіть файл\",\r\n                url: \"Посилання на зображення\",\r\n                altText: \"Текстовий опис зображення\"\r\n            },\r\n            videoBox: {\r\n                title: \"Вставити відео\",\r\n                file: \"Виберіть файл\",\r\n                url: \"Посилання на відео, Youtube, Vimeo\"\r\n            },\r\n            audioBox: {\r\n                title: \"Вставити аудіо\",\r\n                file: \"Виберіть файл\",\r\n                url: \"Посилання на аудіо\"\r\n            },\r\n            browser: {\r\n                tags: \"Теги\",\r\n                search: \"Пошук\"\r\n            },\r\n            caption: \"Додати підпис\",\r\n            close: \"Закрити\",\r\n            submitButton: \"Підтвердити\",\r\n            revertButton: \"Скинути\",\r\n            proportion: \"Зберегти пропорції\",\r\n            basic: \"Без обтікання\",\r\n            left: \"Зліва\",\r\n            right: \"Справа\",\r\n            center: \"По центру\",\r\n            width: \"Ширина\",\r\n            height: \"Висота\",\r\n            size: \"Розмір\",\r\n            ratio: \"Співвідношення\"\r\n        },\r\n        controller: {\r\n            edit: \"Змінити\",\r\n            unlink: \"Прибрати посилання\",\r\n            remove: \"Видалити\",\r\n            insertRowAbove: \"Вставити рядок вище\",\r\n            insertRowBelow: \"Вставити рядок нижче\",\r\n            deleteRow: \"Видалити рядок\",\r\n            insertColumnBefore: \"Вставити стовпець зліва\",\r\n            insertColumnAfter: \"Вставити стовпець справа\",\r\n            deleteColumn: \"Видалити стовпець\",\r\n            fixedColumnWidth: \"Фіксована ширина стовпця\",\r\n            resize100: \"Розмір 100%\",\r\n            resize75: \"Розмір 75%\",\r\n            resize50: \"Розмір 50%\",\r\n            resize25: \"Розмір 25%\",\r\n            autoSize: \"Авто розмір\",\r\n            mirrorHorizontal: \"Відобразити по горизонталі\",\r\n            mirrorVertical: \"Відобразити по вертикалі\",\r\n            rotateLeft: \"Повернути проти годинникової стрілки\",\r\n            rotateRight: \"Повернути за годинниковою стрілкою\",\r\n            maxSize: \"Ширина за розміром сторінки\",\r\n            minSize: \"Ширина за вмістом\",\r\n            tableHeader: \"Заголовок таблиці\",\r\n            mergeCells: \"Об'єднати клітинки\",\r\n            splitCells: \"Розділити клітинку\",\r\n            HorizontalSplit: \"Розділити горизонтально\",\r\n            VerticalSplit: \"Розділити вертикально\"\r\n        },\r\n        menu: {\r\n            spaced: \"Інтервал\",\r\n            bordered: \"З лініями\",\r\n            neon: \"Неон\",\r\n            translucent: \"Напівпрозорий\",\r\n            shadow: \"Тінь\",\r\n            code: \"Код\"\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, \"SUNEDITOR_LANG\", {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {},\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, \"ua\", {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang,\r\n        });\r\n    }\r\n\r\n    return lang;\r\n});\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const dialog = {\r\n        name: 'dialog',\r\n        /**\r\n         * @description Constructor\r\n         * @param {Object} core Core object \r\n         */\r\n        add: function (core) {\r\n            const context = core.context;\r\n            context.dialog = {\r\n                kind: '',\r\n                updateModal: false,\r\n                _closeSignal: false\r\n            };\r\n\r\n            /** dialog */\r\n            let dialog_div = core.util.createElement('DIV');\r\n            dialog_div.className = 'se-dialog sun-editor-common';\r\n\r\n            let dialog_back = core.util.createElement('DIV');\r\n            dialog_back.className = 'se-dialog-back';\r\n            dialog_back.style.display = 'none';\r\n\r\n            let dialog_area = core.util.createElement('DIV');\r\n            dialog_area.className = 'se-dialog-inner';\r\n            dialog_area.style.display = 'none';\r\n\r\n            dialog_div.appendChild(dialog_back);\r\n            dialog_div.appendChild(dialog_area);\r\n\r\n            context.dialog.modalArea = dialog_div;\r\n            context.dialog.back = dialog_back;\r\n            context.dialog.modal = dialog_area;\r\n\r\n            /** add event listeners */\r\n            context.dialog.modal.addEventListener('mousedown', this._onMouseDown_dialog.bind(core));\r\n            context.dialog.modal.addEventListener('click', this._onClick_dialog.bind(core));\r\n            \r\n            /** append html */\r\n            context.element.relative.appendChild(dialog_div);\r\n            \r\n            /** empty memory */\r\n            dialog_div = null, dialog_back = null, dialog_area = null;\r\n        },\r\n\r\n        /**\r\n         * @description Event to control the behavior of closing the dialog\r\n         * @param {MouseEvent} e Event object\r\n         * @private\r\n         */\r\n        _onMouseDown_dialog: function (e) {\r\n            if (/se-dialog-inner/.test(e.target.className)) {\r\n                this.context.dialog._closeSignal = true;\r\n            } else {\r\n                this.context.dialog._closeSignal = false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Event to close the window when the outside area of the dialog or close button is click\r\n         * @param {MouseEvent} e Event object\r\n         * @private\r\n         */\r\n        _onClick_dialog: function (e) {\r\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\r\n                this.plugins.dialog.close.call(this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a Dialog plugin\r\n         * @param {String} kind Dialog plugin name\r\n         * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\r\n         */\r\n        open: function (kind, update)  {\r\n            if (this.modalForm) return false;\r\n            if (this.plugins.dialog._bindClose) {\r\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\r\n                this.plugins.dialog._bindClose = null;\r\n            }\r\n\r\n            this.plugins.dialog._bindClose = function (e) {\r\n                if (!/27/.test(e.keyCode)) return;\r\n                this.plugins.dialog.close.call(this);\r\n            }.bind(this);\r\n            this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\r\n\r\n            this.context.dialog.updateModal = update;\r\n\r\n            if (this.options.popupDisplay === 'full') {\r\n                this.context.dialog.modalArea.style.position = 'fixed';\r\n            } else {\r\n                this.context.dialog.modalArea.style.position = 'absolute';\r\n            }\r\n\r\n            this.context.dialog.kind = kind;\r\n            this.modalForm = this.context[kind].modal;\r\n            const focusElement = this.context[kind].focusElement;\r\n\r\n            if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\r\n\r\n            this.context.dialog.modalArea.style.display = 'block';\r\n            this.context.dialog.back.style.display = 'block';\r\n            this.context.dialog.modal.style.display = 'block';\r\n            this.modalForm.style.display = 'block';\r\n\r\n            if (focusElement) focusElement.focus();\r\n        },\r\n\r\n        _bindClose: null,\r\n        \r\n        /**\r\n         * @description Close a Dialog plugin\r\n         * The plugin's \"init\" method is called.\r\n         */\r\n        close: function () {\r\n            if (this.plugins.dialog._bindClose) {\r\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\r\n                this.plugins.dialog._bindClose = null;\r\n            }\r\n\r\n            const kind = this.context.dialog.kind;\r\n            this.modalForm.style.display = 'none';\r\n            this.context.dialog.back.style.display = 'none';\r\n            this.context.dialog.modalArea.style.display = 'none';\r\n            this.context.dialog.updateModal = false;\r\n            if (typeof this.plugins[kind].init === 'function') this.plugins[kind].init.call(this);\r\n            this.context.dialog.kind = '';\r\n            this.modalForm = null;\r\n            this.focus();\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'dialog', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: dialog\r\n        });\r\n    }\r\n\r\n    return dialog;\r\n}));","import { invariant } from '@react-dnd/invariant'\nimport type { ReactElement } from 'react'\nimport { cloneElement, isValidElement } from 'react'\n\nfunction throwIfCompositeComponentElement(element: ReactElement<any>) {\n\t// Custom components can no longer be wrapped directly in React DnD 2.0\n\t// so that we don't need to depend on findDOMNode() from react-dom.\n\tif (typeof element.type === 'string') {\n\t\treturn\n\t}\n\n\tconst displayName =\n\t\t(element.type as any).displayName || element.type.name || 'the component'\n\n\tthrow new Error(\n\t\t'Only native element nodes can now be passed to React DnD connectors.' +\n\t\t\t`You can either wrap ${displayName} into a <div>, or turn it into a ` +\n\t\t\t'drag source or a drop target itself.',\n\t)\n}\n\nfunction wrapHookToRecognizeElement(hook: (node: any, options: any) => void) {\n\treturn (elementOrNode = null, options = null) => {\n\t\t// When passed a node, call the hook straight away.\n\t\tif (!isValidElement(elementOrNode)) {\n\t\t\tconst node = elementOrNode\n\t\t\thook(node, options)\n\t\t\t// return the node so it can be chained (e.g. when within callback refs\n\t\t\t// <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\t\t\treturn node\n\t\t}\n\n\t\t// If passed a ReactElement, clone it and attach this function as a ref.\n\t\t// This helps us achieve a neat API where user doesn't even know that refs\n\t\t// are being used under the hood.\n\t\tconst element: ReactElement | null = elementOrNode\n\t\tthrowIfCompositeComponentElement(element as any)\n\n\t\t// When no options are passed, use the hook directly\n\t\tconst ref = options ? (node: Element) => hook(node, options) : hook\n\t\treturn cloneWithRef(element, ref)\n\t}\n}\n\nexport function wrapConnectorHooks(hooks: any) {\n\tconst wrappedHooks: any = {}\n\n\tObject.keys(hooks).forEach((key) => {\n\t\tconst hook = hooks[key]\n\n\t\t// ref objects should be passed straight through without wrapping\n\t\tif (key.endsWith('Ref')) {\n\t\t\twrappedHooks[key] = hooks[key]\n\t\t} else {\n\t\t\tconst wrappedHook = wrapHookToRecognizeElement(hook)\n\t\t\twrappedHooks[key] = () => wrappedHook\n\t\t}\n\t})\n\n\treturn wrappedHooks\n}\n\nfunction setRef(ref: any, node: any) {\n\tif (typeof ref === 'function') {\n\t\tref(node)\n\t} else {\n\t\tref.current = node\n\t}\n}\n\nfunction cloneWithRef(element: any, newRef: any): ReactElement<any> {\n\tconst previousRef = element.ref\n\tinvariant(\n\t\ttypeof previousRef !== 'string',\n\t\t'Cannot connect React DnD to an element with an existing string ref. ' +\n\t\t\t'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +\n\t\t\t'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs',\n\t)\n\n\tif (!previousRef) {\n\t\t// When there is no ref on the element, use the new ref directly\n\t\treturn cloneElement(element, {\n\t\t\tref: newRef,\n\t\t})\n\t} else {\n\t\treturn cloneElement(element, {\n\t\t\tref: (node: any) => {\n\t\t\t\tsetRef(previousRef, node)\n\t\t\t\tsetRef(newRef, node)\n\t\t\t},\n\t\t})\n\t}\n}\n"],"names":["global","factory","module","exports","document","w","Error","window","this","noGlobal","lang","code","toolbar","default","save","font","formats","fontSize","bold","underline","italic","strike","subscript","superscript","removeFormat","fontColor","hiliteColor","indent","outdent","align","alignLeft","alignRight","alignCenter","alignJustify","list","orderList","unorderList","horizontalRule","hr_solid","hr_dotted","hr_dashed","table","link","math","image","video","audio","fullScreen","showBlocks","codeView","undo","redo","preview","print","tag_p","tag_div","tag_h","tag_blockquote","tag_pre","template","lineHeight","paragraphStyle","textStyle","imageGallery","dir_ltr","dir_rtl","mention","dialogBox","linkBox","title","url","text","newWindowCheck","downloadLinkCheck","bookmark","mathBox","inputLabel","fontSizeLabel","previewLabel","imageBox","file","altText","videoBox","audioBox","browser","tags","search","caption","close","submitButton","revertButton","proportion","basic","left","right","center","width","height","size","ratio","controller","edit","unlink","remove","insertRowAbove","insertRowBelow","deleteRow","insertColumnBefore","insertColumnAfter","deleteColumn","fixedColumnWidth","resize100","resize75","resize50","resize25","autoSize","mirrorHorizontal","mirrorVertical","rotateLeft","rotateRight","maxSize","minSize","tableHeader","mergeCells","splitCells","HorizontalSplit","VerticalSplit","menu","spaced","bordered","neon","translucent","shadow","SUNEDITOR_LANG","Object","defineProperty","enumerable","writable","configurable","value","equal","a","b","constructor","length","i","keys","Array","isArray","RegExp","source","flags","valueOf","prototype","toString","hasOwnProperty","call","key","component","name","set_container","cover","className","container","util","createElement","appendChild","set_cover","element","create_caption","innerHTML","SUNEDITOR_MODULES","require","concat","formatProdErrorMessage","$$observable","Symbol","observable","randomString","Math","random","substring","split","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","arguments","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","push","index","indexOf","splice","dispatch","action","type","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","next","unsubscribe","isObject","input","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","clientOffset","sourceClientOffset","payload","ResetCoordinatesAction","createBeginDrag","manager","sourceIds","options","publishSource","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","invariant","isDragging","forEach","sourceId","getSource","verifyInvariants","canDragSource","getDraggableSource","verifyGetSourceClientOffsetIsFunction","item","beginDrag","verifyItemIsObject","pinSource","itemType","getSourceType","isSourcePublic","_defineProperty","createDrop","didDrop","targetIds","getTargetIds","filter","canDropOnTarget","reverse","getDroppableTargets","targetId","dropResult","target","getTarget","drop","verifyDropResultType","getDropResult","determineDropResult","_objectSpread","createEndDrag","verifyIsDragging","getSourceId","endDrag","unpinSource","matchesType","targetType","draggedItemType","some","t","createHover","targetIdsArg","verifyTargetIdsIsArray","getTargetType","removeNonMatchingTargetIds","getItemType","lastIndexOf","checkInvariants","hover","hoverAllTargets","createPublishDragSource","DragDropManagerImpl","receiveBackend","backend","getBackend","getActions","store","actions","publishDragSource","createDragDropActions","reduce","boundActions","actionCreator","_len","args","_key","apply","isSetUp","handleRefCountChange","shouldSetUp","refCount","setup","teardown","subtract","x","y","NONE","ALL","__IS_NONE__","__IS_ALL__","DragDropMonitorImpl","subscribeToStateChange","handlerIds","prevStateId","stateId","handleChange","state","currentStateId","canSkipListener","dirtyIds","itemsB","areDirty","dirtyHandlerIds","subscribeToOffsetChange","previousState","dragOffset","nextState","canDrag","canDrop","Boolean","isDraggingSource","isOverTarget","shallow","dragOperation","getItem","getInitialClientOffset","initialClientOffset","getInitialSourceClientOffset","initialSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","scope","self","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromTimer","callback","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","makeRequestCall","toggle","node","createTextNode","observe","characterData","data","RawTask","task","error","onError","release","asapQueue","enqueueTask","queue","q","requestFlush","flushing","pendingErrors","capacity","flush","currentIndex","scan","newLength","registerPendingError","err","requestErrorThrow","shift","taskFactory","create","tasks","freeTasks","t1","pop","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","validateType","allowArray","HandlerRole","nextUniqueId","getNextHandlerId","role","id","SOURCE","TARGET","parseRoleFromHandlerId","handlerId","mapContainsValue","map","searchValue","entries","isDone","done","HandlerRegistryImpl","addSource","validateSourceContract","addHandler","addTarget","validateTargetContract","containsHandler","handler","dragSources","dropTargets","includePinned","isSourceId","pinnedSourceId","pinnedSource","get","isTargetId","types","removeSource","delete","removeTarget","set","Map","strictEquality","prevTargetIds","result","itemsA","insertItem","has","count","xor","didChange","isEqual","areArraysEqual","prevInnermostTargetId","innermostTargetId","initialState","offsetA","offsetB","items","path","defaultValue","c","createDragDropManager","backendFactory","globalContext","backendOptions","debugMode","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId","makeStoreInstance","_objectWithoutProperties","excluded","INSTANCE_SYM","for","DndProvider","memo","_param","children","props","isGlobalInstance","dragDropManager","context","getGlobalContext","ctx","createSingletonDndContext","getDndContextValue","useEffect","_jsx","DndContext","Provider","fileBrowser","_xmlHttp","_loading","add","core","_closeSignal","area","header","tagArea","body","tagElements","selectedTags","selectorHandler","contextPlugin","columnSize","browser_div","back","content","set_browser","querySelector","titleArea","addEventListener","onClickTag","bind","onClickFile","_onMouseDown_browser","_onClick_browser","relative","icons","cancel","e","test","stopPropagation","getAttribute","plugins","open","pluginName","_bindClose","_d","removeEventListener","keyCode","fileBrowserContext","pluginContext","listClassName","listClass","hasClass","popupDisplay","style","position","textContent","display","directData","_drawListItem","_drawFileList","fileBrowserPlugin","abort","init","showBrowserLoading","closeBrowserLoading","browserHeader","xmlHttp","getXMLHttpRequest","onreadystatechange","_callBackGet","_w","setRequestHeader","send","readyState","status","res","JSON","parse","responseText","nullMessage","message","maxHeight","innerHeight","offsetHeight","errorMessage","update","_tags","len","splitSize","round","drawItemHandler","itemTemplateHandler","tagsHTML","listHTML","columns","tag","v","trim","tLen","querySelectorAll","isAnchor","tagName","selectTag","sTagIndex","removeClass","addClass","preventDefault","listEl","command","parentNode","ckb","cs","da","de","en","es","fa","fr","he","hu","it","ja","ko","km","lv","nl","pl","pt_br","ro","ru","se","tr","ua","ur","zh_cn","fixColumnWidth","_","m","h","$","E","unit","min","max","X","D","k","n","d","r","o","s","g","p","l","C","f","M","capture","passive","N","K","super","startClientX","startClientY","startCropX","startCropY","clientX","clientY","isResize","P","cropIsActive","newCropIsBeingDrawn","crop","disabled","getBox","cancelable","bindDocMove","componentRef","current","focus","preventScroll","dataset","ord","evData","mouseDownOnCrop","setState","locked","keepSelection","onChange","onDragStart","dragStarted","resizeCrop","dragCrop","onComplete","makePixelCrop","navigator","platform","match","metaKey","ctrlKey","nudgeStepLarge","shiftKey","nudgeStepMedium","nudgeStep","aspect","minWidth","minHeight","maxWidth","I","R","Y","onDragEnd","unbindDocMove","scrollTo","mediaRef","getBoundingClientRect","componentDidUpdate","componentWillUnmount","resizeObserver","disconnect","docMoveBound","onDocPointerMove","onDocPointerDone","getCropStyle","top","getPointRegion","resolveMinDimensions","abs","xyOrds","xOrds","yOrds","renderCropSelection","ariaLabels","defaultProps","renderSelectionAddon","ruleOfThirds","u","onPointerDown","onCropPointerDown","cropArea","tabIndex","onKeyDown","onComponentKeyDown","onFocus","onDragFocus","nwDragHandle","onHandlerKeyDown","nDragHandle","neDragHandle","eDragHandle","seDragHandle","sDragHandle","swDragHandle","wDragHandle","render","circularCrop","H","ref","onComponentPointerDown","fill","cx","cy","rx","ry","fillOpacity","mask","S","copyExifWithoutOrientation","Promise","getApp1Segment","then","Blob","FileReader","DataView","getUint16","getUint32","setUint16","readAsArrayBuffer","UZIP","bin","readUshort","readUint","Uint8Array","A","_readLocal","readUTF8","csize","buffer","inflateRaw","F","inflate","byteOffset","deflate","level","floor","deflateRaw","adler","encode","writeUint","writeUshort","_noNeed","crc","cpr","usize","sizeUTF8","_writeHeader","toLowerCase","writeUTF8","Uint32Array","readASCII","String","fromCharCode","writeASCII","charCodeAt","pad","decodeURIComponent","U","_goodIndex","_hash","_putsE","_copyExact","lits","strt","prev","_writeBlock","_bestMatch","B","of0","lhst","df0","dhst","exb","dxb","_howLong","saved","_putsF","getTrees","contSize","fltree","fdtree","ltree","dtree","itree","ihst","makeCodes","revCodes","Q","ordr","_codeTiny","T","_writeLit","O","L","_hufTree","_lenCodes","getSecond","nonZero","lit","sort","setDepth","restrictDepth","console","log","_bitsF","_bitsE","_decodeTiny","codes2map","_get17","_check","flmap","fdmap","imap","lmap","dmap","ttree","_copyOut","ldef","ddef","bl_count","next_code","rev15","_get25","Uint16Array","pushV","_mergeNamespaces","__proto__","UPNG","nextZero","readBytes","decodeImage","_getBPP","ceil","ctype","depth","tabs","tRNS","PLTE","_decompress","interlace","CgBI","_inflate","_filterZero","Z","W","J","V","j","z","_paeth","_IHDR","compress","_copyTile","decode","frames","num_frames","num_plays","rect","delay","dispose","blend","toRGBA8","acTL","_bin","addErr","dither","Int16Array","_main","sRGB","pHYs","iCCP","pako","plte","cimg","loop","compressPNG","bpl","img","bpp","_prepareDiff","_updateFrame","byteLength","quantize","est","rgba","inds","abuf","_filterLine","getKDtree","getNearest","ind","planeDst","i0","i1","bst","tdst","stats","estats","splitPixels","eMq255","eMq","vecDot","multVec","sqrt","dot","sml","Cov","encodeLL","toArrayBuffer","getContext","getImageData","ArrayBuffer","set16","set32","setUint32","seek","convert","_dly","toBlob","CHROME","FIREFOX","DESKTOP_SAFARI","IE","IOS","ETC","WorkerGlobalScope","cordova","CustomFile","getOriginalSymbol","File","CustomFileReader","getFilefromDataUrl","Date","now","globalThis","atob","lastModified","getDataUrlFromFile","onload","onerror","readAsDataURL","loadImage","Image","src","getBrowserName","cachedResult","userAgent","documentMode","approximateBelowMaximumCanvasSizeOfBrowser","getNewCanvasAndCtx","OffscreenCanvas","drawImageInCanvas","fillStyle","fillRect","drawImage","isIOS","includes","drawFileInCanvas","$Try_2_Post","fileType","$Try_2_Catch","$Try_3_Catch","MOBILE_SAFARI","createImageBitmap","canvasToFile","$If_4","$If_5","convertToBlob","quality","$If_6","toDataURL","cleanupCanvasMemory","isAutoOrientationInBrowser","getExifOrientation","handleMaxWidthOrHeight","maxWidthOrHeight","isFinite","followExifOrientation","transform","incProgress","signal","aborted","reason","onProgress","setProgress","maxIteration","maxSizeMB","exifOrientation","$If_2","initialQuality","$Loop_3","alwaysKeepResolution","$Loop_3_exit","compressOnWebWorker","URL","createObjectURL","Worker","terminate","progress","postMessage","imageCompressionLibUrl","libURL","imageCompression","Number","POSITIVE_INFINITY","useWebWorker","$Try_1_Catch","preserveExif","version","condition","format","process","argIndex","replace","framesToPop","useConnectDragSource","connector","useMemo","hooks","dragSource","useConnectDragPreview","dragPreview","SourceConnector","receiveHandlerId","newHandlerId","reconnect","connectTarget","dragSourceOptions","dragSourceOptionsInternal","dragPreviewOptions","dragPreviewOptionsInternal","reconnectDragSource","reconnectDragPreview","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","connectDragSource","forceDidChange","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","connectDragPreview","shallowEqual","dragPreviewNode","dragPreviewRef","dragSourceNode","dragSourceRef","clearDragSource","clearDragPreview","wrapConnectorHooks","isRef","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","getHandlerId","internalMonitor","DragSourceImpl","spec","globalMonitor","end","useRegisteredDragSource","useDragDropManager","useDragSource","useDragType","useIsomorphicLayoutEffect","unregister","registerSource","useDrag","specArg","deps","useOptionalFactory","begin","useDragSourceMonitor","useDragSourceConnector","previewOptions","useCollectedProps","collect","fileManager","_checkMediaComponent","parentElement","nodeName","upload","uploadUrl","uploadHeader","formData","callBack","errorCallBack","showLoading","filePlugin","_callBackUpload","closeLoading","functions","noticeOpen","checkInfo","tagNames","uploadEventHandler","modifyHandler","resizing","wysiwyg","fileManagerPlugin","infoList","_infoList","setFileInfo","setInfo","_componentsInfoReset","infoUpdate","info","_resize_plugin","currentTags","infoIndex","__updateTags","getParentElement","isMediaComponent","_infoIndex","removeAttribute","dataIndex","plguin","_componentsInfoInit","setAttribute","destroy","select","scrollIntoView","naturalWidth","naturalHeight","_module_getSizeX","_module_getSizeY","onModifyMode","applySize","_uploadFileLength","deleteInfo","resetInfo","__assign","assign","__createBinding","k2","desc","getOwnPropertyDescriptor","__esModule","__setModuleDefault","__importStar","mod","__importDefault","react_1","plugins_1","suneditor_1","getLanguage_1","events_1","_a","setOptions","placeholder","_b","setContents","setDefaultStyle","getSunEditorInstance","appendContents","_c","setAllPlugins","disable","_e","readOnly","_f","hide","_g","hideToolbar","_h","disableToolbar","autoFocus","onBlur","onLoad","txtArea","useRef","editor","initialEffect","defaultStyle","reload","focusEdge","isIE","_createDefaultRange","blur","getContents","uploadBeforeEvents","event","files","uploadHandler","events","hasFocus","_j","show","enable","visibility","useMonitorOutput","onCollect","collected","updateCollected","onUpdate","setCollected","useState","useCallback","nextValue","useCollector","collector","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","registerTarget","arg","memoDeps","createContext","useConnectDropTarget","dropTarget","TargetConnector","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedDropTarget","lastConnectedDropTargetOptions","dropTargetOptions","unsubscribeDropTarget","connectDropTarget","dropTargetOptionsInternal","dropTargetNode","dropTargetRef","clearDropTarget","isCallingCanDrop","DropTargetMonitorImpl","isOver","DropTargetImpl","useRegisteredDropTarget","useDropTarget","accept","useAccept","useDrop","useDropTargetMonitor","useDropTargetConnector","targetElement","blockquote","targetButton","active","currentBlockquote","getSelectionNode","detachRangeFormatElement","applyRangeFormatElement","cloneNode","_itemMenu","_alignList","currentAlign","defaultDir","rtl","justify","align_justify","align_left","align_right","align_center","listDiv","setSubmenu","listUl","pickup","initMenuTarget","alignItems","html","charAt","toUpperCase","alignContext","firstElementChild","isFormatElement","textAlign","changeElement","on","alignList","exchangeDir","dir","leftBtn","rightBtn","lp","rp","selectedFormsts","getSelectedElements","setStyle","effectNode","submenuOff","history","targetText","targetTooltip","_fontList","currentFont","fontList","tooltip","fontFamily","selectFont","changeTxt","wwComputedStyle","fontContext","newNode","nodeChange","_sizeList","currentSize","option","sizeList","fontSizeUnit","_convertFontSize","fontSizeContext","colorPicker","colorListHTML","_colorInput","_defaultColor","_styleProperty","_currentColor","_colorList","createColorList","_makeColorList","makeColor","colorList","colorArr","color","checked","erase","fillColor","getColorInNode","isHexColor","rgb2hex","setInputText","colorName2hex","setCurrentColor","hexColorStr","borderColor","findColor","styleProperty","isWysiwygDiv","nodeType","str","rgb","rgbMatch","parseInt","colorName","temp","colors","getComputedStyle","removeItem","substr","addModule","previewEl","colorInput","onChangeInput","submit","colorArea","contextPicker","contextFontColor","applyColor","contextHiliteColor","backgroundColor","currentHR","horizontalRulePick","hrItems","class","controllersOn","controllersOff","appendHr","hrTemp","insertComponent","oNode","setRange","_list","currentList","bullets","list_bullets","number","list_number","button","icon","isList","listContext","editList","selectedCells","detach","range","getRange","selectedFormats","getSelectedElementsAndComponents","getRange_addLine","sortByDepth","firstSel","lastSel","topEl","isListCell","isComponent","previousElementSibling","bottomEl","nextElementSibling","isCollapsed","collapsed","originRange","sc","startContainer","so","endContainer","onlyZeroWidthSpace","startOffset","endOffset","ec","eo","afterRange","isRemove","getRangeFormatElement","topElParent","bottomElParent","mergeTop","mergeBottom","firstList","lastList","topNumber","bottomNumber","passComponent","newCell","fTag","isCell","originParent","nextParent","parentTag","siblingTag","rangeTag","childNodes","_isIgnoreNodeChange","isRangeFormatElement","nextSibling","copyFormatAttributes","isHR","outerHTML","fChildren","insertBefore","getElementDepth","contains","currentFormat","rangeArr","tempList","_detachNested","cells","first","last","originList","sibling","cLen","newList","getPositionIndex","mergeSameTags","edge","getEdgeChildNodes","cc","editInsideList","cellsLen","el","lastCell","innerList","nodePath","sl","_insiedList","getNodeFromPath","insertPrev","removeChild","getNodePath","firstChild","slPath","lastElementChild","mergeNestedTags","contextTable","_element","_tdElement","_trElement","_trElements","_tableXY","_maxWidth","_fixedColumn","_rtl","cellControllerTop","tableCellControllerPosition","resizeText","headerButton","mergeButton","splitButton","splitMenu","maxText","minText","_physical_cellCnt","_logical_cellCnt","_rowCnt","_rowIndex","_physical_cellIndex","_logical_cellIndex","_current_colSpan","_current_rowSpan","expansion","reduction","tablePicker","tableHighlight","tableUnHighlight","tableDisplay","tableController","setController_table","resizeButton","columnFixedButton","resizeDiv","setController_tableEditor","insertRowAboveButton","insertRowBelowButton","onMouseMove_tablePicker","appendTable","onClick_tableController","tableResize","fixed_column_width","table_header","insert_row_above","insert_row_below","delete_row","merge_cell","insert_column_left","insert_column_right","delete_column","split_cell","oTable","createCells","tableHTML","firstTd","reset_table_picker","cnt","returnElement","cell","cellsHTML","offsetX","offsetY","highlight","unHighlight","tablePlugin","_removeEvents","_selectedTable","_toggleEditor","_shift","_selectedCells","_fixedCell","_selectedCell","_fixedCellName","call_controller_tableEdit","tdElement","getSelection","tableElement","tableLayout","setTableStyle","setPositionControllerTop","setPositionControllerDiv","setControllerPosition","reset","setCellInfo","offsetWidth","rows","cellIndex","cellCnt","colSpan","rowIndex","rowSpan","rowSpanArr","spanIndex","rs","logcalIndex","arr","row","editTable","isRow","tableAttr","positionCell","editRow","removeCells","firstRow","rightCell","editCell","positionResetElement","up","originRowIndex","sign","spanCells","spanCell","insertRow","passCell","removeCell","removeSpanArr","insertIndex","applySpan","cellColSpan","removeIndex","getOverlapRangeAtIndex","removeFirst","removeEnd","rLen","getArrayIndex","rowSpanCell","_closeSplitMenu","openSplitMenu","removeDocEvent","addDocEvent","direction","vertical","currentCell","currentRow","currentColSpan","currentRowSpan","newRowSpan","nextRowIndex","nextRow","nextCells","newRow","physicalIndex","mergeCell","emptyRowFirst","emptyRowLast","ce","re","mergeHTML","ch","rowIndexFirst","rowIndexLast","removeRows","setActiveButton","toggleHeader","toggleClass","styles","span","sizeIcon","fixedCell","selectedCell","_bindOnSelect","_bindOffSelect","_bindOffShift","enabled","_offCellMultiSelect","_initBind","_wd","_onCellMultiSelect","_antiBlur","_setMultiCells","startCell","endCell","findSelectedCell","_i","newCs","newCe","newRs","newRe","onTableCellMultiSelect","emptyDiv","removeItemAllParents","formatBlock","_formatList","pickUp","lang_toolbar","defaultFormats","formatList","attrs","formatTitle","formatContext","rangeElement","firstPath","lastPath","rlist","detachList","modifiedFormsts","freeElement","focusElement","before","inner","isComp","isSameAttributes","previousSibling","newFormat","replaceChild","lineHeights","lineHeightContext","getFormatElement","selectedIndex","templateDiv","templateList","templates","_classList","menuLang","defaultList","_class","paragraphStyles","paragraphList","_styleList","styleList","textStyles","styleButtonList","selectionNode","btn","checkStyles","cssText","classes","classList","removeNodes","selectMenu","caller","callerContext","setForm","createList","form","menus","initEvent","forms","clickMethod","callerName","onMousedown_list","onMouseMove_list","onClick_list","moveItem","num","selectIndex","positionHandler","anchor","setDialogForm","host","location","origin","pathname","relList","linkRel","defaultRel","linkRelDefault","protocol","download","rel","anchorPlugin","modal","urlInput","linkDefaultRel","currentRel","linkAnchor","linkValue","_change","check_new_window","check_bookmark","anchorText","downloadCheck","bookmarkButton","relButton","relPreview","onClick_relButton","onClick_relList","onChange_newWindowCheck","onChange_downloadCheck","onChangeAnchorText","onChangeUrlInput","onKeyDownUrlInput","onFocusUrlInput","onBlurUrlInput","onClick_bookmarkButton","contextAnchor","dialog","updateModal","href","selfPathBookmark","linkTargetNewWindow","setRel","setLinkPreview","setHeaderBookmark","_closeRelMenu","toggleRelList","offsetLeft","offsetTop","modalForm","cmd","relAttr","relListEl","rels","checkedRel","createHeaderList","contextList","urlValue","headers","getListChildren","valueRegExp","_setMenuListPosition","contextLink","linkProtocol","noPrefix","linkNoPrefix","reservedProtocol","sameProtocol","escapeStringRegexp","setCtx","updateAnchor","displayText","notText","createAnchor","oA","_relMerge","_relDelete","_linkAnchor","anchorCtx","link_dialog","setDialog","link_controller","setController_LinkButton","linkController","onClick_linkController","link_btn","currentControllerName","textNode","oFormat","insertNode","controllerArray","call_controller","selectionATag","editLink","linkBtn","getChildElement","contextImage","sizeUnit","_imageSizeUnit","_linkElement","_altText","_align","_floatClassRegExp","_v_src","_linkValue","svgDefaultSize","base64RenderIndex","_cover","_container","inputX","inputY","_element_w","_element_h","_element_l","_element_t","_defaultSizeX","_defaultSizeY","_origin_w","imageWidth","_origin_h","imageHeight","_proportionChecked","_resizing","imageResizing","_resizeDotHide","imageHeightShow","_rotation","imageRotation","_alignHide","imageAlignShow","_onlyPercentage","imageSizeOnlyPercentage","_ratio","_ratioX","_ratioY","_captionShow","_captionChecked","_caption","captionCheckEl","image_dialog","imgInputFile","imgUrlFile","previewSrc","openTab","_removeSelectedFiles","_onLinkPreview","_fileInputChange","imageGalleryButton","_openGallery","setInputSize","setRatio","sizeRevert","imageFileInput","imageAccept","imageMultipleFile","imageUrlInput","imageGalleryUrl","image_gallery","onlyPercentage","onlyPercentDisplay","heightDisplay","revert","textDecoration","callPlugin","_setUrlInput","alt","fileTags","call_controller_resize","imageEl","imageContainer","onImageDeleteBefore","focusEl","onImageUpload","tabName","contentClassName","tabContent","tabLinks","getElementsByClassName","imagePlugin","update_image","submitAction","onRender_imgUrl","fileList","fileSize","limitSize","imageUploadSizeLimit","infoSize","imagesInfo","onImageUploadError","inputWidth","inputHeight","isUpdate","onImageUploadBefore","register","response","imageUploadUrl","filesLen","FormData","append","imageUploadHeader","callBack_imgUpload","setup_reader","imageUploadHandler","update_src","create_image","warn","wFileReader","filesStack","reader","updateElement","onRender_imgBase64","updateMethod","createMethod","onRender_link","imgTag","xy","_module_setInputSize","_module_setRatio","checkFileInfo","openModify","float","resetFileInfo","oImg","setAlign","_image_create_onload","mediaAutoSelect","selectComponent","line","appendFormatTag","openController","notHistoryPush","changeSize","isNewContainer","isNumber","modifiedCaption","isNewAnchor","imageElement","newEl","existElement","imgParent","isNotCheckingNode","refer","removeEmptyNode","splitElement","htmlRemoveWhiteSpace","isFigures","_rotateVertical","resetTransform","setTransformSize","getNumber","userSize","notOpen","_module_setModifyInputSize","setPercentSize","setSize","setAutoSize","_module_sizeRevert","notResetPercentage","onlyW","cancelPercentAttr","_module_saveCurrentSize","marginTop","setOriginSize","originSize","heightPercentage","setCaptionPosition","contextVideo","_videoSizeUnit","_youtubeQuery","youtubeQuery","_vimeoQuery","vimeoQuery","_videoRatio","videoRatio","_defaultRatio","videoWidth","videoHeight","videoResizing","videoHeightShow","videoRotation","videoAlignShow","videoSizeOnlyPercentage","video_dialog","videoInputFile","videoUrlFile","videoRatioOption","setVideoRatio","videoFileInput","videoAccept","videoMultipleFile","videoUrlInput","ratioList","videoRatioList","ratioDisplay","videoRatioShow","onlyWidthDisplay","_setTagAttrs","videoTagAttrs","hasOwn","createVideoTag","videoTag","_setIframeAttrs","frameBorder","allowFullscreen","videoIframeAttrs","createIframeTag","iframeTag","frame","onVideoDeleteBefore","onVideoUpload","setVideoRatioSelect","videoPlugin","setup_url","videoUploadSizeLimit","videosInfo","onVideoUploadError","onVideoUploadBefore","videoUploadUrl","videoUploadHeader","callBack_videoUpload","videoUploadHandler","create_video","DOMParser","parseFromString","splitUrl","endsWith","oFrame","isYoutube","isVimeo","newTag","inputUpdate","isPercent","changed","_update_videoCover","frameParent","prevFrame","figcaption","ratioSelected","ratioOptions","selected","onlyH","paddingBottom","dataSize","contextAudio","targetSelect","audioWidth","audioHeight","audio_dialog","audioInputFile","audioUrlFile","audio_controller","setController","onClick_controller","audioFileInput","audioAccept","audioMultipleFile","audioUrlInput","_createAudioTag","oAudio","audioTagAttrs","onAudioDeleteBefore","onAudioUpload","updateCover","setupUrl","audioUploadSizeLimit","audiosInfo","onAudioUploadError","onAudioUploadBefore","audioUploadUrl","audioUploadHeader","callBack_upload","audioUploadHandler","create_audio","elementParent","prevElement","selectionTag","onControllerOff","KATEX_WEBSITE","previewElement","fontSizeElement","defaultFontSize","_mathExp","math_dialog","onPasteMath","_renderMathExp","math_controller","setController_MathButton","mathController","onClick_mathController","mathFontSize","math_btn","managedTags","method","katex","dom","createRange","createContextualFragment","_renderer","HTMLDecoder","exp","renderToString","throwOnError","displayMode","contextMath","mathExp","katexEl","HTMLEncoder","containerEl","empty","zeroWidthSpace","mathTag","mathBtn","imageGalleryData","imageGalleryHeader","drawItems","setImage","srcName","thumbnail","fileName","formatting","complex","code_view","line_height","paragraph_style","text_style","arrow_down","font_color","highlight_color","horizontal_rule","show_blocks","modify","auto_size","rotate_left","rotate_right","mirror_horizontal","mirror_vertical","line_break","alert_outline","more_text","more_paragraph","more_plus","more_horizontal","more_vertical","attachment","magic_stick","empty_file","isIE_Edge","isOSX_IOS","isChromium","isMobile","isResizeObserverSupported","_propertiesInit","appVersion","chrome","ResizeObserver","maxTouchPoints","msMaxTouchPoints","_allowedEmptyNodeList","_HTMLConvertor","contents","zeroWidthRegExp","onlyZeroWidthRegExp","fontValueMap","ActiveXObject","XMLHttpRequest","e1","getValues","camelToKebabCase","param","letter","kebabToCamelCase","elementName","_hasOwn","getIncludePath","nameArray","extension","pathList","regExp","extRegExp","getElementsByTagName","editorTag","getPageStyle","doc","sheets","styleSheets","rules","cssRules","getIframeDocument","iframe","wDocument","contentWindow","contentDocument","getAttributesToString","exceptAttrs","attributes","attrString","getByteLength","encoder","encodeURIComponent","cr","cl","unescape","TextEncoder","isNonEditable","isTextStyleElement","isInputElement","isClosureRangeFormatElement","isFreeFormatElement","isClosureFreeFormatElement","isUneditableComponent","validation","getFreeFormatElement","getClosureFreeFormatElement","copyTagAttributes","originEl","copyEl","blacklist","copyStyles","getArrayItem","array","multi","arrayIncludes","nextIdx","prevIdx","_newOffsets","finds","tempText","previous","offsets","nodes","style_a","style_b","compStyle","class_a","class_b","reg","compClass","isEmptyLine","isSpanWithoutAttr","isTable","isBreak","isMedia","maxDec","toFixed","recursionFunc","getListChildNodes","compareElements","aNode","bNode","ancestor","aIndex","bIndex","query","check","attr","getPreviousDeepestNode","ceiling","previousNode","lastChild","getNextDeepestNode","nextNode","childList","getOffset","wysiwygFrame","offsetElement","offsetParent","scrollTop","aStart","aEnd","bStart","bEnd","overlap","txt","newElement","styleName","isImportantDisabled","hasAttribute","setDisabledButtons","buttonList","important","stopParent","parent","detachNestedList","baseNode","all","rNode","_deleteNestedList","cNodes","rChildren","baseParent","liSibling","liParent","child","offset","bp","suffixIndex","splitText","after","depthEl","pElement","nodePathArray","onlyText","inst","nodePathLen","depthIndex","cDepth","spliceDepth","childs","childLength","nLen","addOffset","textOffset","tempL","notRemoveNode","forceDelete","_notTextNode","htmlCompress","des","string","TypeError","_isExcludeSelectionElement","_isMaintainedNode","_isSizeNode","_disallowedTags","createTagsWhitelist","createTagsBlacklist","_consistencyCheckOfHTML","documentFragment","htmlCheckWhitelistRegExp","htmlCheckBlacklistRegExp","classNameFilter","strictHTMLValidation","removeTags","emptyTags","wrongList","withoutFormatCells","wrongTags","nrtag","fel","checkTags","cellChildren","tp","_setDefaultOptionStyle","optionStyle","styleArr","_setIframeDocument","head","_setIframeCssTags","_editableClass","linkNames","iframeCSSFileName","wRegExp","tagString","CSSFileName","styleTag","_initOptions","top_div","tool_bar","_createToolBar","toolbarShadow","pluginCallButtons","_checkKatexMath","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","placeholder_span","textarea","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","line_breaker","line_breaker_t","line_breaker_b","resize_back","focusTemp","toolbarContainer","resizingBarContainer","_checkCodeMirror","constructed","_top","_relative","_toolBar","_toolbarShadow","_menuTray","_editorArea","_wysiwygArea","_codeArea","_placeholder","_resizingBar","_navigation","_charWrapper","_charCounter","_lineBreaker","_lineBreaker_t","_lineBreaker_b","_resizeBack","_stickyDummy","_arrow","_focusTemp","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","mode","htmlMode","lineNumbers","lineWrapping","viewportMargin","Infinity","cm","fromTextArea","wrapper","codeMirrorEditor","katexOptions","_setOptions","mergeOptions","originOptions","originElement","editorArea","isNewToolbarContainer","isNewToolbar","topArea","callButtons","topDiv","toolBar","toolBarArrow","_editorStyles","toolbarWidth","wysiwygDiv","iframeAttributes","overflow","charCounterLabel","charLabel","maxCharCount","char_max","innerText","_plugins","pluginsValues","strictMode","_defaultLang","allowedClassNames","historyStackDelayTime","frameAttrbutes","defaultTag","textTags","sub","sup","_default","_new","_textTagsMap","_defaultCommand","__allowedScriptTag","tagsBlacklist","_defaultTagsWhitelist","_editorTagsWhitelist","addTagsWhitelist","_setWhitelist","pasteTagsBlacklist","pasteTagsWhitelist","attributesWhitelist","attributesBlacklist","lineAttrReset","_printClass","stickyToolbar","fullScreenOffset","fullPage","previewTemplate","printTemplate","showPathLabel","resizeEnable","charCounterType","clientWidth","clientHeight","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","_icons","__listCommonStyle","whitelist","_defaultButtons","addShift","indentKey","indentIcon","_createModuleGroup","oDiv","oUl","_createButton","buttonClass","dataCommand","dataDisplay","_disabled","oLi","oButton","label","separator_vertical","_buttonTray","stringify","defaultButtonList","moduleElement","buttonElement","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","moreButton","div","ul","matched","custom","li","sv","enterDiv","unshift","tool_cover","cons","loading","lineBreaker","lineBreaker_t","lineBreaker_b","resizeBackground","tool","notice","notice_div","notice_span","notice_button","onClick_cancel","init_options","idOrElement","_init_options","val","getElementById","_Constructor","ownerDocument","defaultView","_util","_parser","_prevRtl","_editorHeight","_editorHeightPadding","_listCamel","_listKebab","__focusTemp","_ww","_shadowRoot","_shadowRootControllerEventTarget","_notice","initPlugins","_targetPlugins","submenu","_submenuName","_bindedSubmenuOff","_bindedContainerOff","submenuActiveButton","containerActiveButton","currentControllerTarget","currentFileComponentInfo","codeViewDisabledButtons","resizingDisabledButtons","_moreLayerActiveButton","_htmlCheckWhitelistRegExp","_htmlCheckBlacklistRegExp","_disallowedTextTagsRegExp","editorTagsWhitelistRegExp","editorTagsBlacklistRegExp","pasteTagsWhitelistRegExp","pasteTagsBlacklistRegExp","isDisabled","isReadOnly","_attributesWhitelistRegExp","_attributesWhitelistRegExp_all_data","_attributesBlacklistRegExp","_attributesTagsWhitelist","_attributesTagsBlacklist","_bindControllersOff","_isInline","_isBalloon","_isBalloonAlways","_inlineToolbarAttr","isShow","_notHideToolbar","_sticky","_lineBreakerButton","activePlugins","managedTagsInfo","_charTypeHTML","_fileInfoPluginsCheck","_fileInfoPluginsReset","_fileManager","queryString","pluginRegExp","pluginMap","commandMap","_commandMapStyles","STRONG","EM","DEL","_styleCommandMap","_cleanStyleRegExp","_variable","isChanged","isCodeView","isFullScreen","innerHeight_fullScreen","resizeClientY","tabSize","codeIndent","minResizingSize","currentNodes","currentNodesMap","_range","_selectionNode","_originCssText","_bodyOverflow","_editorAreaOriginCssText","_wysiwygOriginCssText","_codeOriginCssText","_fullScreenAttrs","sticky","balloon","inline","_lineBreakComp","_lineBreakDir","_formatAttrsTemp","_saveButtonStates","allCommandButtons","currentButtons","_recoverButtonStates","oldButton","callBackFunction","_target","moduleArray","moduleName","getGlobalScrollOffset","scrollLeft","submenuOn","submenuName","_setMenuPosition","moreLayerOff","containerOn","containerName","_containerName","containerOff","toolbarW","toolbarOffset","_getEditorOffsets","menuW","elementW","rtlW","rtlL","overLeft","offsetEl","bt","toolbarTop","menuHeight","menuHeight_bottom","menuTop","insTop","menuHeight_top","getFileComponent","showController","referEl","topMargin","controllerW","referElW","allow","overSize","execCommand","showDefaultUI","nativeFocus","__focus","_editorRange","currentNode","commonAncestorContainer","br","_applyTagEffects","_toggleToolbarBalloon","fileComponentInfo","startCon","startOff","endCon","endOff","setStart","setEnd","selection","removeAllRanges","addRange","_rangeInfo","removeRange","_setKeyEffect","focusNode","rangeCount","getRangeAt","anchorNode","anchorOffset","focusOffset","compareValue","rightDir","_selectionVoid","op","activeEl","activeElement","extentNode","firstFormat","comm","_resetRangeToTextNode","tempCon","tempOffset","tempChild","onlyBreak","emptyText","commonCon","lineNodes","startLine","endLine","startIdx","endIdx","onlyTable","startRangeEl","endRangeEl","sameRange","removeDuplicate","myComponent","selectedLines","isEdgePoint","nodeValue","_isEdgeFormat","formatNode","currentFormatEl","oFormatName","checkCharCount","notSelect","removeNode","formatEl","depthFormat","plugin","_setComponentLineBreaker","t_style","b_style","resizeContainer","componentTop","wScroll","_checkDuplicateNode","_dupleCheck","oStyles","duple","afterNode","originAfter","tempAfterNode","fNode","insertListCell","tempParentNode","freeFormat","isFormats","isEdge","prevContainer","sameParent","subList","formatRange","removedTag","oldParent","rangeCon","fomatNode","chList","dupleNodes","cItem","_setIntoFreeFormat","zeroWidth","oNodeChildren","lastONode","fileComponent","isStartEdge","isEndEdge","startPrevEl","endNextEl","beforeNode","startIndex","endIndex","startNode","endNode","_nodeRemoveListItem","substringData","endUl","startLi","rc","rangeLines","linesLoop","nested","fEl","lEl","standTag","beforeTag","parentDepth","listParent","lineArr","removeItems","nextLine","nextList","removeArray","splitRange","newRangeElement","firstNode","lastNode","rangeEl","insertedNew","moveComplete","appendNode","insNode","originNode","insChildren","originNext","detachRange","lineIndex","insNext","innerChildren","rangeParent","rangeRight","childEdge","listFirst","listLast","lastIndex","styleArray","removeNodeArray","strictRemove","isRemoveNode","isRemoveFormat","newNodeName","sNode","checkCnt","checkAttrs","ckeckClasses","classReg","styleCheck","classCheck","start","styleRegExp","classRegExp","removeNodeRegExp","wBoolean","_removeCheck","checkNode","vNode","tagRemove","originStyle","originClasses","oneLine","endLength","isRemoveAnchor","isSizeNode","_getMaintainedNode","_util_getMaintainedNode","_util_isMaintainedNode","_resetCommonListCell","newRange","_nodeChange_oneLine","_setCommonListStyle","appliedCommonList","_nodeChange_endLine","_nodeChange_middleLine","_nodeChange_startLine","elStyles","ek","elKeys","removeProperty","sel","appliedEl","childStyle","elStyle","fontWeight","fontStyle","cKeys","_stripRemoveNode","_isRemove","newInnerNode","parentCon","sameTag","nNodeArray","pNode","isSameNode","pCurrent","startPass","endPass","checkCss","coverNode","prevNode","prevAnchorNode","childNode","anchors","afterAnchorNode","aChildren","aLen","ancestorAnchorNode","textNode_s","textNode_e","endConReset","newStartOffset","startPath","mergeEndCon","newEndOffset","endPath","newOffsets","_endContainer","passNode","cloneChild","isTopNode","tempNode","newCssText","newClass","noneChange","actionCall","layer","_showToolbarBalloon","_showToolbarInline","commandHandler","toggleCodeView","toggleFullScreen","toggleDisplayBlocks","setDir","nodesMap","marginDir","margin","_resourcesStateChange","_setCodeDataToEditor","_hideToolbar","_resetCachingButton","_setEditorDataToCodeView","scrollHeight","refresh","_checkPlaceholder","code_html","_getCodeView","parseDocument","headChildren","convertContentsForEditor","editableClasses","codeContents","convertHTMLForCodeView","codeValue","_setCodeView","_var","wasToolbarHidden","_codeViewAutoHeight","onScroll_window","zIndex","_iframeAutoHeight","contentsHTML","printDocument","wDoc","arrts","write","links","linkHTML","StyleMedia","windowObject","mimeType","changeDir","marginRight","marginLeft","convertValue","_resetComponents","setIframeContents","__scriptTagRegExp","onlyContents","cleanHTML","renderHTML","editableEls","getFullContents","_makeLine","requireFormat","__disallowedTagNameRegExp","textArray","_allowHTMLComments","_tagConvertor","_deleteDisallowedTags","__disallowedTagsRegExp","to","sizeNum","from","pxSize","_cleanStyle","face","allowedStyle","_cleanTags","lowLevelCheck","bAttr","wAttr","_editFormat","tempTree","_convertListCell","domTree","_isFormatData","_classNameFilter","textCompList","initMethod","__allowedScriptRegExp","comp","returnHTML","brReg","isFormat","brChar","indentSize","elementRegTest","elementIndent","lineBR","nodeRegTest","tagIndent","XMLSerializer","serializeToString","useCapture","_charCount","inputText","countType","nextCharCount","getCharLength","_setCharCount","over","getCharCount","slicePosition","_callCounterBlink","resetResponsiveToolbar","responsiveSize","_responsiveButtonSize","responsiveWidth","_responsiveCurrentSize","setToolbarButtons","_checkComponents","getDoc","setValue","getValue","ignoredList","OUTDENT","INDENT","_init","_initHTML","getPropertyValue","sPrefix","ShadowRoot","shadowRoot","disallowTextTags","allowTextTags","getRegList","str2","defaultAttr","regEndStr","_wAttr","tagsAttr","allAttr","_bAttr","_cachingButtons","managedClass","filePluginRegExp","change","delayTime","pushDelay","stackIndex","stack","setContentsFromStack","pushStack","time","go","getCurrentIndex","ignoreChangeEvent","_destroy","_history","_onChange_historyStack","_iframeAuto","_initWysiwygArea","__callResizeFunction","resizeObserverEntry","borderBoxSize","blockSize","contentRect","onResizeEditor","_setDefaultFormat","formatName","_setOptionsInit","_Context","_getConstructed","_editorInit","_addEvent","_offStickyToolbar","onResize_window","_resizeObserver","_toolbarObserver","contextEl","_IEisComposing","_lineBreakerBind","_deleteKeyCode","_cursorMoveKeyCode","_directionKeyCode","_nonTextKeyCode","_historyIgnoreKeyCode","_onButtonsCheck","_frontZeroWidthReg","_keyCodeShortcut","_shortcutCommand","keyStr","classOnCheck","commandMapNodes","_buttonsEventHandler","addGlobalEvent","removeGlobalEvent","onClick_toolbar","__selectionSyncEvent","onMouseDown_wysiwyg","onMouseDown","tableCell","onClick_wysiwyg","onClick","detail","selectionNodeDeepestFirstChild","selectedComponentInfo","prevLi","_balloonDelay","_showToolbarBalloonDelay","rangeObj","isDirTop","rects","getClientRects","globalScroll","editorWidth","stickyTop","editorLeft","nodeOffset","bottom","noText","arrowMargin","toolbarHeight","iframeRects","_setToolbarOffset","editorParent","absoluteLeft","overRight","resetTop","space","_getPageBottomSpace","documentElement","arrow_left","showInline","onInput_wysiwyg","onInput","_isUneditableNode","isFront","siblingKey","siblingNode","_isUneditableNode_getSibling","selectNode","_onShortcutKey","onKeyDown_wysiwyg","ctrl","altKey","selectRange","fileComponentName","_onKeyDown_wysiwyg_arrowKey","_hardDelete","defaultFormat","con","prevLast","ignoreZWS","nextEl","lines","fc","lc","moveCell","endChild","tabText","freeFormatEl","enterHTML","formatEndEdge","formatStartEdge","_enterPrevent","innerNode","parentLi","newListCell","selectionFormat","wSelection","insertHTML","wOffset","focusNext","brPrev","brNext","focusBR","isMultiLine","innerRange","tempEl","compContext","nbsp","componentInfo","currentCellFirstNode","currentCellLastNode","isCellFirstNode","isCellLastNode","siblingToSet","previousRow","selectPrevious","selectNext","previousDeepestNode","onKeyUp_wysiwyg","oFormatTag","isComposing","frontZeroWidthCnt","onKeyUp","onScroll_wysiwyg","onScroll","onFocus_wysiwyg","onBlur_wysiwyg","onMouseDown_resizingBar","_resize_editor","closureFunc","resizeInterval","isToolbarHidden","editorHeight","scrollY","editorTop","inlineOffset","_onStickyToolbar","scroll","sCell","eCell","sIsCell","eIsCell","sComp","eComp","onPaste_wysiwyg","clipboardData","_dataTransferAction","_setClipboardComponent","setData","onCopy_wysiwyg","onCopy","onSave_wysiwyg","onSave","onCut_wysiwyg","onCut","onDrop_wysiwyg","dataTransfer","_setDropLocationSelection","rangeOffset","caretRangeFromPoint","plainText","cleanData","getData","tempDiv","tempRange","_setClipboardData","MSData","onPaste","onDrop","insertImage","onMouseMove_wysiwyg","lineBreakerStyle","ctxEl","pageY","_onMouseDown_lineBreak","_onLineBreak","eventWysiwyg","_setResponsiveToolbar","_removeEvent","unobserve","sizeArray","buttonsObj","onSetToolbarButtons","newToolbar","newContext","_options","newStyles","noticeClose","getText","getImagesInfo","getFilesInfo","notCleaningData","rangeSelection","checkHTML","firstCon","setOption","topAreaStyle","memoize","fn","memoized","EnterLeaveCounter","enter","enteringNode","previousLength","entered","Set","union","isNodeInDocument","leave","leavingNode","NativeDragSource","initializeExposedProperties","config","exposeProperties","property","loadDataTransfer","newProperties","propertyFn","matchesTypes","defineProperties","handle","FILE","TEXT","HTML","getDataFromDataTransfer","typesToTry","resultSoFar","typeToTry","nativeTypesConfig","NativeTypes","urls","matchNativeItemType","dataTransferTypes","nativeItemType","typeConfig","isFirefox","isSafari","safari","MonotonicInterpolant","interpolate","xs","ys","c1s","c2s","c3s","mid","low","high","xHere","diff","diffSq","indexes","dys","dxs","ms","dx","dy","i2","m2","mNext","dxNext","common","i3","c1","invDx","getNodeClientOffset","getEventClientOffset","getDragPreviewOffset","sourceNode","anchorPoint","offsetPoint","isImage","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","sourceHeight","anchorX","anchorY","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","isManualOffsetY","calculateYOffset","OptionsReader","rootElement","optionsArgs","HTML5BackendImpl","profile","ref1","sourcePreviewNodes","sourcePreviewNodeOptions","sourceNodeOptions","sourceNodes","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","dragOverTargetIds","root","__isReactDndBackendSetUp","addEventListeners","removeEventListeners","clearCurrentDragSourceNode","asyncEndDragFrameId","cancelAnimationFrame","handleDragStart","handleSelectStart","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","dropEffect","altKeyPressed","getCurrentDropEffect","isDraggingNativeItem","getCurrentSourcePreviewNodeOptions","captureDraggingState","beginDragNativeItem","currentNativeSource","createNativeDragSource","currentNativeHandle","setCurrentDragSourceNode","currentDragSourceNode","mouseMoveTimeoutTimer","endDragIfSourceWasRemovedFromDOM","defaultPrevented","lastClientOffset","hoverRafId","endDragNativeItem","cancelHover","scheduleHover","requestAnimationFrame","nativeType","setDragImage","dragPreviewOffset","enterLeaveCounter","dragDrop","isContentEditable","HTML5Backend","useLayoutEffect","useContext","_resizeClientX","_resizeClientY","_resize_w","_resize_h","_resize_direction","_move_path","_isChange","alignIcons","resize_div_container","setController_resize","resizeDot","resizeDisplay","resize_button","setController_button","resize_handles","resizeHandles","resizeButtonGroup","rotationButtons","percentageButtons","alignMenu","alignMenuList","alignButton","autoSizeButton","captionButton","onMouseDown_resize_handle","onClick_resizeButton","resize_container","pluginObj","percentageRotation","xUnit","yUnit","dec","xValue","yValue","contextResizing","isVertical","displayX","displayY","resizeDotShow","rotations","pButtons","_closeAlignMenu","openAlignMenu","currentContext","currentModule","percentY","percentage","_setTransForm","slope","deg","alignValue","captionText","transformOrigin","transOrigin","offsetW","offsetH","translate","closureFunc_bind","resizing_element_bind","cancel_controller_resize","resizing_element","resultW","resultH","wh","padding","limit","SunEditor_1","kind","dialog_div","dialog_back","dialog_area","modalArea","_onMouseDown_dialog","_onClick_dialog","wrapHookToRecognizeElement","hook","elementOrNode","isValidElement","displayName","throwIfCompositeComponentElement","newRef","previousRef","cloneElement","setRef","cloneWithRef","wrappedHooks","wrappedHook"],"sourceRoot":""}