"use strict";(self.webpackChunktreishvaam_finance_frontend=self.webpackChunktreishvaam_finance_frontend||[]).push([[661],{1748:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(9379),s=a(5043),c=a(9634),i=(a(608),a(6355)),l=a(922),r=a(579);const o=e=>{let{hash:t,width:a,height:n,punch:c=1}=e;const i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(i.current&&t&&a&&n)try{const e=(0,l.D4)(t,a,n,c),s=i.current.getContext("2d");if(s){const t=s.createImageData(a,n);t.data.set(e),s.putImageData(t,0,0)}}catch(e){console.error("Failed to decode blurhash",e)}},[t,a,n,c]),t&&a&&n?(0,r.jsx)("canvas",{ref:i,width:a,height:n,className:"absolute inset-0 w-full h-full"}):null},d=e=>{let{baseName:t,alt:a,className:l,sizes:d,onLoad:m,eager:h=!1,width:u,height:g,blurHash:p}=e;const[x,f]=(0,s.useState)(!1),j=()=>{f(!0),m&&m()};if(!t||"string"!==typeof t)return(0,r.jsx)("div",{className:"bg-gray-200 ".concat(l),style:{aspectRatio:u&&g?"".concat(u,"/").concat(g):"1"}});const v=t.match(/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/);if(!v)return console.warn('ResponsiveAuthImage: Could not extract a valid image ID from baseName: "'.concat(t,'"')),(0,r.jsx)("div",{className:"bg-gray-200 ".concat(l),style:{aspectRatio:u&&g?"".concat(u,"/").concat(g):"1"}});const y=v[0],w={alt:a,src:"".concat(i.H$,"/api/uploads/").concat(y,"-small.webp"),srcSet:["".concat(i.H$,"/api/uploads/").concat(y,"-small.webp 300w"),"".concat(i.H$,"/api/uploads/").concat(y,"-medium.webp 600w"),"".concat(i.H$,"/api/uploads/").concat(y,".webp 1200w")].join(", "),sizes:d,className:"transition-opacity duration-300 ".concat(x?"opacity-100":"opacity-0"," ").concat(l),width:u,height:g};return h?(0,r.jsx)("img",(0,n.A)((0,n.A)({},w),{},{className:l,onLoad:j,fetchPriority:"high"})):(0,r.jsxs)("div",{className:"relative w-full h-full overflow-hidden",children:[!x&&p&&(0,r.jsx)(o,{hash:p,width:32,height:32}),(0,r.jsx)(c.LazyLoadImage,(0,n.A)((0,n.A)({},w),{},{effect:"opacity",afterLoad:j}))]})}},4531:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(9379),s=a(5043),c=a(5439),i=a(6355),l=a(7977),r=a(9367),o=a(1748),d=a(519),m=a(184),h=a(579);const u=e=>{let{url:t,title:a,summary:n}=e;return(0,h.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-8",children:[(0,h.jsx)("span",{className:"font-bold text-gray-700 text-lg mr-2",children:"Share this article:"}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)(d.r6,{url:t,title:a,children:(0,h.jsx)(d.Fi,{size:40,round:!0})}),(0,h.jsx)(d.uI,{url:t,quote:n,children:(0,h.jsx)(d.ik,{size:40,round:!0})}),(0,h.jsx)(d.wk,{url:t,title:a,summary:n,children:(0,h.jsx)(d._z,{size:40,round:!0})}),(0,h.jsx)(d.Kz,{url:t,title:a,separator:":: ",children:(0,h.jsx)(d.Y4,{size:40,round:!0})}),(0,h.jsx)(d.VI,{url:t,title:a,children:(0,h.jsx)(d.hZ,{size:40,round:!0})}),(0,h.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t),alert("Link copied to clipboard!")},className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-full hover:bg-gray-300 transition","aria-label":"Copy link",title:"Copy Link",children:(0,h.jsx)(m.paH,{className:"text-gray-600"})})]})]})};var g=a(9889),p=a.n(g);const x=e=>{let{headings:t,activeId:a,progress:n}=e;const[c,i]=(0,s.useState)(!0);if(!t||0===t.length)return null;return(0,h.jsxs)("div",{className:"toc-container",children:[(0,h.jsx)("div",{className:"toc-progress-track",children:(0,h.jsx)("div",{className:"toc-progress-fill",style:{height:"".concat(n,"%")}})}),(0,h.jsxs)("div",{className:"pl-5",children:[(0,h.jsxs)("button",{onClick:()=>i(!c),className:"toc-header",children:[(0,h.jsx)("span",{children:"On this page"}),(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"toc-chevron ".concat(c?"":"-rotate-90"),children:(0,h.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),c&&(0,h.jsx)("nav",{className:"toc-body",children:(0,h.jsx)("ul",{children:t.map(e=>(0,h.jsx)("li",{className:"toc-list-item",children:(0,h.jsx)("a",{href:"#".concat(e.id),onClick:t=>((e,t)=>{e.preventDefault();const a=document.getElementById(t);if(a){const e=-90,t=a.getBoundingClientRect().top+window.pageYOffset+e;window.scrollTo({top:t,behavior:"smooth"})}})(t,e.id),className:"toc-link ".concat(a===e.id?"active":""),style:{paddingLeft:"".concat(.75*(e.level-2)+.5,"rem")},children:e.text})},e.id))})})]})]})},f=()=>{var e,t;const{urlArticleId:a}=(0,c.g)(),[d,m]=(0,s.useState)(null),[g,f]=(0,s.useState)(!0),[j,v]=(0,s.useState)(null),[y,w]=(0,s.useState)([]),[N,b]=(0,s.useState)(""),[A,I]=(0,s.useState)(0),k=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async()=>{try{const e=await(0,i.ct)(a);m(e.data)}catch(e){v("Failed to fetch post.")}finally{f(!1)}})(),window.scrollTo(0,0)},[a]),(0,s.useEffect)(()=>{if(null===d||void 0===d||!d.content)return;const e=document.createElement("div");e.innerHTML=l.A.sanitize(d.content,{USE_PROFILES:{html:!0},ADD_ATTR:["id"]});const t=e.querySelectorAll("h2, h3, h4"),a=Array.from(t).map((e,t)=>{const a="heading-".concat(t,"-").concat(e.tagName);return e.id=a,{id:a,text:e.innerText,level:parseInt(e.tagName.substring(1),10)}});w(a),m(t=>(0,n.A)((0,n.A)({},t),{},{contentWithIds:e.innerHTML}))},[null===d||void 0===d?void 0:d.content]);const S=(0,s.useMemo)(()=>p()(()=>{const e=k.current;if(!e)return;const t=e.getBoundingClientRect().top+window.scrollY,a=e.scrollHeight-window.innerHeight,n=window.scrollY-t;if(n>0&&a>0){const e=n/a*100;I(Math.min(100,Math.max(0,e)))}else I(0);let s="";for(let c=y.length-1;c>=0;c--){const e=document.getElementById(y[c].id);if(e&&e.getBoundingClientRect().top<200){s=y[c].id;break}}b(s)},150),[y]);if((0,s.useEffect)(()=>(window.addEventListener("scroll",S),()=>{S.cancel(),window.removeEventListener("scroll",S)}),[S]),g)return(0,h.jsx)("div",{className:"text-center py-20",children:"Loading post..."});if(j)return(0,h.jsx)("div",{className:"text-center py-20 text-red-500",children:j});if(!d)return(0,h.jsx)("div",{className:"text-center py-20",children:"Post not found."});const L="https://treishfin.treishvaamgroup.com/category/".concat(null===(e=d.category)||void 0===e?void 0:e.slug,"/").concat(d.userFriendlySlug,"/").concat(d.urlArticleId),T="Treishvaam Finance \xb7 ".concat(d.title),z=d.metaDescription||d.customSnippet||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:155;if(!e)return"";const a=l.A.sanitize(e,{ALLOWED_TAGS:[]});if(a.length<=t)return a;const n=a.substring(0,t);return n.substring(0,Math.min(n.length,n.lastIndexOf(" ")))+"..."}(d.content,155),C=d.coverImageUrl?"".concat(i.H$,"/api/uploads/").concat(d.coverImageUrl,".webp"):"".concat(window.location.origin,"/logo512.png"),E=window.location.origin,H={"@context":"https://schema.org","@type":"Article",headline:d.title,image:C,author:{"@type":"Organization",name:"Treishvaam Finance",url:E},publisher:{"@type":"Organization",name:"Treishvaam Finance",logo:{"@type":"ImageObject",url:"".concat(E,"/logo512.png")}},datePublished:d.createdAt,dateModified:d.updatedAt,mainEntityOfPage:{"@type":"WebPage","@id":L},description:z,keywords:d.keywords||(null===(t=d.tags)||void 0===t?void 0:t.join(", "))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(r.mg,{children:[(0,h.jsx)("title",{children:T}),(0,h.jsx)("meta",{name:"description",content:z}),d.keywords&&(0,h.jsx)("meta",{name:"keywords",content:d.keywords}),(0,h.jsx)("link",{rel:"canonical",href:L}),(0,h.jsx)("meta",{property:"og:type",content:"article"}),(0,h.jsx)("meta",{property:"og:url",content:L}),(0,h.jsx)("meta",{property:"og:title",content:d.title}),(0,h.jsx)("meta",{property:"og:description",content:z}),(0,h.jsx)("meta",{property:"og:image",content:C}),(0,h.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,h.jsx)("meta",{name:"twitter:url",content:L}),(0,h.jsx)("meta",{name:"twitter:title",content:d.title}),(0,h.jsx)("meta",{name:"twitter:description",content:z}),(0,h.jsx)("meta",{name:"twitter:image",content:C}),(0,h.jsx)("script",{type:"application/ld+json",children:JSON.stringify(H)})]}),(0,h.jsxs)("div",{className:"max-w-screen-xl mx-auto lg:grid lg:grid-cols-12 lg:gap-x-12 px-4 sm:px-6 lg:px-8",children:[(0,h.jsxs)("div",{className:"lg:col-span-8 xl:col-span-9 py-8",children:[(0,h.jsxs)("header",{className:"mb-8",children:[(0,h.jsx)("h1",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 leading-tight",children:d.title}),(0,h.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-4 mb-6",children:[(0,h.jsxs)("span",{children:["By ",d.author||"Treishvaam Team"]}),(0,h.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,h.jsx)("time",{dateTime:d.createdAt,children:(_=d.createdAt,_?new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A")})]}),d.coverImageUrl&&(0,h.jsx)("div",{className:"mb-8 rounded-lg overflow-hidden shadow-lg",children:(0,h.jsx)(o.A,{baseName:d.coverImageUrl,alt:d.coverImageAltText||d.title,className:"w-full h-auto object-cover"})})]}),(0,h.jsxs)("main",{ref:k,children:[(0,h.jsx)("article",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:(R=d.contentWithIds||d.content,{__html:R})}),(0,h.jsx)("div",{className:"mt-16 pt-8 border-t",children:(0,h.jsx)(u,{url:L,title:d.title})})]})]}),(0,h.jsx)("aside",{className:"lg:col-span-4 xl:col-span-3 py-8 hidden lg:block",children:(0,h.jsx)("div",{className:"sticky top-24",children:(0,h.jsx)(x,{headings:y,activeId:N,progress:A})})})]})]});var R,_}}}]);
//# sourceMappingURL=661.9c427918.chunk.js.map