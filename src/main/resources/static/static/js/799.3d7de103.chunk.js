/*! For license information please see 799.3d7de103.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunktreishvaam_finance_frontend=self.webpackChunktreishvaam_finance_frontend||[]).push([[799],{6866:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(6058),r=a(7304),l=a(579);r.t1.register(r.PP,r.kc,r.FN,r.No,r.m_,r.dN,r.UA);const n=e=>{let{chartData:t,previousClose:a,isPositive:r}=e;if(!t||!t.prices||0===t.prices.length)return(0,l.jsx)("div",{className:"h-full flex items-center justify-center text-gray-300 text-[10px]",children:"No data"});const n=r?"#16a34a":"#dc2626",i={labels:t.labels,datasets:[{data:t.prices,borderColor:n,borderWidth:1.5,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:n,fill:!0,backgroundColor:e=>{const t=e.chart.ctx.createLinearGradient(0,0,0,e.chart.height);return t.addColorStop(0,r?"rgba(22, 163, 74, 0.1)":"rgba(220, 38, 38, 0.1)"),t.addColorStop(1,"rgba(255, 255, 255, 0)"),t},tension:.05},{data:new Array(t.labels.length).fill(a),borderColor:"#9ca3af",borderWidth:1,borderDash:[2,2],pointRadius:0,fill:!1,tooltip:{enabled:!1}}]},c={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(17, 24, 39, 0.9)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#374151",borderWidth:1,padding:4,titleFont:{size:10},bodyFont:{size:10},displayColors:!1,callbacks:{title:e=>e[0].label,label:e=>0===e.datasetIndex?"$".concat(e.parsed.y.toFixed(2)):""}}},scales:{x:{display:!1},y:{position:"right",beginAtZero:!1,grace:"5%",grid:{display:!1,drawBorder:!1},ticks:{color:"#9ca3af",font:{size:9},maxTicksLimit:4,callback:e=>Math.round(e)}}},interaction:{mode:"nearest",axis:"x",intersect:!1},layout:{padding:0}};return(0,l.jsx)(s.N1,{data:i,options:c})}},8799:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var s=a(5043),r=a(1045),l=a(6355),n=a(7784);const i=(0,n.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),c=(0,n.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),o=(0,n.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var d=a(4919),m=a(3782),x=a(579);const u=(e,t)=>{if(null==e)return"N/A";const a={style:"currency",currency:t||"USD",minimumFractionDigits:2,maximumFractionDigits:2};return e>1e3&&(a.minimumFractionDigits=0),e<10&&(a.minimumFractionDigits=3),e.toLocaleString("en-US",a)},h=e=>null==e?"N/A":"".concat(e>=0?"+":"").concat(e.toFixed(2)),g=e=>{let{quote:t}=e;const a=t.changeAmount>=0,s=a?"text-green-600":"text-red-600";return(0,x.jsxs)("div",{className:"pb-4 border-b border-gray-200",children:[(0,x.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[(0,x.jsx)(r.N_,{to:"/",className:"hover:text-blue-600",children:"HOME"}),(0,x.jsx)("span",{className:"mx-2",children:">"}),(0,x.jsx)("span",{className:"text-gray-700",children:t.ticker})]}),(0,x.jsxs)("div",{className:"flex justify-between items-start",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:t.name}),(0,x.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[(0,x.jsx)("span",{children:t.ticker}),(0,x.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,x.jsx)("span",{children:t.currency}),(0,x.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,x.jsx)("span",{children:t.primaryExchange||"Global Market"}),(0,x.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,x.jsx)("span",{className:"text-gray-400",children:"Disclaimer"})]})]}),(0,x.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-200 text-gray-600","aria-label":"Share",children:(0,x.jsx)(o,{size:18})})]}),(0,x.jsxs)("div",{className:"mt-4",children:[(0,x.jsx)("span",{className:"text-5xl font-bold text-gray-900",children:u(t.currentPrice,t.currency)}),(0,x.jsxs)("div",{className:"flex items-center text-2xl font-medium mt-1 ".concat(s),children:[a?(0,x.jsx)(d.A,{size:24,className:"mr-1"}):(0,x.jsx)(m.A,{size:24,className:"mr-1"}),(0,x.jsx)("span",{children:h(t.changeAmount)}),(0,x.jsxs)("span",{className:"ml-3",children:["(",h(t.changePercent),"%)"]})]}),(0,x.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:t.lastUpdated?"As of ".concat(new Date(t.lastUpdated).toLocaleString()):"Data as of last update"})]})]})};var p=a(6866);const b=[{label:"1D",points:1},{label:"5D",points:5},{label:"1M",points:22},{label:"6M",points:126},{label:"YTD",points:"YTD"},{label:"1Y",points:252},{label:"5Y",points:1260},{label:"Max",points:99999}],y=e=>{let{history:t,quote:a}=e;const[r,l]=(0,s.useState)("1Y"),n=(()=>{if(!t||0===t.length)return{labels:[],prices:[]};const e=b.find(e=>e.label===r);if(!e)return{labels:[],prices:[]};let s=[...t];if("1D"===e.label)return{labels:["Previous Close","Current"],prices:[a.previousClose,a.currentPrice]};if("YTD"===e.label){const e=(new Date).getFullYear();s=s.filter(t=>new Date(t.priceDate).getFullYear()===e)}else if("Max"!==e.label){const t=Math.min(s.length,e.points);s=s.slice(-t)}return{labels:s.map(e=>new Date(e.priceDate).toLocaleDateString()),prices:s.map(e=>e.closePrice)}})(),i=a.changeAmount>=0;return(0,x.jsxs)("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg p-4",children:[(0,x.jsx)("div",{className:"timeframe-selector-group",children:b.map(e=>(0,x.jsx)("button",{onClick:()=>l(e.label),className:"timeframe-button ".concat(r===e.label?"active":""),children:e.label},e.label))}),(0,x.jsx)("div",{className:"h-[250px] md:h-[400px] mt-4",children:(0,x.jsx)(p.A,{chartData:n,previousClose:a.previousClose,isPositive:i})})]})},N=e=>null==e||isNaN(e)?"N/A":"".concat(e>=0?"+":"").concat(e.toFixed(2),"%"),j=e=>{let{peer:t}=e;const a=t.changePercent||0,s=(e=>null==e||isNaN(e)?"text-gray-500":e>=0?"text-green-600":"text-red-600")(a);return(0,x.jsxs)(r.N_,{to:"/market/".concat(encodeURIComponent(t.ticker)),className:"carousel-card",children:[(0,x.jsx)("h4",{className:"text-sm font-semibold text-gray-800 truncate",children:t.name}),(0,x.jsx)("div",{className:"text-lg font-bold text-gray-900 my-1",children:t.currentPrice.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2})}),(0,x.jsxs)("div",{className:"text-sm font-medium ".concat(s),children:[a>=0?(0,x.jsx)(d.A,{size:16,className:"inline mr-1"}):(0,x.jsx)(m.A,{size:16,className:"inline mr-1"}),N(a)]})]})},f=e=>{let{peers:t}=e;return t&&0!==t.length?(0,x.jsxs)("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg p-4",children:[(0,x.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Compare to"}),(0,x.jsx)("div",{className:"carousel-container",children:t.map(e=>(0,x.jsx)(j,{peer:e},e.ticker))})]}):null},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"decimal",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD";if(null===e||void 0===e||isNaN(e)||0===e)return"N/A";const s=Math.abs(e);let r={maximumFractionDigits:2,minimumFractionDigits:2};return"currency"===t&&(r.style="currency",r.currency=a,s>1e3&&(r.minimumFractionDigits=0)),"compact"===t?s>=1e12?(e/1e12).toFixed(2)+"T":s>=1e9?(e/1e9).toFixed(2)+"B":s>=1e6?(e/1e6).toFixed(2)+"M":s>=1e3?(e/1e3).toFixed(1)+"K":e.toString():new Intl.NumberFormat("en-US",r).format(e)},k=e=>{let{quote:t}=e;const a=[{label:"Previous Close",value:v(t.previousClose,"currency",t.currency)},{label:"Open",value:v(t.openPrice,"currency",t.currency)},{label:"Day's Range",value:"".concat(v(t.dayLow,"currency",t.currency)," - ").concat(v(t.dayHigh,"currency",t.currency))},{label:"52 Week Range",value:"".concat(v(t.fiftyTwoWeekLow,"currency",t.currency)," - ").concat(v(t.fiftyTwoWeekHigh,"currency",t.currency))},{label:"Volume",value:v(t.volume,"compact")},{label:"Market Cap",value:v(t.marketCap,"compact")},{label:"P/E Ratio (TTM)",value:v(t.peRatio)},{label:"Dividend Yield",value:t.dividendYield?"".concat((100*t.dividendYield).toFixed(2),"%"):"N/A"}];return(0,x.jsxs)("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg p-4",children:[(0,x.jsx)("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs font-semibold px-2 py-1 rounded-full mb-3",children:"Key Statistics"}),(0,x.jsx)("div",{className:"space-y-3 text-sm",children:a.map(e=>(0,x.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2",children:[(0,x.jsx)("span",{className:"text-gray-600",children:e.label}),(0,x.jsx)("span",{className:"font-medium text-gray-900 text-right",children:e.value})]},e.label))})]})},w=e=>{let{quote:t}=e;const[a,r]=(0,s.useState)(!1),l=t.description||"",n=l.length>400,i=a?l:l.substring(0,400);return(0,x.jsxs)("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg p-4",children:[(0,x.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:["About ",t.name]}),(0,x.jsxs)("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-line",children:[i,!a&&n?"...":""]}),n&&(0,x.jsx)("button",{onClick:()=>r(!a),className:"text-sm font-semibold text-blue-600 hover:underline mt-2",children:a?"Read Less":"Read More"}),(0,x.jsx)("p",{className:"text-xs text-gray-400 mt-4",children:"Source: Wikipedia"})]})},C=e=>null==e||isNaN(e)?"+0.00":"".concat(e>=0?"+":"").concat(e.toFixed(2)),D={MARKETS:["^GSPC","^IXIC","^NSEI","GC=F","CL=F"],US:["^GSPC","NQW00","^IXIC","^RUT","^VIX"],EUROPE:["^GDAXI","^FTSE"],INDIA:["^NSEI","^BSESN"],COMMODITIES:["GC=F","SI=F","CL=F"]},S=e=>{let{quote:t}=e;if(!t)return null;const a=t.changeAmount>=0,s=a?"data-card positive":"data-card negative",l=a?"icon text-green-700":"icon text-red-700",n=a?"change-data text-green-700":"change-data text-red-700";return(0,x.jsxs)(r.N_,{to:"/market/".concat(encodeURIComponent(t.ticker)),className:s,children:[(0,x.jsx)("div",{className:l,children:a?(0,x.jsx)(d.A,{size:24}):(0,x.jsx)(m.A,{size:24})}),(0,x.jsxs)("div",{className:"flex-col",children:[(0,x.jsx)("span",{className:"font-bold text-gray-900 truncate",children:t.name}),(0,x.jsx)("span",{className:"text-gray-700",children:t.currentPrice?t.currentPrice.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}):"..."})]}),(0,x.jsxs)("div",{className:"flex-col items-end ml-auto text-right ".concat(n),children:[(0,x.jsx)("span",{className:"font-semibold",children:(i=t.changePercent,null==i||isNaN(i)?"+0.00%":"".concat(i>=0?"+":"").concat(i.toFixed(2),"%"))}),(0,x.jsx)("span",{children:C(t.changeAmount)})]})]});var i},F=()=>{const[e,t]=(0,s.useState)("MARKETS"),[a,r]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{i(!0),r([]);try{const t=D[e];if(!t||0===t.length)return void i(!1);const a=await(0,l.gy)(t),s=t.map(e=>a.data.find(t=>t.ticker===e)).filter(Boolean);r(s)}catch(t){console.error("Failed to fetch quotes for ".concat(e,":"),t)}finally{i(!1)}})()},[e]),(0,x.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:(0,x.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[(0,x.jsx)("div",{className:"flex items-center space-x-2 py-2",children:Object.keys(D).map(a=>(0,x.jsx)("button",{onClick:()=>t(a),className:"px-4 py-1.5 text-sm font-semibold rounded-full transition-colors duration-200\n                                ".concat(e===a?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100 hover:text-gray-900","\n                            "),children:a},a))}),(0,x.jsx)("div",{className:"ticker-row-container",children:(0,x.jsxs)("div",{className:"ticker-row",children:[n&&[...Array(5)].map((e,t)=>(0,x.jsxs)("div",{className:"data-card skeleton",children:[(0,x.jsx)("div",{className:"icon skeleton-line w-6 h-6"}),(0,x.jsxs)("div",{className:"flex-col w-24",children:[(0,x.jsx)("div",{className:"skeleton-line w-20 h-4"}),(0,x.jsx)("div",{className:"skeleton-line w-16 h-3 mt-1.5"})]}),(0,x.jsxs)("div",{className:"flex-col items-end ml-auto w-16",children:[(0,x.jsx)("div",{className:"skeleton-line w-12 h-4"}),(0,x.jsx)("div",{className:"skeleton-line w-10 h-3 mt-1.5"})]})]},t)),!n&&a.map(e=>(0,x.jsx)(S,{quote:e},e.ticker))]})})]})})},A=()=>{const{ticker:e}=(0,r.g)(),[t,a]=(0,s.useState)(null),[n,o]=(0,s.useState)(!0),[d,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{o(!0),m(null),a(null);try{const t=await(0,l.LO)(decodeURIComponent(e));if(!t.data||!t.data.quoteData)throw new Error("No data returned for this asset.");a(t.data)}catch(t){console.error("Failed to fetch market detail data:",t),m(t.message||"Could not load data for this asset.")}finally{o(!1)}})()},[e]);const{quoteData:u,historicalData:h,peers:p}=t||{};return n?(0,x.jsxs)("div",{className:"h-[60vh] flex flex-col items-center justify-center text-gray-500",children:[(0,x.jsx)(i,{size:48,className:"animate-spin text-blue-600"}),(0,x.jsx)("span",{className:"mt-4 text-lg",children:"Loading market data..."})]}):d?(0,x.jsxs)("div",{className:"container mx-auto p-4 max-w-4xl text-center",children:[(0,x.jsxs)(r.N_,{to:"/",className:"text-blue-600 hover:underline mb-4 inline-flex items-center",children:[(0,x.jsx)(c,{size:16,className:"mr-1"})," Back to Home"]}),(0,x.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"Error"}),(0,x.jsx)("p",{className:"text-gray-600",children:d})]}):(0,x.jsxs)(s.Fragment,{children:[" ",(0,x.jsx)(F,{}),(0,x.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,x.jsxs)("div",{className:"container mx-auto p-4 max-w-6xl font-sans",children:[(0,x.jsx)(g,{quote:u}),(0,x.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,x.jsxs)("div",{className:"md:col-span-2 flex flex-col gap-6",children:[(0,x.jsx)(y,{history:h,quote:u}),p&&p.length>0&&(0,x.jsx)(f,{peers:p}),u.description&&(0,x.jsx)(w,{quote:u})]}),(0,x.jsx)("div",{className:"md:col-span-1 flex flex-col gap-6",children:(0,x.jsx)(k,{quote:u})})]})]})})]})}}}]);
//# sourceMappingURL=799.3d7de103.chunk.js.map