"use strict";(self.webpackChunktreishvaam_finance_frontend=self.webpackChunktreishvaam_finance_frontend||[]).push([[279],{1748:(e,t,n)=>{n.d(t,{A:()=>l});n(5043);var a=n(9634),s=(n(1580),n(6355)),c=n(579);const l=e=>{let{baseName:t,alt:n,className:l,sizes:r,onLoad:i}=e;if(!t||"string"!==typeof t)return(0,c.jsx)("div",{className:"bg-gray-200 ".concat(l)});const o=t.match(/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/);if(!o)return console.warn('ResponsiveAuthImage: Could not extract a valid image ID from baseName: "'.concat(t,'"')),(0,c.jsx)("div",{className:"bg-gray-200 ".concat(l)});const d=o[0],m="".concat(s.H$,"/api/uploads/").concat(d,"-small.webp"),u="".concat(s.H$,"/api/uploads/").concat(d,"-tiny.webp"),x=["".concat(s.H$,"/api/uploads/").concat(d,"-small.webp 300w"),"".concat(s.H$,"/api/uploads/").concat(d,"-medium.webp 600w"),"".concat(s.H$,"/api/uploads/").concat(d,".webp 1200w")].join(", ");return(0,c.jsx)(a.LazyLoadImage,{alt:n,src:m,srcSet:x,sizes:r,placeholderSrc:u,effect:"blur",className:l,afterLoad:i})}},4531:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(9379),s=n(5043),c=n(1045),l=n(6355),r=n(7977),i=n(9367),o=n(1748),d=n(519),m=n(184),u=n(579);const x=e=>{let{url:t,title:n,summary:a}=e;return(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-8",children:[(0,u.jsx)("span",{className:"font-bold text-gray-700 text-lg mr-2",children:"Share this article:"}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)(d.r6,{url:t,title:n,children:(0,u.jsx)(d.Fi,{size:40,round:!0})}),(0,u.jsx)(d.uI,{url:t,quote:a,children:(0,u.jsx)(d.ik,{size:40,round:!0})}),(0,u.jsx)(d.wk,{url:t,title:n,summary:a,children:(0,u.jsx)(d._z,{size:40,round:!0})}),(0,u.jsx)(d.Kz,{url:t,title:n,separator:":: ",children:(0,u.jsx)(d.Y4,{size:40,round:!0})}),(0,u.jsx)(d.VI,{url:t,title:n,children:(0,u.jsx)(d.hZ,{size:40,round:!0})}),(0,u.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t),alert("Link copied to clipboard!")},className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-full hover:bg-gray-300 transition","aria-label":"Copy link",title:"Copy Link",children:(0,u.jsx)(m.paH,{className:"text-gray-600"})})]})]})};var h=n(9889),g=n.n(h);const p=e=>{let{headings:t,activeId:n,progress:a}=e;const[c,l]=(0,s.useState)(!0);if(!t||0===t.length)return null;return(0,u.jsxs)("div",{className:"toc-container",children:[(0,u.jsx)("div",{className:"toc-progress-track",children:(0,u.jsx)("div",{className:"toc-progress-fill",style:{height:"".concat(a,"%")}})}),(0,u.jsxs)("div",{className:"pl-5",children:[(0,u.jsxs)("button",{onClick:()=>l(!c),className:"toc-header",children:[(0,u.jsx)("span",{children:"On this page"}),(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"toc-chevron ".concat(c?"":"-rotate-90"),children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),c&&(0,u.jsx)("nav",{className:"toc-body",children:(0,u.jsx)("ul",{children:t.map(e=>(0,u.jsx)("li",{className:"toc-list-item",children:(0,u.jsx)("a",{href:"#".concat(e.id),onClick:t=>((e,t)=>{e.preventDefault();const n=document.getElementById(t);if(n){const e=-90,t=n.getBoundingClientRect().top+window.pageYOffset+e;window.scrollTo({top:t,behavior:"smooth"})}})(t,e.id),className:"toc-link ".concat(n===e.id?"active":""),style:{paddingLeft:"".concat(.75*(e.level-2)+.5,"rem")},children:e.text})},e.id))})})]})]})},f=()=>{var e;const{urlArticleId:t}=(0,c.g)(),n="undefined"!==typeof window&&window.__PRELOADED_STATE__&&window.__PRELOADED_STATE__.urlArticleId===t?window.__PRELOADED_STATE__:null,[d,m]=(0,s.useState)(n),[h,f]=(0,s.useState)(!n),[j,w]=(0,s.useState)(null),[v,y]=(0,s.useState)([]),[_,N]=(0,s.useState)(""),[b,A]=(0,s.useState)(0),E=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(d)return f(!1),void(window.__PRELOADED_STATE__&&window.__PRELOADED_STATE__.urlArticleId===t&&delete window.__PRELOADED_STATE__);(async()=>{try{const e=await(0,l.ct)(t);m(e.data)}catch(e){w("Failed to fetch post.")}finally{f(!1)}})(),window.scrollTo(0,0)},[t]),(0,s.useEffect)(()=>{if(null===d||void 0===d||!d.content)return;const e=document.createElement("div");e.innerHTML=r.A.sanitize(d.content,{USE_PROFILES:{html:!0},ADD_ATTR:["id"]});const t=e.querySelectorAll("h2, h3, h4"),n=Array.from(t).map((e,t)=>{const n="heading-".concat(t,"-").concat(e.tagName);return e.id=n,{id:n,text:e.innerText,level:parseInt(e.tagName.substring(1),10)}});y(n),m(t=>(0,a.A)((0,a.A)({},t),{},{contentWithIds:e.innerHTML}))},[null===d||void 0===d?void 0:d.content]);const T=(0,s.useMemo)(()=>g()(()=>{const e=E.current;if(!e)return;const t=e.getBoundingClientRect().top+window.scrollY,n=e.scrollHeight-window.innerHeight,a=window.scrollY-t;if(a>0&&n>0){const e=a/n*100;A(Math.min(100,Math.max(0,e)))}else A(0);let s="";for(let c=v.length-1;c>=0;c--){const e=document.getElementById(v[c].id);if(e&&e.getBoundingClientRect().top<200){s=v[c].id;break}}N(s)},150),[v]);if((0,s.useEffect)(()=>(window.addEventListener("scroll",T),()=>{T.cancel(),window.removeEventListener("scroll",T)}),[T]),h)return(0,u.jsx)("div",{className:"text-center py-20",children:"Loading post..."});if(j)return(0,u.jsx)("div",{className:"text-center py-20 text-red-500",children:j});if(!d)return(0,u.jsx)("div",{className:"text-center py-20",children:"Post not found."});const S="https://treishfin.treishvaamgroup.com/category/".concat(null===(e=d.category)||void 0===e?void 0:e.slug,"/").concat(d.userFriendlySlug,"/").concat(d.urlArticleId),I="Treishfin \xb7 ".concat(d.title),L=d.metaDescription||d.customSnippet||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160;if(!e)return"";const n=r.A.sanitize(e,{ALLOWED_TAGS:[]});if(n.length<=t)return n;const a=n.substring(0,t);return a.substring(0,Math.min(a.length,a.lastIndexOf(" ")))+"..."}(d.content,160),k=d.coverImageUrl?"".concat(l.H$,"/api/uploads/").concat(d.coverImageUrl,".webp"):"".concat(window.location.origin,"/logo.webp");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(i.mg,{children:[(0,u.jsx)("title",{children:I}),(0,u.jsx)("meta",{name:"description",content:L}),d.keywords&&(0,u.jsx)("meta",{name:"keywords",content:d.keywords}),(0,u.jsx)("link",{rel:"canonical",href:S}),(0,u.jsx)("meta",{property:"og:type",content:"article"}),(0,u.jsx)("meta",{property:"og:url",content:S}),(0,u.jsx)("meta",{property:"og:title",content:d.title}),(0,u.jsx)("meta",{property:"og:description",content:L}),(0,u.jsx)("meta",{property:"og:image",content:k}),(0,u.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,u.jsx)("meta",{name:"twitter:url",content:S}),(0,u.jsx)("meta",{name:"twitter:title",content:d.title}),(0,u.jsx)("meta",{name:"twitter:description",content:L}),(0,u.jsx)("meta",{name:"twitter:image",content:k})]}),(0,u.jsxs)("div",{className:"max-w-screen-xl mx-auto lg:grid lg:grid-cols-12 lg:gap-x-12 px-4 sm:px-6 lg:px-8",children:[(0,u.jsxs)("div",{className:"lg:col-span-8 xl:col-span-9 py-8",children:[(0,u.jsxs)("header",{className:"mb-8",children:[(0,u.jsx)("h1",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 leading-tight",children:d.title}),(0,u.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-4 mb-6",children:[(0,u.jsxs)("span",{children:["By ",d.author||"Treishvaam Team"]}),(0,u.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,u.jsx)("time",{dateTime:d.createdAt,children:(R=d.createdAt,R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A")})]}),d.coverImageUrl&&(0,u.jsx)("div",{className:"mb-8 rounded-lg overflow-hidden shadow-lg",children:(0,u.jsx)(o.A,{baseName:d.coverImageUrl,alt:d.coverImageAltText||d.title,className:"w-full h-auto object-cover"})})]}),(0,u.jsxs)("main",{ref:E,children:[(0,u.jsx)("article",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:(D=d.contentWithIds||d.content,{__html:D})}),(0,u.jsx)("div",{className:"mt-16 pt-8 border-t",children:(0,u.jsx)(x,{url:S,title:d.title})})]})]}),(0,u.jsx)("aside",{className:"lg:col-span-4 xl:col-span-3 py-8 hidden lg:block",children:(0,u.jsx)("div",{className:"sticky top-24",children:(0,u.jsx)(p,{headings:v,activeId:_,progress:b})})})]})]});var D,R}}}]);
//# sourceMappingURL=279.144d9e77.chunk.js.map