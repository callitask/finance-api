{"version":3,"file":"static/js/529.8e5cca42.chunk.js","mappings":"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","sources":["components/ResponsiveAuthImage.js","components/DevelopmentNotice.js","components/NewsHighlights.js","components/DeeperDive.js","components/BlogPage/FeaturedColumn.js","components/market/MarketChart.js","components/market/IndexCharts.js","components/market/TopMoversCard.js","components/market/MarketMovers.js","components/BlogPage/MarketSidebar.js","utils/blogUtils.js","components/BlogPage/BannerPostCard.js","components/BlogPage/GridPostCard.js","components/BlogPage/PostCard.js","components/BlogPage/BlogGridDesktop.js","components/BlogPage/BlogSidebar.js","components/BlogPage/MobilePostCard.js","components/BlogPage/BlogSlideMobile.js","components/BlogPage/MarketSlideMobile.js","pages/BlogPage.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\n// import 'react-lazy-load-image-component/src/effects/blur.css'; // MODIFIED: Removed this import\r\nimport { API_URL } from '../apiConfig';\r\nimport { decode } from 'blurhash';\r\n\r\n/**\r\n * BlurHashCanvas\r\n * Draws a decoded blurhash into a canvas sized to fill its parent.\r\n * Props:\r\n * - blurHash (string)\r\n * - width (number)\r\n * - height (number)\r\n */\r\nconst BlurHashCanvas = ({ blurHash, width, height }) => {\r\n    const canvasRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (!blurHash || !canvasRef.current || !width || !height) return;\r\n        // Choose a small decoded size for speed — will be upscaled by the canvas.\r\n        const decodedWidth = 32;\r\n        const decodedHeight = Math.max(1, Math.round((decodedWidth * height) / width));\r\n        let pixels;\r\n        try {\r\n            pixels = decode(blurHash, decodedWidth, decodedHeight); // returns Uint8ClampedArray rgba\r\n        } catch (e) {\r\n            console.warn('Failed to decode blurhash:', e);\r\n            return;\r\n        }\r\n        const ctx = canvasRef.current.getContext('2d');\r\n        // Create ImageData and put on canvas\r\n        const imageData = ctx.createImageData(decodedWidth, decodedHeight);\r\n        imageData.data.set(pixels);\r\n        // draw to small canvas then upscale to fill\r\n        const tmp = document.createElement('canvas');\r\n        tmp.width = decodedWidth;\r\n        tmp.height = decodedHeight;\r\n        const tmpCtx = tmp.getContext('2d');\r\n        tmpCtx.putImageData(imageData, 0, 0);\r\n\r\n        // Now scale to visible canvas\r\n        const canvas = canvasRef.current;\r\n        canvas.width = canvas.clientWidth;\r\n        canvas.height = canvas.clientHeight;\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.imageSmoothingEnabled = true;\r\n        ctx.drawImage(tmp, 0, 0, tmp.width, tmp.height, 0, 0, canvas.width, canvas.height);\r\n    }, [blurHash, width, height]);\r\n\r\n    // canvas fills container via absolute inset styles in parent\r\n    return <canvas ref={canvasRef} className=\"absolute inset-0 w-full h-full block\" aria-hidden=\"true\" />;\r\n};\r\n\r\n/**\r\n* ResponsiveAuthImage\r\n* Props:\r\n* - baseName: string (the backend image id / base filename)\r\n* - alt: string\r\n* - className: string (applied to the <img>)\r\n* - sizes: string (for srcSet)\r\n* - onLoad: function\r\n* - width, height: numbers (image metadata - used to set aspect ratio in parent)\r\n* - blurHash: string (if available render blurhash canvas)\r\n* - eager: boolean (if true, renders a high-priority <img> tag instead of lazy-loading)\r\n*/\r\nconst ResponsiveAuthImage = ({ baseName, alt, className = '', sizes, onLoad, width, height, blurHash, eager = false }) => {\r\n    // --- MODIFIED: Moved state hook to top ---\r\n    const [loaded, setLoaded] = useState(false);\r\n\r\n    // Render a simple placeholder if baseName is invalid.\r\n    if (!baseName || typeof baseName !== 'string') {\r\n        return <div className={`bg-gray-200 w-full h-full ${className}`} />;\r\n    }\r\n\r\n    const uuidRegex = /([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/;\r\n    const match = baseName.match(uuidRegex);\r\n\r\n    let imageID;\r\n    if (match) {\r\n        imageID = match[0]; // Standard UUID path\r\n    } else {\r\n        // Fallback path: Use the baseName itself, stripping a potential .webp extension\r\n        // This allows for images like 'cover-image.webp'\r\n        imageID = baseName.endsWith('.webp') ? baseName.slice(0, -5) : baseName;\r\n    }\r\n\r\n    // Construct image URLs\r\n    const src = `${API_URL}/api/uploads/${imageID}-small.webp`;\r\n    const placeholderSrc = `${API_URL}/api/uploads/${imageID}-tiny.webp`; // tiny fallback if blurHash not present\r\n    const srcSet = [\r\n        `${API_URL}/api/uploads/${imageID}-small.webp 300w`,\r\n        `${API_URL}/api/uploads/${imageID}-medium.webp 600w`,\r\n        `${API_URL}/api/uploads/${imageID}.webp 1200w`\r\n    ].join(', ');\r\n\r\n    // --- (useState hook was here, but has been moved up) ---\r\n\r\n    const handleAfterLoad = (event) => {\r\n        setLoaded(true);\r\n        if (typeof onLoad === 'function') onLoad(event);\r\n    };\r\n\r\n    // EAGER loading: Render a standard <img> tag for LCP (Largest Contentful Paint)\r\n    // This bypasses the blur/lazy-load logic entirely for critical images.\r\n    if (eager) {\r\n        return (\r\n            <img\r\n                alt={alt}\r\n                src={src}\r\n                srcSet={srcSet}\r\n                sizes={sizes}\r\n                className={className}\r\n                onLoad={handleAfterLoad}\r\n                fetchpriority=\"high\"\r\n                // Pass width/height if available, though layout is controlled by className\r\n                {...(width && { width })}\r\n                {...(height && { height })}\r\n            />\r\n        );\r\n    }\r\n\r\n    // LAZY loading (default): Wrapper is full-size of parent.\r\n    return (\r\n        <div className=\"w-full h-full relative overflow-hidden bg-gray-100\">\r\n            {/* If blurHash provided and we have metadata, render the canvas placeholder */}\r\n            {blurHash && width && height ? (\r\n                <BlurHashCanvas blurHash={blurHash} width={width} height={height} />\r\n            ) : (\r\n                // Fallback tiny image — will be visible until main image loads.\r\n                <img\r\n                    src={placeholderSrc}\r\n                    alt={alt || ''}\r\n                    className=\"absolute inset-0 w-full h-full object-cover block\"\r\n                    aria-hidden=\"true\"\r\n                    style={{ transform: 'scale(1.02)' }}\r\n                />\r\n            )}\r\n\r\n            {/* Real image (lazy loaded) */}\r\n            <LazyLoadImage\r\n                alt={alt}\r\n                src={src}\r\n                srcSet={srcSet}\r\n                sizes={sizes}\r\n                // do not provide placeholderSrc to library when we already rendered our placeholder\r\n                effect={null}\r\n                className={`${className} transition-opacity duration-500 ${loaded ? 'opacity-100' : 'opacity-0'}`}\r\n                afterLoad={handleAfterLoad}\r\n                // Eager path is handled above, so this is always 'lazy'\r\n                loading={'lazy'}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ResponsiveAuthImage;","const DevelopmentNotice = () => {\r\n    // This component now does nothing and renders nothing.\r\n    return null; \r\n};\r\n\r\nexport default DevelopmentNotice;","import React, { useState, useEffect } from 'react';\r\nimport { getNewsHighlights } from '../apiConfig';\r\n\r\n// Helper function to format the date and time\r\nconst formatNewsTimestamp = (dateString) => {\r\n    if (!dateString) return 'Date not available';\r\n    try {\r\n        const date = new Date(dateString);\r\n        if (isNaN(date.getTime())) {\r\n            return 'Invalid Date';\r\n        }\r\n        return date.toLocaleString('en-US', {\r\n            month: 'short',\r\n            day: 'numeric',\r\n            hour: 'numeric',\r\n            minute: '2-digit',\r\n            hour12: true\r\n        });\r\n    } catch (error) {\r\n        return 'Invalid Date';\r\n    }\r\n};\r\n\r\nexport const NewsListItem = ({ title, link, source, publishedAt }) => {\r\n    return (\r\n        <div className=\"py-2 border-b border-gray-200 last:border-b-0\">\r\n            <a\r\n                href={link}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-sm text-gray-800 hover:text-sky-600 transition-colors duration-200 leading-snug font-medium\"\r\n            >\r\n                {title}\r\n            </a>\r\n            <div className=\"text-xs text-gray-500 mt-1\">\r\n                <span className=\"font-semibold capitalize\">{source ? source.replace(/_/g, ' ') : 'News'}</span>\r\n                <span className=\"mx-1.5\">|</span>\r\n                <span>{formatNewsTimestamp(publishedAt)}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewsHighlights = () => {\r\n    const [highlights, setHighlights] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchNews = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const response = await getNewsHighlights();\r\n                if (response && Array.isArray(response.data)) {\r\n                    setHighlights(response.data);\r\n                } else {\r\n                    setHighlights([]);\r\n                }\r\n                setError(null);\r\n            } catch (err) {\r\n                setError('Failed to load news highlights.');\r\n                console.error('Error fetching news highlights:', err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchNews();\r\n    }, []);\r\n\r\n    if (loading || error || highlights.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"mb-6\">\r\n            <h3 className=\"text-base font-bold text-gray-800 pb-2 mb-2 border-b-2 border-gray-300\">\r\n                Recent Highlights\r\n            </h3>\r\n            <div>\r\n                {highlights.map((item) => (\r\n                    <NewsListItem\r\n                        key={item.id}\r\n                        title={item.title}\r\n                        link={item.link}\r\n                        source={item.source}\r\n                        publishedAt={item.publishedAt}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NewsHighlights;","import React, { useState, useEffect } from 'react';\r\nimport { getArchivedNews } from '../apiConfig';\r\nimport { NewsListItem } from './NewsHighlights'; // Re-using the list item component\r\n\r\nconst DeeperDive = () => {\r\n    const [articles, setArticles] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchNews = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const response = await getArchivedNews();\r\n                if (response && Array.isArray(response.data)) {\r\n                    setArticles(response.data);\r\n                } else {\r\n                    setArticles([]);\r\n                }\r\n                setError(null);\r\n            } catch (err) {\r\n                setError('Failed to load archived news.');\r\n                console.error('Error fetching archived news:', err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchNews();\r\n    }, []);\r\n\r\n    if (loading || error || articles.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"mt-6\">\r\n            <h3 className=\"text-base font-bold text-gray-800 pb-2 mb-2 border-b-2 border-gray-300\">\r\n                Deeper Dive\r\n            </h3>\r\n            <div>\r\n                {articles.map((item) => (\r\n                    <NewsListItem\r\n                        key={item.id}\r\n                        title={item.title}\r\n                        link={item.link}\r\n                        source={item.source}\r\n                        publishedAt={item.publishedAt}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DeeperDive;","import React from 'react';\r\nimport NewsHighlights from '../NewsHighlights';\r\nimport DeeperDive from '../DeeperDive';\r\n\r\nconst FeaturedColumn = () => {\r\n    return (\r\n        // This component is used in two places:\r\n        // 1. Desktop: As a sticky sidebar\r\n        // 2. Mobile: As the content for the \"News\" slide\r\n        <div className=\"sticky top-[80px] space-y-4\">\r\n            <div className=\"min-h-[400px]\">\r\n                <NewsHighlights />\r\n            </div>\r\n            <DeeperDive />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FeaturedColumn;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, Filler } from 'chart.js';\r\nimport { getHistoricalData } from '../../apiConfig';\r\n\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, Filler);\r\n\r\nconst MarketChart = ({ ticker, chartTitle }) => {\r\n    const [chartData, setChartData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!ticker) return;\r\n\r\n        const fetchChartData = async () => {\r\n            setLoading(true);\r\n            setError(null);\r\n            // We do not reset chartData here to prevent flickering, the loading state handles it.\r\n            \r\n            try {\r\n                const response = await getHistoricalData(ticker);\r\n                const timeSeries = response.data ? response.data['Time Series (Daily)'] : null;\r\n                \r\n                if (timeSeries) {\r\n                    const dates = Object.keys(timeSeries).slice(0, 30).reverse();\r\n                    const prices = dates.map(date => parseFloat(timeSeries[date]['4. close']));\r\n\r\n                    if (dates.length === 0) {\r\n                        setError(`No historical data points found for ${ticker}.`);\r\n                        return;\r\n                    }\r\n\r\n                    const formattedDates = dates.map(date => new Date(date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));\r\n\r\n                    setChartData({\r\n                        labels: formattedDates,\r\n                        datasets: [\r\n                            {\r\n                                label: `Price ($)`,\r\n                                data: prices,\r\n                                borderColor: 'rgb(59, 130, 246)',\r\n                                backgroundColor: (context) => {\r\n                                    const ctx = context.chart.ctx;\r\n                                    const gradient = ctx.createLinearGradient(0, 0, 0, 200);\r\n                                    gradient.addColorStop(0, 'rgba(59, 130, 246, 0.2)');\r\n                                    gradient.addColorStop(1, 'rgba(59, 130, 246, 0)');\r\n                                    return gradient;\r\n                                },\r\n                                borderWidth: 2,\r\n                                fill: true,\r\n                                tension: 0.4,\r\n                                pointRadius: 0,\r\n                                pointHoverRadius: 5,\r\n                                pointBackgroundColor: 'rgb(59, 130, 246)',\r\n                            },\r\n                        ],\r\n                    });\r\n                } else {\r\n                     setError(response.data.message || `Invalid data format received for ${ticker}.`);\r\n                }\r\n\r\n            } catch (err) {\r\n                if (err.response && err.response.data && err.response.data.message) {\r\n                    setError(err.response.data.message);\r\n                } else {\r\n                    setError('Could not connect to the API. It may be temporarily unavailable.');\r\n                }\r\n                console.error(\"Failed to fetch chart data:\", err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchChartData();\r\n    }, [ticker]); // This dependency array is the key to correct caching behavior.\r\n\r\n    if (loading) {\r\n        return <div className=\"p-4 text-center text-slate-500 text-xs\">Loading Chart...</div>;\r\n    }\r\n    \r\n    if (error) {\r\n        return (\r\n            <div className=\"p-4 text-center\">\r\n                <p className=\"font-semibold text-sm text-gray-800\">{chartTitle || ticker}</p>\r\n                <div className=\"text-red-600 text-xs font-semibold mt-2 break-words\">{error}</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const options = {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n            legend: { display: false },\r\n            title: {\r\n                display: true,\r\n                text: `${chartTitle || ticker} - Last 30 Days`,\r\n                font: { size: 16, weight: '600' },\r\n                color: '#1f2937',\r\n                padding: { top: 10, bottom: 20 }\r\n            },\r\n            tooltip: {\r\n                enabled: true,\r\n                mode: 'index',\r\n                intersect: false,\r\n                callbacks: {\r\n                    label: (context) => `Price: $${context.parsed.y.toFixed(2)}`\r\n                }\r\n            }\r\n        },\r\n        scales: {\r\n            x: {\r\n                display: true,\r\n                title: {\r\n                    display: false,\r\n                },\r\n                ticks: { \r\n                    display: true,\r\n                    font: { size: 10 },\r\n                    color: '#6b7280',\r\n                    maxTicksLimit: 6\r\n                },\r\n                grid: { display: false }\r\n            },\r\n            y: {\r\n                display: true,\r\n                title: {\r\n                    display: false,\r\n                },\r\n                ticks: {\r\n                    font: { size: 10 },\r\n                    color: '#6b7280',\r\n                    callback: (value) => `$${value.toFixed(0)}`\r\n                },\r\n                 grid: {\r\n                    color: '#e5e7eb',\r\n                    drawBorder: false,\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 w-full h-full\">\r\n            {chartData ? <Line options={options} data={chartData} /> : null}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketChart;","import React, { useState } from 'react';\r\nimport MarketChart from './MarketChart';\r\n\r\n// Using the exact array from your working version\r\nconst indices = [\r\n    { symbol: '^GSPC', name: 'S&P 500' },\r\n    { symbol: '^DJI', name: 'Dow Jones Industrial Average' },\r\n    { symbol: '^IXIC', name: 'NASDAQ Composite' },\r\n];\r\n\r\nconst IndexCharts = () => {\r\n    const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n    const activeChart = indices[activeIndex];\r\n\r\n    return (\r\n        <div className=\"bg-white border border-gray-200/90 shadow-sm rounded-md overflow-hidden\">\r\n            <div className=\"p-3 border-b border-gray-200/90\">\r\n                <h2 className=\"font-bold text-base text-gray-800\">US Indices</h2>\r\n                <div className=\"mt-2 flex items-center border border-gray-200 rounded-md p-0.5\">\r\n                    {indices.map((index, i) => (\r\n                        <button\r\n                            key={index.symbol}\r\n                            onClick={() => setActiveIndex(i)}\r\n                            // Display shorter names on tabs for better fit\r\n                            className={`flex-1 text-xs font-semibold py-1.5 px-2 transition-colors duration-200 rounded-sm ${\r\n                                activeIndex === i\r\n                                    ? 'bg-sky-600 text-white shadow'\r\n                                    : 'text-gray-600 hover:bg-gray-100'\r\n                            }`}\r\n                        >\r\n                            {index.name.includes('S&P') ? 'S&P 500' : index.name.includes('Dow Jones') ? 'Dow Jones' : 'NASDAQ'}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <div className=\"h-[250px] flex items-center justify-center\">\r\n                {activeChart && (\r\n                    <MarketChart\r\n                        // NOTE: The problematic 'key' prop has been removed.\r\n                        ticker={activeChart.symbol}\r\n                        chartTitle={activeChart.name}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IndexCharts;","import React, { useState, useEffect } from 'react';\r\nimport MarketChart from './MarketChart';\r\n\r\nconst TopMoversCard = ({ title, fetchData, type }) => {\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [selectedStock, setSelectedStock] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            try {\r\n                setLoading(true);\r\n                setError(null);\r\n                const response = await fetchData();\r\n                setData(response.data || []);\r\n            } catch (err) {\r\n                setError('Data could not be loaded.');\r\n                console.error(\"Failed to fetch top movers:\", err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        loadData();\r\n    }, [fetchData]);\r\n\r\n    const getRowColor = (stock) => {\r\n        const change = parseFloat(stock.changeAmount);\r\n        if (type === 'gainer' || (type === 'active' && change >= 0)) return 'text-green-600';\r\n        if (type === 'loser' || (type === 'active' && change < 0)) return 'text-red-600';\r\n        return 'text-gray-800';\r\n    };\r\n\r\n    const renderContent = () => {\r\n        if (loading) {\r\n            return <p className=\"p-2 text-xs text-gray-500 text-center\">Loading...</p>;\r\n        }\r\n        if (error) {\r\n            return <p className=\"p-2 text-xs text-red-500 break-words text-center\">{error}</p>;\r\n        }\r\n        return (\r\n            <div className=\"px-1\">\r\n                <table className=\"w-full\">\r\n                    <thead>\r\n                        <tr className=\"text-left text-gray-500 uppercase font-medium text-[10px]\">\r\n                            <th className=\"py-1 px-1 font-semibold\">Symbol</th>\r\n                            <th className=\"py-1 px-1 font-semibold text-right whitespace-nowrap\">Price</th>\r\n                            <th className=\"py-1 px-1 font-semibold text-right whitespace-nowrap\">Chg</th>\r\n                            <th className=\"py-1 px-1 font-semibold text-right whitespace-nowrap\">%Chg</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                        {data.slice(0, 5).map((stock) => (\r\n                            <tr\r\n                                key={stock.ticker}\r\n                                className=\"text-[11px] cursor-pointer hover:bg-gray-100\"\r\n                                onClick={() => setSelectedStock(stock.ticker)}\r\n                            >\r\n                                <td className=\"py-1 px-1 font-bold text-gray-700 truncate\">{stock.ticker}</td>\r\n                                <td className=\"py-1 px-1 text-right font-medium text-gray-700 whitespace-nowrap\">\r\n                                    ${parseFloat(stock.price).toFixed(2)}\r\n                                </td>\r\n                                <td className={`py-1 px-1 text-right font-bold whitespace-nowrap ${getRowColor(stock)}`}>\r\n                                    {parseFloat(stock.changeAmount) >= 0 ? '+' : ''}{parseFloat(stock.changeAmount).toFixed(2)}\r\n                                </td>\r\n                                <td className={`py-1 px-1 text-right font-bold whitespace-nowrap ${getRowColor(stock)}`}>\r\n                                    {stock.changePercentage}\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                {selectedStock && <MarketChart ticker={selectedStock} />}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white border border-gray-200/90 shadow-sm\">\r\n            <h4 className=\"font-bold text-sm p-2 border-b border-gray-200/90 text-gray-800\">{title}</h4>\r\n            {renderContent()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TopMoversCard;","import React from 'react';\r\nimport TopMoversCard from './TopMoversCard';\r\nimport { getMostActive, getTopGainers, getTopLosers } from '../../apiConfig';\r\n\r\nconst MarketMovers = () => {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h2 className=\"font-bold text-xl border-b pb-2 pt-4\">Market Movers</h2>\r\n            <TopMoversCard title=\"Most Active\" fetchData={getMostActive} type=\"active\" />\r\n            <TopMoversCard title=\"Top Gainers\" fetchData={getTopGainers} type=\"gainer\" />\r\n            <TopMoversCard title=\"Top Losers\" fetchData={getTopLosers} type=\"loser\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketMovers;","import React from 'react';\r\nimport IndexCharts from '../market/IndexCharts';\r\nimport MarketMovers from '../market/MarketMovers';\r\n\r\nconst MarketSidebar = () => {\r\n    return (\r\n        // This is the right-hand sidebar for DESKTOP only.\r\n        <div className=\"sticky top-[80px] space-y-6\">\r\n            <div className=\"min-h-[350px]\">\r\n                <IndexCharts />\r\n            </div>\r\n            <div className=\"min-h-[650px]\">\r\n                <MarketMovers />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketSidebar;\r\n","import DOMPurify from 'dompurify';\r\n\r\nexport const categoryStyles = {\r\n    \"Stocks\": \"text-sky-700\",\r\n    \"Crypto\": \"text-sky-700\",\r\n    \"Trading\": \"text-sky-700\",\r\n    \"News\": \"text-sky-700\",\r\n    \"Default\": \"text-sky-700\"\r\n};\r\n\r\nexport const createSnippet = (html, length = 155) => {\r\n    if (!html) return '';\r\n    const plainText = DOMPurify.sanitize(html, { ALLOWED_TAGS: [] });\r\n    if (plainText.length <= length) return plainText;\r\n    const trimmed = plainText.substring(0, length);\r\n    return trimmed.substring(0, Math.min(trimmed.length, trimmed.lastIndexOf(' '))) + '...';\r\n};\r\n\r\nexport const formatDateTime = (dateString) => {\r\n    if (!dateString) return { isNew: false, displayDate: 'Date not available' };\r\n    const dateObj = new Date(dateString);\r\n    if (isNaN(dateObj)) return { isNew: false, displayDate: 'Date not available' };\r\n    const now = new Date();\r\n    const diffHours = (now - dateObj) / (1000 * 60 * 60);\r\n    const displayDate = new Intl.DateTimeFormat('en-US', { month: 'long', day: 'numeric', year: 'numeric' }).format(dateObj);\r\n    return { isNew: diffHours < 48, displayDate };\r\n};\r\n","import React, { memo, forwardRef, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ResponsiveAuthImage from '../ResponsiveAuthImage';\r\nimport Slider from \"react-slick\";\r\nimport { createSnippet, formatDateTime } from '../../utils/blogUtils';\r\n\r\nconst BannerPostCard = memo(forwardRef(({ article, onCategoryClick, categoriesMap, eager = false }, ref) => {\r\n    const sliderRef = useRef(null);\r\n    const hasThumbnails = article.thumbnails && article.thumbnails.length > 0;\r\n    const isStory = hasThumbnails && article.thumbnails.length > 1;\r\n    const { isNew, displayDate } = formatDateTime(article.updatedAt || article.createdAt);\r\n    const categoryName = article.category?.name || 'Uncategorized';\r\n    const bannerSliderSettings = { dots: false, fade: true, infinite: true, speed: 1000, slidesToShow: 1, slidesToScroll: 1, autoplay: true, autoplaySpeed: 4000, arrows: false, pauseOnHover: false };\r\n\r\n    const categorySlug = categoriesMap[categoryName] || 'uncategorized';\r\n    const postLink = `/category/${categorySlug}/${article.userFriendlySlug}/${article.urlArticleId}`;\r\n\r\n    const ThumbnailDisplay = () => {\r\n        if (!hasThumbnails) {\r\n            return <div className=\"aspect-video bg-gray-200\"></div>; // Placeholder maintains aspect ratio\r\n        }\r\n        if (isStory) {\r\n            // Use first thumb metadata to set aspect ratio if available\r\n            const firstThumb = article.thumbnails[0] || {};\r\n            const aspectStyle = (firstThumb.width && firstThumb.height) ? { aspectRatio: `${firstThumb.width} / ${firstThumb.height}` } : { minHeight: 400 };\r\n            return (\r\n                <div style={aspectStyle} className=\"w-full bg-gray-100\">\r\n                    <Slider ref={sliderRef} {...bannerSliderSettings}>\r\n                        {article.thumbnails.map((thumb, index) => ( // Added index for eager prop\r\n                            <div key={thumb.id}>\r\n                                <ResponsiveAuthImage\r\n                                    baseName={thumb.imageUrl}\r\n                                    alt={thumb.altText || article.title}\r\n                                    className=\"w-full h-full object-cover\"\r\n                                    width={thumb.width}\r\n                                    height={thumb.height}\r\n                                    blurHash={thumb.blurHash}\r\n                                    eager={eager && index === 0}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n                    </Slider>\r\n                </div>\r\n            );\r\n        }\r\n        const thumb = article.thumbnails[0];\r\n        const aspectStyle = (thumb.width && thumb.height) ? { aspectRatio: `${thumb.width} / ${thumb.height}` } : { minHeight: 400 };\r\n        return (\r\n            <div style={aspectStyle} className=\"w-full bg-gray-100\">\r\n                <ResponsiveAuthImage\r\n                    baseName={thumb.imageUrl}\r\n                    alt={thumb.altText || article.title}\r\n                    className=\"w-full h-full object-cover\"\r\n                    width={thumb.width}\r\n                    height={thumb.height}\r\n                    blurHash={thumb.blurHash}\r\n                    eager={eager}\r\n                />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (<div ref={ref} className=\"block relative bg-black text-white overflow-hidden border border-gray-200 group\"><div className=\"absolute inset-0\"><ThumbnailDisplay /></div><div className=\"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent group-hover:via-black/80 transition-all duration-300\"></div><Link to={postLink} className=\"relative p-8 flex flex-col justify-end min-h-[400px] z-10\"><div className=\"flex justify-between items-center text-sm mb-2\"><div className=\"flex items-center gap-3\"><span onClick={(e) => { e.preventDefault(); onCategoryClick(categoryName); }} className=\"font-bold uppercase tracking-wider text-sky-300 hover:underline cursor-pointer\">{categoryName}</span><span className=\"text-gray-400\">|</span><span className=\"text-gray-300\">{displayDate}</span></div>{isNew && <span className=\"font-semibold text-red-500 bg-white/20 px-2 py-1 rounded-full text-xs\">NEW</span>}</div><h2 className=\"text-3xl md:text-4xl font-bold my-2 leading-tight text-white group-hover:text-sky-200 transition-colors duration-300\">{article.title}</h2><p className=\"text-gray-200 text-base mt-2 max-w-2xl hidden md:block\">{createSnippet(article.customSnippet || article.content, 150)}</p><div className=\"text-xs text-gray-400 mt-4\">By Treishvaam Finance</div></Link></div>);\r\n}));\r\n\r\nexport default BannerPostCard;\r\n","import React, { memo, forwardRef, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ResponsiveAuthImage from '../ResponsiveAuthImage';\r\nimport Slider from \"react-slick\";\r\nimport { categoryStyles, createSnippet, formatDateTime } from '../../utils/blogUtils';\r\n\r\nconst GridPostCard = memo(forwardRef(({ article, onCategoryClick, categoriesMap }, ref) => {\r\n    const sliderRef = useRef(null);\r\n    const hasThumbnails = article.thumbnails && article.thumbnails.length > 0;\r\n    const isStory = hasThumbnails && article.thumbnails.length > 1;\r\n    const { isNew } = formatDateTime(article.updatedAt || article.createdAt);\r\n    const displayDate = new Intl.DateTimeFormat('en-US', { month: 'long', day: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit', hour12: true }).format(new Date(article.updatedAt || article.createdAt));\r\n    const categoryName = article.category?.name || 'Uncategorized';\r\n    const categoryClass = categoryStyles[categoryName] || categoryStyles[\"Default\"];\r\n    const isFeatured = article.featured;\r\n    const totalSlides = article.thumbnails?.length || 0;\r\n    const landscapeSlidesToShow = Math.min(totalSlides, 4);\r\n    const landscapeSettings = { dots: false, infinite: totalSlides > landscapeSlidesToShow, speed: 500, slidesToShow: landscapeSlidesToShow, slidesToScroll: 1, autoplay: true, autoplaySpeed: 3000, arrows: false };\r\n\r\n    const categorySlug = categoriesMap[categoryName] || 'uncategorized';\r\n    const postLink = `/category/${categorySlug}/${article.userFriendlySlug}/${article.urlArticleId}`;\r\n\r\n    const CardContent = () => (<div className=\"p-3 flex flex-col flex-grow\"><div className=\"flex justify-between items-start text-xs mb-2\"><div className=\"flex items-center\"><button onClick={() => onCategoryClick(categoryName)} className={`font-bold uppercase tracking-wider ${categoryClass} hover:underline`}>{categoryName}</button><span className=\"text-gray-400 mx-2\">|</span><span className=\"text-gray-500 font-medium\">By Treishvaam Finance</span></div>{isNew && <span className=\"font-semibold text-red-500 flex-shrink-0\">NEW</span>}</div><h3 className=\"text-lg font-bold mb-2 text-gray-900 leading-tight break-words\"><Link to={postLink} className=\"hover:underline\">{article.title}</Link></h3><p className=\"text-sm text-gray-700 flex-grow break-words\">{createSnippet(article.customSnippet || article.content, 100)}</p><div className=\"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between\"><div className=\"text-xs text-gray-500\"><span>{displayDate}</span></div><Link to={postLink} className=\"text-sm font-semibold text-sky-600 hover:text-sky-800 flex-shrink-0 ml-2\">Read More</Link></div></div>);\r\n\r\n    const ThumbnailDisplay = () => {\r\n        if (!hasThumbnails) return null;\r\n        if (isStory) {\r\n            const firstThumb = article.thumbnails[0] || {};\r\n            const aspectStyle = (firstThumb.width && firstThumb.height) ? { aspectRatio: `${firstThumb.width} / ${firstThumb.height}` } : {};\r\n            return (\r\n                <div className=\"bg-gray-100\" style={aspectStyle}>\r\n                    <Slider ref={sliderRef} {...landscapeSettings}>\r\n                        {article.thumbnails.map(thumb => (\r\n                            <div key={thumb.id} className=\"px-px\">\r\n                                <Link to={postLink} className=\"block w-full h-full\">\r\n                                    <ResponsiveAuthImage\r\n                                        baseName={thumb.imageUrl}\r\n                                        alt={thumb.altText || article.title}\r\n                                        className=\"w-full h-full object-cover\"\r\n                                        width={thumb.width}\r\n                                        height={thumb.height}\r\n                                        blurHash={thumb.blurHash}\r\n                                    />\r\n                                </Link>\r\n                            </div>\r\n                        ))}\r\n                    </Slider>\r\n                </div>\r\n            );\r\n        }\r\n        const singleThumbnail = article.thumbnails[0];\r\n        const aspectStyle = (singleThumbnail.width && singleThumbnail.height) ? { aspectRatio: `${singleThumbnail.width} / ${singleThumbnail.height}` } : {};\r\n        return (\r\n            <Link to={postLink} className=\"block bg-gray-100\" style={aspectStyle}>\r\n                <ResponsiveAuthImage\r\n                    baseName={singleThumbnail.imageUrl}\r\n                    alt={singleThumbnail.altText || article.title}\r\n                    className=\"w-full h-full object-cover\"\r\n                    width={singleThumbnail.width}\r\n                    height={singleThumbnail.height}\r\n                    blurHash={singleThumbnail.blurHash}\r\n                />\r\n            </Link>\r\n        );\r\n    };\r\n\r\n    return (<div ref={ref} className=\"bg-white border border-gray-200 relative flex flex-col h-full\">{isFeatured && (<div className=\"absolute top-2 left-2 z-10\"><span className=\"bg-gradient-to-r from-yellow-400 to-pink-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md uppercase tracking-wider\">Featured</span></div>)}<ThumbnailDisplay /><CardContent /></div>);\r\n}));\r\n\r\nexport default GridPostCard;\r\n","import React, { memo, forwardRef, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ResponsiveAuthImage from '../ResponsiveAuthImage';\r\nimport Slider from \"react-slick\";\r\nimport { categoryStyles, createSnippet, formatDateTime } from '../../utils/blogUtils';\r\n\r\nconst PostCard = memo(forwardRef(({ article, onCategoryClick, categoriesMap }, ref) => {\r\n    const sliderRef = useRef(null);\r\n    const hasThumbnails = article.thumbnails && article.thumbnails.length > 0;\r\n    const isStory = hasThumbnails && article.thumbnails.length > 1;\r\n    const { isNew } = formatDateTime(article.updatedAt || article.createdAt);\r\n    const displayDate = new Intl.DateTimeFormat('en-US', { month: 'long', day: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit', hour12: true }).format(new Date(article.updatedAt || article.createdAt));\r\n    const categoryName = article.category?.name || 'Uncategorized';\r\n    const categoryClass = categoryStyles[categoryName] || categoryStyles[\"Default\"];\r\n    const isFeatured = article.featured;\r\n    const totalSlides = article.thumbnails?.length || 0;\r\n    const landscapeSlidesToShow = Math.min(totalSlides, 4);\r\n    const landscapeSettings = { dots: false, infinite: totalSlides > landscapeSlidesToShow, speed: 500, slidesToShow: landscapeSlidesToShow, slidesToScroll: 1, autoplay: true, autoplaySpeed: 3000, arrows: false };\r\n\r\n    const categorySlug = categoriesMap[categoryName] || 'uncategorized';\r\n    const postLink = `/category/${categorySlug}/${article.userFriendlySlug}/${article.urlArticleId}`;\r\n\r\n    const CardContent = () => (<div className=\"p-3 flex flex-col flex-grow\"><div className=\"flex justify-between items-start text-xs mb-2\"><div className=\"flex items-center\"><button onClick={() => onCategoryClick(categoryName)} className={`font-bold uppercase tracking-wider ${categoryClass} hover:underline`}>{categoryName}</button><span className=\"text-gray-400 mx-2\">|</span><span className=\"text-gray-500 font-medium\">By Treishvaam Finance</span></div>{isNew && <span className=\"font-semibold text-red-500 flex-shrink-0\">NEW</span>}</div><h3 className=\"text-lg font-bold mb-2 text-gray-900 leading-tight break-words\"><Link to={postLink} className=\"hover:underline\">{article.title}</Link></h3><p className=\"text-sm text-gray-700 flex-grow break-words\">{createSnippet(article.customSnippet || article.content, 100)}</p><div className=\"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between\"><div className=\"text-xs text-gray-500\"><span>{displayDate}</span></div><Link to={postLink} className=\"text-sm font-semibold text-sky-600 hover:text-sky-800 flex-shrink-0 ml-2\">Read More</Link></div></div>);\r\n\r\n    const ThumbnailDisplay = () => {\r\n        if (!hasThumbnails) return null;\r\n        if (isStory) {\r\n            // If thumbnails have consistent metadata, attempt to set aspect ratio from first thumb\r\n            const firstThumb = article.thumbnails[0] || {};\r\n            const aspectStyle = (firstThumb.width && firstThumb.height) ? { aspectRatio: `${firstThumb.width} / ${firstThumb.height}` } : {};\r\n            return (\r\n                <div className=\"bg-gray-100\" style={aspectStyle}>\r\n                    <Slider ref={sliderRef} {...landscapeSettings}>\r\n                        {article.thumbnails.map(thumb => (\r\n                            <div key={thumb.id} className=\"px-px\">\r\n                                <Link to={postLink} className=\"block w-full h-full\">\r\n                                    <ResponsiveAuthImage\r\n                                        baseName={thumb.imageUrl}\r\n                                        alt={thumb.altText || article.title}\r\n                                        className=\"w-full h-full object-cover\"\r\n                                        width={thumb.width}\r\n                                        height={thumb.height}\r\n                                        blurHash={thumb.blurHash}\r\n                                    />\r\n                                </Link>\r\n                            </div>\r\n                        ))}\r\n                    </Slider>\r\n                </div>\r\n            );\r\n        }\r\n        const singleThumbnail = article.thumbnails[0];\r\n        const aspectStyle = (singleThumbnail.width && singleThumbnail.height) ? { aspectRatio: `${singleThumbnail.width} / ${singleThumbnail.height}` } : {};\r\n        return (\r\n            <Link to={postLink} className=\"block bg-gray-100\" style={aspectStyle}>\r\n                <ResponsiveAuthImage\r\n                    baseName={singleThumbnail.imageUrl}\r\n                    alt={singleThumbnail.altText || article.title}\r\n                    className=\"w-full h-full object-cover\"\r\n                    width={singleThumbnail.width}\r\n                    height={singleThumbnail.height}\r\n                    blurHash={singleThumbnail.blurHash}\r\n                />\r\n            </Link>\r\n        );\r\n    };\r\n\r\n    return (<div ref={ref} className=\"break-inside-avoid bg-white border border-gray-200 mb-px relative flex flex-col\">{isFeatured && (<div className=\"absolute top-2 left-2 z-10\"><span className=\"bg-gradient-to-r from-yellow-400 to-pink-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md uppercase tracking-wider\">Featured</span></div>)}<ThumbnailDisplay /><CardContent /></div>);\r\n}));\r\n\r\nexport default PostCard;\r\n","import React from 'react';\r\nimport BannerPostCard from './BannerPostCard';\r\nimport GridPostCard from './GridPostCard';\r\nimport PostCard from './PostCard';\r\n\r\nconst BlogGridDesktop = ({ desktopLayoutBlocks, lastPostElementRef, onCategoryClick, categoriesMap, loading, page, hasMore, postCount }) => {\r\n\r\n    const renderDesktopLayout = () => {\r\n        if (desktopLayoutBlocks.length === 0 && !loading && page === 0) {\r\n            return <div className=\"text-center p-10 col-span-full\"><p>No posts found for your criteria.</p></div>;\r\n        }\r\n        return desktopLayoutBlocks.map((block, blockIndex) => {\r\n            const isLastBlock = blockIndex === desktopLayoutBlocks.length - 1;\r\n            if (block.type === 'BANNER') {\r\n                const isLastPost = isLastBlock && block.posts.length === 1;\r\n                const isLCP = blockIndex === 0;\r\n                return <BannerPostCard ref={isLastPost ? lastPostElementRef : null} key={block.id} article={block.posts[0]} onCategoryClick={onCategoryClick} categoriesMap={categoriesMap} eager={isLCP} />;\r\n            }\r\n            if (block.type.startsWith('MULTI_COLUMN')) {\r\n                const columnCount = parseInt(block.type.split('_')[2]) || 2;\r\n                const gridClass = `grid grid-cols-1 md:grid-cols-${columnCount} gap-px`;\r\n                return (<div key={block.id} className={gridClass}>{block.posts.map((article, postIndex) => { const isLastPost = isLastBlock && postIndex === block.posts.length - 1; return <GridPostCard ref={isLastPost ? lastPostElementRef : null} key={article.id} article={article} onCategoryClick={onCategoryClick} categoriesMap={categoriesMap} />; })}</div>);\r\n            }\r\n            if (block.type === 'DEFAULT') {\r\n                return (<div key={block.id} className=\"sm:columns-2 md:columns-3 lg:columns-4 gap-px\">{block.posts.map((article, postIndex) => { const isLastPost = isLastBlock && postIndex === block.posts.length - 1; return <PostCard ref={isLastPost ? lastPostElementRef : null} key={article.id} article={article} onCategoryClick={onCategoryClick} categoriesMap={categoriesMap} />; })}</div>);\r\n            }\r\n            return null;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <main className=\"lg:col-span-8 order-2 min-h-screen py-6 bg-white\">\r\n            {renderDesktopLayout()}\r\n            {loading && page > 0 && <div className=\"text-center p-10 col-span-full\">Loading more posts...</div>}\r\n            {!hasMore && postCount > 0 && <div className=\"text-center p-10 col-span-full text-gray-500\">You've reached the end.</div>}\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default BlogGridDesktop;\r\n","import React, { useState } from 'react';\r\n\r\nconst BlogSidebar = ({ categories, selectedCategory, setSelectedCategory, loadingCategories }) => {\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n\r\n    const allCategories = ['All', ...categories.map(cat => cat.name)];\r\n\r\n    return (\r\n        <aside className=\"lg:col-span-2 xl:col-span-2 order-1 lg:order-3 bg-white p-6 shadow-md mx-auto max-w-sm lg:max-w-none\">\r\n            <h1 className=\"text-3xl font-bold mb-2 text-gray-900\">Finance <span className=\"text-sky-600\">World</span></h1>\r\n            <p className=\"text-sm text-gray-500 mb-6\">Stay ahead with timely market developments.</p>\r\n            <div className=\"flex flex-col gap-y-6\">\r\n                <div>\r\n                    <h3 className=\"block text-sm font-medium text-gray-700 mb-2\">Categories</h3>\r\n                    {loadingCategories ? (\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"h-10 bg-gray-200 animate-pulse\"></div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"relative\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"w-full px-4 py-2 text-left bg-white border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-colors duration-200 hover:bg-gray-50 text-sm font-medium text-gray-700 flex justify-between items-center\"\r\n                                onClick={() => setIsDropdownOpen(!isDropdownOpen)}\r\n                            >\r\n                                {selectedCategory}\r\n                                <svg className={`h-5 w-5 transition-transform duration-200 ${isDropdownOpen ? 'rotate-180' : ''}`} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\r\n                                    <path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                                </svg>\r\n                            </button>\r\n                            {isDropdownOpen && (\r\n                                <div className=\"absolute z-10 mt-2 w-full origin-top-right bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none transition-all duration-100 ease-in-out\">\r\n                                    <div className=\"py-1\">\r\n                                        {allCategories.map(cat => (\r\n                                            <div\r\n                                                key={cat}\r\n                                                className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer\"\r\n                                                onClick={() => {\r\n                                                    setSelectedCategory(cat);\r\n                                                    setIsDropdownOpen(false);\r\n                                                }}\r\n                                            >\r\n                                                {cat}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </aside>\r\n    );\r\n};\r\n\r\nexport default BlogSidebar;\r\n","import React, { memo, forwardRef, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ResponsiveAuthImage from '../ResponsiveAuthImage';\r\nimport Slider from \"react-slick\";\r\nimport { categoryStyles, formatDateTime } from '../../utils/blogUtils';\r\n\r\nconst MobilePostCard = memo(forwardRef(({ article, onCategoryClick, layout, categoriesMap }, ref) => {\r\n    const sliderRef = useRef(null);\r\n    const hasThumbnails = article.thumbnails && article.thumbnails.length > 0;\r\n    const isStory = hasThumbnails && article.thumbnails.length > 1;\r\n    const { isNew, displayDate } = formatDateTime(article.updatedAt || article.createdAt);\r\n    const categoryName = article.category?.name || 'Uncategorized';\r\n    const categoryClass = categoryStyles[categoryName] || categoryStyles[\"Default\"];\r\n    const isFeatured = article.featured;\r\n    const isBannerLayout = layout === 'banner';\r\n    const titleClass = \"text-sm font-bold text-gray-900 leading-tight\";\r\n    const sliderSettings = { dots: false, infinite: true, speed: 500, slidesToShow: 1, slidesToScroll: 1, autoplay: true, autoplaySpeed: 3500, arrows: false };\r\n\r\n    const categorySlug = categoriesMap[categoryName] || 'uncategorized';\r\n    const postLink = `/category/${categorySlug}/${article.userFriendlySlug}/${article.urlArticleId}`;\r\n\r\n    return (<div ref={ref} className={`bg-white shadow-sm flex flex-col relative ${isBannerLayout ? 'col-span-2' : 'col-span-1'}`}>{isFeatured && (<div className=\"absolute top-2 left-2 z-10\"><span className=\"bg-gradient-to-r from-yellow-400 to-pink-500 text-white text-xs font-bold px-2 py-1 shadow-md uppercase tracking-wider\">Featured</span></div>)}{hasThumbnails && (isStory ? (<Slider ref={sliderRef} {...sliderSettings}>{article.thumbnails.map(thumb => (<div key={thumb.id}><Link to={postLink}><ResponsiveAuthImage baseName={thumb.imageUrl} alt={thumb.altText || article.title} className=\"w-full object-cover bg-gray-100 aspect-video\" /></Link></div>))}</Slider>) : (<Link to={postLink}><ResponsiveAuthImage baseName={article.thumbnails[0].imageUrl} alt={article.thumbnails[0].altText || article.title} className={`w-full object-cover bg-gray-100 ${isBannerLayout ? 'aspect-video' : 'aspect-square'}`} /></Link>))}<div className=\"p-3 flex flex-col flex-grow\"><div className=\"flex items-center justify-between text-xs mb-2\"><div className=\"flex items-center flex-wrap\"><button onClick={() => onCategoryClick(categoryName)} className={`font-bold uppercase tracking-wider ${categoryClass} hover:underline`}>{categoryName}</button><span className=\"text-gray-400 mx-2\">|</span><span className=\"text-gray-500 font-medium\">By Treishvaam Finance</span></div>{isNew && <span className=\"font-semibold text-red-500 flex-shrink-0 ml-2\">NEW</span>}</div><h3 className={titleClass}><Link to={postLink} className=\"hover:underline\">{article.title}</Link></h3><div className=\"mt-auto pt-2 text-xs text-gray-500\"><span>{displayDate}</span></div></div></div>);\r\n}));\r\n\r\nexport default MobilePostCard;\r\n","import React, { useState } from 'react';\r\nimport { FiFilter, FiX } from 'react-icons/fi';\r\nimport SearchAutocomplete from '../SearchAutocomplete';\r\nimport BlogSidebar from './BlogSidebar'; // Note the new path\r\nimport MobilePostCard from './MobilePostCard';\r\n\r\nconst BlogSlideMobile = ({\r\n    mobileLayout,\r\n    lastPostElementRef,\r\n    onCategoryClick,\r\n    categoriesMap,\r\n    categories,\r\n    selectedCategory,\r\n    setSelectedCategory,\r\n    loadingCategories,\r\n    loading,\r\n    page,\r\n    hasMore\r\n}) => {\r\n    const [showMobileFilters, setShowMobileFilters] = useState(false);\r\n\r\n    return (\r\n        <div className=\"outline-none\">\r\n            {/* Mobile Filters and Search */}\r\n            <div className=\"px-4 py-4\">\r\n                <div className=\"border-b border-gray-200 mb-4\">\r\n                    <button onClick={() => setShowMobileFilters(!showMobileFilters)} className=\"w-full flex justify-between items-center py-3 text-lg font-semibold text-gray-800\">\r\n                        {showMobileFilters ? 'Hide Filters' : 'Filters & Categories'}\r\n                        {showMobileFilters ? <FiX /> : <FiFilter />}\r\n                    </button>\r\n                    {showMobileFilters && (\r\n                        <div className=\"py-4\">\r\n                            <BlogSidebar\r\n                                categories={categories}\r\n                                selectedCategory={selectedCategory}\r\n                                setSelectedCategory={setSelectedCategory}\r\n                                loadingCategories={loadingCategories}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <SearchAutocomplete />\r\n            </div>\r\n\r\n            {/* Mobile Post Grid */}\r\n            {mobileLayout.length === 0 && !loading && page === 0 ? (\r\n                <div className=\"text-center p-10\"><p>No posts found.</p></div>\r\n            ) : (\r\n                <div className=\"grid grid-cols-2 gap-2 p-2\">\r\n                    {mobileLayout.map((article, index) => {\r\n                        const isLastPost = index === mobileLayout.length - 1;\r\n                        return <MobilePostCard\r\n                            ref={isLastPost ? lastPostElementRef : null}\r\n                            key={article.id}\r\n                            article={article}\r\n                            onCategoryClick={onCategoryClick}\r\n                            layout={article.layout}\r\n                            categoriesMap={categoriesMap}\r\n                        />;\r\n                    })}\r\n                </div>\r\n            )}\r\n\r\n            {/* Mobile Loading/End Indicators */}\r\n            {loading && page > 0 && <div className=\"text-center p-4\">Loading...</div>}\r\n            {!hasMore && mobileLayout.length > 0 && <div className=\"text-center p-4 text-gray-500\">You've reached the end.</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BlogSlideMobile;\r\n","import React from 'react';\r\nimport Slider from \"react-slick\";\r\nimport TopMoversCard from '../market/TopMoversCard';\r\nimport { getMostActive, getTopGainers, getTopLosers } from '../../apiConfig';\r\nimport IndexCharts from '../market/IndexCharts';\r\n\r\nconst MarketSlideMobile = () => {\r\n    const marketSliderSettings = { dots: true, infinite: true, speed: 500, slidesToShow: 1, slidesToScroll: 1, arrows: false };\r\n\r\n    return (\r\n        <div className=\"p-4 outline-none\">\r\n            <div className=\"mt-8 pt-6 border-t border-gray-200\">\r\n                <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Market Movers</h3>\r\n                <div className=\"market-slider-container pb-6 -mx-2\">\r\n                    <style>{`.market-slider-container .slick-dots li button:before { font-size: 10px; color: #9ca3af; } .market-slider-container .slick-dots li.slick-active button:before { color: #0284c7; }`}</style>\r\n                    <Slider {...marketSliderSettings}>\r\n                        <div className=\"px-2\"><TopMoversCard title=\"Most Active\" fetchData={getMostActive} type=\"active\" /></div>\r\n                        <div className=\"px-2\"><TopMoversCard title=\"Top Gainers\" fetchData={getTopGainers} type=\"gainer\" /></div>\r\n                        <div className=\"px-2\"><TopMoversCard title=\"Top Losers\" fetchData={getTopLosers} type=\"loser\" /></div>\r\n                    </Slider>\r\n                </div>\r\n                <div className=\"mt-8\"><IndexCharts /></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketSlideMobile;\r\n","import React, { useState, useEffect, useMemo, memo, useRef, useCallback, forwardRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { API_URL, getCategories, getPaginatedPosts } from '../apiConfig';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { FiFilter, FiX, FiTrendingUp, FiBriefcase } from 'react-icons/fi';\r\nimport DevelopmentNotice from '../components/DevelopmentNotice';\r\n// Note: We're not importing BlogSidebar here anymore, it's used inside BlogSlideMobile\r\nimport SearchAutocomplete from '../components/SearchAutocomplete';\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\n\r\n// Import new layout components\r\nimport FeaturedColumn from '../components/BlogPage/FeaturedColumn';\r\nimport MarketSidebar from '../components/BlogPage/MarketSidebar';\r\nimport BlogGridDesktop from '../components/BlogPage/BlogGridDesktop';\r\nimport BlogSlideMobile from '../components/BlogPage/BlogSlideMobile';\r\nimport MarketSlideMobile from '../components/BlogPage/MarketSlideMobile';\r\n\r\n// Import helpers\r\nimport { createSnippet } from '../utils/blogUtils';\r\n\r\n// --- CategoryFilter (Unchanged) ---\r\nconst CategoryFilter = ({ categories, selectedCategory, setSelectedCategory, loadingCategories }) => {\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n    const allCategories = ['All', ...categories.map(cat => cat.name)];\r\n    if (loadingCategories) return <div className=\"h-10 w-48 bg-gray-200 animate-pulse rounded-md\"></div>;\r\n    return (\r\n        <div className=\"relative\">\r\n            <button type=\"button\" className=\"w-48 px-4 py-2 text-left bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-colors duration-200 hover:bg-gray-50 text-sm font-medium text-gray-700 flex justify-between items-center\" onClick={() => setIsDropdownOpen(!isDropdownOpen)}>\r\n                {selectedCategory}\r\n                <svg className={`h-5 w-5 transition-transform duration-200 ${isDropdownOpen ? 'rotate-180' : ''}`} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\"><path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" /></svg>\r\n            </button>\r\n            {isDropdownOpen && (<div className=\"absolute z-20 mt-2 w-full origin-top-right bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none transition-all duration-100 ease-in-out\"><div className=\"py-1\">{allCategories.map(cat => (<div key={cat} className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer\" onClick={() => { setSelectedCategory(cat); setIsDropdownOpen(false); }}>{cat}</div>))}</div></div>)}\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- NavbarExtrasPortal (Unchanged) ---\r\nconst NavbarExtrasPortal = ({ children }) => {\r\n    const [mountNode, setMountNode] = useState(null);\r\n    useEffect(() => {\r\n        const node = document.getElementById('navbar-extras-portal-target');\r\n        setMountNode(node);\r\n        return () => { if (node) { node.innerHTML = ''; } };\r\n    }, []);\r\n    return mountNode ? createPortal(children, mountNode) : null;\r\n};\r\n\r\n// --- BlogPage Component ---\r\nconst BlogPage = () => {\r\n    // State including mobile slider state\r\n    const [posts, setPosts] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [hasMore, setHasMore] = useState(true);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [categories, setCategories] = useState([]);\r\n    const [loadingCategories, setLoadingCategories] = useState(true);\r\n    const [selectedCategory, setSelectedCategory] = useState(\"All\");\r\n    // const [showMobileFilters, setShowMobileFilters] = useState(false); // This state is now inside BlogSlideMobile\r\n    const [searchParams] = useSearchParams();\r\n    const searchTerm = searchParams.get('q') || \"\";\r\n    const [categoriesMap, setCategoriesMap] = useState({});\r\n    const [isDataReady, setIsDataReady] = useState(false);\r\n    const [activeMobileViewIndex, setActiveMobileViewIndex] = useState(1); // Default to Blog view\r\n    const mobileSliderRef = useRef(null); // Ref for mobile slider instance\r\n\r\n    // Infinite scroll observer - Adjusted for mobile tabs\r\n    const observer = useRef();\r\n    const lastPostElementRef = useCallback(node => {\r\n        // Original logic for desktop observer\r\n        if (typeof window !== 'undefined' && window.innerWidth >= 640) { // sm breakpoint check\r\n            if (loading) return;\r\n            if (observer.current) observer.current.disconnect();\r\n            observer.current = new IntersectionObserver(entries => {\r\n                if (entries[0].isIntersecting && hasMore) {\r\n                    setPage(prevPage => prevPage + 1);\r\n                }\r\n            });\r\n            if (node) observer.current.observe(node);\r\n        }\r\n        // Mobile observer logic (only attach if blog tab active)\r\n        else {\r\n            if (activeMobileViewIndex !== 1) { if (observer.current) observer.current.disconnect(); return; };\r\n            if (loading) return;\r\n            if (observer.current) observer.current.disconnect();\r\n            observer.current = new IntersectionObserver(entries => {\r\n                if (entries[0].isIntersecting && hasMore) {\r\n                    setPage(prevPage => prevPage + 1);\r\n                }\r\n            });\r\n            if (node) observer.current.observe(node);\r\n        }\r\n    }, [loading, hasMore, activeMobileViewIndex]);\r\n\r\n    // useEffect for resetting posts\r\n    useEffect(() => {\r\n        setPosts([]); setPage(0); setHasMore(true);\r\n    }, [selectedCategory, searchTerm]);\r\n\r\n    // useEffect for fetching posts - Adjusted for mobile tabs\r\n    useEffect(() => {\r\n        if (!isDataReady) return;\r\n        // Fetch if desktop OR if mobile blog tab is active\r\n        if (typeof window !== 'undefined' && (window.innerWidth >= 640 || activeMobileViewIndex === 1)) {\r\n            setLoading(true); setError('');\r\n            getPaginatedPosts(page, 9).then(response => {\r\n                setPosts(prevPosts => {\r\n                    const newPosts = response.data.content;\r\n                    const existingIds = new Set(prevPosts.map(p => p.id));\r\n                    const uniqueNewPosts = newPosts.filter(p => !existingIds.has(p.id));\r\n                    return page === 0 ? newPosts : [...prevPosts, ...uniqueNewPosts];\r\n                });\r\n                setHasMore(!response.data.last); setLoading(false);\r\n            }).catch(err => { setError('Failed to fetch blog posts.'); setLoading(false); });\r\n        } else {\r\n            setLoading(false); // Ensure loading is false if not fetching on mobile non-blog tabs\r\n        }\r\n    }, [page, selectedCategory, searchTerm, isDataReady, activeMobileViewIndex]);\r\n\r\n    // useEffect for fetching categories\r\n    useEffect(() => {\r\n        getCategories().then(response => {\r\n            setCategories(response.data);\r\n            const newCategoriesMap = response.data.reduce((acc, cat) => { acc[cat.name] = cat.slug; return acc; }, {});\r\n            setCategoriesMap(newCategoriesMap);\r\n        }).catch(err => console.error(\"Failed to fetch categories:\", err))\r\n            .finally(() => { setLoadingCategories(false); setIsDataReady(true); });\r\n    }, []);\r\n\r\n    // filteredPosts memo\r\n    const filteredPosts = useMemo(() => {\r\n        let postsToFilter = posts;\r\n        if (selectedCategory !== \"All\") { postsToFilter = postsToFilter.filter(p => p.category?.name === selectedCategory); }\r\n        if (searchTerm) { const term = searchTerm.toLowerCase(); postsToFilter = postsToFilter.filter(p => p.title.toLowerCase().includes(term)); }\r\n        return postsToFilter.sort((a, b) => new Date(b.updatedAt || b.createdAt) - new Date(a.updatedAt || a.createdAt));\r\n    }, [posts, selectedCategory, searchTerm]);\r\n\r\n    // mobileLayout memo from user prompt code\r\n    const mobileLayout = useMemo(() => {\r\n        return filteredPosts.map(post => {\r\n            const isStory = post.thumbnails && post.thumbnails.length > 1;\r\n            const layout = isStory ? 'banner' : 'grid';\r\n            return { ...post, layout };\r\n        });\r\n    }, [filteredPosts]);\r\n\r\n    // desktopLayoutBlocks memo from user prompt code\r\n    const desktopLayoutBlocks = useMemo(() => {\r\n        if (filteredPosts.length === 0) return [];\r\n        const blocks = []; let currentDefaultBlock = []; const multiColumnGroups = {};\r\n        filteredPosts.forEach(post => { if (post.layoutStyle && post.layoutStyle.startsWith('MULTI_COLUMN') && post.layoutGroupId) { if (!multiColumnGroups[post.layoutGroupId]) { multiColumnGroups[post.layoutGroupId] = { type: post.layoutStyle, posts: [] }; } multiColumnGroups[post.layoutGroupId].posts.push(post); } });\r\n        for (const groupId in multiColumnGroups) { multiColumnGroups[groupId].posts.sort((a, b) => new Date(b.updatedAt || b.createdAt) - new Date(a.updatedAt || a.createdAt)); }\r\n        const processedGroupIds = new Set();\r\n        filteredPosts.forEach(post => {\r\n            const style = post.layoutStyle || 'DEFAULT';\r\n            if (style === 'BANNER') {\r\n                if (currentDefaultBlock.length > 0) { blocks.push({ id: `default-${blocks.length}`, type: 'DEFAULT', posts: currentDefaultBlock }); currentDefaultBlock = []; }\r\n                blocks.push({ id: `banner-${post.id}`, type: 'BANNER', posts: [post] });\r\n            } else if (style.startsWith('MULTI_COLUMN') && post.layoutGroupId) {\r\n                if (processedGroupIds.has(post.layoutGroupId)) return;\r\n                if (currentDefaultBlock.length > 0) { blocks.push({ id: `default-${blocks.length}`, type: 'DEFAULT', posts: currentDefaultBlock }); currentDefaultBlock = []; }\r\n                blocks.push({ id: post.layoutGroupId, ...multiColumnGroups[post.layoutGroupId] });\r\n                processedGroupIds.add(post.layoutGroupId);\r\n            } else {\r\n                currentDefaultBlock.push(post);\r\n            }\r\n        });\r\n        if (currentDefaultBlock.length > 0) { blocks.push({ id: `default-${blocks.length}`, type: 'DEFAULT', posts: currentDefaultBlock }); }\r\n        return blocks;\r\n    }, [filteredPosts]);\r\n\r\n\r\n    // Helmet variables\r\n    const latestPost = useMemo(() => { if (!posts || posts.length === 0) return null; return posts.reduce((latest, current) => new Date(current.updatedAt || current.createdAt) > new Date(latest.updatedAt || latest.createdAt) ? current : latest); }, [posts]);\r\n    const pageTitle = latestPost ? `Treishvaam Finance · ${latestPost.title}` : `Treishvaam Finance | Financial News & Analysis`;\r\n    const pageDescription = latestPost ? createSnippet(latestPost.content) : \"Your trusted source for financial news and analysis.\";\r\n    const imageUrl = latestPost?.thumbnails?.[0]?.imageUrl ? `${API_URL}/api/uploads/${latestPost.thumbnails[0].imageUrl}.webp` : \"/logo512.png\";\r\n\r\n    // Slider settings\r\n    const mobileMainSliderSettings = { // Settings for the new mobile tab slider\r\n        dots: false, infinite: false, speed: 500, slidesToShow: 1, slidesToScroll: 1,\r\n        arrows: false, swipeToSlide: true, initialSlide: 1, // Start on Blog view (index 1)\r\n        afterChange: (index) => setActiveMobileViewIndex(index) // Update state on swipe\r\n    };\r\n\r\n    // navigateMobile function (for bottom bar)\r\n    const navigateMobile = (index) => {\r\n        // Update state immediately for responsive tab highlight, then navigate slider\r\n        setActiveMobileViewIndex(index);\r\n        if (mobileSliderRef && mobileSliderRef.current && typeof mobileSliderRef.current.slickGoTo === 'function') {\r\n            mobileSliderRef.current.slickGoTo(index);\r\n        }\r\n    };\r\n\r\n    // Original Loading/Error states from user prompt\r\n    // Use isDataReady check for initial loading\r\n    if (page === 0 && loading && !isDataReady) return <div className=\"text-center p-10 min-h-screen flex items-center justify-center\">Loading initial data...</div>;\r\n    if (page === 0 && loading && isDataReady) return <div className=\"text-center p-10 min-h-screen flex items-center justify-center\">Loading posts...</div>; // Loading posts state\r\n    if (error) return (<div className=\"flex flex-col items-center justify-center min-h-[60vh] text-center p-6 bg-gray-50\"><div className=\"text-red-400 mb-4\"><svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={1}><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" /></svg></div><h2 className=\"text-2xl font-semibold text-gray-800 mb-2\">Site is Currently Under Maintenance</h2><p className=\"max-w-md text-gray-600\">We are performing essential updates to improve your experience. We apologize for any inconvenience and appreciate your patience. Please check back again shortly.</p></div>);\r\n\r\n    return (\r\n        <>\r\n            <DevelopmentNotice />\r\n            <Helmet>\r\n                <title>{pageTitle}</title>\r\n                <meta name=\"description\" content={pageDescription} />\r\n                <link rel=\"canonical\" href=\"https://treishfin.treishvaamgroup.com/\" />\r\n                <meta property=\"og:title\" content={pageTitle} />\r\n                <meta property=\"og:description\" content={pageDescription} />\r\n                <meta property=\"og:image\" content={imageUrl} />\r\n            </Helmet>\r\n\r\n            <NavbarExtrasPortal>\r\n                {/* Desktop Navbar Extras */}\r\n                <div className=\"hidden sm:flex items-center gap-4\">\r\n                    <div className=\"w-64\"><SearchAutocomplete /></div>\r\n                    <CategoryFilter categories={categories} selectedCategory={selectedCategory} setSelectedCategory={setSelectedCategory} loadingCategories={loadingCategories} />\r\n                    <h1 className=\"text-xl font-bold text-gray-900 hidden lg:block\">Finance <span className=\"text-sky-600\">World</span></h1>\r\n                </div>\r\n            </NavbarExtrasPortal>\r\n\r\n            <section className=\"bg-gray-50 pb-16 sm:pb-0\">\r\n                {/* --- Desktop Layout --- */}\r\n                <div className=\"hidden sm:grid grid-cols-1 lg:grid-cols-12 gap-2\">\r\n\r\n                    {/* Left Column (News & Dive) */}\r\n                    <aside className=\"lg:col-span-2 order-1 py-6 px-2\">\r\n                        <FeaturedColumn />\r\n                    </aside>\r\n\r\n                    {/* Center Column (Blog Grid) */}\r\n                    <BlogGridDesktop\r\n                        desktopLayoutBlocks={desktopLayoutBlocks}\r\n                        lastPostElementRef={lastPostElementRef}\r\n                        onCategoryClick={setSelectedCategory}\r\n                        categoriesMap={categoriesMap}\r\n                        loading={loading}\r\n                        page={page}\r\n                        hasMore={hasMore}\r\n                        postCount={filteredPosts.length}\r\n                    />\r\n\r\n                    {/* Right Column (Market Info) */}\r\n                    <aside className=\"lg:col-span-2 order-3 py-6 px-2\">\r\n                        <MarketSidebar />\r\n                    </aside>\r\n                </div>\r\n\r\n                {/* --- Mobile Layout (Slider Implementation) --- */}\r\n                <div className=\"sm:hidden\">\r\n                    <Slider ref={mobileSliderRef} {...mobileMainSliderSettings}>\r\n\r\n                        {/* Slide 0: News */}\r\n                        <div className=\"p-4 outline-none space-y-4\">\r\n                            <FeaturedColumn />\r\n                        </div>\r\n\r\n                        {/* Slide 1: Blog */}\r\n                        <BlogSlideMobile\r\n                            mobileLayout={mobileLayout}\r\n                            lastPostElementRef={lastPostElementRef}\r\n                            onCategoryClick={setSelectedCategory}\r\n                            categoriesMap={categoriesMap}\r\n                            categories={categories}\r\n                            selectedCategory={selectedCategory}\r\n                            setSelectedCategory={setSelectedCategory}\r\n                            loadingCategories={loadingCategories}\r\n                            loading={loading}\r\n                            page={page}\r\n                            hasMore={hasMore}\r\n                        />\r\n\r\n                        {/* Slide 2: Market */}\r\n                        <MarketSlideMobile />\r\n\r\n                    </Slider>\r\n                </div>\r\n            </section>\r\n\r\n            {/* --- Mobile Bottom Navigation (fixed bottom tab bar) --- */}\r\n            <div className=\"sm:hidden fixed bottom-0 left-0 right-0 h-16 bg-white border-t border-gray-200 shadow-md z-50 flex justify-around items-center\">\r\n                <button onClick={() => navigateMobile(0)} className={`flex flex-col items-center justify-center w-1/3 h-full transition-colors duration-200 ${activeMobileViewIndex === 0 ? 'text-sky-600' : 'text-gray-500 hover:text-sky-500'}`}><FiBriefcase className=\"w-6 h-6 mb-1\" /><span className=\"text-xs font-medium\">News</span></button>\r\n                <button onClick={() => navigateMobile(1)} className={`flex flex-col items-center justify-center w-1/3 h-full transition-colors duration-200 relative ${activeMobileViewIndex === 1 ? 'text-sky-600' : 'text-gray-500 hover:text-sky-500'}`}>{activeMobileViewIndex === 1 && <span className=\"absolute top-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-sky-600 rounded-b-full\"></span>}<img src=\"/logo.webp\" alt=\"TreishFin Home\" className=\"w-10 h-10 object-contain mb-1\" /></button>\r\n                <button onClick={() => navigateMobile(2)} className={`flex flex-col items-center justify-center w-1/3 h-full transition-colors duration-200 ${activeMobileViewIndex === 2 ? 'text-sky-600' : 'text-gray-500 hover:text-sky-500'}`}><FiTrendingUp className=\"w-6 h-6 mb-1\" /><span className=\"text-xs font-medium\">Market</span></button>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\nexport default BlogPage;"],"names":["BlurHashCanvas","_ref","blurHash","width","height","canvasRef","useRef","useEffect","current","decodedHeight","Math","max","round","pixels","decode","e","console","warn","ctx","getContext","imageData","createImageData","data","set","tmp","document","createElement","putImageData","canvas","clientWidth","clientHeight","clearRect","imageSmoothingEnabled","drawImage","_jsx","ref","className","_ref2","baseName","alt","sizes","onLoad","eager","loaded","setLoaded","useState","concat","match","imageID","endsWith","slice","src","API_URL","placeholderSrc","srcSet","join","handleAfterLoad","event","_objectSpread","fetchpriority","_jsxs","children","style","transform","LazyLoadImage","effect","afterLoad","loading","DevelopmentNotice","formatNewsTimestamp","dateString","date","Date","isNaN","getTime","toLocaleString","month","day","hour","minute","hour12","error","NewsListItem","title","link","source","publishedAt","href","target","rel","replace","NewsHighlights","highlights","setHighlights","setLoading","setError","async","response","getNewsHighlights","Array","isArray","err","fetchNews","length","map","item","id","DeeperDive","articles","setArticles","getArchivedNews","FeaturedColumn","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Filler","ticker","chartTitle","chartData","setChartData","getHistoricalData","timeSeries","dates","Object","keys","reverse","prices","parseFloat","formattedDates","toLocaleDateString","labels","datasets","label","borderColor","backgroundColor","context","gradient","chart","createLinearGradient","addColorStop","borderWidth","fill","tension","pointRadius","pointHoverRadius","pointBackgroundColor","message","fetchChartData","options","responsive","maintainAspectRatio","plugins","legend","display","text","font","size","weight","color","padding","top","bottom","tooltip","enabled","mode","intersect","callbacks","parsed","y","toFixed","scales","x","ticks","maxTicksLimit","grid","callback","value","drawBorder","Line","indices","symbol","name","IndexCharts","activeIndex","setActiveIndex","activeChart","index","i","onClick","includes","MarketChart","fetchData","type","setData","selectedStock","setSelectedStock","loadData","getRowColor","stock","change","changeAmount","price","changePercentage","MarketMovers","TopMoversCard","getMostActive","getTopGainers","getTopLosers","MarketSidebar","categoryStyles","createSnippet","html","arguments","undefined","plainText","DOMPurify","sanitize","ALLOWED_TAGS","trimmed","substring","min","lastIndexOf","formatDateTime","isNew","displayDate","dateObj","Intl","DateTimeFormat","year","format","memo","forwardRef","_article$category","article","onCategoryClick","categoriesMap","sliderRef","hasThumbnails","thumbnails","isStory","updatedAt","createdAt","categoryName","category","bannerSliderSettings","dots","fade","infinite","speed","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","arrows","pauseOnHover","categorySlug","postLink","userFriendlySlug","urlArticleId","ThumbnailDisplay","firstThumb","aspectStyle","aspectRatio","minHeight","Slider","thumb","ResponsiveAuthImage","imageUrl","altText","Link","to","preventDefault","customSnippet","content","_article$thumbnails","categoryClass","isFeatured","featured","totalSlides","landscapeSlidesToShow","landscapeSettings","CardContent","singleThumbnail","desktopLayoutBlocks","lastPostElementRef","page","hasMore","postCount","block","blockIndex","isLastBlock","isLastPost","posts","isLCP","BannerPostCard","startsWith","columnCount","parseInt","split","gridClass","postIndex","GridPostCard","PostCard","categories","selectedCategory","setSelectedCategory","loadingCategories","isDropdownOpen","setIsDropdownOpen","allCategories","cat","xmlns","viewBox","fillRule","d","clipRule","layout","isBannerLayout","mobileLayout","showMobileFilters","setShowMobileFilters","FiX","FiFilter","BlogSidebar","SearchAutocomplete","MobilePostCard","MarketSlideMobile","CategoryFilter","NavbarExtrasPortal","mountNode","setMountNode","node","getElementById","innerHTML","createPortal","BlogPage","_latestPost$thumbnail","_latestPost$thumbnail2","setPosts","setPage","setHasMore","setCategories","setLoadingCategories","searchParams","useSearchParams","searchTerm","get","setCategoriesMap","isDataReady","setIsDataReady","activeMobileViewIndex","setActiveMobileViewIndex","mobileSliderRef","observer","useCallback","window","innerWidth","disconnect","IntersectionObserver","entries","isIntersecting","prevPage","observe","getPaginatedPosts","then","prevPosts","newPosts","existingIds","Set","p","uniqueNewPosts","filter","has","last","catch","getCategories","newCategoriesMap","reduce","acc","slug","finally","filteredPosts","useMemo","postsToFilter","_p$category","term","toLowerCase","sort","a","b","post","blocks","currentDefaultBlock","multiColumnGroups","forEach","layoutStyle","layoutGroupId","push","groupId","processedGroupIds","add","latestPost","latest","pageTitle","pageDescription","mobileMainSliderSettings","swipeToSlide","initialSlide","afterChange","navigateMobile","slickGoTo","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_Fragment","Helmet","property","BlogGridDesktop","BlogSlideMobile","FiBriefcase","FiTrendingUp"],"sourceRoot":""}