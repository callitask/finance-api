{"version":3,"file":"static/js/206.27e16356.chunk.js","mappings":"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","sources":["components/market/MarketChart.js","../node_modules/lucide-react/src/icons/arrow-left.ts","pages/MarketDetailPage.js"],"sourcesContent":["import React from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Tooltip,\r\n    Filler,\r\n    TimeScale\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Tooltip,\r\n    Filler,\r\n    TimeScale\r\n);\r\n\r\nconst MarketChart = ({ chartData, previousClose, isPositive }) => {\r\n    if (!chartData || !chartData.prices || chartData.prices.length === 0) {\r\n        return <div className=\"h-full flex items-center justify-center text-gray-300 text-[10px]\">No data</div>;\r\n    }\r\n\r\n    const chartColor = isPositive ? '#16a34a' : '#dc2626';\r\n\r\n    const data = {\r\n        labels: chartData.labels,\r\n        datasets: [\r\n            {\r\n                data: chartData.prices,\r\n                borderColor: chartColor,\r\n                borderWidth: 1.5,\r\n                pointRadius: 0,\r\n                pointHoverRadius: 3,\r\n                pointBackgroundColor: chartColor,\r\n                fill: true,\r\n                backgroundColor: (context) => {\r\n                    const ctx = context.chart.ctx;\r\n                    const gradient = ctx.createLinearGradient(0, 0, 0, context.chart.height);\r\n                    gradient.addColorStop(0, isPositive ? 'rgba(22, 163, 74, 0.1)' : 'rgba(220, 38, 38, 0.1)');\r\n                    gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\r\n                    return gradient;\r\n                },\r\n                tension: 0.05,\r\n            },\r\n            {\r\n                data: new Array(chartData.labels.length).fill(previousClose),\r\n                borderColor: '#9ca3af',\r\n                borderWidth: 1,\r\n                borderDash: [2, 2],\r\n                pointRadius: 0,\r\n                fill: false,\r\n                tooltip: { enabled: false }\r\n            }\r\n        ],\r\n    };\r\n\r\n    const options = {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        animation: { duration: 0 }, // Disable animation for faster sidebar performance\r\n        plugins: {\r\n            legend: { display: false },\r\n            tooltip: {\r\n                mode: 'index',\r\n                intersect: false,\r\n                backgroundColor: 'rgba(17, 24, 39, 0.9)',\r\n                titleColor: '#fff',\r\n                bodyColor: '#fff',\r\n                borderColor: '#374151',\r\n                borderWidth: 1,\r\n                padding: 4,\r\n                titleFont: { size: 10 },\r\n                bodyFont: { size: 10 },\r\n                displayColors: false,\r\n                callbacks: {\r\n                    title: (items) => items[0].label,\r\n                    label: (item) => item.datasetIndex === 0 ? `$${item.parsed.y.toFixed(2)}` : ''\r\n                }\r\n            }\r\n        },\r\n        scales: {\r\n            x: { display: false },\r\n            y: {\r\n                position: 'right',\r\n                beginAtZero: false,\r\n                grace: '5%', // Automatic padding top/bottom for standard stock look\r\n                grid: { display: false, drawBorder: false },\r\n                ticks: {\r\n                    color: '#9ca3af',\r\n                    font: { size: 9 },\r\n                    maxTicksLimit: 4,\r\n                    callback: (val) => Math.round(val)\r\n                }\r\n            }\r\n        },\r\n        interaction: { mode: 'nearest', axis: 'x', intersect: false },\r\n        layout: { padding: 0 }\r\n    };\r\n\r\n    return <Line data={data} options={options} />;\r\n};\r\n\r\nexport default MarketChart;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { getWidgetData } from '../apiConfig';\r\nimport MarketChart from '../components/market/MarketChart'; // --- FIX: Corrected import path ---\r\nimport { TrendingUp, TrendingDown, ArrowLeft } from 'lucide-react';\r\n\r\n// --- Copied from IndexCharts for consistent formatting ---\r\nconst timeframes = [\r\n    { label: '1M', points: 22 },\r\n    { label: '6M', points: 126 },\r\n    { label: 'YTD', points: 'YTD' },\r\n    { label: '1Y', points: 252 },\r\n    { label: '5Y', points: 1260 },\r\n    { label: 'Max', points: 99999 },\r\n];\r\n\r\nconst formatNumber = (num, isCurrency = true) => {\r\n    if (num === null || num === undefined || isNaN(num)) return 'N/A';\r\n\r\n    // For non-currency large numbers like Market Cap\r\n    if (!isCurrency) {\r\n        if (Math.abs(num) >= 1e12) return (num / 1e12).toFixed(2) + 'T';\r\n        if (Math.abs(num) >= 1e9) return (num / 1e9).toFixed(2) + 'B';\r\n        if (Math.abs(num) >= 1e6) return (num / 1e6).toFixed(2) + 'M';\r\n    }\r\n\r\n    // Standard currency/price formatting\r\n    return num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n};\r\n// --- End of copied code ---\r\n\r\n\r\nconst MarketDetailPage = () => {\r\n    const { ticker } = useParams();\r\n    const [widgetData, setWidgetData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeTimeframe, setActiveTimeframe] = useState('1Y');\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const response = await getWidgetData(decodeURIComponent(ticker));\r\n                setWidgetData(response.data);\r\n            } catch (e) {\r\n                console.error(\"Failed to fetch market detail data:\", e);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [ticker]);\r\n\r\n    // --- Copied from IndexCharts for consistent chart data ---\r\n    const getChartData = () => {\r\n        if (!widgetData || !widgetData.historicalData) return { labels: [], prices: [] };\r\n\r\n        const history = widgetData.historicalData;\r\n        const tf = timeframes.find(t => t.label === activeTimeframe);\r\n        if (!tf) return { labels: [], prices: [] };\r\n\r\n        let filteredHistory = history;\r\n        if (tf.points === 'YTD') {\r\n            const currentYear = new Date().getFullYear();\r\n            filteredHistory = history.filter(item => new Date(item.priceDate).getFullYear() === currentYear);\r\n        } else if (tf.label !== 'Max') {\r\n            const pointsToTake = Math.min(history.length, tf.points);\r\n            filteredHistory = history.slice(-pointsToTake);\r\n        }\r\n\r\n        return {\r\n            labels: filteredHistory.map(item => new Date(item.priceDate).toLocaleDateString()),\r\n            prices: filteredHistory.map(item => item.closePrice)\r\n        };\r\n    };\r\n    // --- End of copied code ---\r\n\r\n    const chartData = getChartData();\r\n    const quote = widgetData?.quoteData;\r\n    const isPos = quote?.changeAmount >= 0;\r\n\r\n    if (loading) {\r\n        return <div className=\"h-[60vh] flex items-center justify-center text-gray-500\">Loading market data...</div>;\r\n    }\r\n\r\n    if (!quote) {\r\n        return (\r\n            <div className=\"container mx-auto p-4 max-w-4xl text-center\">\r\n                <Link to=\"/\" className=\"text-blue-600 hover:underline mb-4 inline-flex items-center\">\r\n                    <ArrowLeft size={16} className=\"mr-1\" /> Back to Home\r\n                </Link>\r\n                <h2 className=\"text-2xl font-bold text-red-600\">Error</h2>\r\n                <p className=\"text-gray-600\">Could not load data for {decodeURIComponent(ticker)}.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-4 max-w-5xl font-sans\">\r\n            {/* --- Header --- */}\r\n            <div className=\"mb-6\">\r\n                <Link to=\"/\" className=\"text-sm text-blue-600 hover:underline mb-2 inline-flex items-center\">\r\n                    <ArrowLeft size={14} className=\"mr-1\" /> Back\r\n                </Link>\r\n                <h1 className=\"text-3xl font-bold text-gray-900\">{quote.name || decodeURIComponent(ticker)}</h1>\r\n                <div className=\"flex items-baseline space-x-2 mt-1\">\r\n                    <span className=\"text-4xl font-bold text-gray-900\">{formatNumber(quote.currentPrice)}</span>\r\n                    <span className=\"text-lg font-medium text-gray-500\">{quote.currency}</span>\r\n                </div>\r\n                <div className={`flex items-center text-xl font-bold mt-1 ${isPos ? 'text-green-600' : 'text-red-600'}`}>\r\n                    {isPos ? <TrendingUp size={20} className=\"mr-1\" /> : <TrendingDown size={20} className=\"mr-1\" />}\r\n                    <span>{formatNumber(quote.changeAmount)}</span>\r\n                    <span className=\"ml-2\">({quote.changePercent ? quote.changePercent.toFixed(2) : '0.00'}%)</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- Chart & Timeframes --- */}\r\n            <div className=\"mb-6\">\r\n                <div className=\"h-[300px] md:h-[400px] -mx-1\">\r\n                    <MarketChart chartData={chartData} previousClose={quote.previousClose} isPositive={isPos} />\r\n                </div>\r\n                <div className=\"flex justify-center bg-gray-100 rounded-md p-1 mt-4 max-w-md mx-auto\">\r\n                    {timeframes.map(tf => (\r\n                        <button\r\n                            key={tf.label}\r\n                            onClick={() => setActiveTimeframe(tf.label)}\r\n                            className={`flex-1 px-3 py-1 rounded text-xs font-bold transition-colors ${activeTimeframe === tf.label ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-500 hover:text-gray-900'\r\n                                }`}\r\n                        >\r\n                            {tf.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- Key Statistics Grid --- */}\r\n            <div className=\"border-t border-gray-200 pt-6\">\r\n                <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">Key Statistics</h2>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-4 text-sm\">\r\n\r\n                    <div className=\"flex justify-between border-b py-2\">\r\n                        <span className=\"text-gray-600\">Open</span>\r\n                        <span className=\"font-medium text-gray-900\">{formatNumber(quote.openPrice)}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between border-b py-2\">\r\n                        <span className=\"text-gray-600\">Day High</span>\r\n                        <span className=\"font-medium text-gray-900\">{formatNumber(quote.dayHigh)}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between border-b py-2\">\r\n                        <span className=\"text-gray-600\">Day Low</span>\r\n                        <span className=\"font-medium text-gray-900\">{formatNumber(quote.dayLow)}</span>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-between border-b py-2\">\r\n                        <span className=\"text-gray-600\">Previous Close</span>\r\n                        <span className=\"font-medium text-gray-900\">{formatNumber(quote.previousClose)}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between border-b py-2\">\r\n                        <span className=\"text-gray-600\">52 Week High</span>\r\n                        <span className=\"font-medium text-gray-900\">{formatNumber(quote.fiftyTwoWeekHigh)}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between border-b py-2\">\r\n                        <span className=\"text-gray-600\">52 Week Low</span>\r\n                        <span className=\"font-medium text-gray-900\">{formatNumber(quote.fiftyTwoWeekLow)}</span>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-between border-b py-2\">\r\n                        <span className=\"text-gray-600\">Market Cap</span>\r\n                        <span className=\"font-medium text-gray-900\">{formatNumber(quote.marketCap, false)}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between border-b py-2\">\r\n                        <span className=\"text-gray-600\">P/E Ratio (TTM)</span>\r\n                        <span className=\"font-medium text-gray-900\">{formatNumber(quote.peRatio)}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between border-b py-2\">\r\n                        <span className=\"text-gray-600\">Dividend Yield</span>\r\n                        <span className=\"font-medium text-gray-900\">{quote.dividendYield ? (quote.dividendYield * 100).toFixed(2) : 'N/A'}%</span>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MarketDetailPage;"],"names":["ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Filler","TimeScale","_ref","chartData","previousClose","isPositive","prices","length","_jsx","className","children","chartColor","data","labels","datasets","borderColor","borderWidth","pointRadius","pointHoverRadius","pointBackgroundColor","fill","backgroundColor","context","gradient","chart","ctx","createLinearGradient","height","addColorStop","tension","Array","borderDash","tooltip","enabled","options","responsive","maintainAspectRatio","animation","duration","plugins","legend","display","mode","intersect","titleColor","bodyColor","padding","titleFont","size","bodyFont","displayColors","callbacks","title","items","label","item","datasetIndex","concat","parsed","y","toFixed","scales","x","position","beginAtZero","grace","grid","drawBorder","ticks","color","font","maxTicksLimit","callback","val","Math","round","interaction","axis","layout","Line","ArrowLeft","createLucideIcon","d","key","timeframes","points","formatNumber","num","isCurrency","arguments","undefined","isNaN","abs","toLocaleString","minimumFractionDigits","maximumFractionDigits","MarketDetailPage","ticker","useParams","widgetData","setWidgetData","useState","loading","setLoading","activeTimeframe","setActiveTimeframe","useEffect","async","response","getWidgetData","decodeURIComponent","e","console","error","fetchData","getChartData","historicalData","history","tf","find","t","filteredHistory","currentYear","Date","getFullYear","filter","priceDate","pointsToTake","min","slice","map","toLocaleDateString","closePrice","quote","quoteData","isPos","changeAmount","_jsxs","Link","to","name","currentPrice","currency","TrendingUp","TrendingDown","changePercent","MarketChart","onClick","openPrice","dayHigh","dayLow","fiftyTwoWeekHigh","fiftyTwoWeekLow","marketCap","peRatio","dividendYield"],"sourceRoot":""}