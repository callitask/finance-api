{"version":3,"file":"static/js/533.b56c9ce0.chunk.js","mappings":"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","sources":["utils/editorUtils.js","components/BlogEditor/modals/CropModal.js","components/BlogEditor/modals/LockChoiceModal.js","components/BlogEditor/modals/AddFromPostModal.js","components/BlogEditor/MetaPanel.js","components/BlogEditor/SeoPanel.js","components/BlogEditor/CategoryPanel.js","components/BlogEditor/TagsInput.js","components/BlogEditor/LayoutPanel.js","components/BlogEditor/thumbnail/DraggableThumbnail.js","components/BlogEditor/thumbnail/StoryThumbnailManager.js","components/BlogEditor/thumbnail/ThumbnailPanel.js","components/BlogEditor/CoverImagePanel.js","components/BlogEditor/PublishPanel.js","components/BlogEditor/EditorForm.js","pages/BlogEditorPage.js","../node_modules/suneditor/src/lang|C:/Users/7303150607/OneDrive/Desktop/PrOJEct/treishvaam-finance-frontend/node_modules/suneditor/src/lang|sync|/^/.*/.js$"],"sourcesContent":["export const canvasToBlob = (canvas) => new Promise(resolve => canvas.toBlob(blob => resolve(blob), 'image/webp', 0.9));\r\n\r\nexport const generateLayoutGroupId = () => `group_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\n// Helper function, only used by this component\r\nfunction canvasPreview(image, canvas, crop) {\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx || !crop.width || !crop.height) return;\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    const pixelRatio = window.devicePixelRatio || 1;\r\n    canvas.width = Math.floor(crop.width * scaleX * pixelRatio);\r\n    canvas.height = Math.floor(crop.height * scaleY * pixelRatio);\r\n    ctx.scale(pixelRatio, pixelRatio);\r\n    ctx.imageSmoothingQuality = 'high';\r\n    const cropX = crop.x * scaleX;\r\n    const cropY = crop.y * scaleY;\r\n    ctx.drawImage(image, cropX, cropY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width * scaleX, crop.height * scaleY);\r\n}\r\n\r\nconst CropModal = ({ src, type, onClose, onSave, aspect }) => {\r\n    const imgRef = useRef(null);\r\n    const canvasRef = useRef(null);\r\n    const [crop, setCrop] = useState();\r\n    const [completedCrop, setCompletedCrop] = useState();\r\n    useEffect(() => {\r\n        if (completedCrop?.width && imgRef.current && canvasRef.current) {\r\n            canvasPreview(imgRef.current, canvasRef.current, completedCrop);\r\n        }\r\n    }, [completedCrop]);\r\n    const handleSave = () => {\r\n        if (!completedCrop || !canvasRef.current) return;\r\n        onSave(canvasRef.current, completedCrop);\r\n    };\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full\">\r\n                <h3 className=\"text-xl font-bold mb-4\">Crop Image</h3>\r\n                <div style={{ maxHeight: '60vh', overflowY: 'auto' }}>\r\n                    <ReactCrop crop={crop} onChange={c => setCrop(c)} onComplete={c => setCompletedCrop(c)} aspect={aspect}>\r\n                        <img ref={imgRef} alt=\"Crop\" src={src} />\r\n                    </ReactCrop>\r\n                </div>\r\n                <canvas ref={canvasRef} className=\"hidden\" />\r\n                <div className=\"flex justify-end gap-4 mt-4\">\r\n                    <button onClick={onClose} className=\"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300\">Cancel</button>\r\n                    <button onClick={handleSave} className=\"px-4 py-2 rounded bg-sky-600 text-white hover:bg-sky-700\">Save</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CropModal;\r\n","import React from 'react';\r\n\r\nconst LockChoiceModal = ({ isOpen, onChoice }) => {\r\n    if (!isOpen) return null;\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center\">\r\n                <h3 className=\"text-xl font-bold mb-4\">Square Image Detected</h3>\r\n                <p className=\"text-gray-600 mb-6\">For subsequent images in this story, how should they be cropped?</p>\r\n                <div className=\"flex justify-center gap-4 mt-4\">\r\n                    <button onClick={() => onChoice('landscape')} className=\"px-4 py-2 rounded bg-sky-600 text-white hover:bg-sky-700\">Lock Height (Landscape Style)</button>\r\n                    <button onClick={() => onChoice('portrait')} className=\"px-4 py-2 rounded bg-sky-600 text-white hover:bg-sky-700\">Lock Width (Portrait Style)</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LockChoiceModal;\r\n","import React, { useState } from 'react';\r\n\r\nconst AddFromPostModal = ({ images, isOpen, onClose, onSelect }) => {\r\n    const [selectedImages, setSelectedImages] = useState([]);\r\n    if (!isOpen) return null;\r\n    const toggleSelection = (url) => setSelectedImages(prev => prev.includes(url) ? prev.filter(u => u !== url) : [...prev, url]);\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white p-6 rounded-lg shadow-xl max-w-4xl w-full\">\r\n                <h3 className=\"text-xl font-bold mb-4\">Select Images from Post</h3>\r\n                <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-4 max-h-96 overflow-y-auto p-2\">\r\n                    {images.map((url, index) => (\r\n                        <div key={index} onClick={() => toggleSelection(url)} className={`relative rounded-lg overflow-hidden cursor-pointer border-4 ${selectedImages.includes(url) ? 'border-sky-500' : 'border-transparent'}`}>\r\n                            <img src={url} alt={`Post content ${index + 1}`} className=\"w-full h-full object-cover\" />\r\n                            {selectedImages.includes(url) && (<div className=\"absolute inset-0 bg-sky-500 bg-opacity-50 flex items-center justify-center text-white text-2xl\">âœ“</div>)}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div className=\"flex justify-end gap-4 mt-4\">\r\n                    <button onClick={onClose} className=\"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300\">Cancel</button>\r\n                    <button onClick={() => { onSelect(selectedImages); setSelectedImages([]); }} className=\"px-4 py-2 rounded bg-sky-600 text-white hover:bg-sky-700\">Add Selected</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddFromPostModal;\r\n","import React from 'react';\r\n\r\nconst MetaPanel = ({ title, onTitleChange, userFriendlySlug, onUserFriendlySlugChange }) => {\r\n    return (\r\n        <>\r\n            <div>\r\n                <label htmlFor=\"title\" className=\"block text-gray-700 font-semibold mb-2\">Title</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"title\"\r\n                    value={title}\r\n                    onChange={e => onTitleChange(e.target.value)}\r\n                    className=\"w-full p-2 border border-gray-300 rounded\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"userFriendlySlug\" className=\"block text-gray-700 font-semibold mb-2\">\r\n                    URL Slug (SEO Friendly)\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"userFriendlySlug\"\r\n                    value={userFriendlySlug}\r\n                    onChange={e => onUserFriendlySlugChange(e.target.value)}\r\n                    placeholder=\"e.g., guide-to-market-analysis\"\r\n                    className=\"w-full p-2 border border-gray-300 rounded\"\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MetaPanel;\r\n","import React from 'react';\r\n\r\nconst SeoPanel = ({ keywords, onKeywordsChange, metaDescription, onMetaDescriptionChange, customSnippet, onCustomSnippetChange }) => {\r\n    return (\r\n        <>\r\n            <div>\r\n                <label htmlFor=\"keywords\" className=\"block text-gray-700 font-semibold mb-2\">Keywords (Comma-separated)</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"keywords\"\r\n                    value={keywords}\r\n                    onChange={e => onKeywordsChange(e.target.value)}\r\n                    className=\"w-full p-2 border border-gray-300 rounded\"\r\n                    placeholder=\"e.g., investing, stocks, financial freedom\"\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"metaDescription\" className=\"block text-gray-700 font-semibold mb-2\">Meta Description (for SEO)</label>\r\n                <textarea\r\n                    id=\"metaDescription\"\r\n                    value={metaDescription}\r\n                    onChange={e => onMetaDescriptionChange(e.target.value)}\r\n                    rows=\"3\"\r\n                    className=\"w-full p-2 border border-gray-300 rounded\"\r\n                    placeholder=\"A brief summary for search engines (about 155 characters).\"\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"customSnippet\" className=\"block text-gray-700 font-semibold mb-2\">Custom Snippet (for Previews)</label>\r\n                <textarea\r\n                    id=\"customSnippet\"\r\n                    value={customSnippet}\r\n                    onChange={e => onCustomSnippetChange(e.target.value)}\r\n                    rows=\"3\"\r\n                    className=\"w-full p-2 border border-gray-300 rounded\"\r\n                    placeholder=\"A short preview for display on the blog page.\"\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SeoPanel;\r\n","import React from 'react';\r\n\r\nconst CategoryPanel = ({\r\n    selectedCategory,\r\n    onCategoryChange,\r\n    allCategories,\r\n    showNewCategoryInput,\r\n    onShowNewCategoryToggle,\r\n    newCategoryName,\r\n    onNewCategoryNameChange,\r\n    onAddNewCategory\r\n}) => {\r\n    return (\r\n        <div>\r\n            <label htmlFor=\"category\" className=\"block text-gray-700 font-semibold mb-2\">Category</label>\r\n            <div className=\"flex items-center gap-2\">\r\n                <select\r\n                    id=\"category\"\r\n                    value={selectedCategory ? selectedCategory.name : ''}\r\n                    onChange={e => {\r\n                        const cat = allCategories.find(c => c.name === e.target.value);\r\n                        onCategoryChange(cat);\r\n                    }}\r\n                    className=\"w-full p-2 border border-gray-300 rounded\"\r\n                >\r\n                    <option value=\"\">Select a category</option>\r\n                    {allCategories && allCategories.map((cat) => (\r\n                        <option key={cat.id} value={cat.name}>{cat.name}</option>\r\n                    ))}\r\n                </select>\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={onShowNewCategoryToggle}\r\n                    className=\"p-2 bg-gray-200 rounded hover:bg-gray-300 text-lg font-bold\"\r\n                >\r\n                    +\r\n                </button>\r\n            </div>\r\n            {showNewCategoryInput && (\r\n                <div className=\"flex items-center gap-2 mt-2\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={newCategoryName}\r\n                        onChange={(e) => onNewCategoryNameChange(e.target.value)}\r\n                        placeholder=\"New category name\"\r\n                        className=\"w-full p-2 border border-gray-300 rounded\"\r\n                    />\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={onAddNewCategory}\r\n                        className=\"px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700\"\r\n                    >\r\n                        Add\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategoryPanel;\r\n","import React, { useState } from 'react';\r\n\r\nconst TagsInput = ({ tags, setTags }) => {\r\n    const [inputValue, setInputValue] = useState('');\r\n    const addTag = () => {\r\n        const newTag = inputValue.trim().replace(/,/g, '');\r\n        if (newTag && !tags.includes(newTag)) setTags([...tags, newTag]);\r\n        setInputValue('');\r\n    };\r\n    const handleKeyDown = (e) => {\r\n        if (e.key === 'Enter' || e.key === ',') {\r\n            e.preventDefault();\r\n            addTag();\r\n        }\r\n    };\r\n    const removeTag = (tagToRemove) => setTags(tags.filter(tag => tag !== tagToRemove));\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"flex flex-wrap gap-2 mb-2\">\r\n                {tags.map(tag => (\r\n                    <div key={tag} className=\"bg-sky-100 text-sky-800 text-sm font-semibold px-2 py-1 rounded-full flex items-center\">\r\n                        <span>{tag}</span>\r\n                        <button type=\"button\" onClick={() => removeTag(tag)} className=\"ml-2 text-sky-600 hover:text-sky-900\">&times;</button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n                <input type=\"text\" value={inputValue} onChange={(e) => setInputValue(e.target.value)} onKeyDown={handleKeyDown} placeholder=\"Add a tag\" className=\"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-sky-200\" />\r\n                <button type=\"button\" onClick={addTag} className=\"px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700\">Add</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TagsInput;\r\n","import React from 'react';\r\nimport TagsInput from './TagsInput';\r\n\r\nconst LayoutPanel = ({ layoutStyle, onLayoutStyleChange, tags, onTagsChange }) => {\r\n    return (\r\n        <>\r\n            <div>\r\n                <label htmlFor=\"layoutStyle\" className=\"block text-gray-700 font-semibold mb-2\">Layout Style</label>\r\n                <select id=\"layoutStyle\" value={layoutStyle} onChange={onLayoutStyleChange} className=\"w-full p-2 border border-gray-300 rounded\">\r\n                    <option value=\"DEFAULT\">Default (Masonry)</option>\r\n                    <option value=\"BANNER\">Banner</option>\r\n                    <option value=\"MULTI_COLUMN_2\">2 Column Row</option>\r\n                    <option value=\"MULTI_COLUMN_3\">3 Column Row</option>\r\n                    <option value=\"MULTI_COLUMN_4\">4 Column Row</option>\r\n                    <option value=\"MULTI_COLUMN_5\">5 Column Row</option>\r\n                    <option value=\"MULTI_COLUMN_6\">6 Column Row</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-gray-700 font-semibold mb-2\">Tags</label>\r\n                <TagsInput tags={tags} setTags={onTagsChange} />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default LayoutPanel;\r\n","import React, { useRef } from 'react';\r\nimport { useDrag, useDrop } from 'react-dnd';\r\n\r\nconst DraggableThumbnail = ({ id, thumbnail, index, moveThumbnail, onRemove, onAltTextChange }) => {\r\n    const ref = useRef(null);\r\n    const [, drop] = useDrop({\r\n        accept: 'thumbnail',\r\n        hover(item) {\r\n            if (!ref.current || item.index === index) return;\r\n            moveThumbnail(item.index, index);\r\n            item.index = index;\r\n        },\r\n    });\r\n    const [{ isDragging }, drag] = useDrag({\r\n        type: 'thumbnail',\r\n        item: { type: 'thumbnail', id, index },\r\n        collect: (monitor) => ({ isDragging: monitor.isDragging() }),\r\n    });\r\n    drag(drop(ref));\r\n    return (\r\n        <div ref={ref} style={{ opacity: isDragging ? 0.5 : 1 }} className=\"p-2 border rounded-lg bg-white flex items-start gap-3\">\r\n            <img src={thumbnail.preview} alt=\"preview\" className=\"w-24 h-24 object-cover rounded-md flex-shrink-0\" />\r\n            <div className=\"flex-grow\">\r\n                <input type=\"text\" value={thumbnail.altText || ''} onChange={(e) => onAltTextChange(index, e.target.value)} placeholder=\"Alt text\" className=\"w-full p-2 text-sm border border-gray-300 rounded mb-2\" />\r\n                <button type=\"button\" onClick={() => onRemove(index)} className=\"text-xs text-red-600 hover:underline\">Remove</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DraggableThumbnail;\r\n","import React, { useCallback } from 'react';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport DraggableThumbnail from './DraggableThumbnail';\r\n\r\nconst StoryThumbnailManager = ({ thumbnails, setThumbnails, onUploadClick, onAddFromPostClick }) => {\r\n    const moveThumbnail = useCallback((dragIndex, hoverIndex) => {\r\n        setThumbnails(prev => {\r\n            const newThumbnails = [...prev];\r\n            const [draggedItem] = newThumbnails.splice(dragIndex, 1);\r\n            newThumbnails.splice(hoverIndex, 0, draggedItem);\r\n            return newThumbnails;\r\n        });\r\n    }, [setThumbnails]);\r\n\r\n    const removeThumbnail = (index) => setThumbnails(prev => prev.filter((_, i) => i !== index));\r\n\r\n    const handleAltTextChange = (index, text) => {\r\n        setThumbnails(prev => {\r\n            const newThumbnails = [...prev];\r\n            newThumbnails[index].altText = text;\r\n            return newThumbnails;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <DndProvider backend={HTML5Backend}>\r\n            <div className=\"p-4 border rounded-lg space-y-4 bg-gray-50\">\r\n                <div className=\"space-y-3 max-h-64 overflow-y-auto pr-2\">\r\n                    {thumbnails.length > 0 ? thumbnails.map((thumb, index) => (\r\n                        <DraggableThumbnail key={thumb.id || index} index={index} id={thumb.id || index} thumbnail={thumb} moveThumbnail={moveThumbnail} onRemove={removeThumbnail} onAltTextChange={handleAltTextChange} />\r\n                    )) : (<p className=\"text-center text-gray-500 text-sm py-4\">No story thumbnails yet.</p>)}\r\n                </div>\r\n                <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                    <button type=\"button\" onClick={onUploadClick} className=\"flex-1 flex items-center justify-center gap-2 text-sm p-2 rounded-lg font-semibold bg-sky-50 text-sky-700 hover:bg-sky-100\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" /></svg>\r\n                        Upload New\r\n                    </button>\r\n                    <button type=\"button\" onClick={onAddFromPostClick} className=\"flex-1 flex items-center justify-center gap-2 text-sm p-2 rounded-lg font-semibold bg-gray-100 text-gray-700 hover:bg-gray-200\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" /></svg>\r\n                        Add from Post\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </DndProvider>\r\n    );\r\n};\r\n\r\nexport default StoryThumbnailManager;\r\n","import React from 'react';\r\nimport StoryThumbnailManager from './StoryThumbnailManager';\r\n\r\nconst ThumbnailPanel = ({\r\n    thumbnailMode,\r\n    onThumbnailModeChange,\r\n    // Single mode props\r\n    thumbPreview,\r\n    onUploadSingleClick,\r\n    thumbnailAltText,\r\n    onThumbnailAltTextChange,\r\n    // Story mode props\r\n    storyThumbnails,\r\n    setStoryThumbnails,\r\n    onUploadStoryClick,\r\n    onAddFromPostClick\r\n}) => {\r\n    return (\r\n        <>\r\n            <div className=\"my-4\">\r\n                <label className=\"block text-gray-700 font-semibold mb-2\">Thumbnail Mode</label>\r\n                <div className=\"flex rounded-lg p-1 bg-gray-200\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => onThumbnailModeChange('single')}\r\n                        className={`flex-1 p-2 rounded-md text-sm font-semibold transition ${thumbnailMode === 'single' ? 'bg-white text-sky-600 shadow' : 'text-gray-600'}`}\r\n                    >\r\n                        Single Image\r\n                    </button>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => onThumbnailModeChange('story')}\r\n                        className={`flex-1 p-2 rounded-md text-sm font-semibold transition ${thumbnailMode === 'story' ? 'bg-white text-sky-600 shadow' : 'text-gray-600'}`}\r\n                    >\r\n                        Story Thumbnails\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {thumbnailMode === 'single' ? (\r\n                <div className=\"p-4 border rounded-lg space-y-3 bg-gray-50\">\r\n                    <label className=\"block text-gray-700 font-semibold\">Thumbnail Image</label>\r\n                    {thumbPreview && <img src={thumbPreview} alt=\"Thumbnail Preview\" className=\"w-full h-auto aspect-video object-contain my-4 border rounded-lg bg-white\" />}\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={onUploadSingleClick}\r\n                        className=\"w-full text-sm p-2 rounded-lg font-semibold bg-sky-50 text-sky-700 hover:bg-sky-100\"\r\n                    >\r\n                        Upload Thumbnail\r\n                    </button>\r\n                    <div>\r\n                        <label htmlFor=\"thumbnailAltText\" className=\"text-sm font-medium text-gray-600\">Alt Text</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"thumbnailAltText\"\r\n                            value={thumbnailAltText}\r\n                            onChange={e => onThumbnailAltTextChange(e.target.value)}\r\n                            placeholder=\"Describe the image for SEO\"\r\n                            className=\"w-full mt-1 p-2 text-sm border border-gray-300 rounded\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <StoryThumbnailManager\r\n                    thumbnails={storyThumbnails}\r\n                    setThumbnails={setStoryThumbnails}\r\n                    onUploadClick={onUploadStoryClick}\r\n                    onAddFromPostClick={onAddFromPostClick}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ThumbnailPanel;","import React from 'react';\r\n\r\nconst CoverImagePanel = ({ coverPreview, onUploadCoverClick, coverImageAltText, onCoverImageAltTextChange }) => {\r\n    return (\r\n        <div className=\"p-4 border rounded-lg space-y-3 bg-gray-50\">\r\n            <label className=\"block text-gray-700 font-semibold\">Cover Image</label>\r\n            {coverPreview && <img src={coverPreview} alt=\"Cover Preview\" className=\"w-full h-auto aspect-video object-contain my-4 border rounded-lg bg-white\" />}\r\n            <button\r\n                type=\"button\"\r\n                onClick={onUploadCoverClick}\r\n                className=\"w-full text-sm p-2 rounded-lg font-semibold bg-sky-50 text-sky-700 hover:bg-sky-100\"\r\n            >\r\n                Upload Cover Image\r\n            </button>\r\n            <div>\r\n                <label htmlFor=\"coverImageAltText\" className=\"text-sm font-medium text-gray-600\">Cover Image Alt Text</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"coverImageAltText\"\r\n                    value={coverImageAltText}\r\n                    onChange={e => onCoverImageAltTextChange(e.target.value)}\r\n                    placeholder=\"Describe the cover image for SEO\"\r\n                    className=\"w-full mt-1 p-2 text-sm border border-gray-300 rounded\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CoverImagePanel;\r\n","import React from 'react';\r\n\r\nconst PublishPanel = ({ scheduledTime, onScheduledTimeChange, isFeatured, onIsFeaturedChange, isUpdating }) => {\r\n    return (\r\n        <>\r\n            <div>\r\n                <label htmlFor=\"scheduledTime\" className=\"block text-gray-700 font-semibold mb-2\">Schedule Publication</label>\r\n                <input\r\n                    type=\"datetime-local\"\r\n                    id=\"scheduledTime\"\r\n                    value={scheduledTime}\r\n                    onChange={e => onScheduledTimeChange(e.target.value)}\r\n                    className=\"w-full p-2 border border-gray-300 rounded\"\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">Leave blank to publish immediately.</p>\r\n            </div>\r\n\r\n            <div className=\"flex items-center\">\r\n                <input\r\n                    type=\"checkbox\"\r\n                    checked={isFeatured}\r\n                    onChange={e => onIsFeaturedChange(e.target.checked)}\r\n                    className=\"h-5 w-5 text-sky-600 border-gray-300 rounded focus:ring-sky-500\"\r\n                />\r\n                <span className=\"ml-2 text-gray-700\">Mark as Featured</span>\r\n            </div>\r\n\r\n            <button\r\n                type=\"submit\"\r\n                className=\"w-full bg-sky-600 text-white font-bold py-3 rounded-lg hover:bg-sky-700 transition\"\r\n            >\r\n                {isUpdating ? 'Update Post' : 'Publish Post'}\r\n            </button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PublishPanel;\r\n","import React, { Suspense } from 'react';\r\nimport 'suneditor/dist/css/suneditor.min.css';\r\nimport { buttonList } from 'suneditor-react';\r\n\r\nconst SunEditor = React.lazy(() => import('suneditor-react'));\r\n\r\nconst EditorForm = ({ content, onContentChange, editorRef, onImageUploadBefore, onLoad }) => {\r\n    return (\r\n        <div className=\"w-full md:w-2/3 p-6 flex flex-col h-full overflow-y-auto\">\r\n            <label className=\"block text-gray-700 font-semibold mb-2\">Content</label>\r\n            <div className=\"flex-grow h-full\">\r\n                <Suspense fallback={<div>Loading editor...</div>}>\r\n                    <SunEditor\r\n                        setContents={content}\r\n                        onChange={onContentChange}\r\n                        getSunEditorInstance={(sunEditor) => { editorRef.current = sunEditor; }}\r\n                        onImageUploadBefore={onImageUploadBefore}\r\n                        onLoad={onLoad}\r\n                        setOptions={{\r\n                            height: 'auto',\r\n                            minHeight: '400px',\r\n                            buttonList: buttonList.complex,\r\n                            pasteKeepFormats: true,\r\n                            pasteTagsWhitelist: '.*'\r\n                        }}\r\n                    />\r\n                </Suspense>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditorForm;\r\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport imageCompression from 'browser-image-compression';\r\nimport { getPost, createPost, updatePost, uploadFile, getCategories, addCategory, API_URL, createDraft, updateDraft } from '../apiConfig';\r\n\r\n// Import New Utils\r\nimport { canvasToBlob, generateLayoutGroupId } from '../utils/editorUtils';\r\n\r\n// Import New Modals\r\nimport CropModal from '../components/BlogEditor/modals/CropModal';\r\nimport LockChoiceModal from '../components/BlogEditor/modals/LockChoiceModal';\r\nimport AddFromPostModal from '../components/BlogEditor/modals/AddFromPostModal';\r\n\r\n// Import New Sidebar Panels\r\nimport MetaPanel from '../components/BlogEditor/MetaPanel';\r\nimport SeoPanel from '../components/BlogEditor/SeoPanel';\r\nimport CategoryPanel from '../components/BlogEditor/CategoryPanel';\r\nimport LayoutPanel from '../components/BlogEditor/LayoutPanel';\r\nimport ThumbnailPanel from '../components/BlogEditor/thumbnail/ThumbnailPanel';\r\nimport CoverImagePanel from '../components/BlogEditor/CoverImagePanel';\r\nimport PublishPanel from '../components/BlogEditor/PublishPanel';\r\n\r\n// Import New Main Content Component\r\nimport EditorForm from '../components/BlogEditor/EditorForm';\r\n\r\n// MAIN COMPONENT\r\nconst BlogEditorPage = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    // STATE\r\n    const [postId, setPostId] = useState(null);\r\n    const [saveStatus, setSaveStatus] = useState('Idle');\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [selectedCategory, setSelectedCategory] = useState(null);\r\n    const [isFeatured, setIsFeatured] = useState(false);\r\n    const [tags, setTags] = useState([]);\r\n    const [error, setError] = useState('');\r\n    const [allCategories, setAllCategories] = useState([]);\r\n    const [showNewCategoryInput, setShowNewCategoryInput] = useState(false);\r\n    const [newCategoryName, setNewCategoryName] = useState('');\r\n    const [modalState, setModalState] = useState({ isOpen: false, type: null, src: '', aspect: undefined });\r\n    const [scheduledTime, setScheduledTime] = useState('');\r\n    const [customSnippet, setCustomSnippet] = useState('');\r\n    const [metaDescription, setMetaDescription] = useState('');\r\n    const [keywords, setKeywords] = useState('');\r\n    const [coverImageAltText, setCoverImageAltText] = useState('');\r\n    const [thumbnailMode, setThumbnailMode] = useState('single');\r\n    const [storyThumbnails, setStoryThumbnails] = useState([]);\r\n    const [thumbnailOrientation, setThumbnailOrientation] = useState(null);\r\n    const [lockedAspectRatio, setLockedAspectRatio] = useState(null);\r\n    const [isAddFromPostModalOpen, setAddFromPostModalOpen] = useState(false);\r\n    const [postImagesForSelection, setPostImagesForSelection] = useState([]);\r\n    const [thumbPreview, setThumbPreview] = useState('');\r\n    const [finalThumbFile, setFinalThumbFile] = useState(null);\r\n    const [coverPreview, setCoverPreview] = useState('');\r\n    const [finalCoverFile, setFinalCoverFile] = useState(null);\r\n    const [sunEditorUploadHandler, setSunEditorUploadHandler] = useState(null);\r\n    const [thumbnailAltText, setThumbnailAltText] = useState('');\r\n    const [isLockChoiceModalOpen, setLockChoiceModalOpen] = useState(false);\r\n    const [pendingCrop, setPendingCrop] = useState(null);\r\n    const [layoutStyle, setLayoutStyle] = useState('DEFAULT');\r\n    const [layoutGroupId, setLayoutGroupId] = useState(null);\r\n    const [postUserFriendlySlug, setPostUserFriendlySlug] = useState('');\r\n\r\n    // REFS\r\n    const editorRef = useRef(null);\r\n    const fileInputRef = useRef(null);\r\n    const isContentLoaded = useRef(false);\r\n    const autoSaveTimer = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const fetchInitialData = async () => {\r\n            try {\r\n                const categoriesRes = await getCategories();\r\n                if (Array.isArray(categoriesRes.data)) setAllCategories(categoriesRes.data);\r\n\r\n                if (id) {\r\n                    const postRes = await getPost(id);\r\n                    const post = postRes.data;\r\n                    setPostId(post.id);\r\n                    setTitle(post.title);\r\n                    setContent(post.content);\r\n\r\n                    if (post.category && categoriesRes.data) {\r\n                        const currentCategory = categoriesRes.data.find(c => c.name === post.category.name);\r\n                        setSelectedCategory(currentCategory || null);\r\n                    }\r\n\r\n                    setTags(post.tags || []);\r\n                    setIsFeatured(post.featured);\r\n                    setCustomSnippet(post.customSnippet || '');\r\n                    setMetaDescription(post.metaDescription || '');\r\n                    setKeywords(post.keywords || '');\r\n                    setCoverImageAltText(post.coverImageAltText || '');\r\n                    setPostUserFriendlySlug(post.userFriendlySlug || '');\r\n\r\n                    setLayoutStyle(post.layoutStyle || 'DEFAULT');\r\n                    setLayoutGroupId(post.layoutGroupId || null);\r\n\r\n                    if (post.thumbnails && post.thumbnails.length > 0) {\r\n                        setThumbnailMode('story');\r\n                        const orientation = post.thumbnailOrientation || 'landscape';\r\n                        setThumbnailOrientation(orientation);\r\n                        setLockedAspectRatio(orientation === 'landscape' ? 16 / 9 : 4 / 5);\r\n                        const loadedThumbnails = post.thumbnails.map(thumb => ({\r\n                            id: thumb.id,\r\n                            preview: `${API_URL}/api/uploads/${thumb.imageUrl}-small.webp`,\r\n                            altText: thumb.altText || '',\r\n                            source: 'existing',\r\n                            url: thumb.imageUrl,\r\n                            file: null\r\n                        })).sort((a, b) => a.displayOrder - b.displayOrder);\r\n                        setStoryThumbnails(loadedThumbnails);\r\n                    }\r\n                    if (post.coverImageUrl) setCoverPreview(`${API_URL}/api/uploads/${post.coverImageUrl}.webp`);\r\n                    if (post.scheduledTime) setScheduledTime(new Date(post.scheduledTime).toISOString().slice(0, 16));\r\n                } else {\r\n                    if (categoriesRes.data?.length > 0) {\r\n                        setSelectedCategory(categoriesRes.data[0]);\r\n                    }\r\n                }\r\n            } catch (err) {\r\n                setError('Failed to load initial data.');\r\n                console.error(err);\r\n            }\r\n        };\r\n        fetchInitialData();\r\n    }, [id]);\r\n\r\n    const handleAutoSave = useCallback(async () => {\r\n        if (!title.trim() && !content.trim()) return;\r\n        setSaveStatus('Saving...');\r\n        try {\r\n            const editorContent = editorRef.current ? editorRef.current.getContents(true) : content;\r\n            const draftData = { title, content: editorContent, customSnippet, metaDescription, keywords };\r\n            if (postId) {\r\n                await updateDraft(postId, draftData);\r\n            } else {\r\n                const response = await createDraft(draftData);\r\n                setPostId(response.data.id);\r\n                navigate(`/dashboard/blog/edit/${response.data.userFriendlySlug}/${response.data.id}`, { replace: true });\r\n            }\r\n            setSaveStatus('Saved');\r\n        } catch (err) {\r\n            setSaveStatus('Error');\r\n            console.error(\"Auto-save failed:\", err);\r\n        }\r\n    }, [title, content, customSnippet, metaDescription, keywords, postId, navigate]);\r\n\r\n    useEffect(() => {\r\n        if (autoSaveTimer.current) clearTimeout(autoSaveTimer.current);\r\n        autoSaveTimer.current = setTimeout(() => handleAutoSave(), 2000);\r\n        return () => clearTimeout(autoSaveTimer.current);\r\n    }, [title, content, customSnippet, metaDescription, keywords, handleAutoSave]);\r\n\r\n    const compressImage = async (file) => {\r\n        if (!file) return null;\r\n        const options = { maxSizeMB: 1, maxWidthOrHeight: 1920, useWebWorker: true, fileType: 'image/webp' };\r\n        try { return await imageCompression(file, options); } catch (e) { return file; }\r\n    };\r\n\r\n    const onSelectFile = (e, type, aspect) => {\r\n        if (e.target.files && e.target.files.length > 0) {\r\n            const reader = new FileReader();\r\n            reader.addEventListener('load', () => setModalState({ isOpen: true, type, src: reader.result?.toString() || '', aspect }));\r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n        e.target.value = null;\r\n    };\r\n\r\n    const handleImageUploadBefore = (files, info, uploadHandler) => {\r\n        const file = files[0];\r\n        if (!file) return;\r\n        setSunEditorUploadHandler(() => uploadHandler);\r\n        const reader = new FileReader();\r\n        reader.addEventListener('load', () => setModalState({ isOpen: true, type: 'suneditor', src: reader.result?.toString() || '' }));\r\n        reader.readAsDataURL(file);\r\n        return false;\r\n    };\r\n\r\n    const handleLockChoice = (choice) => {\r\n        const orientation = choice;\r\n        const aspect = orientation === 'landscape' ? 16 / 9 : 4 / 5;\r\n        setThumbnailOrientation(orientation);\r\n        setLockedAspectRatio(aspect);\r\n        if (pendingCrop) {\r\n            addCroppedImageToStory(pendingCrop.canvas);\r\n        }\r\n        setLockChoiceModalOpen(false);\r\n        setPendingCrop(null);\r\n    }\r\n\r\n    const addCroppedImageToStory = async (canvas) => {\r\n        const croppedBlob = await canvasToBlob(canvas);\r\n        const finalFile = await compressImage(croppedBlob);\r\n        const previewUrl = URL.createObjectURL(finalFile);\r\n        const newThumbnail = {\r\n            id: `new-${Date.now()}`,\r\n            preview: previewUrl,\r\n            altText: '',\r\n            source: 'new',\r\n            file: new File([finalFile], `thumbnail-${Date.now()}.webp`, { type: 'image/webp' }),\r\n        };\r\n        setStoryThumbnails(prev => [...prev, newThumbnail]);\r\n    }\r\n\r\n    const handleCropSave = async (canvas, cropDetails) => {\r\n        setModalState({ isOpen: false, type: null, src: '', aspect: undefined });\r\n        if (modalState.type === 'story-thumbnail') {\r\n            if (!thumbnailOrientation) {\r\n                const { width, height } = cropDetails;\r\n                const aspect = width / height;\r\n                const isSquare = aspect > 0.95 && aspect < 1.05;\r\n                if (isSquare) {\r\n                    setPendingCrop({ canvas });\r\n                    setLockChoiceModalOpen(true);\r\n                    return;\r\n                } else {\r\n                    const orientation = width > height ? 'landscape' : 'portrait';\r\n                    setThumbnailOrientation(orientation);\r\n                    setLockedAspectRatio(aspect);\r\n                    addCroppedImageToStory(canvas);\r\n                }\r\n            } else {\r\n                addCroppedImageToStory(canvas);\r\n            }\r\n        } else {\r\n            const croppedBlob = await canvasToBlob(canvas);\r\n            const finalFile = await compressImage(croppedBlob);\r\n            const previewUrl = URL.createObjectURL(finalFile);\r\n            if (modalState.type === 'single-thumbnail') {\r\n                setFinalThumbFile(finalFile);\r\n                setThumbPreview(previewUrl);\r\n            } else if (modalState.type === 'cover') {\r\n                setFinalCoverFile(finalFile);\r\n                setCoverPreview(previewUrl);\r\n            } else if (modalState.type === 'suneditor' && sunEditorUploadHandler) {\r\n                const formData = new FormData();\r\n                formData.append('file', finalFile, 'image.webp');\r\n                uploadFile(formData).then(res => sunEditorUploadHandler(res.data)).catch(err => {\r\n                    alert(\"Image upload failed in editor.\");\r\n                    sunEditorUploadHandler();\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleAddNewCategory = async () => {\r\n        if (!newCategoryName) return;\r\n        const isDuplicate = allCategories.some(c => c.name.toLowerCase() === newCategoryName.toLowerCase());\r\n        if (isDuplicate) return alert('Category name cannot be a duplicate.');\r\n        try {\r\n            const response = await addCategory({ name: newCategoryName });\r\n            setAllCategories([...allCategories, response.data]);\r\n            setSelectedCategory(response.data);\r\n            setNewCategoryName('');\r\n            setShowNewCategoryInput(false);\r\n        } catch (err) {\r\n            setError('Failed to add new category.');\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const handleAddFromPostClick = () => {\r\n        if (!editorRef.current) return;\r\n        const editorContent = editorRef.current.getContents(true);\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(editorContent, 'text/html');\r\n        const images = Array.from(doc.querySelectorAll('img')).map(img => img.src);\r\n        setPostImagesForSelection(images);\r\n        setAddFromPostModalOpen(true);\r\n    };\r\n\r\n    const handleSelectFromPost = (selectedUrls) => {\r\n        const newThumbnails = selectedUrls.map((url) => ({\r\n            id: `existing-${url}-${Date.now()}`,\r\n            preview: url,\r\n            altText: '',\r\n            source: 'existing',\r\n            file: null,\r\n            url: new URL(url).pathname.replace('/api/uploads/', ''),\r\n        }));\r\n        setStoryThumbnails([...storyThumbnails, ...newThumbnails]);\r\n        setAddFromPostModalOpen(false);\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        if (!editorRef.current) return setError(\"Editor is not yet available.\");\r\n        if (!selectedCategory) return setError(\"Please select a category.\");\r\n\r\n        const formData = new FormData();\r\n        formData.append('title', title);\r\n        formData.append('content', editorRef.current.getContents(true));\r\n        formData.append('category', selectedCategory.name);\r\n        formData.append('featured', isFeatured);\r\n        formData.append('customSnippet', customSnippet);\r\n        formData.append('metaDescription', metaDescription);\r\n        formData.append('keywords', keywords);\r\n        formData.append('coverImageAltText', coverImageAltText);\r\n        tags.forEach(tag => formData.append('tags', tag));\r\n        if (scheduledTime) formData.append('scheduledTime', new Date(scheduledTime).toISOString());\r\n        if (finalCoverFile) formData.append('coverImage', finalCoverFile);\r\n\r\n        formData.append('layoutStyle', layoutStyle);\r\n        if (layoutStyle.startsWith('MULTI_COLUMN')) {\r\n            formData.append('layoutGroupId', layoutGroupId || generateLayoutGroupId());\r\n        } else {\r\n            formData.append('layoutGroupId', '');\r\n        }\r\n        formData.append('userFriendlySlug', postUserFriendlySlug);\r\n\r\n        if (thumbnailMode === 'story') {\r\n            formData.append('thumbnailOrientation', thumbnailOrientation);\r\n            const metadata = storyThumbnails.map((thumb, index) => ({\r\n                source: thumb.source,\r\n                fileName: thumb.source === 'new' ? thumb.file.name : null,\r\n                url: thumb.source === 'existing' ? thumb.url : null,\r\n                altText: thumb.altText,\r\n                displayOrder: index\r\n            }));\r\n            formData.append('thumbnailMetadata', JSON.stringify(metadata));\r\n            storyThumbnails.forEach(thumb => {\r\n                if (thumb.source === 'new') formData.append('newThumbnails', thumb.file);\r\n            });\r\n        } else {\r\n            if (finalThumbFile) {\r\n                const metadata = [{ source: 'new', fileName: 'thumbnail.webp', altText: thumbnailAltText, displayOrder: 0 }];\r\n                formData.append('thumbnailMetadata', JSON.stringify(metadata));\r\n                formData.append('newThumbnails', finalThumbFile, 'thumbnail.webp');\r\n            } else if (thumbPreview) {\r\n                const url = new URL(thumbPreview).pathname.replace('/api/uploads/', '').replace('-small.webp', '');\r\n                const metadata = [{ source: 'existing', url: url, altText: thumbnailAltText, displayOrder: 0 }];\r\n                formData.append('thumbnailMetadata', JSON.stringify(metadata));\r\n            } else {\r\n                formData.append('thumbnailMetadata', JSON.stringify([]));\r\n            }\r\n        }\r\n\r\n        try {\r\n            if (postId) {\r\n                await updatePost(postId, formData);\r\n            } else {\r\n                await createPost(formData);\r\n            }\r\n            navigate('/dashboard/manage-posts');\r\n        } catch (err) {\r\n            setError('Failed to save the post. Check console for details.');\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const handleLayoutStyleChange = (e) => {\r\n        const newStyle = e.target.value;\r\n        setLayoutStyle(newStyle);\r\n        if (newStyle.startsWith('MULTI_COLUMN')) {\r\n            if (!layoutGroupId) {\r\n                setLayoutGroupId(generateLayoutGroupId());\r\n            }\r\n        } else {\r\n            setLayoutGroupId(null);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-screen bg-gray-50 overflow-hidden\">\r\n            <input type=\"file\" ref={fileInputRef} className=\"hidden\" accept=\"image/*\" />\r\n            <AddFromPostModal images={postImagesForSelection} isOpen={isAddFromPostModalOpen} onClose={() => setAddFromPostModalOpen(false)} onSelect={handleSelectFromPost} />\r\n            {modalState.isOpen && <CropModal src={modalState.src} type={modalState.type} onClose={() => setModalState({ isOpen: false, type: null, src: '', aspect: undefined })} onSave={handleCropSave} aspect={modalState.aspect} />}\r\n            <LockChoiceModal isOpen={isLockChoiceModalOpen} onChoice={handleLockChoice} />\r\n\r\n            <div className=\"flex flex-col md:flex-row flex-grow overflow-hidden\">\r\n                {/* --- REFACTORED SIDEBAR --- */}\r\n                <div className=\"w-full md:w-1/3 p-6 bg-white border-r border-gray-200 flex flex-col overflow-y-auto\" style={{ maxHeight: '100vh' }}>\r\n\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <h1 className=\"text-2xl font-bold text-gray-800\">{postId ? 'Edit Post' : 'Create New Post'}</h1>\r\n                        <div className=\"text-sm\">\r\n                            {saveStatus === 'Saving...' && <span className=\"text-gray-500\">Saving...</span>}\r\n                            {saveStatus === 'Saved' && <span className=\"text-green-600\">Saved</span>}\r\n                            {saveStatus === 'Error' && <span className=\"text-red-600\">Save Error!</span>}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {error && <p className=\"text-red-500 bg-red-100 p-3 rounded mb-4\">{error}</p>}\r\n\r\n                    <form id=\"blog-editor-form\" onSubmit={handleSubmit} className=\"flex flex-col gap-6 flex-grow\">\r\n\r\n                        <MetaPanel\r\n                            title={title}\r\n                            onTitleChange={setTitle}\r\n                            userFriendlySlug={postUserFriendlySlug}\r\n                            onUserFriendlySlugChange={setPostUserFriendlySlug}\r\n                        />\r\n\r\n                        <SeoPanel\r\n                            keywords={keywords}\r\n                            onKeywordsChange={setKeywords}\r\n                            metaDescription={metaDescription}\r\n                            onMetaDescriptionChange={setMetaDescription}\r\n                            customSnippet={customSnippet}\r\n                            onCustomSnippetChange={setCustomSnippet}\r\n                        />\r\n\r\n                        <CategoryPanel\r\n                            selectedCategory={selectedCategory}\r\n                            onCategoryChange={setSelectedCategory}\r\n                            allCategories={allCategories}\r\n                            showNewCategoryInput={showNewCategoryInput}\r\n                            onShowNewCategoryToggle={() => setShowNewCategoryInput(!showNewCategoryInput)}\r\n                            newCategoryName={newCategoryName}\r\n                            onNewCategoryNameChange={setNewCategoryName}\r\n                            onAddNewCategory={handleAddNewCategory}\r\n                        />\r\n\r\n                        <LayoutPanel\r\n                            layoutStyle={layoutStyle}\r\n                            onLayoutStyleChange={handleLayoutStyleChange}\r\n                            tags={tags}\r\n                            onTagsChange={setTags}\r\n                        />\r\n\r\n                        <ThumbnailPanel\r\n                            thumbnailMode={thumbnailMode}\r\n                            onThumbnailModeChange={setThumbnailMode}\r\n                            // Single mode\r\n                            thumbPreview={thumbPreview}\r\n                            thumbnailAltText={thumbnailAltText}\r\n                            onThumbnailAltTextChange={setThumbnailAltText}\r\n                            onUploadSingleClick={() => {\r\n                                fileInputRef.current.multiple = false;\r\n                                fileInputRef.current.onchange = (ev) => onSelectFile(ev, 'single-thumbnail');\r\n                                fileInputRef.current.click();\r\n                            }}\r\n                            // Story mode\r\n                            storyThumbnails={storyThumbnails}\r\n                            setStoryThumbnails={setStoryThumbnails}\r\n                            onAddFromPostClick={handleAddFromPostClick}\r\n                            onUploadStoryClick={() => {\r\n                                fileInputRef.current.multiple = false;\r\n                                fileInputRef.current.onchange = (ev) => onSelectFile(ev, 'story-thumbnail', lockedAspectRatio);\r\n                                fileInputRef.current.click();\r\n                            }}\r\n                        />\r\n\r\n                        <CoverImagePanel\r\n                            coverPreview={coverPreview}\r\n                            coverImageAltText={coverImageAltText}\r\n                            onCoverImageAltTextChange={setCoverImageAltText}\r\n                            onUploadCoverClick={() => {\r\n                                fileInputRef.current.multiple = false;\r\n                                fileInputRef.current.onchange = (e) => onSelectFile(e, 'cover');\r\n                                fileInputRef.current.click();\r\n                            }}\r\n                        />\r\n\r\n                        <PublishPanel\r\n                            scheduledTime={scheduledTime}\r\n                            onScheduledTimeChange={setScheduledTime}\r\n                            isFeatured={isFeatured}\r\n                            onIsFeaturedChange={setIsFeatured}\r\n                            isUpdating={!!postId}\r\n                        />\r\n\r\n                    </form>\r\n                </div>\r\n\r\n                {/* --- REFACTORED EDITOR --- */}\r\n                <EditorForm\r\n                    content={content}\r\n                    onContentChange={setContent}\r\n                    editorRef={editorRef}\r\n                    onImageUploadBefore={handleImageUploadBefore}\r\n                    onLoad={() => {\r\n                        if (editorRef.current && content && !isContentLoaded.current) {\r\n                            isContentLoaded.current = true;\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BlogEditorPage;","var map = {\n\t\"./ckb.js\": 3743,\n\t\"./cs.js\": 7333,\n\t\"./da.js\": 1664,\n\t\"./de.js\": 844,\n\t\"./en.js\": 5460,\n\t\"./es.js\": 6151,\n\t\"./fa.js\": 6062,\n\t\"./fr.js\": 7755,\n\t\"./he.js\": 3296,\n\t\"./hu.js\": 3776,\n\t\"./index.js\": 559,\n\t\"./it.js\": 4762,\n\t\"./ja.js\": 74,\n\t\"./km.js\": 7671,\n\t\"./ko.js\": 665,\n\t\"./lv.js\": 749,\n\t\"./nl.js\": 6449,\n\t\"./pl.js\": 8599,\n\t\"./pt_br.js\": 8366,\n\t\"./ro.js\": 3100,\n\t\"./ru.js\": 4638,\n\t\"./se.js\": 5111,\n\t\"./tr.js\": 57,\n\t\"./ua.js\": 9657,\n\t\"./ur.js\": 4640,\n\t\"./zh_cn.js\": 5277\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2224;"],"names":["canvasToBlob","canvas","Promise","resolve","toBlob","blob","generateLayoutGroupId","concat","Date","now","Math","random","toString","substr","_ref","src","type","onClose","onSave","aspect","imgRef","useRef","canvasRef","crop","setCrop","useState","completedCrop","setCompletedCrop","useEffect","width","current","image","ctx","getContext","height","scaleX","naturalWidth","scaleY","naturalHeight","pixelRatio","window","devicePixelRatio","floor","scale","imageSmoothingQuality","cropX","x","cropY","y","drawImage","canvasPreview","_jsx","className","children","_jsxs","style","maxHeight","overflowY","ReactCrop","onChange","c","onComplete","ref","alt","onClick","handleSave","isOpen","onChoice","images","onSelect","selectedImages","setSelectedImages","map","url","index","prev","includes","filter","u","toggleSelection","title","onTitleChange","userFriendlySlug","onUserFriendlySlugChange","_Fragment","htmlFor","id","value","e","target","required","placeholder","keywords","onKeywordsChange","metaDescription","onMetaDescriptionChange","customSnippet","onCustomSnippetChange","rows","selectedCategory","onCategoryChange","allCategories","showNewCategoryInput","onShowNewCategoryToggle","newCategoryName","onNewCategoryNameChange","onAddNewCategory","name","cat","find","tags","setTags","inputValue","setInputValue","addTag","newTag","trim","replace","tag","removeTag","tagToRemove","onKeyDown","key","preventDefault","layoutStyle","onLayoutStyleChange","onTagsChange","TagsInput","thumbnail","moveThumbnail","onRemove","onAltTextChange","drop","useDrop","accept","hover","item","isDragging","drag","useDrag","collect","monitor","opacity","preview","altText","thumbnails","setThumbnails","onUploadClick","onAddFromPostClick","useCallback","dragIndex","hoverIndex","newThumbnails","draggedItem","splice","removeThumbnail","_","i","handleAltTextChange","text","DndProvider","backend","HTML5Backend","length","thumb","DraggableThumbnail","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","thumbnailMode","onThumbnailModeChange","thumbPreview","onUploadSingleClick","thumbnailAltText","onThumbnailAltTextChange","storyThumbnails","setStoryThumbnails","onUploadStoryClick","StoryThumbnailManager","coverPreview","onUploadCoverClick","coverImageAltText","onCoverImageAltTextChange","scheduledTime","onScheduledTimeChange","isFeatured","onIsFeaturedChange","isUpdating","checked","SunEditor","React","content","onContentChange","editorRef","onImageUploadBefore","onLoad","Suspense","fallback","setContents","getSunEditorInstance","sunEditor","setOptions","minHeight","buttonList","complex","pasteKeepFormats","pasteTagsWhitelist","BlogEditorPage","useParams","navigate","useNavigate","postId","setPostId","saveStatus","setSaveStatus","setTitle","setContent","setSelectedCategory","setIsFeatured","error","setError","setAllCategories","setShowNewCategoryInput","setNewCategoryName","modalState","setModalState","undefined","setScheduledTime","setCustomSnippet","setMetaDescription","setKeywords","setCoverImageAltText","setThumbnailMode","thumbnailOrientation","setThumbnailOrientation","lockedAspectRatio","setLockedAspectRatio","isAddFromPostModalOpen","setAddFromPostModalOpen","postImagesForSelection","setPostImagesForSelection","setThumbPreview","finalThumbFile","setFinalThumbFile","setCoverPreview","finalCoverFile","setFinalCoverFile","sunEditorUploadHandler","setSunEditorUploadHandler","setThumbnailAltText","isLockChoiceModalOpen","setLockChoiceModalOpen","pendingCrop","setPendingCrop","setLayoutStyle","layoutGroupId","setLayoutGroupId","postUserFriendlySlug","setPostUserFriendlySlug","fileInputRef","isContentLoaded","autoSaveTimer","async","categoriesRes","getCategories","Array","isArray","data","post","getPost","category","currentCategory","featured","orientation","loadedThumbnails","API_URL","imageUrl","source","file","sort","a","b","displayOrder","coverImageUrl","toISOString","slice","_categoriesRes$data","err","console","fetchInitialData","handleAutoSave","editorContent","getContents","draftData","updateDraft","response","createDraft","clearTimeout","setTimeout","compressImage","options","maxSizeMB","maxWidthOrHeight","useWebWorker","fileType","imageCompression","onSelectFile","files","reader","FileReader","addEventListener","_reader$result","result","readAsDataURL","addCroppedImageToStory","croppedBlob","finalFile","previewUrl","URL","createObjectURL","newThumbnail","File","AddFromPostModal","selectedUrls","pathname","CropModal","cropDetails","formData","FormData","append","uploadFile","then","res","catch","alert","LockChoiceModal","choice","onSubmit","forEach","startsWith","metadata","fileName","JSON","stringify","updatePost","createPost","MetaPanel","SeoPanel","CategoryPanel","some","toLowerCase","addCategory","LayoutPanel","newStyle","ThumbnailPanel","multiple","onchange","ev","click","handleAddFromPostClick","doc","DOMParser","parseFromString","from","querySelectorAll","img","CoverImagePanel","PublishPanel","EditorForm","handleImageUploadBefore","info","uploadHandler","_reader$result2","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","module","exports"],"sourceRoot":""}