# ===================================================================
# SPRING BOOT PRODUCTION SETTINGS (prod profile)
# ===================================================================
# This file contains the configuration for the PRODUCTION environment.
# IMPORTANT: All sensitive values are loaded from server environment variables.
# ===================================================================

# --- Server Settings ---
server.port=8080

# ===================================================================
# DATABASE CONFIGURATION (PRODUCTION)
# ===================================================================
# SET THESE ENVIRONMENT VARIABLES ON YOUR SERVER:
# PROD_DB_URL (e.g., jdbc:mariadb://your-production-db-host:3306/finance_db)
# PROD_DB_USERNAME
# PROD_DB_PASSWORD
spring.datasource.url=${PROD_DB_URL}
spring.datasource.username=${PROD_DB_USERNAME}
spring.datasource.password=${PROD_DB_PASSWORD}
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

# ===================================================================
# JPA & HIBERNATE (PRODUCTION SAFETY SETTINGS)
# ===================================================================
# 'validate' checks if the DB schema matches your code to prevent accidents.
spring.jpa.hibernate.ddl-auto=validate
# Use the more specific dialect for MariaDB.
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect
spring.jpa.show-sql=false

# ===================================================================
# SECURITY & JWT
# ===================================================================
# SET THESE ENVIRONMENT VARIABLES ON YOUR SERVER:
# JWT_SECRET_KEY (A long, random, and secure string)
# INTERNAL_API_SECRET_KEY (A different long, random, and secure string)
jwt.secret=${JWT_SECRET_KEY}
jwt.expiration.ms=86400000
app.security.internal-secret=${INTERNAL_API_SECRET_KEY}

# ===================================================================
# ADMIN USER INITIALIZATION
# ===================================================================
# SET THESE ENVIRONMENT VARIABLES ON YOUR SERVER:
# APP_ADMIN_EMAIL
# APP_ADMIN_PASSWORD
app.admin.email=${APP_ADMIN_EMAIL}
app.admin.password=${APP_ADMIN_PASSWORD}

# ===================================================================
# LOGGING
# ===================================================================
logging.level.root=INFO
logging.level.com.treishvaam.finance=INFO
logging.level.com.treishvaam.financeapi=INFO

# ===================================================================
# CORS (Cross-Origin Resource Sharing)
# ===================================================================
# Note: This is a fallback. CORS is primarily configured in SecurityConfig.java
cors.allowed-origins=https://treishfin.treishvaamgroup.com

# ===================================================================
# EXTERNAL APIS & SERVICES
# ===================================================================
# SET THIS ENVIRONMENT VARIABLE ON YOUR SERVER: MARKET_DATA_API_KEY
fmp.api.key=${MARKET_DATA_API_KEY}

# ===================================================================
# FILE STORAGE
# ===================================================================
# A dedicated, absolute path on the production server for file uploads.
storage.upload-dir=/var/uploads/treishvaam


# ===================================================================
# FILE STORAGE
# ===================================================================
# A dedicated, absolute path on the production server for file uploads.
# Ensure this directory exists and the application has write permissions.
# --- FIXED: Changed to a valid Windows path. ---
storage.upload-dir=C:/treishvaam-uploads-prod